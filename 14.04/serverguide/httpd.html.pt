<!DOCTYPE html>
<html lang=pt>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>HTTPD - Servidor Web Apache2</title>
<link rel="stylesheet" type="text/css" href="pt.css">
<script type="text/javascript" src="jquery.js"></script><script type="text/javascript" src="jquery.syntax.js"></script><script type="text/javascript" src="yelp.js"></script>
</head>
<body id="home">
<script src="https://ssl.google-analytics.com/urchin.js" type="text/javascript"></script><script type="text/javascript">
        _uacct = "UA-1018242-8";
        urchinTracker();
      </script><div id="container">
<div id="container-inner">
<div id="mothership"><ul>
<li><a href="http://www.ubuntu.com/partners">Partners</a></li>
<li><a href="http://www.ubuntu.com/support">Support</a></li>
<li><a href="http://www.ubuntu.com/community">Community</a></li>
<li><a href="http://www.ubuntu.com">Ubuntu.com</a></li>
</ul></div>
<div id="header">
<h1 id="ubuntu-header"><a href="https://help.ubuntu.com/">Ubuntu Documentation</a></h1>
<ul id="main-menu">
<li><a class="main-menu-item current" href="../../">Official Documentation</a></li>
<li><a href="https://help.ubuntu.com/community/CommunityHelpWiki">Community Help Wiki</a></li>
<li><a href="http://community.ubuntu.com/contribute/documentation/">Contribute</a></li>
</ul>
</div>
<div id="menu-search"><div id="search-box">
<noscript><form action="https://www.google.com/cse" id="cse-search-box"><div>
<input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq"><input type="hidden" name="ie" value="UTF-8"><input type="text" name="q" size="21"><input type="submit" name="sa" value="Search">
</div></form></noscript>
<script>
                document.write('<form action="../../search.html" id="cse-search-box">');
                document.write('  <div>');
                document.write('    <input type="hidden" name="cof" value="FORID:9">');
                document.write('    <input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq">');
                document.write('    <input type="hidden" name="ie" value="UTF-8">');
                document.write('    <input type="text" name="q" size="21">');
                document.write('    <input type="submit" name="sa" value="Search">');
                document.write('  </div>');
                document.write('</form>');
              </script>
</div></div>
<div class="trails"><div class="trail">
<a href="../../14.04" class="trail">Ubuntu 14.04</a> » <a class="trail" href="index.html" title="Guia do Servidor Ubuntu">Guia do Servidor Ubuntu</a> » <a class="trail" href="web-servers.html" title="Servidores Web">Servidores Web</a> » </div></div>
<div id="cwt-content" class="clearfix content-area"><div id="page">
<div id="content">
<div class="links nextlinks">
<a class="nextlinks-prev" href="web-servers.html" title="Servidores Web">Anterior</a><a class="nextlinks-next" href="php5.html" title="PHP5 - Scripting Language">Seguinte</a>
</div>
<div class="hgroup"><h1 class="title">HTTPD - Servidor Web Apache2</h1></div>
<div class="region">
<div class="contents">
<p class="para">Apache is the most commonly used Web server on Linux systems. Web servers are used
          to serve Web pages requested by client computers. Clients typically request and view
          Web pages using Web browser applications such as <span class="app application">Firefox</span>,
              <span class="app application">Opera</span>, <span class="app application">Chromium</span>,
              or <span class="app application">Internet Explorer</span>.</p>
<p class="para">Users enter a Uniform Resource Locator (URL) to point to a Web server by means of
          its Fully Qualified Domain Name (FQDN) and a path to the required resource. For example, to view the home page of
          the <a href="http://www.ubuntu.com" class="ulink" title="http://www.ubuntu.com">Ubuntu Web site</a> a user will enter only the FQDN:</p>
<div class="screen"><pre class="contents "><span class="input userinput">www.ubuntu.com</span>
</pre></div>
<p class="para"> To view the <a href="http://www.ubuntu.com/community" class="ulink" title="http://www.ubuntu.com/community">community</a> sub-page, a user will enter the FQDN followed by a path:</p>
<div class="screen"><pre class="contents "><span class="input userinput">www.ubuntu.com/community</span>
</pre></div>
<p class="para">O protocolo mais utilizado para transferir páginas Web é o Protocolo de Transferência de Hiper Texto <span class="em emphasis">Hyper Text Transfer Protocol</span> (HTTP). Protocolos tais como o Protocolo de Transferência de Hiper Texto sobre Camadas de Ligação Segura <span class="em emphasis">Hyper Text Transfer Protocol over Secure Sockets Layer</span> (HTTPS), ou o Protocolo de transferência de Ficheiros <span class="em emphasis">File Transfer Protocol</span> (FTP), que é um protocolo utilizado para enviar e receber ficheiros entre computadores, são também suportados.</p>
<p class="para">Os servidores de Web Apache são frequentemente utilizados conjuntamente com o motor de base de dados <span class="app application">MySQL</span>, a linguagem HyperText Preprocessor (<span class="app application">PHP</span>), e outras linguagens populares como <span class="app application">Python</span> e <span class="app application">Perl</span>. Esta configuração é designada por LAMP (Linux, Apache, MySQL and Perl/Python/PHP) e constitui uma plataforma poderosa e robusta para o desenvolvimento e distribuição de aplicações baseadas na Web.</p>
</div>
<div class="links sectionlinks" role="navigation"><ul>
<li class="links"><a class="xref" href="httpd.html#http-installation" title="Instalação">Instalação</a></li>
<li class="links"><a class="xref" href="httpd.html#http-configuration" title="Configuração">Configuração</a></li>
<li class="links"><a class="xref" href="httpd.html#https-configuration" title="Configuração HTTPS">Configuração HTTPS</a></li>
<li class="links"><a class="xref" href="httpd.html#http-directory-permissions" title="Sharing Write Permission">Sharing Write Permission</a></li>
<li class="links"><a class="xref" href="httpd.html#http-references" title="Referências">Referências</a></li>
</ul></div>
<div class="sect2 sect" id="http-installation"><div class="inner">
<div class="hgroup"><h2 class="title">Instalação</h2></div>
<div class="region"><div class="contents">
<p class="para">
    The <span class="app application">Apache2</span> web server is available in Ubuntu Linux. To install Apache2:
    </p>
<div class="steps"><div class="inner"><ul class="steps"><li class="steps">
        <p class="para">Digite o seguinte comando num terminal:</p>

<div class="screen"><pre class="contents "><span class="cmd command">sudo apt-get install apache2</span>
</pre></div>
             		 
      </li></ul></div></div>
</div></div>
</div></div>
<div class="sect2 sect" id="http-configuration"><div class="inner">
<div class="hgroup"><h2 class="title">Configuração</h2></div>
<div class="region">
<div class="contents">
<p class="para">
        Apache2 is configured by placing <span class="em emphasis">directives</span> in plain text
        configuration files.  These <span class="em emphasis">directives</span> are separated between the following
        files and directories:
        </p>
<div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
            <p class="para"><span class="em emphasis">apache2.conf:</span> o ficheiro de configuração principal do Apache2. Contém definições <span class="em emphasis">globais</span>.</p>
          </li>
<li class="list itemizedlist">
            <p class="para">
            <span class="em emphasis">httpd.conf:</span> historically the main Apache2 configuration file, named after the
            <span class="app application">httpd</span> daemon. Now the file does not exist. In older versions of Ubuntu the
            file might be present, but empty, as all configuration options have been moved to the below referenced directories.
            </p>
          </li>
<li class="list itemizedlist">
            <p class="para">
            <span class="em emphasis">conf-available:</span> this directory contains available configuration files. 
            All files that were previously in <span class="file filename">/etc/apache2/conf.d</span> 
            should be moved to <span class="file filename">/etc/apache2/conf-available</span>.
            </p>
          </li>
<li class="list itemizedlist">
            <p class="para">
            <span class="em emphasis">conf-enabled:</span> holds <span class="em emphasis">symlinks</span> to the files in 
            <span class="file filename">/etc/apache2/conf-available</span>.  When a configuration file is symlinked,
            it will be enabled the next time <span class="app application">apache2</span> is restarted.
            </p>
          </li>
<li class="list itemizedlist">
            <p class="para"><span class="em emphasis">envvars:</span> ficheiro onde as variáveis de <span class="em emphasis">ambiente</span> do Apache2 são definidas.</p>
          </li>
<li class="list itemizedlist">
            <p class="para"><span class="em emphasis">mods-available:</span> esta pasta contém ficheiros que carregam e configuram <span class="em emphasis">módulos</span>. Contudo, nem todos os módulos terão ficheiros de configuração específicos.</p>
          </li>
<li class="list itemizedlist">
            <p class="para"><span class="em emphasis">mods-enabled:</span> contém <span class="em emphasis">ligações simbólicas</span> para ficheiros da pasta <span class="file filename">/etc/apache2/mods-available</span>. Quando se cria uma ligação simbólica para um determinado módulo, este é activado quando o <span class="app application">apache2</span> é reiniciado.</p>
          </li>
<li class="list itemizedlist">
            <p class="para"><span class="em emphasis">ports.conf:</span> contém as directivas que determinam quais as portas TCP que o Apache2 escuta.</p>
          </li>
<li class="list itemizedlist">
            <p class="para">
            <span class="em emphasis">sites-available:</span> this directory has configuration files for Apache2 
            <span class="em emphasis">Virtual Hosts</span>.  Virtual Hosts allow Apache2 to be configured for multiple sites 
            that have separate configurations.
            </p>
          </li>
<li class="list itemizedlist">
            <p class="para">
            <span class="em emphasis">sites-enabled:</span> like mods-enabled, <span class="file filename">sites-enabled</span> contains 
            symlinks to the <span class="file filename">/etc/apache2/sites-available</span> directory.  Similarly when a configuration file in 
            sites-available is symlinked, the site configured by it will be active once Apache2 is restarted.
            </p>
          </li>
<li class="list itemizedlist">
            <p class="para">
            <span class="em emphasis">magic:</span> instructions for determining MIME type based on the first few bytes of a file.
            </p>
          </li>
</ul></div>
<p class="para">
          In addition, other configuration files may be added
          using the <span class="em emphasis">Include</span> directive, and wildcards can be used to
          include many configuration files. Any directive may be placed
          in any of these configuration files. Changes to the main
          configuration files are only recognized by Apache2 when it is
          started or restarted.
          </p>
<p class="para">
          The server also reads a file containing mime document types; the filename is set
          by the <span class="em emphasis">TypesConfig</span> directive, typically via
          <span class="file filename">/etc/apache2/mods-available/mime.conf</span>, which might also include additions
          and overrides, and is <span class="file filename">/etc/mime.types</span> by default.
          </p>
</div>
<div class="sect3 sect" id="http-basic-settings"><div class="inner">
<div class="hgroup"><h3 class="title">Configurações Básicas</h3></div>
<div class="region"><div class="contents">
<p class="para">
             This section explains Apache2 server essential configuration
             parameters. Refer to the <a href="http://httpd.apache.org/docs/2.4/" class="ulink" title="http://httpd.apache.org/docs/2.4/">Apache2
             Documentation</a> for more details.</p>
<div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
                 <p class="para">
                 Apache2 ships with a virtual-host-friendly default configuration.
	         That is, it is configured with a single default virtual host (using
		 the <span class="em emphasis">VirtualHost</span> directive) which can be modified or used as-is if you
		 have a single site, or used as a template for additional virtual hosts
		 if you have multiple sites.  If left alone, the default virtual host
		 will serve as your default site, or the site users will see if the
		 URL they enter does not match the <span class="em emphasis">ServerName</span> directive of any of your 
		 custom sites.  To modify the default virtual host, edit the file
		 <span class="file filename">/etc/apache2/sites-available/000-default.conf</span>.
                 </p>

                 <div class="note" title="Nota"><div class="inner"><div class="region"><div class="contents">
                   <p class="para">As directivas configuradas para um determina servidor virtual, aplicam-se apenas a ele. Se uma determinada directiva for configurada para o servidor global, e não for definida para o servidor virtual, é utilizada a configuração pré-definida para essa directiva. Por exemplo, pode definir um endereço de correio electrónico para o servidor principal, e não definir um endereço específico para cada servidor virtual.</p>
                 </div></div></div></div>

                 <p class="para">
                 If you wish to configure a new virtual host or site, copy that file into the
		 same directory with a name you choose.  For example:
                 </p>

<div class="screen"><pre class="contents "><span class="cmd command">sudo cp /etc/apache2/sites-available/000-default.conf /etc/apache2/sites-available/mynewsite.conf</span>
</pre></div>

                 <p class="para">Edite o novo ficheiro para configurar o novo sítio usando algumas das directivas descritas abaixo.</p>

               </li>
<li class="list itemizedlist">
                 <p class="para">A directiva <span class="em emphasis">ServerAdmin</span> especifica o endereço de correio electrónico a ser apresentado como sendo o do administrador do servidor. O valor por omissão é webmaster@localhost. Este deve ser alterado para um endereço de correio electrónico você receba (se você for o administrador do servidor). Se o seu site web tiver um problema, o Apache2 apresentará uma mensagem de erro contendo este endereço de correio electrónico para que o erro possa ser reportado. Encontra esta directiva no ficheiro de configuração dos seus sites <span class="file filename">/etc/apache2/sites-available</span>.</p>
               </li>
<li class="list itemizedlist">
                 <p class="para">A directiva <span class="em emphasis">Listen</span> especifica a porta, e opcionalmente o endereço IP que o Apache2 escutará e onde receberá os pedidos. Se o IP não for especificado, o Apache2 escutará todos os endereços atribuídos à máquina onde estiver a correr. O valor por omissão para a directiva Listen é 80. Alterá-la para 127.0.0.1:80 provocará que o Apache2 escutará apenas o interface 'loopback' portanto não será acessível a partir da Internet, para (por exemplo) 81 para alterar a porta que será escutada, ou deixe a ditectiva tal como está para um funcionamento normal. Esta directiva pode ser encontrada e alterada no ficheiro <span class="file filename">/etc/apache2/ports.conf</span>.</p>
               </li>
<li class="list itemizedlist">
                 <p class="para">
	         The <span class="em emphasis">ServerName</span> directive is optional and specifies what FQDN your
		 site should answer to.  The default virtual host has no ServerName
		 directive specified, so it will respond to all requests that do not
		 match a ServerName directive in another virtual host.  If you have
		 just acquired the domain name ubunturocks.com and wish to host it on
		 your Ubuntu server, the value of the ServerName directive in your
		 virtual host configuration file should be ubunturocks.com.  Add this
		 directive to the new virtual host file you created earlier 
		 (<span class="file filename">/etc/apache2/sites-available/mynewsite.conf</span>).
		 </p>
			 
                 <p class="para">Pode desejar que o seu sítio responda também a www.ubunturocks.com, visto que muitos utilizadores assumem que é prefixo www é adequado. Use a directiva <span class="em emphasis">ServerAlias</span> para isto. Também pode usar os caracteres de substituição especiais na directiva ServerAlias.</p>

                 <p class="para">Por exemplo, a seguinte configuração irá fazer com que o seu sítio responda a qualquer pedido de domínio que termine em <span class="em emphasis">.ubunturocks.com</span>.</p>                 

<div class="code"><pre class="contents ">ServerAlias *.ubunturocks.com
</pre></div>

               </li>
<li class="list itemizedlist">
                 <p class="para">
		 The <span class="em emphasis">DocumentRoot</span> directive specifies where Apache2 should look for the
		 files that make up the site.  The default value is /var/www/html, as specified in
		 <span class="file filename">/etc/apache2/sites-available/000-default.conf</span>. If desired, change this value
		 in your site's virtual host file, and remember to create that directory if necessary!
		 </p>
              </li>
</ul></div>
<p class="para">
            Enable the new <span class="em emphasis">VirtualHost</span> using the 
            <span class="app application">a2ensite</span> utility and restart Apache2:
            </p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo a2ensite omeunovositio</span>
<span class="cmd command">sudo service apache2 restart</span>
</pre></div>
<div class="note" title="Nota"><div class="inner"><div class="region"><div class="contents">
              <p class="para">Não se esqueça de substituir <span class="em emphasis">omeunovositio</span> por um nome mais descritivo para a sua máquina virtual. Um método consiste em dar ao ficheiro um nome que coincide com o valor da directiva <span class="em emphasis">ServerName</span> da máquina  virtual.</p>
            </div></div></div></div>
<p class="para">Similarmente, use o utilitário <span class="app application">a2dissite</span> para desactivar sítios. Isto pode ser útil quando necessita de resolver problemas de configuração em múltiplas máquinas virtuais.</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo a2dissite omeunovositio</span>
<span class="cmd command">sudo service apache2 restart</span>
</pre></div>
</div></div>
</div></div>
<div class="sect3 sect" id="default-settings"><div class="inner">
<div class="hgroup"><h3 class="title">Configurações Pré-definidas</h3></div>
<div class="region"><div class="contents">
<p class="para">Esta secção explica as configurações pré-definidas do servidor Apache2. Por exemplo, se adicionar um servidor virtual, os parâmetros que configurar serão utilizados por esse servidor virtual. Caso uma determinada directiva não esteja configurada para o servidor virtual, serão utilizados os parâmetros pré-definidos do Apache2.</p>
<div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">

              <p class="para">A directiva <span class="em emphasis">DirectoryIndex</span> é a página por omissão apresentada pelo servidor quando um utilizador solicitar o conteúdo de um directório, colocando uma barra (/) após o nome do directório.</p>

              <p class="para">
              For example, when a user requests the page
              http://www.example.com/this_directory/, he or she will
              get either the DirectoryIndex page if it exists, a
              server-generated directory list if it does not and the
	      Indexes option is specified, or a Permission Denied page
	      if neither is true.  The server will try to
              find one of the files listed in the DirectoryIndex
              directive and will return the first one it finds. If it
              does not find any of these files and if <span class="em emphasis">Options Indexes</span> is
              set for that directory, the server will generate and
              return a list, in HTML format, of the subdirectories and
              files in the directory.  The default value, found in
	      <span class="file filename">/etc/apache2/mods-available/dir.conf</span> is 
	      "index.html index.cgi index.pl index.php index.xhtml index.htm".
	      Thus, if Apache2 finds a file in a requested directory
	      matching any of these names, the first will be displayed.
              </p>
            </li>
<li class="list itemizedlist">

              <p class="para">
              The <span class="em emphasis">ErrorDocument</span> directive allows you to specify a file
       	      for Apache2 to use for specific error events.  For example,
	      if a user requests a resource that does not exist, a 404
	      error will occur. By default, Apache2 will simply return a HTTP 404 Return code.
              Read <span class="file filename">/etc/apache2/conf-available/localized-error-pages.conf</span> for detailed
              instructions for using ErrorDocument, including locations of example files.
              </p>
            </li>
<li class="list itemizedlist">
              <p class="para">
              By default, the server writes the transfer log to the file
              <span class="file filename">/var/log/apache2/access.log</span>. You can change this on a per-site
	      basis in your virtual host configuration files with the <span class="em emphasis">CustomLog</span>
              directive, or omit it to accept the default, specified in <span class="file filename">
	      /etc/apache2/conf-available/other-vhosts-access-log.conf</span>.  You may also specify the file
	      to which errors are logged, via the <span class="em emphasis">ErrorLog</span> directive, whose default
	      is <span class="file filename">/var/log/apache2/error.log</span>.  These are kept
	      separate from the transfer logs to aid in troubleshooting problems
	      with your Apache2 server.  You may also specify the <span class="em emphasis">LogLevel</span> (the
	      default value is "warn") and the <span class="em emphasis">LogFormat</span> (see <span class="file filename">
	      /etc/apache2/apache2.conf</span> for the default value).
	      </p>
            </li>
<li class="list itemizedlist">
              <p class="para">
              Some options are specified on a per-directory basis rather than per-server.
	      <span class="em emphasis">Options</span> is one of these directives.  A Directory stanza is enclosed in 
	      XML-like tags, like so:
              </p>

<div class="code"><pre class="contents ">&lt;Directory /var/www/html/mynewsite&gt;
...
&lt;/Directory&gt;
</pre></div>

	    <p class="para">
	    The <span class="em emphasis">Options</span> directive within a Directory stanza accepts one or more of the
	    following values (among others), separated by spaces:
            </p>

            <div class="list itemizedlist"><ul class="list itemizedlist compact">
<li class="list itemizedlist">
                <p class="para"><span class="em em-bold emphasis">ExecCGI</span> - Permitir execução de scripts CGI. Os scripts CGI não são executados se esta opção não for escolhida. <div class="note note-tip" title="Dica"><div class="inner"><div class="region"><div class="contents">
                  <p class="para">
                  Most files should not be executed as CGI scripts.  This
		  would be very dangerous.  CGI scripts should kept in a directory 
		  separate from and outside your DocumentRoot, and only this
		  directory should have the ExecCGI option set.  This is the default,
		  and the default location for CGI scripts is <span class="file filename">/usr/lib/cgi-bin</span>.
		  </p>
                </div></div></div></div></p>
                </li>
<li class="list itemizedlist">
                  <p class="para">
                  <span class="em em-bold emphasis">Includes</span> - Allow server-side includes.
		  Server-side includes allow an HTML file to <span class="em emphasis">
		  include</span> other files. See
                  <a href="https://help.ubuntu.com/community/ServerSideIncludes" class="ulink" title="https://help.ubuntu.com/community/ServerSideIncludes">Apache SSI documentation
                  (Ubuntu community)</a> for more information.
                  </p>
                </li>
<li class="list itemizedlist">
                  <p class="para">
                  <span class="em em-bold emphasis">IncludesNOEXEC</span> - Allow server-side includes,
                  but disable the <span class="em emphasis">#exec</span> and <span class="em emphasis">#include</span>
                  commands in CGI scripts.
                  </p>
                </li>
<li class="list itemizedlist">
                  <p class="para">
                  <span class="em em-bold emphasis">Indexes</span> - Display a formatted list of the
                  directory's contents, if no <span class="em emphasis">DirectoryIndex</span> (such as index.html)
                  exists in the requested directory.
                  <div class="note note-warning" title="Aviso"><div class="inner"><div class="region"><div class="contents">
                    <p class="para">Por razões de segurança, esta opção não deve ser utilizada, e não deve ser certamente utilizada no Directório de Raiz. Habilite esta opção cuidadosamente, directório a directório e apenas se tiver a certeza que os utilizadores vejam o conteúdo completo do directório.</p>
                  </div></div></div></div>
                  </p>
                </li>
<li class="list itemizedlist">
                  <p class="para">
                  <span class="em em-bold emphasis">Multiview</span> - Support content-negotiated multiviews;
                  this option is disabled by default for security reasons.  See the <a href="http://httpd.apache.org/docs/2.4/mod/mod_negotiation.html#multiviews" class="ulink" title="http://httpd.apache.org/docs/2.4/mod/mod_negotiation.html#multiviews">Apache2
		  documentation on this option</a>.
                  </p>
                </li>
<li class="list itemizedlist">
                  <p class="para"><span class="em em-bold emphasis">SymLinksIfOwnerMatch</span> - Apenas segue as ligações sinmbólicas se o ficheiro ou directório indicado pela ligação pertencer ao proprietário da ligação.</p>
                </li>
</ul></div>
            </li>
</ul></div>
</div></div>
</div></div>
<div class="sect3 sect" id="httpd-settings"><div class="inner">
<div class="hgroup"><h3 class="title">Definições do httpd</h3></div>
<div class="region"><div class="contents">
<p class="para">Esta secção contém algumas configurações básicas para o daemon <span class="app application">httpd</span>.</p>
<p class="para"><span class="em em-bold emphasis">LockFile</span> - A directiva LockFile indica qual o caminho para o ficheiro de bloqueios que o servidor utiliza quando compilado seja com USE_FCNTL_SERIALIZED_ACCEPT ou USE_FLOCK_SERIALIZED_ACCEPT. Deve ser guardado num disco local. Deve ser deixado no valor por omissão a não ser que o directório de registos esteja localizado numa partilha NFS. Neste caso, o valor por omissão deve ser alterado para um directório no disco local que tenha permissões de leitura apenas para o root.</p>
<p class="para"><span class="em em-bold emphasis">PidFile</span> - A directiva PidFile indica qual o ficheiro em que o servidor deve gravar os seus identificadores de processos <span class="em emphasis">Process ID</span> (pid). Este ficheiro deve ter acesso de leitura apenas pelo root. Na maioria dos casos deve ser deixado com o valor por omissão.</p>
<p class="para">
          <span class="em em-bold emphasis">User</span> - The User directive sets the userid used by the server to answer requests. This 
          setting determines the server's access. Any files inaccessible to this user will also be inaccessible to your website's visitors. 
          The default value for User is "www-data". 
          </p>
<div class="note note-warning" title="Aviso"><div class="inner"><div class="region"><div class="contents">
            <p class="para">A não ser que saiba exactamente o que está a fazer, não coloque na directiva User root. Utilizar o root como User criará grandes falhas de segurança no seu servidor Web.</p>
          </div></div></div></div>
<p class="para">
          <span class="em em-bold emphasis">Group</span> - The Group directive is similar to the User directive. Group sets the
          group under which the server will answer requests. The default group is also "www-data".
          </p>
</div></div>
</div></div>
<div class="sect3 sect" id="apache-modules"><div class="inner">
<div class="hgroup"><h3 class="title">Apache2 Modules</h3></div>
<div class="region"><div class="contents">
<p class="para">
          Apache2 is a modular server. This implies that only the most
          basic functionality is included in the core server. Extended
          features are available through modules which can be loaded
          into Apache2. By default, a base set of modules is included in
          the server at compile-time. If the server is compiled to use
          dynamically loaded  modules, then modules can be compiled
          separately, and added at any time using the LoadModule
          directive. Otherwise, Apache2 must be recompiled to add or
          remove modules. 
          </p>
<p class="para">O compilação do Apache2 no Ubuntu permite carregar módulos dinamicamente. As directivas de configuração podem ser condicionadas à presença de um determinado módulo usando um bloco <span class="em emphasis">&lt;IfModule&gt;</span>.</p>
<p class="para">Pode instalar módulos Apache2 adicionais e usá-los no seu servidor Web. Por exemplo, para instalar o módulo de emphasis&gt;Autenticação via MySQL</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo apt-get install libapache2-mod-auth-mysql</span>
</pre></div>
<p class="para">
          See the <span class="file filename">/etc/apache2/mods-available</span> directory, for additional modules.
          </p>
<p class="para">Use o utilitário <span class="app application">a2enmod</span> para activar um módulo:</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo a2enmod auth_mysql</span>
<span class="cmd command">sudo service apache2 restart</span>
</pre></div>
<p class="para">Similarmente, use o utilitário <span class="app application">a2dismod</span> para desactivar um módulo:</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo a2dismod auth_mysql</span>
<span class="cmd command">sudo service apache2 restart</span>
</pre></div>
</div></div>
</div></div>
</div>
</div></div>
<div class="sect2 sect" id="https-configuration"><div class="inner">
<div class="hgroup"><h2 class="title">Configuração HTTPS</h2></div>
<div class="region"><div class="contents">
<p class="para">O módulo <span class="app application">mod_ssl</span> adiciona uma funcionalidade muito importante ao servidor Apache2 - a capacidade de encriptar as comunicações. De notar que quando o seu navegador está a comunicar usando o SSL, o prefixo https:// é usado no início do URL na barra de navegação.</p>
<p class="para">O módulo <span class="app application">mod_ssl</span> está disponível no pacote <span class="app application">apache2-common</span>. Digite o seguinte comando num terminal para activar o módulo <span class="app application">mod_ssl</span>:</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo a2enmod ssl</span>
</pre></div>
<p class="para">
          There is a default HTTPS configuration file in <span class="file filename">/etc/apache2/sites-available/default-ssl.conf</span>.
          In order for <span class="app application">Apache2</span> to provide HTTPS, 
          a <span class="em emphasis">certificate</span> and <span class="em emphasis">key</span> file are also needed.  The default HTTPS 
          configuration will use a certificate and key generated by the <span class="app application">ssl-cert</span> package.  They 
          are good for testing, but the auto-generated certificate and key should be replaced by a certificate specific
          to the site or server. For information on generating a key and obtaining a certificate see 
          <a class="xref" href="certificates-and-security.html" title="Certificates">Certificates</a>
          </p>
<p class="para">
          To configure <span class="app application">Apache2</span> for HTTPS, enter the following:
          </p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo a2ensite default-ssl</span>
</pre></div>
<div class="note" title="Nota"><div class="inner"><div class="region"><div class="contents">
              <p class="para">As pastas <span class="file filename">/etc/ssl/certs</span> e <span class="file filename">/etc/ssl/private</span> são as localizações predefinidas. Se instalar o certificado e a chave noutra pasta, não se esqueça de mudar <span class="em emphasis">SSLCertificateFile</span> e <span class="em emphasis">SSLCertificateKeyFile</span> de forma a reflectirem as novas localizações.</p>
            </div></div></div></div>
<p class="para">
            With Apache2 now configured for HTTPS, restart the service to enable the new settings:
            </p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo service apache2 restart</span>
</pre></div>
<div class="note" title="Nota"><div class="inner"><div class="region"><div class="contents">
              <p class="para">
              Depending on how you obtained your certificate you may need to 
              enter a passphrase when <span class="app application">Apache2</span> starts. 
              </p>
            </div></div></div></div>
<p class="para">Pode aceder às páginas seguras digitando https://nome_da_maquina/url/ na barra de endereços do seu navegador.</p>
</div></div>
</div></div>
<div class="sect2 sect" id="http-directory-permissions"><div class="inner">
<div class="hgroup"><h2 class="title">Sharing Write Permission</h2></div>
<div class="region"><div class="contents">
<p class="para">
          For more than one user to be able to write to the same directory it will
          be necessary to grant write permission to a group they share in common.  The
          following example grants shared write permission to <span class="file filename">/var/www/html</span>
          to the group "webmasters".
          </p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo chgrp -R webmasters /var/www/html</span>
<span class="cmd command">sudo find /var/www/html -type d -exec chmod g=rwxs "{}" \;</span>
<span class="cmd command">sudo find /var/www/html -type f -exec chmod g=rw  "{}" \;</span>
</pre></div>
<p class="para">
    These commands recursively set the group permission on all files and
    directories in /var/www/html to read write and set user id. This has the
    effect of having the files and directories inherit their group and permission
    from their parrent. Many admins find this useful for allowing multiple users
    to edit files in a directory tree.
</p>
<div class="note" title="Nota"><div class="inner"><div class="region"><div class="contents">
          <p class="para">
          If access must be granted to more than one group per directory, enable Access Control Lists (ACLs).
          </p>
        </div></div></div></div>
</div></div>
</div></div>
<div class="sect2 sect" id="http-references"><div class="inner">
<div class="hgroup"><h2 class="title">Referências</h2></div>
<div class="region"><div class="contents"><div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
            <p class="para">
            <a href="http://httpd.apache.org/docs/2.4/" class="ulink" title="http://httpd.apache.org/docs/2.4/">Apache2 Documentation</a> contains in depth
            information on Apache2 configuration directives. Also, see the <span class="app application">apache2-doc</span> 
            package for the official Apache2 docs.
            </p>
          </li>
<li class="list itemizedlist">
            <p class="para">Para mais informações acerca do SSL, veja a página da <a href="http://www.modssl.org/docs/" class="ulink" title="http://www.modssl.org/docs/">Documentação do mod ssl</a></p>
          </li>
<li class="list itemizedlist">
            <p class="para">
            O'Reilly's <a href="http://oreilly.com/catalog/9780596001919/" class="ulink" title="http://oreilly.com/catalog/9780596001919/">Apache Cookbook</a> is 
            a good resource for accomplishing specific Apache2 configurations.
            </p>
          </li>
<li class="list itemizedlist">
            <p class="para">Para questões Apache2 relacionadas especificamente com o Ubuntu, dirija-se ao canal de IRC <span class="em emphasis">#ubuntu-server</span> no <a href="http://freenode.net/" class="ulink" title="http://freenode.net/">freenode.net</a>.</p>
          </li>
<li class="list itemizedlist">
            <p class="para">
            Usually integrated with PHP and MySQL the <a href="https://help.ubuntu.com/community/ApacheMySQLPHP" class="ulink" title="https://help.ubuntu.com/community/ApacheMySQLPHP">Apache MySQL PHP Ubuntu Wiki </a> 
            page is a good resource.
            </p>
          </li>
</ul></div></div></div>
</div></div>
</div>
<div class="links nextlinks">
<a class="nextlinks-prev" href="web-servers.html" title="Servidores Web">Anterior</a><a class="nextlinks-next" href="php5.html" title="PHP5 - Scripting Language">Seguinte</a>
</div>
<div class="clear"></div>
</div>
<div id="pagebottom"></div>
</div></div>
</div>
<div id="footer"><p>The material in this document is available under a free license, see <a href="../../legal.html">Legal</a> for details.<br>
          For information on contributing see the <a href="https://wiki.ubuntu.com/DocumentationTeam">Ubuntu Documentation Team wiki page</a>.
          To report errors in this serverguide documentation, <a href="https://bugs.launchpad.net/serverguide">file a bug report</a>.</p></div>
</div>
</body>
</html>
