<!DOCTYPE html>
<html lang=it>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Il file di configurazione DM-Multipath</title>
<link rel="stylesheet" type="text/css" href="it.css">
<script type="text/javascript" src="jquery.js"></script><script type="text/javascript" src="jquery.syntax.js"></script><script type="text/javascript" src="yelp.js"></script>
</head>
<body id="home">
<script src="https://ssl.google-analytics.com/urchin.js" type="text/javascript"></script><script type="text/javascript">
        _uacct = "UA-1018242-8";
        urchinTracker();
      </script><div id="container">
<div id="container-inner">
<div id="mothership"><ul>
<li><a href="http://www.ubuntu.com/partners">Partners</a></li>
<li><a href="http://www.ubuntu.com/support">Support</a></li>
<li><a href="http://www.ubuntu.com/community">Community</a></li>
<li><a href="http://www.ubuntu.com">Ubuntu.com</a></li>
</ul></div>
<div id="header">
<h1 id="ubuntu-header"><a href="https://help.ubuntu.com/">Ubuntu Documentation</a></h1>
<ul id="main-menu">
<li><a class="main-menu-item current" href="../../">Official Documentation</a></li>
<li><a href="https://help.ubuntu.com/community/CommunityHelpWiki">Community Help Wiki</a></li>
<li><a href="http://community.ubuntu.com/contribute/documentation/">Contribute</a></li>
</ul>
</div>
<div id="menu-search"><div id="search-box">
<noscript><form action="https://www.google.com/cse" id="cse-search-box"><div>
<input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq"><input type="hidden" name="ie" value="UTF-8"><input type="text" name="q" size="21"><input type="submit" name="sa" value="Search">
</div></form></noscript>
<script>
                document.write('<form action="../../search.html" id="cse-search-box">');
                document.write('  <div>');
                document.write('    <input type="hidden" name="cof" value="FORID:9">');
                document.write('    <input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq">');
                document.write('    <input type="hidden" name="ie" value="UTF-8">');
                document.write('    <input type="text" name="q" size="21">');
                document.write('    <input type="submit" name="sa" value="Search">');
                document.write('  </div>');
                document.write('</form>');
              </script>
</div></div>
<div class="trails"><div class="trail">
<a href="../../14.04" class="trail">Ubuntu 14.04</a> » <a class="trail" href="index.html" title="Guida a Ubuntu Server">Guida a Ubuntu Server</a> » <a class="trail" href="dm-multipath-chapter.html" title="DM-Multipath">DM-Multipath</a> » </div></div>
<div id="cwt-content" class="clearfix content-area"><div id="page">
<div id="content">
<div class="links nextlinks">
<a class="nextlinks-prev" href="multipath-setting-up-dm-multipath.html" title="Panoramica sull'impostazione di DM-Multipath">Indietro</a><a class="nextlinks-next" href="multipath-admin-and-troubleshooting.html" title="Amministrazione e risoluzione di problemi di DM-Multipath">Avanti</a>
</div>
<div class="hgroup"><h1 class="title">Il file di configurazione DM-Multipath</h1></div>
<div class="region">
<div class="contents">
<p class="para">Per impostazione predefinita, DM-Multipath fornisce i valori di configurazione per gli utilizzi più comuni di multipath. In aggiunta, DM-Multipath include il supporto per i più comuni array di archiviazione che supportano DM-Multipath. I valori di configurazione predefiniti e i dispositivi supportati sono disponibili all'interno del file <span class="file filename">multipath.conf.defaults</span>.</p>
<p class="para">È possibile sovrascrivere i valori di configurazione predefiniti per DM-Multipath modificando il file di configurazione <span class="file filename">/etc/multipath.conf</span>. Se necessario, è possibile aggiungere al file di configurazione un array di archiviazione non supportato per impostazione predefinita. Questo capitolo fornisce informazioni su come analizzare e modificare il file <span class="file filename">multipath.conf</span>, e contiene altresì sezioni relative ai seguenti argomenti: <div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
          <p class="para"><a class="xref" href="multipath-dm-multipath-config-file.html#multipath-config-overview" title="Panoramica sul file di configurazione">Panoramica sul file di configurazione</a></p>
        </li>
<li class="list itemizedlist">
          <p class="para"><a class="xref" href="multipath-dm-multipath-config-file.html#multipath-config-blacklist" title="File di configurazione - blacklist">File di configurazione - blacklist</a></p>
        </li>
<li class="list itemizedlist">
          <p class="para"><a class="xref" href="multipath-dm-multipath-config-file.html#multipath-config-defaults" title="Impostazioni predefinite del file di configurazione">Impostazioni predefinite del file di configurazione</a></p>
        </li>
<li class="list itemizedlist">
          <p class="para"><a class="xref" href="multipath-dm-multipath-config-file.html#multipath-config-multipath" title="Attributi del file di configurazione di multipath">Attributi del file di configurazione di multipath</a></p>
        </li>
<li class="list itemizedlist">
          <p class="para"><a class="xref" href="multipath-dm-multipath-config-file.html#multipath-config-device" title="File di configurazione - dispositivi">File di configurazione - dispositivi</a></p>
        </li>
</ul></div></p>
<p class="para">Nel file di configurazione di multipath devono essere specificate solo le sezioni necessarie per la configurazione o che devono essere modificate rispetto ai valori predefiniti specificati nel file <span class="file filename">multipath.conf.defaults</span>. Se sono presenti sezioni del file non rilevanti per il proprio ambiente o per i quali non devono essere sovrascritti i valori predefiniti, è possibile lasciarli decommentati, come riportato nel file iniziale.</p>
<p class="para">Il file di configurazione permette una sintassi regolare nella descrizione dell'espressione.</p>
<p class="para">Una versione commentata del file di configurazione è disponibile in <span class="file filename"><span class="file filename">/usr/share/doc/multipath-tools/examples/multipath.conf.annotated.gz</span></span>.</p>
</div>
<div class="links sectionlinks" role="navigation"><ul>
<li class="links"><a class="xref" href="multipath-dm-multipath-config-file.html#multipath-config-overview" title="Panoramica sul file di configurazione">Panoramica sul file di configurazione</a></li>
<li class="links"><a class="xref" href="multipath-dm-multipath-config-file.html#multipath-config-blacklist" title="File di configurazione - blacklist">File di configurazione - blacklist</a></li>
<li class="links"><a class="xref" href="multipath-dm-multipath-config-file.html#multipath-config-defaults" title="Impostazioni predefinite del file di configurazione">Impostazioni predefinite del file di configurazione</a></li>
<li class="links"><a class="xref" href="multipath-dm-multipath-config-file.html#multipath-config-multipath" title="Attributi del file di configurazione di multipath">Attributi del file di configurazione di multipath</a></li>
<li class="links"><a class="xref" href="multipath-dm-multipath-config-file.html#multipath-config-device" title="File di configurazione - dispositivi">File di configurazione - dispositivi</a></li>
</ul></div>
<div class="sect2 sect" id="multipath-config-overview"><div class="inner">
<div class="hgroup"><h2 class="title">
<a name="config-overview-title"></a>Panoramica sul file di configurazione</h2></div>
<div class="region"><div class="contents">
<p class="para">Il file di configurazione di multipath è suddiviso nelle seguenti sezioni:</p>
<div class="terms variablelist"><dl class="terms variablelist">
<dt class="terms"><span class="em em-bold emphasis">blacklist</span></dt>
<dd class="terms">
            <p class="para">Un elenco di dispositivi specifici che non verranno considerati per multipath.</p>
          </dd>
<dt class="terms"><span class="em em-bold emphasis">blacklist_eccezioni</span></dt>
<dd class="terms">
            <p class="para">Elenco dei candidati di multipath che altrimenti verrebbero inseriti nella blacklist in base ai parametri della sezione relativa.</p>
          </dd>
<dt class="terms"><span class="em em-bold emphasis">impostazioni predefinite</span></dt>
<dd class="terms">
            <p class="para">Impostazioni predefinite generali per DM-Multipath.</p>
          </dd>
<dt class="terms"><span class="em em-bold emphasis">multipath</span></dt>
<dd class="terms">
            <p class="para">Impostazioni per le caratteristiche dei dispositivi multipath individuali; questi valori sovrascrivono i valori specificati nelle sezioni <span class="em em-bold emphasis">defaults</span> e <span class="em em-bold emphasis">devices</span> del file di configurazione.</p>
          </dd>
<dt class="terms"><span class="em em-bold emphasis">dispositivi</span></dt>
<dd class="terms">
            <p class="para">Impostazioni per i controller individuali di archiviazione; questi valori sovrascrivono i valori specificati nella sezione <span class="em em-bold emphasis">defaults</span> del file di configurazione. Se si usa un array di archiviazione non supportato in modo predefinito, è necessario creare una sottosezione dispositivi per il proprio array.</p>
          </dd>
</dl></div>
<p class="para">Quando il sistema determina gli attributi di un dispositivo multipath, controlla prima le impostazioni di multipath, successivamente le impostazioni di ogni dispositivo e quindi i valori predefiniti del sistema multipath.</p>
</div></div>
</div></div>
<div class="sect2 sect" id="multipath-config-blacklist"><div class="inner">
<div class="hgroup"><h2 class="title">
<a name="config-blacklist-title"></a>File di configurazione - blacklist</h2></div>
<div class="region">
<div class="contents">
<p class="para">La sezione blacklist del file di configurazione multipath specifica i dispositivi che non verranno utilizzati quando il sistema configura i dispositivi multipath. I dispositivi presenti all'interno della blacklist non verranno raggruppati all'interno di un dispositivo multipath.</p>
<div class="list itemizedlist"><ul class="list itemizedlist"><li class="list itemizedlist">
          <p class="para">Se è necessario inserire dispositivi nella blacklist, seguire i seguenti criteri:</p>

          <div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
              <p class="para">Per WWID, come descritto in <a class="xref" href="multipath-dm-multipath-config-file.html#multipath-config-blacklist-by-wwid" title="Inserimento nella blacklist in base al WWID">Inserimento nella blacklist in base al WWID</a></p>
            </li>
<li class="list itemizedlist">
              <p class="para">Per nome del dispositivo, come descritto in <a class="xref" href="multipath-dm-multipath-config-file.html#multipath-config-blacklist-by-device-name" title="Inserimento nella blacklist in base al nome del dispositivo">Inserimento nella blacklist in base al nome del dispositivo</a></p>
            </li>
<li class="list itemizedlist">
              <p class="para">Per tipo di dispositivo, come descritto in <a class="xref" href="multipath-dm-multipath-config-file.html#multipath-config-blacklist-by-device-type" title="Inserimento nella blacklist in base al tipo di dispositivo">Inserimento nella blacklist in base al tipo di dispositivo</a></p>
            </li>
</ul></div>

          <p class="para">Per impostazione predefinita, anche dopo aver commentato la sezione iniziale della blacklist del file di configurazione, una serie di dispositivi è inserita nella blacklist. Per ulteriori informazioni, consultare <a class="xref" href="multipath-dm-multipath-config-file.html#multipath-config-blacklist-by-device-name" title="Inserimento nella blacklist in base al nome del dispositivo">Inserimento nella blacklist in base al nome del dispositivo</a></p>
        </li></ul></div>
</div>
<div class="sect3 sect" id="multipath-config-blacklist-by-wwid"><div class="inner">
<div class="hgroup"><h3 class="title">
<a name="config-blacklist-by-wwid-title"></a>Inserimento nella blacklist in base al WWID</h3></div>
<div class="region"><div class="contents">
<p class="para">È possibile specificare i dispositivi individuali da inserire nella blacklist tramite il loro World-Wide IDentification, attraverso una voce <span class="em em-bold emphasis">wwid</span> nella sezione <span class="em em-bold emphasis">blacklist</span> del file di configurazione.</p>
<p class="para">Il seguente esempio mostra le righe all'interno del file di configurazione in grado di inserire in blacklist un dispositivo con un WWID di 26353900f02796769.</p>
<div class="screen"><pre class="contents ">blacklist {
       wwid 26353900f02796769
}
</pre></div>
</div></div>
</div></div>
<div class="sect3 sect" id="multipath-config-blacklist-by-device-name"><div class="inner">
<div class="hgroup"><h3 class="title">
<a name="config-blacklist-by-device-name-title"></a>Inserimento nella blacklist in base al nome del dispositivo</h3></div>
<div class="region"><div class="contents">
<p class="para">È possibile inserire nella blacklist i tipi di dispositivi in base al nome, in modo tale da non farli raggruppare all'interno di un dispositivo multipath, per mezzo di una voce <span class="em em-bold emphasis">devnode</span> nella sezione <span class="em em-bold emphasis">blacklist</span> del file di configurazione.</p>
<p class="para">Il seguente esempio mostra le righe usate nel file di configurazione per inserire nella blacklist tutti i dispositivi SCSI, poichè comprende tutti i dispositivi sd*. <div class="screen"><pre class="contents ">blacklist {
       devnode "^sd[a-z]"
}</pre></div></p>
<p class="para">È possibile usare una voce <span class="em em-bold emphasis">devnode</span> nella sezione <span class="em em-bold emphasis">blacklist</span> del file di configurazione, per specificare i dispositivi individuali da inserire nella blacklist, invece di specificare tutti i dispositivi di una tipologia ben precisa; tuttavia questa procedura non è consigliata. A meno che non sia associato staticamente dalle regole udev, non vi è alcuna garanzia che un dispositivo specifico avrà lo stesso nome al momento del riavvio. Per esempio, un nome del dispositivo potrebbe cambiare da <span class="file filename">/dev/sda</span> a <span class="file filename">/dev/sdb</span>.</p>
<p class="para">Per impostazione predefinita, le seguenti voci <span class="em em-bold emphasis">devnode</span> sono compilate nella blacklist predefinita; i dispositivi che queste voci inseriscono in blacklist generalmente non supportano DM-Multipath. Per abilitare il multipath di uno di questi dispositivi, è necessario specificarlo nella sezione <span class="em em-bold emphasis">blacklist_exceptions</span> del file di configurazione, come descritto in <a class="xref" href="multipath-dm-multipath-config-file.html#multipath-config-blacklist-exceptions" title="Eccezioni della blacklist">Eccezioni della blacklist</a><div class="screen"><pre class="contents ">blacklist {
       devnode "^(ram|raw|loop|fd|md|dm-|sr|scd|st)[0-9]*"
       devnode "^hd[a-z]"
}
</pre></div></p>
</div></div>
</div></div>
<div class="sect3 sect" id="multipath-config-blacklist-by-device-type"><div class="inner">
<div class="hgroup"><h3 class="title">
<a name="config-blacklist-by-device-type-title"></a>Inserimento nella blacklist in base al tipo di dispositivo</h3></div>
<div class="region"><div class="contents"><p class="para">È possibile specificare tipi di dispositivi specifici nella sezione <span class="em em-bold emphasis">blacklist</span> del file di configurazione con una sezione «device». Nel seguente esempio vengono inseriti nella blacklist tutti i dispositivi IBM DS4200 e HP. <div class="screen"><pre class="contents ">blacklist {
       device {
               vendor "IBM"
               product "3S42" #DS4200 Product 10
       }
       device {
               vendor "HP"
               product "*"
       }
}
</pre></div></p></div></div>
</div></div>
<div class="sect3 sect" id="multipath-config-blacklist-exceptions"><div class="inner">
<div class="hgroup"><h3 class="title">
<a name="config-blacklist-exceptions-title"></a>Eccezioni della blacklist</h3></div>
<div class="region"><div class="contents">
<p class="para">È possibile usare la sezione <span class="em em-bold emphasis">blacklist_exceptions</span> del file di configurazione per abilitare il multipath dei dispositivi che sono stati inseriti nella blacklist per impostazione predefinita.</p>
<p class="para">Per esempio, se è presente un gran numero di dispositivi ed è necessario effettuare il multipath di solo uno di essi (con un WWID di 3600d0230000000000e13955cc3757803), invece di inserire individualmente in blacklist tutti i dispositivi tranne quello sul quale effettuare il multipath, è possibile inserirli tutti in blacklist, e poi consentire il multipath di quello sopra indicato inserendo le seguenti righe nel file  <span class="file filename">/etc/multipath.conf</span> file. <div class="screen"><pre class="contents ">blacklist {
        wwid "*"
}

blacklist_exceptions {
        wwid "3600d0230000000000e13955cc3757803"
}
</pre></div></p>
<p class="para">Quando vengono specificati i dispositivi all'interno della sezione <span class="em em-bold emphasis">blacklist_exceptions</span> del file di configurazione, è necessario specificare le eccezioni nello stesso modo in cui sono state specificate all'interno della <span class="em em-bold emphasis">blacklist</span>. Per esempio, una eccezione WWID non sarà applicata ai dispositivi specificati con una voce della blacklist <span class="em em-bold emphasis">devnode</span>, anche se il dispositivo in blacklist è associato con quel WWID. Allo stesso modo, le eccezioni devnode sono applicate solo alle voci devnode, e le eccezioni device sono applicate solo alle voci device.</p>
</div></div>
</div></div>
</div>
</div></div>
<div class="sect2 sect" id="multipath-config-defaults"><div class="inner">
<div class="hgroup"><h2 class="title">
<a name="config-defaults-title"></a>Impostazioni predefinite del file di configurazione</h2></div>
<div class="region"><div class="contents">
<p class="para">Il file di configurazione <span class="file filename">/etc/multipath.conf</span> comprende una sezione <span class="em em-bold emphasis">defaults</span> che imposta il parametro <span class="em em-bold emphasis">user_friendly_names</span> su <span class="em em-bold emphasis">yes</span> nel modo seguente.</p>
<div class="screen"><pre class="contents ">defaults {
        user_friendly_names yes
}
</pre></div>
<p class="para">Ciò sovrascrive il valore predefinito del parametro <span class="em em-bold emphasis">user_friendly_names</span>.</p>
<p class="para">Il file di configurazione include un modello delle impostazioni predefinite della configurazione. Questa sezione è decommentata nel modo seguente.</p>
<div class="screen"><pre class="contents ">#defaults {
# udev_dir /dev
# polling_interval 5
# selector "round-robin 0"
# path_grouping_policy failover
# getuid_callout "/lib/dev/scsi_id --whitelisted --device=/dev/%n"
#	prio			const
#	path_checker		directio
#	rr_min_io		1000
#	rr_weight		uniform
#	failback		manual
#	no_path_retry		fail
#	user_friendly_names	no
#}
</pre></div>
<p class="para">Per sovrascrivere il valore predefinito per qualsiasi parametro di configurazione, è possibile copiare la riga rilevante da questo modello all'interno della sezione <span class="em em-bold emphasis">defaults</span> decommentandola. Per esempio, per sovrascrivere il parametro <span class="em em-bold emphasis">path_grouping_policy</span>in modo da avere <span class="em em-bold emphasis">multibus</span> invece del valore predefinito di <span class="em em-bold emphasis">failover</span>, copiare la riga appropriata dal modello nella sezione iniziale <span class="em em-bold emphasis">defaults</span> del file di configurazione e decommentarla nel modo seguente.</p>
<div class="screen"><pre class="contents ">defaults {
        user_friendly_names yes
        path_grouping_policy multibus
}
</pre></div>
<p class="para">La tabella <a class="xref" href="multipath-dm-multipath-config-file.html#multipath-config-defaults-table" title="Configurazione predefinita del multipath">Configurazione predefinita del multipath</a> descrive gli attributi impostati nella sezione <span class="em em-bold emphasis">defaults</span> del file di configurazione <span class="file filename">multipath.conf</span>. Questi valori sono utilizzati da DM-Multipath a meno che non siano sovrascritti dagli attributi specificati nelle sezioni <span class="em em-bold emphasis">devices</span> e <span class="em em-bold emphasis">multipaths</span> del file <span class="file filename">multipath.conf</span>.</p>
<div class="table">
<a name="multipath-config-defaults-table"></a><div class="title">
<a name="config-defaults-table-title"></a><h3><span class="title">Configurazione predefinita del multipath</span></h3>
</div>
<table summary="Configurazione predefinita del multipath" style="border: solid 1px;">
<thead><tr>
<th class="td-colsep" style="text-align: left;">Attributo</th>
<th style="text-align: left;">Descrizione</th>
</tr></thead>
<tbody>
<tr>
<td class="td-colsep td-rowsep" style="text-align: left;">
          <span class="em em-bold emphasis">polling_interval</span>
        </td>
<td class="td-rowsep" style="text-align: left;">Specifica l'intervallo, espresso in secondi, fra due controlli del percorso. Per percorsi che operano correttamente, l'intervallo fra controlli aumenterà progressivamente (4 * <span class="em em-bold emphasis">polling_interval</span>); il valore predefinito è <span class="em em-bold emphasis">5</span>.</td>
</tr>
<tr class="shade">
<td class="td-colsep td-rowsep" style="text-align: left;">
          <span class="em em-bold emphasis">udev_dir</span>
        </td>
<td class="td-rowsep" style="text-align: left;">La directory dove sono creati i nodi del dispositivo udev; il valore predefinito è /dev.</td>
</tr>
<tr>
<td class="td-colsep td-rowsep" style="text-align: left;">
          <span class="em em-bold emphasis">multipath_dir</span>
        </td>
<td class="td-rowsep" style="text-align: left;">La directory dove vengono archiviati gli oggetti condivisi dinamici; il valore predefinito dipende dal sistema, in genere  <span class="file filename">/lib/multipath</span>.</td>
</tr>
<tr class="shade">
<td class="td-colsep td-rowsep" style="text-align: left;">
          <span class="em em-bold emphasis">verbosity</span>
        </td>
<td class="td-rowsep" style="text-align: left;">La prolissità predefinita; i valori più elevati aumentano il livello di prolissità. Sono ammessi valori fra 0 e 6, il valore predefinito è 2.</td>
</tr>
<tr>
<td class="td-colsep td-rowsep" style="text-align: left;">
          <span class="em em-bold emphasis">path_selector</span>
        </td>
<td class="td-rowsep" style="text-align: left;">
          <p class="para">Specifica l'algoritmo predefinito da usare per determinare il percorso da utilizzare per l'operazione I/O successiva. Possibili valori includono:</p>

          <div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
              <p class="para"><span class="em em-bold emphasis">round-robin 0</span>: Esegue un loop attraverso ogni percorso nel gruppo di percorso, inviando la stessa quantità di I/O a ognuno di essi.</p>
            </li>
<li class="list itemizedlist">
              <p class="para"><span class="em em-bold emphasis">queue-length 0</span>: invia il gruppo successivo di I/O al percorso con il numero minore di richieste I/O pendenti.</p>
            </li>
<li class="list itemizedlist">
              <p class="para"><span class="em em-bold emphasis">service-time 0</span>: invia il gruppo successivo di I/O al percorso con il tempo di servizio stimato più breve, determinato dividendo la dimensione totale di I/O pendenti per ogni percorso per il carico di lavoro relativo.</p>
            </li>
</ul></div>

          <p class="para">Il valore predefinito è <span class="em em-bold emphasis">round-robin 0</span>.</p>
        </td>
</tr>
<tr class="shade">
<td class="td-colsep td-rowsep" style="text-align: left;">
          <span class="em em-bold emphasis">path_grouping_policy</span>
        </td>
<td class="td-rowsep" style="text-align: left;">
          <p class="para">Specifica la politica predefinita per il gruppo di percorso da applicare ai multipath non specificati. I possibili valori includono:</p>

          <div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
              <p class="para"><span class="em em-bold emphasis">failover</span> = 1 percorso per ogni gruppo di priorità</p>
            </li>
<li class="list itemizedlist">
              <p class="para"><span class="em em-bold emphasis">multibus</span> = tutti i percorsi validi in 1 gruppo di priorità</p>
            </li>
<li class="list itemizedlist">
              <p class="para"><span class="em em-bold emphasis">group_by_serial</span> = 1 gruppo di priorità per numero seriale rilevato</p>
            </li>
<li class="list itemizedlist">
              <p class="para"><span class="em em-bold emphasis">group_by_prio</span> = 1 gruppo di priorità per valore di priorità del percorso</p>
            </li>
<li class="list itemizedlist">
              <p class="para"><span class="em em-bold emphasis">group_by_node_name</span> = 1 gruppo di priorità per nome del nodo di destinazione.</p>
            </li>
</ul></div>

          <p class="para">Il valore predefinito è <span class="em em-bold emphasis">failover</span>.</p>
        </td>
</tr>
<tr>
<td class="td-colsep td-rowsep" style="text-align: left;">
          <span class="em em-bold emphasis">getuid_callout</span>
        </td>
<td class="td-rowsep" style="text-align: left;">Specifica il programma predefinito e gli argomenti da invocare per ottenere un identificatore univoco del percorso; è necessario un percorso assoluto. <p class="para">Il valore predefinito è <span class="em em-bold emphasis">/lib/udev/scsi_id --whitelisted --device=/dev/%n</span>.</p>
</td>
</tr>
<tr class="shade">
<td class="td-colsep td-rowsep" style="text-align: left;">
          <span class="em em-bold emphasis">prio</span>
        </td>
<td class="td-rowsep" style="text-align: left;">
          <p class="para">Specifica la funzione predefinita da invocare per ottenere un valore per la priorità del percorso; per esempio, i bit ALUA in SPC-3 forniscono un valore sfruttabile di priorità. Possibili valori includono:</p>

          <div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
              <p class="para"><span class="em em-bold emphasis">const</span>: imposta una priorità uguale a 1 per tutti i percorsi.</p>
            </li>
<li class="list itemizedlist">
              <p class="para"><span class="em em-bold emphasis">emc</span>: genera la priorità del percorso per gli array EMC.</p>
            </li>
<li class="list itemizedlist">
              <p class="para"><span class="em em-bold emphasis">alua</span>: genera la priorità del percorso in base alle impostazioni SCSI-3 ALUA.</p>
            </li>
<li class="list itemizedlist">
              <p class="para"><span class="em em-bold emphasis">netapp</span>: genera la priorità del percorso per gli array NetApp.</p>
            </li>
<li class="list itemizedlist">
              <p class="para"><span class="em em-bold emphasis">rdac</span>: genera la priorità del percorso per il controller LSI/Engenio RDAC.</p>
            </li>
<li class="list itemizedlist">
              <p class="para"><span class="em em-bold emphasis">hp_sw</span>: genera la priorità del percorso per il controller Compaq/HP in modalità attiva/standby.</p>
            </li>
<li class="list itemizedlist">
              <p class="para"><span class="em em-bold emphasis">hds</span>: genera la priorità del percorso per gli array di archiviazione modulari Hitachi HDS.</p>
            </li>
</ul></div>

          <p class="para">Il valore predefinito è <span class="em em-bold emphasis">const</span>.</p>
        </td>
</tr>
<tr>
<td class="td-colsep td-rowsep" style="text-align: left;">
          <span class="em em-bold emphasis">prio_args</span>
        </td>
<td class="td-rowsep" style="text-align: left;">
          <p class="para">La stringa di argomenti passata alla funzione prio; molte funzioni prio non necessitano di argomenti. Per l'assegnatore di priorità datacore ne serve uno, per esempio <span class="em em-bold emphasis">"timeout=1000 preferredsds=foo"</span>. Il valore predefinito è <span class="em em-bold emphasis">""</span> (null).</p>
        </td>
</tr>
<tr class="shade">
<td class="td-colsep td-rowsep" style="text-align: left;">
          <span class="em em-bold emphasis">caratteristiche</span>
        </td>
<td class="td-rowsep" style="text-align: left;">Le funzioni aggiuntive predefinite dei dispositivi multipath. La sola funzione esistente è <span class="em em-bold emphasis">queue_if_no_path</span>, la quale risulta equivalente all'impostazione <span class="em em-bold emphasis">no_path_retry</span> su <span class="em em-bold emphasis">queue</span>. Per informazioni sui possibili problemi durante l'utilizzo, consultare la sezione <a class="link" href="multipath-admin-and-troubleshooting.html#multipath-issues-with-queue_if_no_path" title="Problemi con queue_if_no_path">«Problemi con la caratteristica queue_if_no_path»</a>.</td>
</tr>
<tr>
<td class="td-colsep td-rowsep" style="text-align: left;">
          <span class="em em-bold emphasis">path_checker</span>
        </td>
<td class="td-rowsep" style="text-align: left;">
          <p class="para">Specifica il metodo predefinito usato per determinare lo stato dei percorsi. I possibili valori includono:</p>

          <div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
              <p class="para"><span class="em em-bold emphasis">readsector0</span>: legge il primo settore del dispositivo.</p>
            </li>
<li class="list itemizedlist">
              <p class="para"><span class="em em-bold emphasis">tur</span>: emette un TEST UNIT READY per il dispositivo.</p>
            </li>
<li class="list itemizedlist">
              <p class="para"><span class="em em-bold emphasis">emc_clariion</span>: interroga 0xC0 della pagina EVPD specifica EMC Clariion per determinare il percorso.</p>
            </li>
<li class="list itemizedlist">
              <p class="para"><span class="em em-bold emphasis">hp_sw</span>: controlla lo stato del percorso per gli array di archiviazione HP con firmware Attivo/Standby.</p>
            </li>
<li class="list itemizedlist">
              <p class="para"><span class="em em-bold emphasis">rdac</span>: controlla lo stato del percorso per il controller di archiviazione LSI/Engenio RDAC.</p>
            </li>
<li class="list itemizedlist">
              <p class="para"><span class="em em-bold emphasis">directio</span>: legge il primo settore con I/O diretto.</p>
            </li>
</ul></div>

          <p class="para">Il valore predefinito è <span class="em em-bold emphasis">directio</span>.</p>
        </td>
</tr>
<tr class="shade">
<td class="td-colsep td-rowsep" style="text-align: left;">
          <span class="em em-bold emphasis">failback</span>
        </td>
<td class="td-rowsep" style="text-align: left;">
          <p class="para">Gestisce il failback del gruppo di percorso.</p>

          <div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
              <p class="para">Un valore <span class="em em-bold emphasis">immediate</span> specifica un failback immediato sul gruppo di percorso con la priorità più alta che contiene percorsi attivi.</p>
            </li>
<li class="list itemizedlist">
              <p class="para">Un valore <span class="em em-bold emphasis">manual</span> specifica che non ci deve essere un failback immediato ma tale operazione si deve verificare solo attraverso un intervento dell'operatore.</p>
            </li>
<li class="list itemizedlist">
              <p class="para">Un valore numerico maggiore di zero specifica un rinvio del failback, espresso in secondi.</p>
            </li>
</ul></div>

          <p class="para">Il valore predefinito è <span class="em em-bold emphasis">manual</span>.</p>
        </td>
</tr>
<tr>
<td class="td-colsep td-rowsep" style="text-align: left;">
          <span class="em em-bold emphasis">rr_min_io</span>
        </td>
<td class="td-rowsep" style="text-align: left;">Specifica il numero di richieste I/O da indirizzare a un percorso, prima di passare al percorso successivo all'interno del gruppo di  percorsi corrente.</td>
</tr>
<tr class="shade">
<td class="td-colsep td-rowsep" style="text-align: left;">
          <span class="em em-bold emphasis">rr_weight</span>
        </td>
<td class="td-rowsep" style="text-align: left;">Se impostato su <span class="em em-bold emphasis">priorities</span>, invece di eseguire l'invio delle richieste <span class="em em-bold emphasis">rr_min_io</span> a un percorso prima di indicare a  <span class="em em-bold emphasis">path_selector</span> di selezionare il percorso successivo, determina il numero di richieste da inviare in base a <span class="em em-bold emphasis">rr_min_io</span> moltiplicato per il valore della priorità del percorso, come determinato dalla funzione prio. Se impostato su <span class="em em-bold emphasis">uniform</span>, tutti i pesi del percorso sono uguali. <p class="para">Il valore predefinito è <span class="em em-bold emphasis">uniform</span>.</p>
</td>
</tr>
<tr>
<td class="td-colsep td-rowsep" style="text-align: left;">
          <span class="em em-bold emphasis">no_path_retry</span>
        </td>
<td class="td-rowsep" style="text-align: left;">Un valore numerico per questo attributo specifica il numero di volte che il sistema dovrebbe cercare di utilizzare un percorso fallito prima di disabilitarne la coda. Un valore «fail» indica un fallimento <span class="em em-bold emphasis">immediato</span>, senza accodamento. Un valore <span class="em em-bold emphasis">queue</span> indica che l'accodamento non deve essere arrestato fino a quando il percorso non è stato corretto.</td>
</tr>
<tr class="shade">
<td class="td-colsep td-rowsep" style="text-align: left;">
          <span class="em em-bold emphasis">user_friendly_names</span>
        </td>
<td class="td-rowsep" style="text-align: left;">Se impostato su «yes», specifica che il sistema deve utilizzare il file <span class="file filename">/etc/multipath/bindings</span> per assegnare un <span class="em em-bold emphasis">alias</span> unico e persistente al <span class="em em-bold emphasis">multipath</span>, con un formato mpathn. Se impostato su «no», specifica che il sistema deve usare il WWID come <span class="em em-bold emphasis">alias</span> per il <span class="em em-bold emphasis">multipath</span>.  In entrambi i casi qualsiasi cosa venga specificata sarà sovrascritta da qualsiasi alias specifico per il dispositivo specificato nella sezione multipath del file di configurazione. <p class="para">Il valore predefinito è <span class="em em-bold emphasis">«no»</span>.</p>
</td>
</tr>
<tr>
<td class="td-colsep td-rowsep" style="text-align: left;">
          <span class="em em-bold emphasis">queue_without_daemon</span>
        </td>
<td class="td-rowsep" style="text-align: left;">Se impostato su «no», il demone <span class="em em-bold emphasis">multipathd</span> disabiliterà l'accodamento di tutti i dispositivi quando viene arrestato. <p class="para">Il valore predefinito è <span class="em em-bold emphasis">«yes»</span>.</p>
</td>
</tr>
<tr class="shade">
<td class="td-colsep td-rowsep" style="text-align: left;">
          <span class="em em-bold emphasis">flush_on_last_del</span>
        </td>
<td class="td-rowsep" style="text-align: left;">Se impostato su «yes», <span class="em em-bold emphasis">multipath</span> disabiliterà l'accodamento quando l'ultimo percorso per un dispositivo è stato eliminato. <p class="para">Il valore predefinito è <span class="em em-bold emphasis">«no»</span>.</p>
</td>
</tr>
<tr>
<td class="td-colsep td-rowsep" style="text-align: left;">
          <span class="em em-bold emphasis">max_fds</span>
        </td>
<td class="td-rowsep" style="text-align: left;">Imposta il numero massimo di descrittori di file che possono essere aperti da <span class="em em-bold emphasis">multipath</span> e dal demone <span class="em em-bold emphasis">multipathd</span>. Ciò è equivalente al comando ulimit -n. Un valore «max» imposterà tale valore sul limite del sistema di <span class="file filename">/proc/sys/fs/nr_open</span>. Se non impostato, il numero massimo di descrittori viene preso dal processo che esegue la chiamata; generalmente questo valore è 1024. A tale scopo si consiglia di impostare tale valore sul numero massimo di percorsi più 32, se tale numero è maggiore di 1024.</td>
</tr>
<tr class="shade">
<td class="td-colsep td-rowsep" style="text-align: left;">
          <span class="em em-bold emphasis">checker_timer</span>
        </td>
<td class="td-rowsep" style="text-align: left;">Il timeout da usare per i controllori del percorso che emettono i comandi SCSI con un timeout esplicito, in secondi. <p class="para">Il valore predefinito viene preso da <span class="file filename">/sys/block/sdx/device/timeout</span> ed è uguale a <span class="code literal">30</span> secondi in 12.04 LTS</p>
</td>
</tr>
<tr>
<td class="td-colsep td-rowsep" style="text-align: left;">
          <span class="em em-bold emphasis">fast_io_fail_tmo</span>
        </td>
<td class="td-rowsep" style="text-align: left;">Il numero di secondi di attesa del livello SCSI dopo il rilevamento di un problema su di una porta remota FC prima di interrompere gli I/O per i dispositivi di quella porta remota. Questo valore deve essere minore del valore dev_loss_tmo; l'impostazione su «off» disabiliterà il timeout. <p class="para">Il valore predefinito viene determinato dal sistema operativo.</p>
</td>
</tr>
<tr class="shade">
<td class="td-colsep" style="text-align: left;">
          <span class="em em-bold emphasis">dev_loss_tmo</span>
        </td>
<td style="text-align: left;">Il numero di secondi di attesa del livello SCSI dopo il rilevamento di un problema su di una porta remota FC prima di rimuoverlo dal sistema; l'impostazione a «infinity» porterà l'intervallo a 2147483647 secondi, o 68 anni. Il valore predefinito è determinato dal sistema operativo.</td>
</tr>
</tbody>
</table>
</div>
</div></div>
</div></div>
<div class="sect2 sect" id="multipath-config-multipath"><div class="inner">
<div class="hgroup"><h2 class="title">
<a name="config-multipath-title"></a>Attributi del file di configurazione di multipath</h2></div>
<div class="region"><div class="contents">
<p class="para">La tabella <a class="xref" href="multipath-dm-multipath-config-file.html#multipath-attributes-table" title="Attributi di multipath">Attributi di multipath</a> mostra gli attributi da impostare nella sezione <span class="em em-bold emphasis">multipaths</span> del file di configurazione <span class="file filename">multipath.conf</span> per ciascun specifico dispositivo multipath; questi attributi vengono applicati solo a quel multipath specificato. Queste impostazioni predefinite sono utilizzate da DM-Multipath e sovrascrivono gli attributi impostati nelle sezioni <span class="em em-bold emphasis">defaults</span> e <span class="em em-bold emphasis">devices</span> del file di configurazione multipath.conf.</p>
<div class="table">
<a name="multipath-attributes-table"></a><div class="title">
<a name="attributes-table-title"></a><h3><span class="title">Attributi di multipath</span></h3>
</div>
<table summary="Attributi di multipath" style="border: solid 1px;">
<thead><tr>
<th class="td-colsep" style="text-align: left;">Attributo</th>
<th style="text-align: left;">Descrizione</th>
</tr></thead>
<tbody>
<tr>
<td class="td-colsep td-rowsep" style="text-align: left;">
          <span class="em em-bold emphasis">wwid</span>
        </td>
<td class="td-rowsep" style="text-align: left;">Specifica il WWID del dispositivo <span class="em em-bold emphasis">multipath</span> al quale sono applicabili gli attributi <span class="em em-bold emphasis">multipath</span>. Questo parametro è obbligatorio per questa sezione del file <span class="file filename">multipath.conf</span>.</td>
</tr>
<tr class="shade">
<td class="td-colsep" style="text-align: left;">
          <span class="em em-bold emphasis">alias</span>
        </td>
<td style="text-align: left;">Specifica il nome simbolico per il dispositivo <span class="em em-bold emphasis">multipath</span> al quale sono applicabili gli attributi <span class="em em-bold emphasis">multipath</span>. Se si usano <span class="em em-bold emphasis">user_friendly_names</span>, non impostare questo valore su mpathn; tale impostazione può entrare in conflitto con un nome descrittivo assegnato automaticamente, generando nomi del nodo del dispositivo non corretti.</td>
</tr>
</tbody>
</table>
</div>
<p class="para">In aggiunta, i seguenti parametri possono essere sovrascritti in questa sezione <span class="em em-bold emphasis">multipath</span></p>
<div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
          <p class="para"><a class="link" href="multipath-dm-multipath-config-file.html#attribute-path_grouping_policy" title="">
          <span class="cmd parameter">path_grouping_policy</span> </a></p>
        </li>
<li class="list itemizedlist">
          <p class="para"><a class="link" href="multipath-dm-multipath-config-file.html#attribute-path_selector" title="">
          <span class="cmd parameter">path_selector</span> </a></p>
        </li>
<li class="list itemizedlist">
          <p class="para"><a class="link" href="multipath-dm-multipath-config-file.html#attribute-failback" title="">
          <span class="cmd parameter">failback</span> </a></p>
        </li>
<li class="list itemizedlist">
          <p class="para"><a class="link" href="multipath-dm-multipath-config-file.html#attribute-prio" title=""> <span class="cmd parameter">prio</span>
          </a></p>
        </li>
<li class="list itemizedlist">
          <p class="para"><a class="link" href="multipath-dm-multipath-config-file.html#attribute-prio_args" title=""><span class="cmd parameter">prio_args</span></a></p>
        </li>
<li class="list itemizedlist">
          <p class="para"><a class="link" href="multipath-dm-multipath-config-file.html#attribute-no_path_retry" title="">
          <span class="cmd parameter">no_path_retry</span> </a></p>
        </li>
<li class="list itemizedlist">
          <p class="para"><a class="link" href="multipath-dm-multipath-config-file.html#attribute-rr_min_io" title="">
          <span class="cmd parameter">rr_min_io</span> </a></p>
        </li>
<li class="list itemizedlist">
          <p class="para"><a class="link" href="multipath-dm-multipath-config-file.html#attribute-rr_weight" title="">
          <span class="cmd parameter">rr_weight</span> </a></p>
        </li>
<li class="list itemizedlist">
          <p class="para"><a class="link" href="multipath-dm-multipath-config-file.html#attribute-flush_on_last_del" title="">
          <span class="cmd parameter">flush_on_last_del</span> </a></p>
        </li>
</ul></div>
<p class="para">Il seguente esempio mostra gli attributi multipath specificati nel file di configurazione per due specifici dispositivi multipath. Il primo dispositivo presenta un WWID di 3600508b4000156d70001200000b0000 e il nome simbolico «giallo».</p>
<p class="para">Il secondo dispositivo multipath nell'esempio ha un WWID di 1DEC_____321816758474 e il nome simbolico «rosso»; in questo esempio, gli attributi <a class="link" href="multipath-dm-multipath-config-file.html#attribute-rr_weight" title="">rr_weight</a> sono impostati su «priorities».</p>
<div class="screen"><pre class="contents ">multipaths {
       multipath {
              wwid 3600508b4000156d70001200000b0000
              alias giallo
              path_grouping_policy multibus
              path_selector "round-robin 0"
              failback manual
              rr_weight priorities
              no_path_retry 5
       }
       multipath {
              wwid 1DEC_____321816758474
              alias rosso
              rr_weight priorities
       }
}
</pre></div>
</div></div>
</div></div>
<div class="sect2 sect" id="multipath-config-device"><div class="inner">
<div class="hgroup"><h2 class="title">
<a name="config-device-title"></a>File di configurazione - dispositivi</h2></div>
<div class="region"><div class="contents">
<p class="para">La tabella <a class="xref" href="multipath-dm-multipath-config-file.html#multipath-device-attributes-table" title="Attributi del dispositivo">Attributi del dispositivo</a> mostra gli attributi che possono essere impostati per ogni singolo dispositivo di archiviazione nella sezione «device» del file di configurazione multipath.conf; questi attributi sono utilizzati da DM-Multipath a meno che non siano sovrascritti dagli attributi specificati nella sezione <span class="em em-bold emphasis">multipaths</span> del file <span class="file filename">multipath.conf</span> per i percorsi che contengono il dispositivo. Questi attributi sovrascrivono quelli impostati nella sezione <span class="em em-bold emphasis">defaults</span> del file <span class="file filename">multipath.conf</span>.</p>
<p class="para">Numerosi dispositivi che supportano il multipath sono inclusi per impostazione predefinita in una configurazione multipath; i valori per i dispositivi supportati per impostazione predefinita sono elencati nel file <span class="file filename">multipath.conf.defaults</span>. Molto probabilmente non sarà necessario modificare i valori per questi dispositivi, ma se fosse necessario farlo sarà possibile sovrascrivere i valori predefiniti includendo una voce nel file di configurazione per il dispositivo che sovrascrive questi valori. È possibile copiare la configurazione predefinita per il dispositivo dal file <span class="file filename">multipath.conf.annotated.gz</span> o, se è necessario avere un file di configurazione sintetico, dal file <span class="file filename">multipath.conf.synthetic</span> e sovrascrivere i valori da modificare.</p>
<p class="para">Per aggiungere un dispositivo in questa sezione del file di configurazione non configurata automaticamente per impostazione predefinita, sarà necessario impostare i parametri <span class="em em-bold emphasis">vendor</span> e <span class="em em-bold emphasis">product</span>. Questi valori sono disponibili su <span class="em em-bold emphasis">/sys/block/device_name/device/vendor</span> e <span class="em em-bold emphasis">/sys/block/device_name/device/model</span>, dove device_name è il dispositivo sul quale eseguire il multipath, come riportato nel seguente esempio:</p>
<div class="screen"><pre class="contents "># cat /sys/block/sda/device/vendor
WINSYS  
# cat /sys/block/sda/device/model
SF2372
</pre></div>
<p class="para">Gli ulteriori parametri da specificare dipendono dallo specifico dispositivo: se questo è ativo/attivo, normalmente non è necessario impostare parametri aggiuntivi; può essere necessario impostare <a class="link" href="multipath-dm-multipath-config-file.html#attribute-path_grouping_policy" title="">path_grouping_policy</a> su <span class="em em-bold emphasis">multibus</span>. Altri parametr i da impostare possono essere <a class="link" href="multipath-dm-multipath-config-file.html#attribute-no_path_retry" title="">no_path_retry</a> e <a class="link" href="multipath-dm-multipath-config-file.html#attribute-rr_min_io" title="">rr_min_io</a>, come descritto nella tabella <a class="xref" href="multipath-dm-multipath-config-file.html#multipath-attributes-table" title="Attributi di multipath">Attributi di multipath</a>.</p>
<p class="para">Se il dispositivo è attivo/passivo, ma smista automaticamente il percorso con I/O sul percorso passivo, è necessario modificare la funzione del controller su una funzione non in grado d'inviare alcun segnale I/O al percorso per controllarne il suo funzionamento (in caso contrario il dispositivo continuerà a eseguire un failover). Ciò quasi sempre significa impostare  <a class="link" href="multipath-dm-multipath-config-file.html#attribute-path_checker" title="">path_checker</a> su <span class="em em-bold emphasis">tur</span>; questo processo funziona per tutti i dispositivi SCSI che supportano il comando Test Unit Ready, cosa che molti fanno.</p>
<p class="para">Se il dispositivo necessita di un comando speciale per smistarsi da un percorso ad un altro, allora la configurazione di questo dispositivo per multipath richiederà un modulo del kernel gestore hardware. Il gestore hardware attuale è emc; se non è sufficiente per il dispositivo, allora non sarà possibile configurare il dispositivo per il multipath.</p>
<div class="table">
<a name="multipath-device-attributes-table"></a><div class="title">
<a name="device-attributes-table-title"></a><h3><span class="title">Attributi del dispositivo</span></h3>
</div>
<table summary="Attributi del dispositivo" style="border: solid 1px;">
<thead><tr>
<th class="td-colsep" style="text-align: left;">Attributo</th>
<th style="text-align: left;">Descrizione</th>
</tr></thead>
<tbody>
<tr>
<td class="td-colsep td-rowsep" style="text-align: left;">
          <span class="em em-bold emphasis">fornitore</span>
        </td>
<td class="td-rowsep" style="text-align: left;">Specifica il nome del fornitore del dispositivo di archiviazione sul quale sono applicabili gli attributi del dispositivo, per esempio <span class="em em-bold emphasis">COMPAQ</span>.</td>
</tr>
<tr class="shade">
<td class="td-colsep td-rowsep" style="text-align: left;">
          <span class="em em-bold emphasis">prodotto</span>
        </td>
<td class="td-rowsep" style="text-align: left;">Specifica il nome del prodotto del dispositivo di archiviazione sul quale sono applicabili gli attributi del dispositivo, per esempio <span class="em em-bold emphasis">HSV110 (C)COMPAQ</span>.</td>
</tr>
<tr>
<td class="td-colsep td-rowsep" style="text-align: left;">
          <span class="em em-bold emphasis">revisione</span>
        </td>
<td class="td-rowsep" style="text-align: left;">Specifica l'identificatore della revisione del prodotto del dispositivo di archiviazione.</td>
</tr>
<tr class="shade">
<td class="td-colsep td-rowsep" style="text-align: left;">
          <span class="em em-bold emphasis">product_blacklist</span>
        </td>
<td class="td-rowsep" style="text-align: left;">Specifica un'espressione regolare usata per inserire nella blacklist i dispositivi in base al prodotto.</td>
</tr>
<tr>
<td class="td-colsep" style="text-align: left;">
          <span class="em em-bold emphasis">hardware_handler</span>
        </td>
<td style="text-align: left;">
<p class="para">Specifica un modulo che verrà utilizzato per eseguire le azioni hardware specifiche, quando si esegue lo smistamento dei gruppi di percorso o di gestione degli errori I/O. I possibili valori includono:</p>
<div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
<p class="para"><span class="em em-bold emphasis">1 emc</span>: gestore hardware di array di archiviazione EMC.</p>
</li>
<li class="list itemizedlist">
<p class="para"><span class="em em-bold emphasis">1 alua</span>:  gestore hardware per array SCSI-3 ALUA.</p>
</li>
<li class="list itemizedlist">
<p class="para"><span class="em em-bold emphasis">1 hp_sw</span>: gestore hardware per controller Compaq/HP.</p>
</li>
<li class="list itemizedlist">
<p class="para"><span class="em em-bold emphasis">1 rdac</span>:  gestore hardware per controller LSI/Engenio RDAC.</p>
</li>
</ul></div>

</td>
</tr>
</tbody>
</table>
</div>
<p class="para">Oltre a ciò, è possibile sovrascrivede i seguenti parametri in questa sezione <span class="em em-bold emphasis">device</span></p>
<div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
          <p class="para"><a class="link" href="multipath-dm-multipath-config-file.html#attribute-path_grouping_policy" title="">
          <span class="cmd parameter">path_grouping_policy</span> </a></p>
        </li>
<li class="list itemizedlist">
          <p class="para"><a class="link" href="multipath-dm-multipath-config-file.html#attribute-getuid_callout" title="">
          <span class="cmd parameter">getuid_callout</span> </a></p>
        </li>
<li class="list itemizedlist">
          <p class="para"><a class="link" href="multipath-dm-multipath-config-file.html#attribute-path_selector" title="">
          <span class="cmd parameter">path_selector</span> </a></p>
        </li>
<li class="list itemizedlist">
          <p class="para"><a class="link" href="multipath-dm-multipath-config-file.html#attribute-path_checker" title="">
          <span class="cmd parameter">path_checker</span> </a></p>
        </li>
<li class="list itemizedlist">
          <p class="para"><a class="link" href="multipath-dm-multipath-config-file.html#attribute-features" title="">
          <span class="cmd parameter">caratteristiche</span> </a></p>
        </li>
<li class="list itemizedlist">
          <p class="para"><a class="link" href="multipath-dm-multipath-config-file.html#attribute-failback" title="">
          <span class="cmd parameter">failback</span> </a></p>
        </li>
<li class="list itemizedlist">
          <p class="para"><a class="link" href="multipath-dm-multipath-config-file.html#attribute-prio" title=""> <span class="cmd parameter">prio</span>
          </a></p>
        </li>
<li class="list itemizedlist">
          <p class="para"><a class="link" href="multipath-dm-multipath-config-file.html#attribute-prio_args" title=""><span class="cmd parameter">prio_args</span></a></p>
        </li>
<li class="list itemizedlist">
          <p class="para"><a class="link" href="multipath-dm-multipath-config-file.html#attribute-no_path_retry" title="">
          <span class="cmd parameter">no_path_retry</span> </a></p>
        </li>
<li class="list itemizedlist">
          <p class="para"><a class="link" href="multipath-dm-multipath-config-file.html#attribute-rr_min_io" title="">
          <span class="cmd parameter">rr_min_io</span> </a></p>
        </li>
<li class="list itemizedlist">
          <p class="para"><a class="link" href="multipath-dm-multipath-config-file.html#attribute-rr_weight" title="">
          <span class="cmd parameter">rr_weight</span> </a></p>
        </li>
<li class="list itemizedlist">
          <p class="para"><a class="link" href="multipath-dm-multipath-config-file.html#attribute-fast_io_fail_tmo" title="">
          <span class="cmd parameter">fast_io_fail_tmo</span> </a></p>
        </li>
<li class="list itemizedlist">
          <p class="para"><a class="link" href="multipath-dm-multipath-config-file.html#attribute-dev_loss_tmo" title="">
          <span class="cmd parameter">dev_loss_tmo</span> </a></p>
        </li>
<li class="list itemizedlist">
          <p class="para"><a class="link" href="multipath-dm-multipath-config-file.html#attribute-flush_on_last_del" title="">
          <span class="cmd parameter">flush_on_last_del</span> </a></p>
        </li>
</ul></div>
<div class="note" title="Annotazione"><div class="inner"><div class="region"><div class="contents">
        <p class="para">Ogni qualvolta sia specificato un gestore hardware, è necessario assicurarsi che sia caricato il modulo del kernel adatto a supportare l'interfaccia specificata; questi moduli possono essere trovati in <span class="em em-bold emphasis"><span class="file filename">/lib/modules/`uname -r`/kernel/drivers/scsi/device_handler/ </span></span>. Il modulo richiesto deve essere integrato in initrd per assicurarne la necessaria lettura e per rendere disponibile la capacità di failover-failback durante l'avvio. Per esempio, <div class="screen"><pre class="contents "># echo scsi_dh_alua &gt;&gt; /etc/initramfs-tools/modules ## append module to file
# update-initramfs -u -k all</pre></div></p>
      </div></div></div></div>
<p class="para">Il seguente esempio mostra una voce device nel file di configurazione di multipath.</p>
<div class="screen"><pre class="contents ">#devices {
#	device {
#		vendor			"COMPAQ "
#		product			"MSA1000 "
#		path_grouping_policy	multibus
#		path_checker		tur
#		rr_weight		priorities
#	}
#}
</pre></div>
<p class="para">La spaziatura riservata nei campi <span class="em em-bold emphasis">vendor</span>, <span class="em em-bold emphasis">product</span> e <span class="em em-bold emphasis">revision</span> è significativa per il modo in cui multipath trova una corrispondenza diretta per questi attributi, il cui formato è definito dalla specifica SCSI, precisamente con il comando <a href="http://en.wikipedia.org/wiki/SCSI_Inquiry_Command" class="ulink" title="http://en.wikipedia.org/wiki/SCSI_Inquiry_Command">Standard INQUIRY</a>. Quando sono usate le virgolette, i campi vendor, product e revision sono interpretati tassativamente in maniera conforme alla specificazione; all'interno delle stringhe virgolettate possono essere integrate espressioni regolari. Se un campo viene definito senza la spaziatura richiesta, multipath copierà la stringa nel buffer adeguatamente dimensionato, riempiendolo con il corretto numero di spazi. La specifica deve essere popolata da caratteri stampabili o da spazi, come mostrato nel precedente esempio.</p>
<div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
          <p class="para">vendor: 8 caratteri</p>
        </li>
<li class="list itemizedlist">
          <p class="para">product: 16 caratteri</p>
        </li>
<li class="list itemizedlist">
          <p class="para">revision: 4 caratteri</p>
        </li>
</ul></div>
<p class="para">Per creare un file di configurazione più robusto, è possibile usare anche espressioni regolari; gli operatori includono <span class="em em-bold emphasis">^ $ [ ] . * ? +</span>. Esempi di espressioni regolari funzionanti possono essere trovati esaminando il database multipath in uso e file di esempio di <span class="file filename">multipath.conf </span> possono essere trovati in <span class="file filename">/usr/share/doc/multipath-tools/examples:</span></p>
<p class="para"><div class="screen"><pre class="contents "># echo 'show config' | multipathd -k</pre></div></p>
</div></div>
</div></div>
</div>
<div class="links nextlinks">
<a class="nextlinks-prev" href="multipath-setting-up-dm-multipath.html" title="Panoramica sull'impostazione di DM-Multipath">Indietro</a><a class="nextlinks-next" href="multipath-admin-and-troubleshooting.html" title="Amministrazione e risoluzione di problemi di DM-Multipath">Avanti</a>
</div>
<div class="clear"></div>
</div>
<div id="pagebottom"></div>
</div></div>
</div>
<div id="footer"><p>The material in this document is available under a free license, see <a href="../../legal.html">Legal</a> for details.<br>
          For information on contributing see the <a href="https://wiki.ubuntu.com/DocumentationTeam">Ubuntu Documentation Team wiki page</a>.
          To report errors in this serverguide documentation, <a href="https://bugs.launchpad.net/serverguide">file a bug report</a>.</p></div>
</div>
</body>
</html>
