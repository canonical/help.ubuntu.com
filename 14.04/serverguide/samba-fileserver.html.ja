<!DOCTYPE html>
<html lang=ja>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>File Server</title>
<link rel="stylesheet" type="text/css" href="ja.css">
<script type="text/javascript" src="jquery.js"></script><script type="text/javascript" src="jquery.syntax.js"></script><script type="text/javascript" src="yelp.js"></script>
</head>
<body id="home">
<script src="https://ssl.google-analytics.com/urchin.js" type="text/javascript"></script><script type="text/javascript">
        _uacct = "UA-1018242-8";
        urchinTracker();
      </script><div id="container">
<div id="container-inner">
<div id="mothership"><ul>
<li><a href="https://partners.ubuntu.com">Partners</a></li>
<li><a href="https://www.ubuntu.com/support/community-support">Support</a></li>
<li><a href="https://community.ubuntu.com">Community</a></li>
<li><a href="https://www.ubuntu.com">Ubuntu.com</a></li>
</ul></div>
<div id="header">
<h1 id="ubuntu-header"><a href="https://help.ubuntu.com/">Ubuntu Documentation</a></h1>
<ul id="main-menu">
<li><a class="main-menu-item current" href="../../">Official Documentation</a></li>
<li><a href="https://help.ubuntu.com/community/CommunityHelpWiki">Community Help Wiki</a></li>
<li><a href="https://community.ubuntu.com/t/contribute/26">Contribute</a></li>
</ul>
</div>
<div id="menu-search"><div id="search-box">
<noscript><form action="https://www.google.com/cse" id="cse-search-box"><div>
<input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq"><input type="hidden" name="ie" value="UTF-8"><input type="text" name="q" size="21"><input type="submit" name="sa" value="Search">
</div></form></noscript>
<script>
                document.write('<form action="../../search.html" id="cse-search-box">');
                document.write('  <div>');
                document.write('    <input type="hidden" name="cof" value="FORID:9">');
                document.write('    <input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq">');
                document.write('    <input type="hidden" name="ie" value="UTF-8">');
                document.write('    <input type="text" name="q" size="21">');
                document.write('    <input type="submit" name="sa" value="Search">');
                document.write('  </div>');
                document.write('</form>');
              </script>
</div></div>
<div class="trails"><div class="trail">
<a href="../../14.04" class="trail">Ubuntu 14.04</a> » <a class="trail" href="index.html" title="Ubuntuサーバーガイド">Ubuntuサーバーガイド</a> » <a class="trail" href="samba.html" title="Samba">Samba</a> » </div></div>
<div id="cwt-content" class="clearfix content-area"><div id="page">
<div id="content">
<div class="links nextlinks">
<a class="nextlinks-prev" href="samba-introduction.html" title="はじめに">前へ</a><a class="nextlinks-next" href="samba-printserver.html" title="印刷サーバ">次へ</a>
</div>
<div class="hgroup"><h1 class="title">File Server</h1></div>
<div class="region">
<div class="contents">
<p class="para">UbuntuとWindowsコンピューター間でのネットワーク利用で、もっとも一般的な手法のひとつは、ファイルサーバーとしてSambaを設定することです。このセクションでは、<span class="app application">Samba</span>サーバーでWindowsクライアントとファイル共有を行うためのセットアップ方法を扱います。</p>
<p class="para">ネットワーク上のどのクライアントに対してもパスワード入力を求めずにファイル共有するよう、サーバーを設定します。より厳しいアクセス制御が必要な場合は、<a class="xref" href="samba-fileprint-security.html" title="Securing File and Print Server">Securing File and Print Server</a> を参照してください。</p>
</div>
<div class="links sectionlinks" role="navigation"><ul>
<li class="links"><a class="xref" href="samba-fileserver.html#samba-fileserver-installation" title="インストール">インストール</a></li>
<li class="links"><a class="xref" href="samba-fileserver.html#samba-fileserver-configuration" title="設定">設定</a></li>
<li class="links"><a class="xref" href="samba-fileserver.html#samba-fileserver-resources" title="リソース">リソース</a></li>
</ul></div>
<div class="sect2 sect" id="samba-fileserver-installation"><div class="inner">
<div class="hgroup"><h2 class="title">インストール</h2></div>
<div class="region"><div class="contents">
<p class="para">最初の一歩は <span class="app application">samba</span> パッケージをインストールすることです。ターミナルで以下を入力してください :</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo apt-get install samba</span>
</pre></div>
<p class="para">以上です。これでSambaのファイル共有設定をする準備は整いました。</p>
</div></div>
</div></div>
<div class="sect2 sect" id="samba-fileserver-configuration"><div class="inner">
<div class="hgroup"><h2 class="title">設定</h2></div>
<div class="region"><div class="contents">
<p class="para">Sambaの主な設定ファイルは <span class="file filename">/etc/samba/smb.conf</span> です。デフォルトの設定ファイルには、様々な設定ディレクティブを説明するため、かなりの量のコメント行があります。</p>
<div class="note" title="注記"><div class="inner"><div class="region"><div class="contents">
        <p class="para">すべての選択可能なオプションが、デフォルトの設定ファイルに含まれているわけではありません。詳細は <span class="file filename">smb.conf</span> の <span class="app application">man</span> ページ もしくは <a href="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/" class="ulink" title="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/">Samba HOWTO Collection</a> を参照してください。</p>
      </div></div></div></div>
<div class="steps"><div class="inner"><ol class="steps">
<li class="steps">

        <p class="para">まず最初に、<span class="file filename">/etc/samba/smb.conf</span> にある <span class="em emphasis">[global]</span> セクションのキー/値の組み合わせを編集してください:</p>

<div class="code"><pre class="contents ">   workgroup = EXAMPLE
   ...
   security = user
</pre></div>

        <p class="para"><span class="em emphasis">security</span> パラメーターは [global] セクションのずっと下にあり、デフォルトではコメントされています。また、 <span class="em emphasis">EXAMPLE</span> を環境に合わせて変更してください。</p>

        </li>
<li class="steps">
  
        <p class="para">ファイルの最後に新しいセクションを作成するか、共有したいディレクトリの設定例のコメントを解除してください:</p>

<div class="code"><pre class="contents ">[share]
    comment = Ubuntu File Server Share
    path = /srv/samba/share
    browsable = yes
    guest ok = yes
    read only = no
    create mask = 0755
</pre></div>

      <div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
          <p class="para"><span class="em emphasis">comment:</span> 共有の概要です。必要に応じて変更してください。</p>
        </li>
<li class="list itemizedlist">
          <p class="para"><span class="em emphasis">path:</span> 共有するディレクトリのパスです。</p>
          <p class="para">ここの例では、ファイル名として <span class="file filename">/srv/samba/sharename</span> を使用します。なぜなら、<span class="em emphasis">Filesystem Hierarchy Standard (FHS)</span> によると、<a href="http://www.pathname.com/fhs/pub/fhs-2.3.html#SRVDATAFORSERVICESPROVIDEDBYSYSTEM" class="ulink" title="http://www.pathname.com/fhs/pub/fhs-2.3.html#SRVDATAFORSERVICESPROVIDEDBYSYSTEM">/srv</a> は、サイト特有のデータを置くべき場所とされているためです。技術的には、Samba共有はパーミッションが正しければファイルシステム上のどこにでも設置できますが、標準規格を守ることを推奨します。</p>
        </li>
<li class="list itemizedlist">
          <p class="para"><span class="em emphasis">browsable:</span> Windowsクライアントが <span class="app application">Windows Explorer</span> を利用して共有ディレクトリを閲覧できるようにします。</p>
        </li>
<li class="list itemizedlist">
          <p class="para"><span class="em emphasis">guest ok:</span> クライアントが、パスワードなしで共有ディレクトリへ接続することを許可します。</p>
        </li>
<li class="list itemizedlist">
          <p class="para">
          <span class="em emphasis">read only:</span> determines if the share is read only or if write privileges are granted.  Write privileges are allowed only when the value is <span class="em emphasis">no</span>, as is seen in this example.  If the value is <span class="em emphasis">yes</span>, then access to the share is read only.
          </p>
        </li>
<li class="list itemizedlist">
          <p class="para"><span class="em emphasis">create mask:</span> ファイルが作成されたときのパーミッションを決定します。</p>
        </li>
</ul></div>

      </li>
<li class="steps">
        
        <p class="para">これで <span class="app application">Samba</span> の設定が完了しました。ディレクトリを作成し、パーミッションを変更してください。以下をターミナルで入力してください:</p>

<div class="screen"><pre class="contents "><span class="cmd command">sudo mkdir -p /srv/samba/share</span>
<span class="cmd command">sudo chown nobody:nogroup /srv/samba/share/</span>
</pre></div>

      <div class="note" title="注記"><div class="inner"><div class="region"><div class="contents">
        <p class="para">
        The <span class="em emphasis">-p</span> switch tells mkdir to create the entire directory tree if it doesn't exist.
        </p>
      </div></div></div></div>

      </li>
<li class="steps">
     
      <p class="para">最後に、新しい設定を有効にするため <span class="app application">samba</span> を再起動してください:</p>

<div class="screen"><pre class="contents "><span class="cmd command">sudo restart smbd</span>
<span class="cmd command">sudo restart nmbd</span>
</pre></div>

      </li>
</ol></div></div>
<div class="note note-warning" title="警告"><div class="inner"><div class="region"><div class="contents">
        <p class="para">繰り返しますが、上記の設定では、ローカルネットワークのどのクライアントからでもアクセス可能になります。よりセキュアな設定については、 <a class="xref" href="samba-fileprint-security.html" title="Securing File and Print Server">Securing File and Print Server</a> を参照してください。</p>
      </div></div></div></div>
<p class="para">
      From a Windows client you should now be able to browse to the Ubuntu file server and see the shared directory. If your client doesn't show your share automatically, try to access your server by its IP address, e.g. \\192.168.1.1, in a Windows Explorer window. To check that everything is working try creating a directory from Windows. 
      </p>
<p class="para">共有ディレクトリを追加するには、新しい <span class="em emphasis">[dir]</span> sections を、 <span class="file filename">/etc/samba/smb.conf</span> に追加して、 <span class="em emphasis">Samba</span> を再起動するだけです。ただし、共有しようとするディレクトリが実際に存在しているかどうか、パーミッションが適切であるかどうかに注意してください。</p>
<div class="note" title="注記"><div class="inner"><div class="region"><div class="contents">
        <p class="para">
        The file share named <span class="em emphasis">"[share]"</span> and the path <span class="file filename">/srv/samba/share</span> are just examples.
        Adjust the share and path names to fit your environment.  It is a good idea to name a share after a directory on the 
        file system.  Another example would be a share name of <span class="em emphasis">[qa]</span> with a path of <span class="file filename">/srv/samba/qa</span>.
        </p>
      </div></div></div></div>
</div></div>
</div></div>
<div class="sect2 sect" id="samba-fileserver-resources"><div class="inner">
<div class="hgroup"><h2 class="title">リソース</h2></div>
<div class="region"><div class="contents"><div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
          <p class="para">より詳細なSambaの設定は、<a href="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/" class="ulink" title="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/">Samba HOWTO Collection</a> を参照してください。</p>
        </li>
<li class="list itemizedlist">
          <p class="para">このガイドは、<a href="http://www.amazon.com/exec/obidos/tg/detail/-/0131882228" class="ulink" title="http://www.amazon.com/exec/obidos/tg/detail/-/0131882228">印刷物</a> としても参照できます。</p>
        </li>
<li class="list itemizedlist">
          <p class="para">オライリーの <a href="http://www.oreilly.com/catalog/9780596007690/" class="ulink" title="http://www.oreilly.com/catalog/9780596007690/">Using Samba</a> もまた、良い参考となるでしょう。</p>
        </li>
<li class="list itemizedlist">
          <p class="para">
          The <a href="https://help.ubuntu.com/community/Samba" class="ulink" title="https://help.ubuntu.com/community/Samba">Ubuntu Wiki Samba </a> page.
          </p>
        </li>
</ul></div></div></div>
</div></div>
</div>
<div class="links nextlinks">
<a class="nextlinks-prev" href="samba-introduction.html" title="はじめに">前へ</a><a class="nextlinks-next" href="samba-printserver.html" title="印刷サーバ">次へ</a>
</div>
<div class="clear"></div>
</div>
<div id="pagebottom"></div>
</div></div>
</div>
<div id="footer"><p>The material in this document is available under a free license, see <a href="../../legal.html">Legal</a> for details.<br>
          For information on contributing see the <a href="https://wiki.ubuntu.com/DocumentationTeam">Ubuntu Documentation Team wiki page</a>.
          To report errors in this serverguide documentation, <a href="https://bugs.launchpad.net/serverguide">file a bug report</a>.</p></div>
</div>
</body>
</html>
