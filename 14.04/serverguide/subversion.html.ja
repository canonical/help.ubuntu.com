<!DOCTYPE html>
<html lang=ja>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Subversion</title>
<link rel="stylesheet" type="text/css" href="ja.css">
<script type="text/javascript" src="jquery.js"></script><script type="text/javascript" src="jquery.syntax.js"></script><script type="text/javascript" src="yelp.js"></script>
</head>
<body id="home">
<script src="https://ssl.google-analytics.com/urchin.js" type="text/javascript"></script><script type="text/javascript">
        _uacct = "UA-1018242-8";
        urchinTracker();
      </script><div id="container">
<div id="container-inner">
<div id="mothership"><ul>
<li><a href="http://www.ubuntu.com/partners">Partners</a></li>
<li><a href="http://www.ubuntu.com/support">Support</a></li>
<li><a href="http://www.ubuntu.com/community">Community</a></li>
<li><a href="http://www.ubuntu.com">Ubuntu.com</a></li>
</ul></div>
<div id="header">
<h1 id="ubuntu-header"><a href="https://help.ubuntu.com/">Ubuntu Documentation</a></h1>
<ul id="main-menu">
<li><a class="main-menu-item current" href="../../">Official Documentation</a></li>
<li><a href="https://help.ubuntu.com/community/CommunityHelpWiki">Community Help Wiki</a></li>
<li><a href="http://community.ubuntu.com/contribute/documentation/">Contribute</a></li>
</ul>
</div>
<div id="menu-search"><div id="search-box">
<noscript><form action="https://www.google.com/cse" id="cse-search-box"><div>
<input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq"><input type="hidden" name="ie" value="UTF-8"><input type="text" name="q" size="21"><input type="submit" name="sa" value="Search">
</div></form></noscript>
<script>
                document.write('<form action="../../search.html" id="cse-search-box">');
                document.write('  <div>');
                document.write('    <input type="hidden" name="cof" value="FORID:9">');
                document.write('    <input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq">');
                document.write('    <input type="hidden" name="ie" value="UTF-8">');
                document.write('    <input type="text" name="q" size="21">');
                document.write('    <input type="submit" name="sa" value="Search">');
                document.write('  </div>');
                document.write('</form>');
              </script>
</div></div>
<div class="trails"><div class="trail">
<a href="../../14.04" class="trail">Ubuntu 14.04</a> » <a class="trail" href="index.html" title="Ubuntuサーバーガイド">Ubuntuサーバーガイド</a> » <a class="trail" href="version-control-system.html" title="バージョン管理システム">バージョン管理システム</a> » </div></div>
<div id="cwt-content" class="clearfix content-area"><div id="page">
<div id="content">
<div class="links nextlinks">
<a class="nextlinks-prev" href="git.html" title="Git">前へ</a><a class="nextlinks-next" href="version-control-ref.html" title="参照">次へ</a>
</div>
<div class="hgroup"><h1 class="title">Subversion</h1></div>
<div class="region">
<div class="contents"><p class="para">Subversionは、オープンソースにおけるバージョン管理システムです。Subversionを使えば、ソースファイルとドキュメントの履歴を記録しておくことができます。これによって長期間にわたってファイルやディレクトリを管理します。ファイルツリーは一箇所の（中央）リポジトリに置かれます。このリポジトリは、ファイルやディレクトリの作成や変更をすべて記憶している点を除けば、普通のファイルサーバーによく似ています。</p></div>
<div class="links sectionlinks" role="navigation"><ul>
<li class="links"><a class="xref" href="subversion.html#subversion-installation" title="インストール">インストール</a></li>
<li class="links"><a class="xref" href="subversion.html#subversion-configuration" title="サーバー設定">サーバー設定</a></li>
<li class="links"><a class="xref" href="subversion.html#access-methods" title="アクセス・メソッド">アクセス・メソッド</a></li>
</ul></div>
<div class="sect2 sect" id="subversion-installation"><div class="inner">
<div class="hgroup"><h2 class="title">インストール</h2></div>
<div class="region"><div class="contents">
<p class="para">
To access Subversion repository using the HTTP protocol, you must install and 
configure a web server. Apache2 is proven to work with Subversion. Please 
refer to the HTTP subsection in the Apache2 section to install and configure 
Apache2.  To access the Subversion repository using the HTTPS protocol, you 
must install and configure a digital certificate in your Apache 2 web server. 
Please refer to the HTTPS subsection in the Apache2 section to install and 
configure the digital certificate.
						</p>
<p class="para">Subversionをインストールするには、ターミナルプロンプトで以下のコマンドを実行してください:</p>
<p class="para">
<div class="screen"><pre class="contents "><span class="cmd command">sudo apt-get install subversion apache2 libapache2-svn</span>
</pre></div>
	    </p>
</div></div>
</div></div>
<div class="sect2 sect" id="subversion-configuration"><div class="inner">
<div class="hgroup"><h2 class="title">サーバー設定</h2></div>
<div class="region">
<div class="contents"><p class="para">この手順はあなたのシステムに上記のパッケージをすでにインストールしていることを前提としています。このセクションでは、どのようにしてSubversionリポジトリを作成してプロジェクトにアクセスするかについて説明します。</p></div>
<div class="sect3 sect" id="create-svn-repos"><div class="inner">
<div class="hgroup"><h3 class="title">Subversion リポジトリの作成</h3></div>
<div class="region"><div class="contents">
<p class="para">Subversionリポジトリは端末プロンプトから次のコマンドを使用して作成することができます:</p>
<p class="para">
<div class="screen"><pre class="contents "><span class="cmd command">svnadmin create /path/to/repos/project</span>
</pre></div>
        </p>
</div></div>
</div></div>
<div class="sect3 sect" id="import-svn-files"><div class="inner">
<div class="hgroup"><h3 class="title">ファイルのインポート</h3></div>
<div class="region"><div class="contents"><p class="para">リポジトリの作成が済んだら、リポジトリへファイルを<span class="em emphasis">import</span>できます。ディレクトリをインポートするには端末プロンプトから次のように入力します: <div class="screen"><pre class="contents "><span class="cmd command">svn import /path/to/import/directory file:///path/to/repos/project</span>
</pre></div></p></div></div>
</div></div>
</div>
</div></div>
<div class="sect2 sect" id="access-methods"><div class="inner">
<div class="hgroup"><h2 class="title">アクセス・メソッド</h2></div>
<div class="region">
<div class="contents">
<p class="para">Subversion repositories can be accessed (checked out) through many 
different methods --on local disk, or through various network protocols. 
A repository location, however, is always a URL. The table describes how 
different URL schemes map to the available access methods.</p>
<div class="table">
<div class="title"><h3><span class="title">アクセス・メソッド</span></h3></div>
<table summary="アクセス・メソッド" style="border: solid 1px;">
<thead><tr>
<th class="td-colsep"><p class="para">スキーマ</p></th>
<th><p class="para">アクセスメソッド</p></th>
</tr></thead>
<tbody>
<tr>
<td class="td-colsep"><p class="para">file://</p></td>
<td><p class="para">(ローカルディスク上の)ダイレクトリポジトリアクセス</p></td>
</tr>
<tr class="shade">
<td class="td-colsep"><p class="para">http://</p></td>
<td><p class="para">Access via WebDAV protocol to Subversion-aware Apache2 web server</p></td>
</tr>
<tr>
<td class="td-colsep"><p class="para">https://</p></td>
<td><p class="para">http:// と同じですが、SSL暗号化が追加されています</p></td>
</tr>
<tr class="shade">
<td class="td-colsep"><p class="para">svn://</p></td>
<td><p class="para">svnserveサーバーにカスタムプロトコルでアクセスする</p></td>
</tr>
<tr>
<td class="td-colsep"><p class="para">svn+ssh://</p></td>
<td><p class="para">svn:// と同じですが、SSHトンネルを経由します</p></td>
</tr>
</tbody>
</table>
</div>
<p class="para">このセクションでは、これらのアクセス手法をSubversionで用いる際の設定の方法について見ていきます。まずは基本項目をおさえましょう。より高度で詳細な使用方法については<a href="http://svnbook.red-bean.com/" class="ulink" title="http://svnbook.red-bean.com/">svn book</a>を参照してください。</p>
</div>
<div class="sect3 sect" id="direct-repos-access"><div class="inner">
<div class="hgroup"><h3 class="title">直接リポジトリアクセス (file://)</h3></div>
<div class="region"><div class="contents">
<p class="para">これはもっともシンプルなアクセス方法です。実行にあたってはSubversionサーバーのいかなる動作も必要としません。この方法は同一のマシン内のSubversionにアクセスする際に用いられます。端末プロンプトで入力するコマンド構文は次のようになります:</p>
<p class="para">
<div class="screen"><pre class="contents "><span class="cmd command">svn co file:///path/to/repos/project</span>
</pre></div>
        </p>
<p class="para">または</p>
<p class="para">
<div class="screen"><pre class="contents "><span class="cmd command">svn co file://localhost/path/to/repos/project</span>
</pre></div>
        </p>
<div class="note" title="注記"><div class="inner"><div class="region"><div class="contents">
		<p class="para">ホスト名を指定しない場合はスラッシュ三つ（///）です。先頭のスラッシュはパスとして、あとの二つはプロトコルを指定するためのものです（例ではプロトコルではなくファイルを指定しています）。もしホスト名を指定する場合は、あとの二つのスラッシュも使う必要があります。</p>
	</div></div></div></div>
<p class="para">リポジトリのパーミッションはファイルシステムのパーミッションに従います。あるユーザーが読み/書きのパーミッションを持っている場合は、そのユーザーはリポジトリに委託するか、またはそれを取りやめることができます。</p>
</div></div>
</div></div>
<div class="sect3 sect" id="access-via-webdav"><div class="inner">
<div class="hgroup"><h3 class="title">WebDAV プロトコル経由でアクセス (http://)</h3></div>
<div class="region"><div class="contents">
<p class="para">
                          To access the Subversion repository via WebDAV protocol, you must configure your Apache 2 web server. Add the following snippet between the 
                          <span class="em emphasis">&lt;VirtualHost&gt;</span> and <span class="em emphasis">&lt;/VirtualHost&gt;</span> elements in
                          <span class="file filename">/etc/apache2/sites-available/000-default.conf</span>, or another VirtualHost file:
                          </p>
<div class="code"><pre class="contents "> &lt;Location /svn&gt;
  DAV svn
  SVNParentPath /path/to/repos
  AuthType Basic
  AuthName "Your repository name"
  AuthUserFile /etc/subversion/passwd
  Require valid-user
 &lt;/Location&gt; 
</pre></div>
<div class="note" title="注記"><div class="inner"><div class="region"><div class="contents">
		<p class="para">The above configuration snippet assumes that Subversion
    repositories are created under <span class="file filename">/path/to/repos</span>
    directory using <span class="cmd command">svnadmin</span> command and that the HTTP user has sufficent access rights to the files (see below).  They can be
    accessible using <span class="cmd command">http://hostname/svn/repos_name</span>
    url.</p>
    </div></div></div></div>
<p class="para">
         Changing the apache configuration like the above requires to reload
         the service with the following command
         </p>
<div class="screen"><pre class="contents ">    <span class="cmd command">sudo service apache2 reload</span>
</pre></div>
<p class="para">
         To import or commit files to your Subversion repository over
         HTTP, the repository should be owned by the HTTP user. In
         Ubuntu systems, the HTTP user is
         <span class="cmd command">www-data</span>.  To change the ownership of the
         repository files enter the following command from terminal
         prompt:
         </p>
<div class="screen"><pre class="contents ">    <span class="cmd command">sudo chown -R www-data:www-data /path/to/repos</span>
</pre></div>
<div class="note" title="注記"><div class="inner"><div class="region"><div class="contents">
        <p class="para"><span class="cmd command">www-data</span>でリポジトリの所有権を変更すると、<span class="cmd command">www-data</span>以外のすべてのユーザーは、<span class="cmd command">svn import file:///</span>コマンドを実行してファイルをリポジトリにインポートまたは委託することができなくなります</p>
        </div></div></div></div>
<p class="para">
        Next, you must create the <span class="file filename">/etc/subversion/passwd</span> file that will contain user authentication details. 
        To create a file issue the following command at a command prompt (which will create the file and add the first user):
        </p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo htpasswd -c /etc/subversion/passwd user_name</span>
</pre></div>
<p class="para">
        To add additional users omit the <span class="em emphasis">"-c"</span> option as this option replaces the old file. Instead use this form:
        </p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo htpasswd /etc/subversion/passwd user_name</span>
</pre></div>
<p class="para">このコマンドはあなたにパスワードの入力を求めてきます。パスワードを入力すればユーザーが追加されます。さらに次のコマンドを実行してリポジトリへアクセスします。</p>
<div class="screen"><pre class="contents "><span class="cmd command">svn co http://servername/svn</span></pre></div>
<div class="note note-warning" title="警告"><div class="inner"><div class="region"><div class="contents">
		<p class="para">パスワードは平文テキストで(システムへ)渡されます。パスワード漏洩が心配な場合は、SSL暗号の使用をお勧めします。詳細は次のセクションを参照してください。</p>
	</div></div></div></div>
</div></div>
</div></div>
<div class="sect3 sect" id="access-via-webdav-with-ssl"><div class="inner">
<div class="hgroup"><h3 class="title">WebDAV プロトコルに SSL暗号化を付加してアクセス (https://)</h3></div>
<div class="region"><div class="contents">
<p class="para"> 
					Accessing Subversion repository via WebDAV protocol with SSL 
					encryption (https://) is similar to http:// except that you 
					must install and configure the digital certificate in your 
					Apache2 web server.  To use SSL with Subversion add the above
                                        Apache2 configuration to <span class="file filename">/etc/apache2/sites-available/default-ssl.conf</span>.
                                        For more information on setting up Apache2 with SSL see <a class="xref" href="httpd.html#https-configuration" title="HTTPS 設定">HTTPS 設定</a>.
					</p>
<p class="para">
						You can install a digital certificate issued by a signing 
						authority. Alternatively, you can install your 
						own self-signed certificate.
					</p>
<p class="para">このステップでは、Apache2ウェブサーバーに電子証明書のインストールと設定を済ませていると想定しています。Subversionリポジトリにアクセスするには、前のセクションを参照してください！アクセス方法はまったく同じで、プロトコルのみ異なります。Subversionリポジトリにアクセスするには、https://を使用する必要があります。</p>
</div></div>
</div></div>
<div class="sect3 sect" id="access-via-custom-protocol"><div class="inner">
<div class="hgroup"><h3 class="title">化す他むプロトコル経由でアクセス (svn://)</h3></div>
<div class="region"><div class="contents">
<p class="para"> 
					Once the Subversion repository is created, you can configure the 
					access control. You can edit the <span class="file filename">
					/path/to/repos/project/conf/svnserve.conf</span> file to 
					configure the access control.  For example, to set up 
					authentication, you can uncomment the following lines in the 
					configuration file: </p>
<div class="code"><pre class="contents "># [general]
# password-db = passwd</pre></div>
<p class="para">上の行のコメントアウトを外したら、パスワードファイル中のユーザー一覧をそのままにしておくことができますので、同じディレクトリにある<span class="file filename">passwd </span>を編集して新しいユーザーを追加してください。構文は次のようになります:</p>
<div class="code"><pre class="contents ">username = password</pre></div>
<p class="para">より詳細を知るには、ファイルを参照してください。</p>
<p class="para">svnserveコマンドを使って svnserver を実行することにより、Subversionと同一または異なるマシンから svn:// カスタムプロトコルを用いてSubversionにアクセスできます。構文は次のようになります:</p>
<div class="code"><pre class="contents ">$ svnserve -d --foreground -r /path/to/repos
# -d -- daemon mode
# --foreground -- run in foreground (デバッグで役立つ)
# -r -- root of directory to serve

使用するための詳細は、以下を参照してください:
$ svnserve --help</pre></div>
<p class="para">このコマンドを実行すると、Subversionがデフォルトのポート(3690)のlistenを開始します。プロジェクトのリポジトリにアクセスするには端末プロンプトから次のコマンドを実行する必要があります:</p>
<p class="para">
<div class="screen"><pre class="contents "><span class="cmd command">svn co svn://hostname/project project --username user_name</span>
</pre></div>
                                        </p>
<p class="para">サーバー構成にもとづいてパスワードを要求されます。認証がすむとSubversionリポジトリからコードがチェックアウトされます。プロジェクトリポジトリをローカルコピーと同期するには、<span class="cmd command">update</span>サブコマンドを実行します。端末コマンドから入力されるコマンド構文は次のようになります:</p>
<p class="para">
<div class="screen"><pre class="contents "><span class="cmd command">cd project_dir ; svn update</span>
</pre></div>
                                        </p>
<p class="para">Subversionのサブコマンドひとつひとつの使用に関する詳細についてはマニュアルを参照することができます。たとえば co (checkout) コマンドについて調べるには端末プロンプトから次のコマンドを実行してください：</p>
<p class="para"><div class="screen"><pre class="contents "><span class="cmd command">svn co help</span></pre></div></p>
</div></div>
</div></div>
<div class="sect3 sect" id="access-via-custom-protocol-with-ssh"><div class="inner">
<div class="hgroup"><h3 class="title">Access via custom protocol with SSH encryption (svn+ssh://)</h3></div>
<div class="region"><div class="contents">
<p class="para">構成とサーバープロセスは svn:// メソッドと同一です。詳しくは前のセクションを参照してください。このステップでは、すでにに記述のステップに従って <span class="app application">svnserve</span> コマンドを利用してSubversionサーバーを起動しているものと想定しています。</p>
<p class="para">また、sshサーバーがそのマシン上で稼働中で、なおかつ着信接続(incoming connection)が許可されているものとも想定しています。確認のためsshを使ってそのマシンにログインを試みてください。ログインできるのならすべて問題ありません。ログインできない時は先へ進まずに、まずその（ログインできない）問題の解決を解決してください。</p>
<p class="para">svn+ssh:// プロトコルはSSL暗号を使ってSubversionリポジトリにアクセスします。データ転送はこの方式で暗号化されます。プロジェクトリポジトリにアクセス(例文はチェックアウト)するには次のコマンド構文を使用する必要があります:</p>
<p class="para">
<div class="screen"><pre class="contents ">    <span class="cmd command">svn co svn+ssh://ssh_username@hostname/path/to/repos/project</span>
</pre></div>
                                        </p>
<div class="note" title="注記"><div class="inner"><div class="region"><div class="contents"><p class="para">このアクセス方法を使用してSubversionリポジトリにアクセスするには絶対パス(full path)を使う必要があります。</p></div></div></div></div>
<p class="para">
					Based on server configuration, it prompts for password. You must 
					enter the password you use to login via ssh. Once you are 
					authenticated, it checks out the code from the Subversion 
					repository.
					</p>
</div></div>
</div></div>
</div>
</div></div>
</div>
<div class="links nextlinks">
<a class="nextlinks-prev" href="git.html" title="Git">前へ</a><a class="nextlinks-next" href="version-control-ref.html" title="参照">次へ</a>
</div>
<div class="clear"></div>
</div>
<div id="pagebottom"></div>
</div></div>
</div>
<div id="footer"><p>The material in this document is available under a free license, see <a href="../../legal.html">Legal</a> for details.<br>
          For information on contributing see the <a href="https://wiki.ubuntu.com/DocumentationTeam">Ubuntu Documentation Team wiki page</a>.
          To report errors in this serverguide documentation, <a href="https://bugs.launchpad.net/serverguide">file a bug report</a>.</p></div>
</div>
</body>
</html>
