<!DOCTYPE html>
<html lang=hu>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Speciális telepítés</title>
<link rel="stylesheet" type="text/css" href="hu.css">
<script type="text/javascript" src="jquery.js"></script><script type="text/javascript" src="jquery.syntax.js"></script><script type="text/javascript" src="yelp.js"></script>
</head>
<body id="home">
<script src="https://ssl.google-analytics.com/urchin.js" type="text/javascript"></script><script type="text/javascript">
        _uacct = "UA-1018242-8";
        urchinTracker();
      </script><div id="container">
<div id="container-inner">
<div id="mothership"><ul>
<li><a href="http://www.ubuntu.com/partners">Partners</a></li>
<li><a href="http://www.ubuntu.com/support">Support</a></li>
<li><a href="http://www.ubuntu.com/community">Community</a></li>
<li><a href="http://www.ubuntu.com">Ubuntu.com</a></li>
</ul></div>
<div id="header">
<h1 id="ubuntu-header"><a href="https://help.ubuntu.com/">Ubuntu Documentation</a></h1>
<ul id="main-menu">
<li><a class="main-menu-item current" href="../../">Official Documentation</a></li>
<li><a href="https://help.ubuntu.com/community/CommunityHelpWiki">Community Help Wiki</a></li>
<li><a href="http://community.ubuntu.com/contribute/documentation/">Contribute</a></li>
</ul>
</div>
<div id="menu-search"><div id="search-box">
<noscript><form action="https://www.google.com/cse" id="cse-search-box"><div>
<input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq"><input type="hidden" name="ie" value="UTF-8"><input type="text" name="q" size="21"><input type="submit" name="sa" value="Search">
</div></form></noscript>
<script>
                document.write('<form action="../../search.html" id="cse-search-box">');
                document.write('  <div>');
                document.write('    <input type="hidden" name="cof" value="FORID:9">');
                document.write('    <input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq">');
                document.write('    <input type="hidden" name="ie" value="UTF-8">');
                document.write('    <input type="text" name="q" size="21">');
                document.write('    <input type="submit" name="sa" value="Search">');
                document.write('  </div>');
                document.write('</form>');
              </script>
</div></div>
<div class="trails"><div class="trail">
<a href="../../16.04" class="trail">Ubuntu 16.04</a> » <a class="trail" href="index.html" title="Ubuntu kiszolgáló kézikönyve">Ubuntu kiszolgáló kézikönyve</a> » <a class="trail" href="installation.html" title="Telepítés">Telepítés</a> » </div></div>
<div id="cwt-content" class="clearfix content-area"><div id="page">
<div id="content">
<div class="links nextlinks">
<a class="nextlinks-prev" href="installing-upgrading.html" title="Frissítés">Előző</a><a class="nextlinks-next" href="kernel-crash-dump.html" title="Kernel Crash Dump">Következő</a>
</div>
<div class="hgroup"><h1 class="title">Speciális telepítés</h1></div>
<div class="region">
<div class="contents"></div>
<div class="links sectionlinks" role="navigation"><ul>
<li class="links"><a class="xref" href="advanced-installation.html#software-raid" title="Szoftveres RAID">Szoftveres RAID</a></li>
<li class="links"><a class="xref" href="advanced-installation.html#lvm" title="Logikaikötet-kezelő (LVM)">Logikaikötet-kezelő (LVM)</a></li>
<li class="links"><a class="xref" href="advanced-installation.html#iscsi" title="iSCSI">iSCSI</a></li>
</ul></div>
<div class="sect2 sect" id="software-raid"><div class="inner">
<div class="hgroup"><h2 class="title">Szoftveres RAID</h2></div>
<div class="region">
<div class="contents">
<p class="para">
        Redundant Array of Independent Disks "RAID" is a method of using multiple disks to provide different balances of
        increasing data reliability and/or increasing input/output performance, depending on the RAID level being used.
        RAID is implemented in either software 
        (where the operating system knows about both drives and actively maintains both of them) or hardware 
        (where a special controller makes the OS think there's only one drive and maintains the drives 'invisibly').
        </p>
<p class="para">A Linux (és Ubuntu) aktuális verzióiban található RAID szoftver az <span class="app application">mdadm</span> meghajtón alapul, és nagyon jól, sok úgynevezett „hardveres”RAID vezérlőnél is jobban működik. Ez a szakasz végigvezeti az Ubuntu kiszolgáló változatának két fizikai merevlemezen lévő két RAID1 partíció (egy a <span class="em emphasis">/</span> és egy a <span class="em emphasis">swap</span> számára) használatával történő telepítésén.</p>
</div>
<div class="sect3 sect" id="raid-partitioning"><div class="inner">
<div class="hgroup"><h3 class="title">Particionálás</h3></div>
<div class="region"><div class="contents">
<p class="para">Kövesse a telepítési lépéseket, amíg el nem jut a <span class="em emphasis">Lemezek particionálása</span> lépésig, ekkor:</p>
<div class="steps"><div class="inner"><ol class="steps">
<li class="steps">
 
              <p class="para">Válassza a <span class="em emphasis">Kézi</span> particionálási módot.</p>

            </li>
<li class="steps">
 
              <p class="para">Válassza ki az első merevlemezt, és egyezzen bele az <span class="em emphasis">Új, üres partíciós tábla létrehozásába az eszközön</span>.</p>

              <p class="para">Ismételje meg ezt a lépést a RAID-tömb részévé tenni kívánt összes meghajtóra.</p>

            </li>
<li class="steps">
 
              <p class="para">Válassza ki az <span class="em emphasis">üres helyet</span> az első meghajtón, majd válassza az <span class="em emphasis">Új partíció létrehozása</span> lehetőséget.</p>

            </li>
<li class="steps">
 
              <p class="para">Ezután válassza ki a partíció <span class="em emphasis">méretét</span>. Ez a partíció lesz a <span class="em emphasis">swap</span> partíció, a méretére vonatkozó általános szabály, hogy a RAM méretének kétszerese kell legyen. Adja meg a partíció méretét, és válassza ki az <span class="em emphasis">Elsődleges</span>, majd az <span class="em emphasis">Eleje</span> lehetőséget.</p>

              <div class="note" title="Megjegyzés"><div class="inner"><div class="region"><div class="contents">
                <p class="para">
                A swap partition size of twice the available RAM capacity may not always be desirable, especially on systems with large amounts of RAM.
                Calculating the swap partition size for servers is highly dependent on how the system is going to be used.
                </p>
              </div></div></div></div>

            </li>
<li class="steps">
 
              <p class="para">Válassza ki a fenti <span class="em emphasis">Felhasználás:</span> sort. Ennek értéke alapértelmezésben  az <span class="em emphasis">Ext4 naplózó fájlrendszer</span>, módosítsa ezt <span class="em emphasis">RAID fizikai kötetre</span>, majd válassza a <span class="em emphasis">Partíció beállítása kész</span> lehetőséget.</p>

            </li>
<li class="steps">
 
              <p class="para">A <span class="em emphasis">/</span> kötethez válassza ki újra az <span class="em emphasis">üres helyet</span> az első meghajtón, majd az <span class="em emphasis">Új partíció létrehozása</span> lehetőséget.</p>

            </li>
<li class="steps">
 
              <p class="para">Használja fel a maradék szabad helyet a meghajtón, és válassza a <span class="em emphasis">Folytatás</span>, majd az <span class="em emphasis">Elsődleges</span> lehetőségeket.</p>

            </li>
<li class="steps">
 
              <p class="para">A swap partícióhoz hasonlóan válassza ki a fenti <span class="em emphasis">Felhasználás:</span> sort, módosítsa ezt <span class="em emphasis">RAID fizikai kötetre</span>. Válassza ki az <span class="em emphasis">Indítási jelző:</span> sort, és módosítsa <span class="em emphasis">be</span> értékre, majd válassza a <span class="em emphasis">Partíció beállítása kész</span> lehetőséget.</p>

            </li>
<li class="steps">
 
              <p class="para">Ismételje meg a harmadik-nyolcadik lépéseket a másik lemezre és partíciókra.</p>

            </li>
</ol></div></div>
</div></div>
</div></div>
<div class="sect3 sect" id="raid-configuration"><div class="inner">
<div class="hgroup"><h3 class="title">RAID konfigurálása</h3></div>
<div class="region"><div class="contents">
<p class="para">A particionálás elkészültével a tömb készen áll a konfigurálásra:</p>
<div class="steps"><div class="inner"><ol class="steps">
<li class="steps">
 
              <p class="para">A „Lemezek particionálása” oldalra visszalépve válassza a fenti <span class="em emphasis">Szoftveres RAID beállítása</span> lehetőséget.</p>

            </li>
<li class="steps">
 
              <p class="para">Válassza az <span class="em emphasis">Igen</span> lehetőséget a módosítások lemezre írásához.</p>

            </li>
<li class="steps">
 
              <p class="para">Válassza a <span class="em emphasis">Többlemezes eszköz létrehozása</span> lehetőséget.</p>

            </li>
<li class="steps">
 
              <p class="para">Ebben a példában a <span class="em emphasis">RAID1</span>-et használjuk, de ha más összeállítást használ, akkor válassza ki az annak megfelelő típust (RAID0 RAID1 RAID5).</p>

              <div class="note" title="Megjegyzés"><div class="inner"><div class="region"><div class="contents">
                <p class="para">A <span class="em emphasis">RAID5</span> használatához legalább <span class="em emphasis">három</span> meghajtó szükséges. A RAID0 vagy RAID1 használatához <span class="em emphasis">két</span> meghajtó is elég.</p>
              </div></div></div></div>

            </li>
<li class="steps">
 
              <p class="para">Adja meg az aktív eszközök számát (<span class="em emphasis">2</span>), vagy a tömbhöz használandó merevlemezeinek számát. Nyomja meg a <span class="em emphasis">Folytatás</span> gombot.</p>

            </li>
<li class="steps">
 
              <p class="para">Ezután adja meg a tartalékeszközök számát – alapértelmezésben <span class="em emphasis">0</span>, majd nyomja meg a <span class="em emphasis">Folytatás</span> gombot.</p>

            </li>
<li class="steps">
 
              <p class="para">Válassza ki a használandó partíciókat. Ezek általában sda1, sdb1, sdc1 stb. lehetnek. A számok jellemzően egyeznek, a különböző betűk pedig a különböző merevlemezeknek felelnek meg.</p>

              <p class="para">A <span class="em emphasis">swap</span> partícióhoz válassza az <span class="em emphasis">sda1</span> és <span class="em emphasis">sdb1</span> partíciókat. Nyomja meg a <span class="em emphasis">Folytatás</span> gombot.</p>

            </li>
<li class="steps">
 
              <p class="para">Ismételje meg a <span class="em emphasis">harmadik</span>-<span class="em emphasis">hetedik</span> lépéseket a <span class="em emphasis">/</span> partícióhoz, az <span class="em emphasis">sda2</span> és <span class="em emphasis">sdb2</span> kiválasztásával.</p>

            </li>
<li class="steps">
 
              <p class="para">Nyomja meg a <span class="em emphasis">Befejezés</span> gombot.</p>

            </li>
</ol></div></div>
</div></div>
</div></div>
<div class="sect3 sect" id="raid-formatting"><div class="inner">
<div class="hgroup"><h3 class="title">Formázás</h3></div>
<div class="region"><div class="contents">
<p class="para">Most látnia kell a merevlemezek és RAID-eszközök listáját. A következő lépés a RAID-eszközök formázása és csatolási pontjuk beállítása. A RAID-eszközöket helyi merevlemeznek tekintve formázza és csatolja azokat.</p>
<div class="steps"><div class="inner"><ol class="steps">
<li class="steps">
 
              <p class="para">Válassza az <span class="em emphasis">1.</span> lehetőséget az <span class="em emphasis">RAID1 0. eszköz</span> partíció alatt.</p>

            </li>
<li class="steps">
 
              <p class="para">Válassza a <span class="em emphasis">Felhasználás:</span> sort, majd a <span class="em emphasis">lapozóterület</span>, végül a <span class="em emphasis">Partíció beállítása kész</span> lehetőséget.</p>

            </li>
<li class="steps">
 
              <p class="para">Ezután válassza az <span class="em emphasis">1.</span> lehetőséget az <span class="em emphasis">RAID1 1. eszköz</span> partíció alatt.</p>

            </li>
<li class="steps">
 
              <p class="para">Válassza a <span class="em emphasis">Felhasználás:</span> sort, majd az <span class="em emphasis">Ext4 naplózó fájlrendszer</span> lehetőséget.</p>

            </li>
<li class="steps">
 
              <p class="para">Ezután válassza a <span class="em emphasis">Csatolási pont</span>, majd a <span class="em emphasis">/ - a gyökér fájlrendszer</span> lehetőséget. Módosítsa szükség szerint a további beállításokat, majd válassza a <span class="em emphasis">Partíció beállítása kész</span> lehetőséget.</p>

            </li>
<li class="steps">
 
              <p class="para">Végül válassza a <span class="em emphasis">Particionálás befejezése és a változtatások lemezre írása</span> lehetőséget.</p>

            </li>
</ol></div></div>
<p class="para">Ha a gyökér partíciót RAID-tömbre helyezi, akkor a telepítő megkérdezi, hogy szeretné-e <span class="em emphasis">leromlott</span> állapotban is elindítani a rendszert. További részletekért lásd: <a class="xref" href="advanced-installation.html#raid-degraded" title="Leromlott RAID">Leromlott RAID</a>.</p>
<p class="para">A telepítési folyamat ezután normális módon folytatódik.</p>
</div></div>
</div></div>
<div class="sect3 sect" id="raid-degraded"><div class="inner">
<div class="hgroup"><h3 class="title">Leromlott RAID</h3></div>
<div class="region"><div class="contents">
<p class="para">Egy számítógép életében egyszer bekövetkezhet lemezhiba. Ha ez megtörténik, a szoftveres RAID használatakor az operációs rendszer a tömböt a <span class="em emphasis">leromlott</span> néven ismert állapotba helyezi.</p>
<p class="para">Ha a tömb az adatsérülés esélye miatt leromlottá vált, az Ubuntu kiszolgáló változata alapértelmezésben harminc másodperc után elindítja az <span class="em emphasis">initramfst</span>. Az initramfs elindulása után tizenöt másodperc áll rendelkezésére eldönteni, hogy folytatja-e a rendszerindítást, vagy megpróbálja saját kezűleg helyreállítani. Az initramfs parancssorának elindítása helyzettől függően lehet kívánatos vagy nem kívánatos, különösen ha a gép távoli helyen van. A leromlott tömbön lévő rendszer indítása több módon is konfigurálható:</p>
<div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">

              <p class="para">A <span class="app application">dpkg-reconfigure</span> segédprogrammal beállítható az alapértelmezett viselkedés, és a folyamat során a tömbbel kapcsolatos további beállításokra is rákérdez, mint például a monitorozás, e-mail riasztások stb. Az <span class="app application">mdadm</span> újrakonfigurálásához adja ki a következőt:</p>

<div class="screen"><pre class="contents "><span class="cmd command">sudo dpkg-reconfigure mdadm</span>
</pre></div>

             </li>
<li class="list itemizedlist">

              <p class="para">A <span class="cmd command">dpkg-reconfigure mdadm</span> folyamat az <span class="file filename">/etc/initramfs-tools/conf.d/mdadm</span> konfigurációs fájlt módosítja. A fájl előnye, hogy képes előzetesen beállítani a rendszer viselkedését, és saját kezűleg is szerkesztheti:</p>

<div class="code"><pre class="contents ">BOOT_DEGRADED=true
</pre></div>

          <div class="note" title="Megjegyzés"><div class="inner"><div class="region"><div class="contents">
            <p class="para">A konfigurációs fájl kernelparaméterek használatával felülbírálható.</p>
          </div></div></div></div>          

            </li>
<li class="list itemizedlist">
    
              <p class="para">A kernelparaméterek használata lehetővé teszi a rendszernek a leromlott tömb elindítását is:</p>

              <div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
                  <p class="para">A kiszolgáló indulásakor nyomja meg a <span class="key keycap"><kbd>Shift</kbd></span> billentyűt a <span class="app application">Grub</span> menü megnyitásához.</p>
                </li>
<li class="list itemizedlist">
                  <p class="para">Nyomja meg az <span class="key keycap"><kbd>e</kbd></span> billentyűt a kernel parancs paramétereinek szerkesztéséhez.</p>
                </li>
<li class="list itemizedlist">
                  <p class="para">Nyomja meg a <span class="key keycap"><kbd>le</kbd></span> nyilat a kernel sor kiemeléséhez.</p>
                </li>
<li class="list itemizedlist">
                  <p class="para">A sor végére írja be a <span class="em emphasis">bootdegraded=true</span> szöveget.</p>
                </li>
<li class="list itemizedlist">
                  <p class="para">Nyomja meg a <span class="keyseq keycombo"><span class="key keycap"><kbd>Ctrl</kbd></span>+<span class="key keycap"><kbd>x</kbd></span></span> billentyűkombinációt a rendszer elindításához.</p>
                </li>
</ul></div>

            </li>
</ul></div>
<p class="para">Miután a rendszer elindult, megjavíthatja a tömböt (részletekért lásd: <a class="xref" href="advanced-installation.html#raid-maintenance" title="RAID karbantartása">RAID karbantartása</a>), vagy súlyos hardverhiba esetén átmásolhatja a fontos adatokat másik gépre.</p>
</div></div>
</div></div>
<div class="sect3 sect" id="raid-maintenance"><div class="inner">
<div class="hgroup"><h3 class="title">RAID karbantartása</h3></div>
<div class="region"><div class="contents">
<p class="para">Az <span class="app application">mdadm</span> segédprogrammal megjeleníthető a tömb állapota, lemezek adhatók a tömbhöz és távolíthatók el stb:</p>
<div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
              <p class="para">Tömb állapotának megjelenítéséhez adja ki a következőt:</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo mdadm -D /dev/md0</span>
</pre></div>
            
              <p class="para">A <span class="em emphasis">-D</span> hatására az <span class="app application">mdadm</span> <span class="em emphasis">részletes</span> információkat jelenít meg a <span class="file filename">/dev/md0</span> eszközről. A <span class="file filename">/dev/md0</span> helyére a kívánt RAID-eszközt írja.</p>
            </li>
<li class="list itemizedlist">
              <p class="para">Tömb egy lemezének állapotának megjelenítéséhez:</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo mdadm -E /dev/sda1</span>
</pre></div>
              <p class="para">A kimenet nagyon hasonló az <span class="cmd command">mdadm -D</span> parancséhoz, a <span class="file filename">/dev/sda1</span> helyére a megfelelő eszközt írja.</p>
            </li>
<li class="list itemizedlist">
              <p class="para">Ha egy lemez meghibásodik, és el kell távolítani a tömbből, adja ki a következőt:</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo mdadm --remove /dev/md0 /dev/sda1</span>
</pre></div>
              <p class="para">A <span class="file filename">/dev/md0</span> és <span class="file filename">/dev/sda1</span> helyére a megfelelő RAID-eszközt és lemezt írja.</p>
            </li>
<li class="list itemizedlist">
              <p class="para">Hasonlóképpen új lemez hozzáadásához:</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo mdadm --add /dev/md0 /dev/sda1</span>
</pre></div>
            </li>
</ul></div>
<p class="para">Néha a lemezek akkor is <span class="em emphasis">hibás</span> állapotba kerülnek, ha fizikailag nincs semmi baj a lemezzel. Általában megéri a meghajtót eltávolítani a tömbből, és újra hozzáadni. Ennek hatására a lemez újraszinkronizálódik a tömbbel. Ha a meghajtó nem szinkronizál a tömbbel, az nagy valószínűséggel hardverhibát jelez.</p>
<p class="para">A <span class="file filename">/proc/mdstat</span> fájl is hasznos információkat tartalmaz a rendszer RAID-eszközeiről:</p>
<div class="screen"><pre class="contents "><span class="cmd command">cat /proc/mdstat</span>
<span class="output computeroutput">Personalities : [linear] [multipath] [raid0] [raid1] [raid6] [raid5] [raid4] [raid10] 
md0 : active raid1 sda1[0] sdb1[1]
      10016384 blocks [2/2] [UU]
      
unused devices: &lt;none&gt;</span>
</pre></div>
<p class="para">A következő parancs segítségével a szinkronizálódó meghajtó állapota figyelhető:</p>
<div class="screen"><pre class="contents "><span class="cmd command">watch -n1 cat /proc/mdstat</span>
</pre></div>
<p class="para">A <span class="app application">watch</span> parancs leállításához nyomja meg a <span class="em emphasis">Ctrl+c</span> billentyűkombinációt.</p>
<p class="para">Ha egy hibás meghajtót cserélnie kell, akkor a csere és szinkronizálás után telepíteni kell a <span class="app application">grubot</span>. A <span class="app application">grub</span> új meghajtóra való telepítéséhez adja ki a következőt:</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo grub-install /dev/md0</span>
</pre></div>
<p class="para">A <span class="file filename">/dev/md0</span> helyére a megfelelő tömbeszköz nevét írja.</p>
</div></div>
</div></div>
<div class="sect3 sect" id="raid-resources"><div class="inner">
<div class="hgroup"><h3 class="title">Információforrások</h3></div>
<div class="region"><div class="contents">
<p class="para">A RAID-tömbök témája a RAID beállítási lehetőségeinek tömege miatt nagyon összetett. A következő hivatkozásokon találhat további információkat:</p>
<div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
              <p class="para"><a href="https://help.ubuntu.com/community/Installation#raid" class="ulink" title="https://help.ubuntu.com/community/Installation#raid">Ubuntu wiki cikkek a RAID-ről</a>.</p>
            </li>
<li class="list itemizedlist">
              <p class="para">
              <a href="http://www.faqs.org/docs/Linux-HOWTO/Software-RAID-HOWTO.html" class="ulink" title="http://www.faqs.org/docs/Linux-HOWTO/Software-RAID-HOWTO.html">Software RAID HOWTO</a>
              </p>
            </li>
<li class="list itemizedlist">
              <p class="para">
              <a href="http://oreilly.com/catalog/9781565927308/" class="ulink" title="http://oreilly.com/catalog/9781565927308/">Managing RAID on Linux</a>
              </p>
            </li>
</ul></div>
</div></div>
</div></div>
</div>
</div></div>
<div class="sect2 sect" id="lvm"><div class="inner">
<div class="hgroup"><h2 class="title">Logikaikötet-kezelő (LVM)</h2></div>
<div class="region">
<div class="contents"><p class="para">A logikaikötet-kezelő, vagy <span class="em emphasis">LVM</span> lehetővé teszi a rendszergazdák számára <span class="em emphasis">logikai</span> kötetek létrehozását egy vagy több fizikai merevlemezből. Az LVM kötetek létrehozhatók szoftveres RAID partíciókon és önálló lemezeken található szabványos partíciókból. A kötetek kiterjeszthetők, ezzel növelve a rendszer rugalmasságát az igények változása esetén.</p></div>
<div class="sect3 sect" id="lvm-overview"><div class="inner">
<div class="hgroup"><h3 class="title">Áttekintés</h3></div>
<div class="region"><div class="contents">
<p class="para">Az LVM hatékonyságának és rugalmasságának ára a bonyolultság nagyobb foka. Az LVM telepítési folyamatában való elmélyedés előtt meg kell ismerkednie néhány kifejezéssel:</p>
<div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
              <p class="para"><span class="em emphasis">Fizikai kötet (PV):</span> a fizikai merevlemez, lemezpartíció vagy szoftveres RAID partíció LVM PV-ként formázva.</p>
            </li>
<li class="list itemizedlist">
              <p class="para">
              <span class="em emphasis">Volume Group (VG):</span> is made from one or more physical volumes. A VG can can be
              extended by adding more PVs. A VG is like a virtual disk drive, from which one or more logical volumes are carved.
              </p>
            </li>
<li class="list itemizedlist">
              <p class="para">
              <span class="em emphasis">Logical Volume (LV):</span> is similar to a partition in a non-LVM system. A LV is formatted
              with the desired file system (EXT3, XFS, JFS, etc), it is then available for mounting and data storage.
              </p>
            </li>
</ul></div>
</div></div>
</div></div>
<div class="sect3 sect" id="lvm-installation"><div class="inner">
<div class="hgroup"><h3 class="title">Telepítés</h3></div>
<div class="region"><div class="contents">
<p class="para">Ez a szakasz példaként az Ubuntu kiszolgáló változatának telepítését mutatja be, ahol a <span class="file filename">/srv</span> egy LVM kötetre van csatolva. A kiinduló telepítés során csak egy fizikai kötet (PV) lesz a kötetcsoport (VG) része. A telepítés után a VG kiterjesztésének bemutatása érdekében egy újabb PV lesz hozzáadva.</p>
<p class="para">Számos lehetőség van az LVM telepítésére: <span class="em emphasis">Irányított - LVM beállítása a teljes lemezre</span>, amely lehetővé tesz az elérhető hely egy részének LVM-hez rendelését, <span class="em emphasis">Irányított - titkosított LVM beállítása a teljes lemezre</span> vagy <span class="em emphasis">Kézi</span> is beállíthatja a partíciókat és az LVM-et. Jelenleg az LVM-et és normál partíciókat is használó rendszer beállítására telepítéskor csak a kézi megközelítés használható.</p>
<div class="steps"><div class="inner"><ol class="steps">
<li class="steps">

              <p class="para">Kövesse a telepítési lépéseket, amíg el nem jut a <span class="em emphasis">Lemezek particionálása</span> lépésig, ekkor:</p>

            </li>
<li class="steps">
 
              <p class="para">A <span class="em emphasis">Lemezek particionálása</span> képernyőn válassza a <span class="em emphasis">Kézi</span> lehetőséget.</p>

            </li>
<li class="steps">
 
              <p class="para">Válassza ki a merevlemezt, a következő képernyőn pedig válaszoljon igennel az <span class="em emphasis">Új, üres partíciós tábla létrehozása az eszközön</span> kérdésre.</p>

            </li>
<li class="steps">
 
              <p class="para">Ezután tetszőleges fájlrendszerrel hozza létre a normál <span class="em emphasis">/boot</span>, <span class="em emphasis">swap</span>, és <span class="em emphasis">/</span> partíciókat.</p>

            </li>
<li class="steps">
 
              <p class="para">Az LVM <span class="em emphasis">/srv</span> számára hozzon létre egy új <span class="em emphasis">logikai</span> partíciót. Ezután módosítsa a <span class="em emphasis">Felhasználás:</span> mező értékét <span class="em emphasis">LVM fizikai kötetre</span>, majd válassza a <span class="em emphasis">Partíció beállítása kész</span> lehetőséget.</p>

            </li>
<li class="steps">
 
              <p class="para">Most válassza a fenti <span class="em emphasis">A Logikaikötet-kezelő (LVM) beállítása</span> lehetőséget, és nyomja meg az <span class="em emphasis">Igen</span> gombot a változtatások lemezre írásához.</p>

            </li>
<li class="steps">
 
              <p class="para">A következő képernyő <span class="em emphasis">LVM beállítási művelet:</span> menüjében válassza a <span class="em emphasis">Kötetcsoport létrehozása</span> lehetőséget. Adja meg a VG nevét, például <span class="em emphasis">vg01</span>, vagy valami ennél beszédesebbet. A név megadása után válassza ki az LVM-hez konfigurált partíciót, és nyomja meg a <span class="em emphasis">Folytatás</span> gombot.</p>

            </li>
<li class="steps">
 
              <p class="para">Az <span class="em emphasis">LVM beállítási művelet:</span> képernyőn válassza a <span class="em emphasis">Logikai kötet létrehozása</span> lehetőséget. Válassza ki az újonnan létrehozott kötetcsoportot, és adja meg az új LV nevét, például <span class="em emphasis">srv</span>, mert ez a tervezett csatolási pont. Válassza ki a méretet, ez lehet a teljes partíció, mivel később mindig bővíthető. Nyomja meg a <span class="em emphasis">Befejezés</span> gombot, és visszakerül a fő <span class="em emphasis">Lemezek particionálása</span> képernyőre.</p>

            </li>
<li class="steps">
 
              <p class="para">Ezután vegyen fel egy fájlrendszert az új LVM-be. Válassza ki a partíciót az <span class="em emphasis">LVM VG vg01, LV srv</span> (illetve a megadott név alatt), majd válassza a <span class="em emphasis">Felhasználás</span> lehetőséget. Hozzon létre egy fájlrendszert a szokásos módon, ennek csatolási pontja legyen a <span class="em emphasis">/srv</span>. Ha kész, válassza a <span class="em emphasis">Partíció beállítása kész</span> lehetőséget.</p>

            </li>
<li class="steps">
 
              <p class="para">Végül válassza a <span class="em emphasis">Particionálás befejezése és a változtatások lemezre írása</span> lehetőséget. Erősítse meg a változtatásokat, és folytassa a telepítést.</p>

            </li>
</ol></div></div>
<p class="para">Az LVM-mel kapcsolatos információk megjelenítésére hasznos segédprogramok szolgálnak:</p>
<div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist"><p class="para"><span class="em emphasis">pvdisplay:</span> a fizikai kötetekről jelenít meg információkat.</p></li>
<li class="list itemizedlist"><p class="para"><span class="em emphasis">vgdisplay:</span> a kötetcsoportokról jelenít meg információkat.</p></li>
<li class="list itemizedlist"><p class="para"><span class="em emphasis">lvdisplay:</span> a logikai kötetekről jelenít meg információkat.</p></li>
</ul></div>
</div></div>
</div></div>
<div class="sect3 sect" id="lvm-extending"><div class="inner">
<div class="hgroup"><h3 class="title">Kötetcsoportok kiterjesztése</h3></div>
<div class="region"><div class="contents">
<p class="para">Továbbra is az <span class="em emphasis">srv-t</span> használva példa LVM kötetként, ez a szakasz bemutatja egy második merevlemez hozzáadását, fizikai kötet (PV) létrehozását, a kötetcsoporthoz (VG) adását, az <span class="file filename">srv</span> logikai kötet kiterjesztését, és végül a fájlrendszer kiterjesztését Ez a példa feltételezi, hogy egy második merevlemez lett a rendszerhez adva. Ebben a példában a merevlemez <span class="file filename">/dev/sdb</span> néven szerepel, és a teljes lemez fel lesz használva fizikai kötetként (választhatná a partíciók létrehozását, és azok különböző fizikai kötetekként való használatát is).</p>
<div class="note note-warning" title="Figyelmeztetés"><div class="inner"><div class="region"><div class="contents">
          <p class="para">A lenti parancsok kiadása előtt győződjön meg róla, hogy nincs <span class="file filename">/dev/sdb</span> nevű merevlemez a rendszerben. Ha nem üres lemezre adja ki a parancsokat, adatvesztés történhet.</p>
        </div></div></div></div>
<div class="steps"><div class="inner"><ol class="steps">
<li class="steps">
 
              <p class="para">Első lépésben hozza létre a fizikai kötetet a következő parancs kiadásával:</p>

                <div class="screen"><pre class="contents "><span class="cmd command">sudo pvcreate /dev/sdb</span>
                </pre></div>

            </li>
<li class="steps">

              <p class="para">Most terjessze ki a kötetcsoportot (VG):</p>

<div class="screen"><pre class="contents "><span class="cmd command">sudo vgextend vg01 /dev/sdb</span>
</pre></div>

            </li>
<li class="steps">

              <p class="para">A <span class="app application">vgdisplay</span> segítségével állapíthatja meg a szabad fizikai extentek (PE) számát - ezt a Free PE / size (a lefoglalható méret) sor tartalmazza. A példa 511 PE méretet feltételez (ez megfelel 2 GB-nak 4 MB-os PE méret mellett), és a teljes elérhető szabad helyet felhasználja. Ehelyett használja a saját PE és/vagy szabad hely értékeit.</p>

              <p class="para">A logikai kötet (VG) most több módon is kiterjeszthető, ez a példa csak a PE használatát mutatja be:</p>

<div class="screen"><pre class="contents "><span class="cmd command">sudo lvextend /dev/vg01/srv -l +511</span>
</pre></div>

              <p class="para">A <span class="em emphasis">-l</span> kapcsoló lehetővé teszi az LV kiterjesztését PE megadásával. A <span class="em emphasis">-L</span> kapcsoló lehetővé teszi az LV kiterjesztését mega, giga, tera stb bájtok megadásával.</p>

            </li>
<li class="steps">
 
              <p class="para">Noha az ext3 vagy ext4 fájlrendszer <span class="em emphasis">kiterjesztésére</span> annak leválasztása nélkül is lehetőség van, érdemes inkább mindig leválasztani és ellenőrizni a fájlrendszert. Logikai kötet csökkentése esetén ugyanis a leválasztás kötelező, ezért ajánlott elkerülni a leválasztás nélküli módosítás megszokását.</p>

              <p class="para">A következő parancsok <span class="em emphasis">ext3</span> vagy <span class="em emphasis">ext4</span> fájlrendszerhez használhatók. Más fájlrendszer használata esetén más segédprogramokat kell használni.</p>

<div class="screen"><pre class="contents "><span class="cmd command">sudo umount /srv</span>
<span class="cmd command">sudo e2fsck -f /dev/vg01/srv</span>
</pre></div>

              <p class="para">Az <span class="app application">e2fsck</span> <span class="em emphasis">-f</span> kapcsolója kikényszeríti az ellenőrzést akkor is, ha a fájlrendszer tisztának tűnik.</p>

            </li>
<li class="steps">
 
              <p class="para">Végül méretezze át a fájlrendszert:</p>

<div class="screen"><pre class="contents "><span class="cmd command">sudo resize2fs /dev/vg01/srv</span>
</pre></div>

            </li>
<li class="steps">
 
              <p class="para">Most csatolja a partíciót, és ellenőrizze a méretét.</p>

<div class="screen"><pre class="contents "><span class="cmd command">mount /dev/vg01/srv /srv &amp;&amp; df -h /srv</span>
</pre></div>

            </li>
</ol></div></div>
</div></div>
</div></div>
<div class="sect3 sect" id="lvm-resources"><div class="inner">
<div class="hgroup"><h3 class="title">Információforrások</h3></div>
<div class="region"><div class="contents"><div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
              <p class="para">Lásd az <a href="https://help.ubuntu.com/community/Installation#lvm" class="ulink" title="https://help.ubuntu.com/community/Installation#lvm">Ubuntu wiki LVM cikkeit</a>.</p>
            </li>
<li class="list itemizedlist">
              <p class="para">További információkért lásd az <a href="http://tldp.org/HOWTO/LVM-HOWTO/index.html" class="ulink" title="http://tldp.org/HOWTO/LVM-HOWTO/index.html">LVM HOWTO-t</a>.</p>
            </li>
<li class="list itemizedlist">
              <p class="para">Szintén remek információforrás az O'Reilly linuxdevcenter.com oldalán megjelent <a href="http://www.linuxdevcenter.com/pub/a/linux/2006/04/27/managing-disk-space-with-lvm.html" class="ulink" title="http://www.linuxdevcenter.com/pub/a/linux/2006/04/27/managing-disk-space-with-lvm.html">Managing Disk Space with LVM</a> cikk.</p>
            </li>
<li class="list itemizedlist">
              <p class="para">
              For more information on <span class="app application">fdisk</span> see the
              <a href="http://manpages.ubuntu.com/manpages/xenial/en/man8/fdisk.8.html" class="ulink" title="http://manpages.ubuntu.com/manpages/xenial/en/man8/fdisk.8.html">fdisk man page</a>.
              </p>
            </li>
</ul></div></div></div>
</div></div>
</div>
</div></div>
<div class="sect2 sect" id="iscsi"><div class="inner">
<div class="hgroup"><h2 class="title">iSCSI</h2></div>
<div class="region">
<div class="contents"><p class="para">The iSCSI protocol can be used to install Ubuntu on systems with
        or without hard disks attached.</p></div>
<div class="sect3 sect"><div class="inner">
<div class="hgroup"><h3 class="title">Installation on a diskless system</h3></div>
<div class="region"><div class="contents">
<p class="para">The first steps of a diskless iSCSI installation are identical
          to the <a class="xref" href="installing-from-cd.html" title="Telepítés">Telepítés</a> section up to "Hard drive
          layout".</p>
<div class="steps"><div class="inner"><ol class="steps">
<li class="steps">
              <p class="para">The installer will display a warning with the following
              message:</p>

              <div class="screen"><pre class="contents ">No disk drive was detected. If you know the name of the driver needed by your disk drive, you can select it from the list.</pre></div>
            </li>
<li class="steps">
              <p class="para">Select the item in the list titled <span class="em emphasis">login to iSCSI
              targets.</span></p>
            </li>
<li class="steps">
              <p class="para">You will be prompted to Enter an IP address to scan for
              iSCSI targets with a description of the format for the address.
              Enter the IP address for the location of your iSCSI target and
              navigate to <span class="em emphasis">&lt;continue&gt;</span> then hit
              <span class="key keycap"><kbd>ENTER</kbd></span></p>
            </li>
<li class="steps">
              <p class="para">If authentication is required in order to access the iSCSI
              device, provide the <span class="em emphasis">username</span> in the next
              field. Otherwise leave it blank.</p>
            </li>
<li class="steps">
              <p class="para">If your system is able to connect to the iSCSI provider, you
              should see a list of available iSCSI targets where the operating
              system can be installed. The list should be similar to the
              following :</p>

              <div class="screen"><pre class="contents ">Select the iSCSI targets you wish to use.

iSCSI targets on 192.168.1.29:3260:

[ ] iqn.2016-03.TrustyS-iscsitarget:storage.sys0

&lt;Go Back&gt;                          &lt;Continue&gt;

</pre></div>
            </li>
<li class="steps">
              <p class="para">Select the iSCSI target that you want to use with the space
              bar. Use the arrow keys to navigate to the target that you want to
              select.</p>
            </li>
<li class="steps">
              <p class="para">Navigate to <span class="em emphasis">&lt;Continue&gt;</span> and hit
              <span class="key keycap"><kbd>ENTER</kbd></span>.</p>
            </li>
</ol></div></div>
<p class="para">If the connection to the iSCSI target is successful, you will be
          prompted with the <span class="em emphasis">[!!] Partition disks</span>
          installation menu. The rest of the procedure is identical to any
          normal installation on attached disks. Once the installation is
          completed, you will be asked to reboot.</p>
</div></div>
</div></div>
<div class="sect3 sect"><div class="inner">
<div class="hgroup"><h3 class="title">Installation on a system with disk attached</h3></div>
<div class="region"><div class="contents">
<p class="para">Again, the iSCSI installation on a normal server with one or
          many disks attached is identical to the <a class="xref" href="installing-from-cd.html" title="Telepítés">Telepítés</a> section until we reach the disk
          partitioning menu. Instead of using any of the Guided selection, we
          need to perform the following steps :</p>
<div class="steps"><div class="inner"><ol class="steps">
<li class="steps">
              <p class="para">Navigate to the Manual menu entry</p>
            </li>
<li class="steps">
              <p class="para">Select the Configure iSCSI Volumes menu entry</p>
            </li>
<li class="steps">
              <p class="para">Choose the Log into iSCSI targets</p>
            </li>
<li class="steps">
              <p class="para">You will be prompted to Enter an IP address to scan for
              iSCSI targets. with a description of the format for the address.
              Enter the IP address and navigate to
              <span class="em emphasis">&lt;continue&gt;</span> then hit <span class="key keycap"><kbd>ENTER</kbd></span></p>
            </li>
<li class="steps">
              <p class="para">If authentication is required in order to access the iSCSI
              device, provide the <span class="em emphasis">username</span> in the next
              field or leave it blank.</p>
            </li>
<li class="steps">
              <p class="para">If your system is able to connect to the iSCSI provider, you
              should see a list of available iSCSI targets where the operating
              system can be installed. The list should be similar to the
              following :</p>

            <div class="screen"><pre class="contents ">Select the iSCSI targets you wish to use.

iSCSI targets on 192.168.1.29:3260:

[ ] iqn.2016-03.TrustyS-iscsitarget:storage.sys0

&lt;Go Back&gt;                          &lt;Continue&gt;
</pre></div>
            </li>
<li class="steps">
              <p class="para">Select the iSCSI target that you want to use with the space
              bar. Use the arrow keys to navigate to the target that you want to
              select</p>
            </li>
<li class="steps">
              <p class="para">Navigate to &lt;Continue&gt; and hit <span class="key keycap"><kbd>ENTER</kbd></span>.</p>
            </li>
<li class="steps">
              <p class="para">If successful, you will come back to the menu asking you to
              Log into iSCSI targets. Navigate to Finish and hit <span class="key keycap"><kbd>ENTER</kbd></span></p>
            </li>
</ol></div></div>
<p class="para">The newly connected iSCSI disk will appear in the overview
          section as a device prefixed with SCSI. This is the disk that you
          should select as your installation disk. Once identified, you can
          choose any of the partitioning methods.</p>
<div class="note note-warning" title="Figyelmeztetés"><div class="inner"><div class="region"><div class="contents">
            <p class="para">Depending on your system configuration, there may be other
            SCSI disks attached to the system. Be very careful to identify the
            proper device before proceeding with the installation. Otherwise,
            irreversible data loss may result from performing an installation on
            the wrong disk.</p>
          </div></div></div></div>
</div></div>
</div></div>
<div class="sect3 sect"><div class="inner">
<div class="hgroup"><h3 class="title">Rebooting to an iSCSI target</h3></div>
<div class="region"><div class="contents">
<p class="para">The procedure is specific to your hardware platform. As an
          example, here is how to reboot to your iSCSI target using iPXE</p>
<div class="screen"><pre class="contents ">iPXE&gt; dhcp

Configuring (net0 52:54:00:a4:f2:a9)....... ok

iPXE&gt; sanboot iscsi:192.168.1.29::::iqn.2016-03.TrustyS-iscsitarget:storage.sys0
</pre></div>
<p class="para">If the procedure is successful, you should see the Grub menu
          appear on the screen.</p>
</div></div>
</div></div>
</div>
</div></div>
</div>
<div class="links nextlinks">
<a class="nextlinks-prev" href="installing-upgrading.html" title="Frissítés">Előző</a><a class="nextlinks-next" href="kernel-crash-dump.html" title="Kernel Crash Dump">Következő</a>
</div>
<div class="clear"></div>
</div>
<div id="pagebottom"></div>
</div></div>
</div>
<div id="footer"><p>The material in this document is available under a free license, see <a href="../../legal.html">Legal</a> for details.<br>
          For information on contributing see the <a href="https://wiki.ubuntu.com/DocumentationTeam">Ubuntu Documentation Team wiki page</a>.
          To report errors in this serverguide documentation, <a href="https://bugs.launchpad.net/serverguide">file a bug report</a>.</p></div>
</div>
</body>
</html>
