<!DOCTYPE html>
<html lang=tr>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Yapılandırma</title>
<link rel="stylesheet" type="text/css" href="tr.css">
<script type="text/javascript" src="jquery.js"></script><script type="text/javascript" src="jquery.syntax.js"></script><script type="text/javascript" src="yelp.js"></script>
</head>
<body id="home">
<script src="https://ssl.google-analytics.com/urchin.js" type="text/javascript"></script><script type="text/javascript">
        _uacct = "UA-1018242-8";
        urchinTracker();
      </script><div id="container">
<div id="container-inner">
<div id="mothership"><ul>
<li><a href="https://partners.ubuntu.com">Partners</a></li>
<li><a href="https://www.ubuntu.com/support/community-support">Support</a></li>
<li><a href="https://community.ubuntu.com">Community</a></li>
<li><a href="https://www.ubuntu.com">Ubuntu.com</a></li>
</ul></div>
<div id="header">
<h1 id="ubuntu-header"><a href="https://help.ubuntu.com/">Ubuntu Documentation</a></h1>
<ul id="main-menu">
<li><a class="main-menu-item current" href="../../">Official Documentation</a></li>
<li><a href="https://help.ubuntu.com/community/CommunityHelpWiki">Community Help Wiki</a></li>
<li><a href="https://community.ubuntu.com/t/contribute/26">Contribute</a></li>
</ul>
</div>
<div id="menu-search"><div id="search-box">
<noscript><form action="https://www.google.com/cse" id="cse-search-box"><div>
<input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq"><input type="hidden" name="ie" value="UTF-8"><input type="text" name="q" size="21"><input type="submit" name="sa" value="Search">
</div></form></noscript>
<script>
                document.write('<form action="../../search.html" id="cse-search-box">');
                document.write('  <div>');
                document.write('    <input type="hidden" name="cof" value="FORID:9">');
                document.write('    <input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq">');
                document.write('    <input type="hidden" name="ie" value="UTF-8">');
                document.write('    <input type="text" name="q" size="21">');
                document.write('    <input type="submit" name="sa" value="Search">');
                document.write('  </div>');
                document.write('</form>');
              </script>
</div></div>
<div class="trails"><div class="trail">
<a href="../../16.04" class="trail">Ubuntu 16.04</a> » <a class="trail" href="index.html" title="Ubuntu Sunucu Rehberi">Ubuntu Sunucu Rehberi</a> » <a class="trail" href="dns.html" title="Alan Adı Servisi (DNS)">Alan Adı Servisi (DNS)</a> » </div></div>
<div id="cwt-content" class="clearfix content-area"><div id="page">
<div id="content">
<div class="links nextlinks">
<a class="nextlinks-prev" href="dns-installation.html" title="Kurulum">Önceki</a><a class="nextlinks-next" href="dns-troubleshooting.html" title="Sorun Giderme">Sonraki</a>
</div>
<div class="hgroup"><h1 class="title">Yapılandırma</h1></div>
<div class="region">
<div class="contents">
<p class="para">
	  There are many ways to configure <span class="app application">BIND9</span>.  Some of the most common configurations are a caching nameserver, 
	  primary master, and as a secondary master.
	  </p>
<div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
	      <p class="para">BIND9 ön bellekli sunucu adı olarak yapılandırıldığında, sorguları adlandırmak için bulur ve alan tekrar sorgulandığında cevabı hatırlar.</p>
	    </li>
<li class="list itemizedlist">
	      <p class="para">Birincil master sunucu gibi BIND9 ana makinesindeki dosyadan bir bölge için veriyi okur ve bölge için kimlik doğrular.</p>
	    </li>
<li class="list itemizedlist">
	      <p class="para">İkincil master yapılandırmasında BIND9 , bölge için diğer sunucu adındaki veriyi alır.</p>
	    </li>
</ul></div>
</div>
<div class="links sectionlinks" role="navigation"><ul>
<li class="links"><a class="xref" href="dns-configuration.html#dns-configuration-overview" title="Genel Bakış">Genel Bakış</a></li>
<li class="links"><a class="xref" href="dns-configuration.html#dns-caching-configuration" title="Ön Bellekleme Ad Sunucusu">Ön Bellekleme Ad Sunucusu</a></li>
<li class="links"><a class="xref" href="dns-configuration.html#dns-primarymaster-configuration" title="Birincil Master">Birincil Master</a></li>
<li class="links"><a class="xref" href="dns-configuration.html#dns-secondarymaster-configuration" title="İkincil Master">İkincil Master</a></li>
</ul></div>
<div class="sect2 sect" id="dns-configuration-overview"><div class="inner">
<div class="hgroup"><h2 class="title">Genel Bakış</h2></div>
<div class="region"><div class="contents">
<p class="para">DNS yapılandırma dosyası <span class="file filename">/etc/bind</span> dizininde depolanır. Birincil yapılandırma dosyası <span class="file filename">/etc/bind/named.conf</span>'dir.</p>
<p class="para"><span class="em emphasis">İçindeki</span> satır, DNS seçeneklerini içeren dosya adını belirtir. <span class="file filename">/etc/bind/named.conf.options</span> dosyasındaki <span class="em emphasis">directory</span> (dizin) satırı, dosyaları nerede arayacağını DNS söyler. BIND'in kullandığı tüm dosyalar bu dizinde görülür.</p>
<p class="para"><span class="file filename">/etc/bind/db.root</span> adındaki dosya, dünyadaki yönetici sunucu adlarını açıklar. Sunucular zamanla değişir. Böylece <span class="file filename">/etc/bind/db.root</span> dosyası şimdi ve sonra yürütülür. Bu genellikle <span class="app application">bind9</span> paketi güncellenirken yapılır. <span class="em emphasis">zone</span> (bölge) bölümü master sunucu tanımlar ve <span class="em emphasis">file</span> (dosya) seçiminde belirtilen bir dosyada depolanır.</p>
<p class="para">Aynı sunucuyu, ön bellekli ad sunucusu, birincil master ve ikincil master olacak şekilde yapılandırmak mümkündür. Sunucu, bir bölge için Yetkinin Başlangıcı (SOA) olabirken, ikincil servis diğer bölgeyi sağlar. Hepsi yerel LAN'daki makineler için ön bellekleme servislerini sağlar.</p>
</div></div>
</div></div>
<div class="sect2 sect" id="dns-caching-configuration"><div class="inner">
<div class="hgroup"><h2 class="title">Ön Bellekleme Ad Sunucusu</h2></div>
<div class="region"><div class="contents">
<p class="para">Mevcut yapılandırma, ön bellekleme sunucusu gibi bir eylem kurmaktır. Tek yapmak gereken ISP'nin DNS sunucularının IP Adreslerini eklemektir. Bunun için aşağıdakini <span class="file filename">/etc/bind/named.conf.options</span>'a yazıp, düzenleyin:</p>
<div class="code"><pre class="contents ">forwarders {
                1.2.3.4;
                5.6.7.8;
           };
</pre></div>
<div class="note" title="Not"><div class="inner"><div class="region"><div class="contents">
	    <p class="para"><span class="em emphasis">1.2.3.4</span> ve <span class="em emphasis">5.6.7.8</span> yerine etkin ad sunucularının IP Adreslerini yazın.</p>
	  </div></div></div></div>
<p class="para">Yeni yapılandırmanın etkinleşmesi için şimdi DNS sunucuyu yeniden başlatın. Terminalden şunu girin:</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo systemctl restart bind9.service</span>
</pre></div>
<p class="para">Ön belleklemeli bir DNS sunucu sınama hakkında daha fazla bilgi için <a class="xref" href="dns-troubleshooting.html#dns-testing-dig" title="dig">dig</a>'e bakın.</p>
</div></div>
</div></div>
<div class="sect2 sect" id="dns-primarymaster-configuration"><div class="inner">
<div class="hgroup"><h2 class="title">Birincil Master</h2></div>
<div class="region">
<div class="contents"><p class="para">Bu bölümde, <span class="app application">BIND9</span>, <span class="em emphasis">example.com</span> alanı için Birincil Master olarak yapılandırılacak. <span class="em emphasis">example.com</span> yerine kendi FQDN (Tam Nitelikli Alan Adı)nızı yazın.</p></div>
<div class="sect3 sect" id="dns-forward-zone-file"><div class="inner">
<div class="hgroup"><h3 class="title">Sonraki Bölge Dosyası</h3></div>
<div class="region"><div class="contents">
<p class="para">Bir DNS bölgesini BIND9'a eklemek için, BIND9'u Birincil Master sunucu içine koyun. İlk adım <span class="file filename">/etc/bind/named.conf.local</span>'i düzenlemektir:</p>
<div class="code"><pre class="contents ">zone "example.com" {
	type master;
        file "/etc/bind/db.example.com";
};
</pre></div>
<p class="para">
	      (Note, if bind will be receiving automatic updates to the file as with DDNS, then use <span class="file filename">/var/lib/bind/db.example.com</span>
	      rather than <span class="file filename">/etc/bind/db.example.com</span> both here and in the copy command below.)
	      </p>
<p class="para">Şimdi mevcut bir bölge dosyasını şablon dosyası gibi kullanarak <span class="file filename">/etc/bind/db.example.com</span> dosyasını oluşturun:</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo cp /etc/bind/db.local /etc/bind/db.example.com</span>
</pre></div>
<p class="para">
	      Edit the new zone file <span class="file filename">/etc/bind/db.example.com</span> change <span class="em emphasis">localhost.</span>
	      to the FQDN of your server, leaving the additional "." at the end. Change <span class="em emphasis">127.0.0.1</span> to the 
	      nameserver's IP Address and <span class="em emphasis">root.localhost</span> to a valid email address, but with a "." instead 
	      of the usual "@" symbol, again leaving the "." at the end. Change the comment to indicate the domain that this
	      file is for.
	      </p>
<p class="para">
	      Create an <span class="em emphasis">A record</span> for the base domain, <span class="em emphasis">example.com</span>.
	      Also, create an <span class="em emphasis">A record</span> for <span class="em emphasis">ns.example.com</span>, the name 
	      server in this example: 
	      </p>
<div class="code"><pre class="contents ">;
; BIND data file for example.com
;
$TTL    604800
@       IN      SOA     example.com. root.example.com. (
                              2         ; Serial
                         604800         ; Refresh
                          86400         ; Retry
                        2419200         ; Expire
                         604800 )       ; Negative Cache TTL
        IN      A       192.168.1.10
;
@       IN      NS      ns.example.com.
@       IN      A       192.168.1.10
@       IN      AAAA    ::1
ns      IN      A       192.168.1.10
</pre></div>
<p class="para">Bölge dosyasına yaptığın her değişiklikten sonra <span class="em emphasis">Seri Numarası</span>nı arttırmalısın. Eğer BIND9'u tekrar başlatmadan önce birçok kez değişiklik yaptıysan, Seriyi arttırın.</p>
<p class="para">Şimdi bölge dosyasının altına DNS kayıtlarını ekleyebilirsin. Ayrıntılar için <a class="xref" href="dns-references.html#dns-record-types" title="Temel Kayıt Türleri">Temel Kayıt Türleri</a>'a bakın.</p>
<div class="note" title="Not"><div class="inner"><div class="region"><div class="contents">
	         <p class="para">
	         Many admins like to use the last date edited as the serial of a zone, such as  <span class="em emphasis">2012010100</span>
	         which is yyyymmddss (where <span class="em emphasis">ss</span> is the Serial Number)
		 </p>
	       </div></div></div></div>
<p class="para">
	       Once you have made changes to the zone file <span class="app application">BIND9</span> needs to be restarted for 
	       the changes to take effect: 
	       </p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo systemctl restart bind9.service</span>
</pre></div>
</div></div>
</div></div>
<div class="sect3 sect" id="dns-reverse-zone-file"><div class="inner">
<div class="hgroup"><h3 class="title">Ters Bölge Dosyası</h3></div>
<div class="region"><div class="contents">
<p class="para">Şimdi bölge kuruldu ve çözümleme, IP Adreslerini gerekli <span class="em emphasis">Ters bölge</span> ile adlandırı. Bir Ters bölge, adresi bir ad olarak çözümlemesi için DNS'ye imkan verir.</p>
<p class="para">/etc/bind/named.conf.local'i düzenleyin ve aşağıdakileri ekleyin:</p>
<div class="code"><pre class="contents ">zone "1.168.192.in-addr.arpa" {
        type master;
        file "/etc/bind/db.192";
};
</pre></div>
<div class="note" title="Not"><div class="inner"><div class="region"><div class="contents">
	        <p class="para"><span class="em emphasis">1.168.192</span>^deki ilk üç rakam (192) yerine kullandığın ağınkileri yazın. Ayrıca <span class="file filename">/etc/bind/db.192</span> yerine de uygun bölge dosyasının adını yazın. İlk üç rakamı senin ağınkisi ile eşleştirir.</p>
	      </div></div></div></div>
<p class="para">Şimdi <span class="file filename">/etc/bind/db.192</span> dosyasını oluşturun:</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo cp /etc/bind/db.127 /etc/bind/db.192</span>
</pre></div>
<p class="para">Sonra, <span class="file filename">/etc/bind/db.192</span> gibi aynı seçenekleri değiştirerek <span class="file filename">/etc/bind/db.example.com</span>'u düzenleyin.</p>
<div class="code"><pre class="contents ">;
; BIND reverse data file for local 192.168.1.XXX net
;
$TTL    604800
@       IN      SOA     ns.example.com. root.example.com. (
                              2         ; Serial
                         604800         ; Refresh
                          86400         ; Retry
                        2419200         ; Expire
                         604800 )       ; Negative Cache TTL
;
@       IN      NS      ns.
10      IN      PTR     ns.example.com.
</pre></div>
<p class="para">
	      The <span class="em emphasis">Serial Number</span> in the Reverse zone needs to be incremented on each change as well. 
	      For each <span class="em emphasis">A record</span> you configure in <span class="file filename">/etc/bind/db.example.com</span>, that is for a different
	      address, you need to create a <span class="em emphasis">PTR record</span> in <span class="file filename">/etc/bind/db.192</span>.
	      </p>
<p class="para">Ters bölgeyi oluşturduktan sonra <span class="app application">BIND9</span>'u yeniden başlatın:</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo systemctl restart bind9.service</span>
</pre></div>
</div></div>
</div></div>
</div>
</div></div>
<div class="sect2 sect" id="dns-secondarymaster-configuration"><div class="inner">
<div class="hgroup"><h2 class="title">İkincil Master</h2></div>
<div class="region"><div class="contents">
<p class="para"><span class="em emphasis">Birincil Master</span> yapılandırıldıktan sonra, Birincil'in kullanılamadığı durumlarda onun yerine geçebilecek <span class="em emphasis">İkincil Master</span> gereklidir.</p>
<p class="para">İlk önce, Birincil Master sunucuda, bölge taşınmasının sağlanması gereklidir. <span class="em emphasis">allow-transfer</span> seçimini, <span class="file filename">/etc/bind/named.conf.local</span>'deki örnek İleri ve Ters bölge tanımlamalarına ekle:</p>
<div class="code"><pre class="contents ">zone "example.com" {
        type master;
	file "/etc/bind/db.example.com";
        allow-transfer { 192.168.1.11; };
};

zone "1.168.192.in-addr.arpa" {
        type master;
        file "/etc/bind/db.192";
	allow-transfer { 192.168.1.11; };
};
</pre></div>
<div class="note" title="Not"><div class="inner"><div class="region"><div class="contents">
	      <p class="para"><span class="em emphasis">192.168.1.11</span> yerine İkincil ad sunucusunun IP Adresini yazın.</p>
            </div></div></div></div>
<p class="para">
            Restart <span class="app application">BIND9</span> on the Primary Master:
	    </p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo systemctl restart bind9.service</span>
</pre></div>
<p class="para">Sonra, aynen Birincil'de olduğu gibi İkincil Master'da da <span class="app application">bind9</span> paketini yükleyin. Ardından <span class="file filename">/etc/bind/named.conf.local</span>'i düzenleyin ve aşağıdaki bildirimleri İleri ve Ters bölgeler için ekleyin:</p>
<div class="code"><pre class="contents ">zone "example.com" {
	type slave;
        file "db.example.com";
        masters { 192.168.1.10; };
};        
      
zone "1.168.192.in-addr.arpa" {
	type slave;
        file "db.192";
        masters { 192.168.1.10; };
};
</pre></div>
<div class="note" title="Not"><div class="inner"><div class="region"><div class="contents">
	      <p class="para"><span class="em emphasis">192.168.1.10</span> yerine Birincil ad sunucusunun IP Adresini yazın.</p>
            </div></div></div></div>
<p class="para">İkincil Master'da <span class="app application">BIND9</span>'u yeniden başlatın:</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo systemctl restart bind9.service</span>
</pre></div>
<p class="para">
	    In <span class="file filename">/var/log/syslog</span> you should see something similar to (some lines have been split to fit the format of this document):
	    </p>
<div class="code"><pre class="contents ">client 192.168.1.10#39448: received notify for zone '1.168.192.in-addr.arpa'
zone 1.168.192.in-addr.arpa/IN: Transfer started.
transfer of '100.18.172.in-addr.arpa/IN' from 192.168.1.10#53:
 connected using 192.168.1.11#37531
zone 1.168.192.in-addr.arpa/IN: transferred serial 5
transfer of '100.18.172.in-addr.arpa/IN' from 192.168.1.10#53:
 Transfer completed: 1 messages, 
6 records, 212 bytes, 0.002 secs (106000 bytes/sec)
zone 1.168.192.in-addr.arpa/IN: sending notifies (serial 5)

client 192.168.1.10#20329: received notify for zone 'example.com'
zone example.com/IN: Transfer started.
transfer of 'example.com/IN' from 192.168.1.10#53: connected using 192.168.1.11#38577
zone example.com/IN: transferred serial 5
transfer of 'example.com/IN' from 192.168.1.10#53: Transfer completed: 1 messages, 
8 records, 225 bytes, 0.002 secs (112500 bytes/sec)
</pre></div>
<div class="note" title="Not"><div class="inner"><div class="region"><div class="contents">
	      <p class="para">
              Note: A zone is only transferred if the <span class="em emphasis">Serial Number</span> on the Primary is larger than the one on the Secondary. If you want to have your Primary Master DNS notifying Secondary DNS Servers of zone changes, you can add <span class="em emphasis">also-notify { ipaddress; };</span> in to <span class="file filename">/etc/bind/named.conf.local</span> as shown in the example below:
	      </p>
	    </div></div></div></div>
<div class="code"><pre class="contents ">zone "example.com" {
	type master;
	file "/etc/bind/db.example.com";
	allow-transfer { 192.168.1.11; };
	also-notify { 192.168.1.11; }; 
	};

zone "1.168.192.in-addr.arpa" {
	type master;
	file "/etc/bind/db.192";
	allow-transfer { 192.168.1.11; };
	also-notify { 192.168.1.11; }; 
	};
	</pre></div>
<div class="note" title="Not"><div class="inner"><div class="region"><div class="contents">
	      <p class="para">
              The default directory for non-authoritative zone files is <span class="file filename">/var/cache/bind/</span>. This directory is also configured
              in <span class="app application">AppArmor</span> to allow the <span class="app application">named</span> daemon to write to it.  For more information on
              AppArmor see <a class="xref" href="apparmor.html" title="AppArmor">AppArmor</a>.
	      </p>
	    </div></div></div></div>
</div></div>
</div></div>
</div>
<div class="links nextlinks">
<a class="nextlinks-prev" href="dns-installation.html" title="Kurulum">Önceki</a><a class="nextlinks-next" href="dns-troubleshooting.html" title="Sorun Giderme">Sonraki</a>
</div>
<div class="clear"></div>
</div>
<div id="pagebottom"></div>
</div></div>
</div>
<div id="footer"><p>The material in this document is available under a free license, see <a href="../../legal.html">Legal</a> for details.<br>
          For information on contributing see the <a href="https://wiki.ubuntu.com/DocumentationTeam">Ubuntu Documentation Team wiki page</a>.
          To report errors in this serverguide documentation, <a href="https://bugs.launchpad.net/serverguide">file a bug report</a>.</p></div>
</div>
</body>
</html>
