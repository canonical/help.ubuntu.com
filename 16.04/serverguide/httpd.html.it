<!DOCTYPE html>
<html lang=it>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>HTTPD - Server web Apache2</title>
<link rel="stylesheet" type="text/css" href="it.css">
<script type="text/javascript" src="jquery.js"></script><script type="text/javascript" src="jquery.syntax.js"></script><script type="text/javascript" src="yelp.js"></script>
</head>
<body id="home">
<script src="https://ssl.google-analytics.com/urchin.js" type="text/javascript"></script><script type="text/javascript">
        _uacct = "UA-1018242-8";
        urchinTracker();
      </script><div id="container">
<div id="container-inner">
<div id="mothership"><ul>
<li><a href="http://www.ubuntu.com/partners">Partners</a></li>
<li><a href="http://www.ubuntu.com/support">Support</a></li>
<li><a href="http://www.ubuntu.com/community">Community</a></li>
<li><a href="http://www.ubuntu.com">Ubuntu.com</a></li>
</ul></div>
<div id="header">
<h1 id="ubuntu-header"><a href="https://help.ubuntu.com/">Ubuntu Documentation</a></h1>
<ul id="main-menu">
<li><a class="main-menu-item current" href="../../">Official Documentation</a></li>
<li><a href="https://help.ubuntu.com/community/CommunityHelpWiki">Community Help Wiki</a></li>
<li><a href="http://community.ubuntu.com/contribute/documentation/">Contribute</a></li>
</ul>
</div>
<div id="menu-search"><div id="search-box">
<noscript><form action="https://www.google.com/cse" id="cse-search-box"><div>
<input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq"><input type="hidden" name="ie" value="UTF-8"><input type="text" name="q" size="21"><input type="submit" name="sa" value="Search">
</div></form></noscript>
<script>
                document.write('<form action="../../search.html" id="cse-search-box">');
                document.write('  <div>');
                document.write('    <input type="hidden" name="cof" value="FORID:9">');
                document.write('    <input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq">');
                document.write('    <input type="hidden" name="ie" value="UTF-8">');
                document.write('    <input type="text" name="q" size="21">');
                document.write('    <input type="submit" name="sa" value="Search">');
                document.write('  </div>');
                document.write('</form>');
              </script>
</div></div>
<div class="trails"><div class="trail">
<a href="../../16.04" class="trail">Ubuntu 16.04</a> » <a class="trail" href="index.html" title="Guida a Ubuntu Server">Guida a Ubuntu Server</a> » <a class="trail" href="web-servers.html" title="Server web">Server web</a> » </div></div>
<div id="cwt-content" class="clearfix content-area"><div id="page">
<div id="content">
<div class="links nextlinks">
<a class="nextlinks-prev" href="web-servers.html" title="Server web">Indietro</a><a class="nextlinks-next" href="php.html" title="PHP - Scripting Language">Avanti</a>
</div>
<div class="hgroup"><h1 class="title">HTTPD - Server web Apache2</h1></div>
<div class="region">
<div class="contents">
<p class="para">Apache is the most commonly used Web server on Linux systems. Web servers are used
          to serve Web pages requested by client computers. Clients typically request and view
          Web pages using Web browser applications such as <span class="app application">Firefox</span>,
              <span class="app application">Opera</span>, <span class="app application">Chromium</span>,
              or <span class="app application">Internet Explorer</span>.</p>
<p class="para">Gli utenti digitano un Uniform Resource Locator (URL) per puntare a un server web attraverso il suo Fully Qualified Domain Name (FQDN) e il percorso della risorsa richiesta. Per esempio, per visualizzare la pagina iniziale del <a href="http://www.ubuntu.com" class="ulink" title="http://www.ubuntu.com">sito web di Ubuntu</a>, un utente digiterà solo il FQDN:</p>
<div class="screen"><pre class="contents "><span class="input userinput">www.ubuntu.com</span>
</pre></div>
<p class="para">Per visualizzare la pagina secondaria <a href="http://www.ubuntu.com/community" class="ulink" title="http://www.ubuntu.com/community">comunità</a>, un utente digiterà il FQDN seguito da un percorso:</p>
<div class="screen"><pre class="contents "><span class="input userinput">www.ubuntu.com/community</span>
</pre></div>
<p class="para">Il protocollo più utilizzato per il trasferimento delle pagine web è l'HTTP (Hyper Text Transfer Protocol). Sono anche supportati protocolli come HTTPS (Hyper Text Transfer Protocol over Secure Sockets Layer) e FTP (File Transfer Protocol), un protocollo per caricare e scaricare file dalla rete.</p>
<p class="para">I server web Apache vengono comunemente usati in combinazione con il motore di database <span class="app application">MySQL</span>, il linguaggio di script per la pre-elaborazione dell'ipertesto <span class="app application">PHP</span> (Pre-processor Hyper Text) e altri noti linguaggi di script come <span class="app application">Python</span> e <span class="app application">Perl</span>. Questa configurazione viene denominata LAMP (Linux, Apache, MYSQL e Perl/Phyton/PHP) e costituisce una piattaforma robusta e potente per lo sviluppo e l'installazione di applicazioni basate sul web.</p>
</div>
<div class="links sectionlinks" role="navigation"><ul>
<li class="links"><a class="xref" href="httpd.html#http-installation" title="Installazione">Installazione</a></li>
<li class="links"><a class="xref" href="httpd.html#http-configuration" title="Configurazione">Configurazione</a></li>
<li class="links"><a class="xref" href="httpd.html#https-configuration" title="Configurazione HTTPS">Configurazione HTTPS</a></li>
<li class="links"><a class="xref" href="httpd.html#http-directory-permissions" title="Condivisione del permesso di scrittura">Condivisione del permesso di scrittura</a></li>
<li class="links"><a class="xref" href="httpd.html#http-references" title="Riferimenti">Riferimenti</a></li>
</ul></div>
<div class="sect2 sect" id="http-installation"><div class="inner">
<div class="hgroup"><h2 class="title">Installazione</h2></div>
<div class="region"><div class="contents">
<p class="para">Il server web <span class="app application">Apache2</span> è disponibile in Ubuntu 10.04. Per installare Apache2:</p>
<div class="steps"><div class="inner"><ul class="steps"><li class="steps">
        <p class="para">Al prompt di un terminale, eseguire il seguente comando:</p>

<div class="screen"><pre class="contents "><span class="cmd command">sudo apt install apache2</span>
</pre></div>
             		 
      </li></ul></div></div>
</div></div>
</div></div>
<div class="sect2 sect" id="http-configuration"><div class="inner">
<div class="hgroup"><h2 class="title">Configurazione</h2></div>
<div class="region">
<div class="contents">
<p class="para">La configurazione di Apache2 avviene scrivendo delle <span class="em emphasis">direttive</span> in semplici file di testo. Queste <span class="em emphasis">direttive</span> sono suddivise tra i seguenti file e directory:</p>
<div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
            <p class="para"><span class="em emphasis">apache2.conf</span>: il principale file di configurazione di Apache2. Contiene impostazioni <span class="em emphasis">globali</span> per Apache2.</p>
          </li>
<li class="list itemizedlist">
            <p class="para"><span class="em emphasis">httpd.conf:</span> storicamente il principale file di configurazione di Apache2, prende il nome dal demone <span class="app application">httpd</span>. Ora il file non esiste più. Nelle precedenti versioni di Ubuntu il file potrebbe essere presente, ma vuoto, in quanto tutte le opzioni di configurazione sono state spostate nelle directory riportate di seguito.</p>
          </li>
<li class="list itemizedlist">
            <p class="para"><span class="em emphasis">conf-available:</span> questa directory contiene i file di configurazione disponibili. Tutti i file che precedentemente erano in <span class="file filename">/etc/apache2/conf.d</span> devono essere spostati in <span class="file filename">/etc/apache2/conf-available</span>.</p>
          </li>
<li class="list itemizedlist">
            <p class="para"><span class="em emphasis">conf-enabled:</span> contiene <span class="em emphasis">collegamenti simbolici</span> ai file in <span class="file filename">/etc/apache2/conf-available</span>. Il nuovo collegamento simbolico a un file di configurazione sarà abilitato la prossima volta che <span class="app application">apache2</span> sarà riavviato.</p>
          </li>
<li class="list itemizedlist">
            <p class="para"><span class="em emphasis">envvars</span>: file dove vengono impostate le variabili <span class="em emphasis">d'ambiente</span> di Apache2.</p>
          </li>
<li class="list itemizedlist">
            <p class="para"><span class="em emphasis">mods-available</span>: questa directory contiene file di configurazione per caricare e configurare  <span class="em emphasis">moduli</span>. Non tutti i moduli hanno file di configurazione specifici.</p>
          </li>
<li class="list itemizedlist">
            <p class="para"><span class="em emphasis">mods-enabled</span>: contiene <span class="em emphasis">collegamenti simbolici</span> ai file in <span class="file filename">/etc/apache2/mods-available</span>. Quando viene creato un collegamento simbolico a un modulo di configurazione, viene abilitato al successivo riavvio di <span class="app application">apache2</span>.</p>
          </li>
<li class="list itemizedlist">
            <p class="para"><span class="em emphasis">ports.conf</span>: contiene le direttive che determinano su quali porte TCP Apache2 sta in ascolto.</p>
          </li>
<li class="list itemizedlist">
            <p class="para"><span class="em emphasis">sites-available</span>: questa directory contiene i file di configurazione per i <span class="em emphasis">Virtual Hosts</span> di Apache2. Questi consentono di configurare Apache2 affinché venga utilizzato per siti multipli con configurazioni separate.</p>
          </li>
<li class="list itemizedlist">
            <p class="para"><span class="em emphasis">sites-enabled</span>: come mods-enabled, <span class="file filename">sites-enabled</span> contiene collegamenti simbolici alla directory <span class="file filename">/etc/apache2/sites-available</span>. Quando viene creato un collegamento simbolico di un file di configurazione nella directory sites-available, il sito configurato sarà attivo al riavvio di Apache2.</p>
          </li>
<li class="list itemizedlist">
            <p class="para"><span class="em emphasis">magic:</span> istruzioni per determinare il tipo MIME in base ai primi byte di un file.</p>
          </li>
</ul></div>
<p class="para">Altri file di configurazione possono essere aggiunti attraverso la direttiva <span class="em emphasis">Include</span> e caratteri speciali possono essere usati per aggiungere molti altri file di configurazione. Una qualsiasi direttiva può essere posizionata in uno qualsiasi di questi file di configurazione. Modifiche ai file principali di configurazione vengono riconosciute solo con un riavvio di Apache2.</p>
<p class="para">Il server legge anche un file contenente i tipi di documento mime; il nome del file è assegnato dalla direttiva <span class="em emphasis">TypesConfig</span>, generalmente via <span class="file filename">/etc/apache2/mods-available/mime.conf</span>, che può anche includere aggiunte e sostituzioni e per impostazione predefinita è <span class="file filename">/etc/mime.types</span>.</p>
</div>
<div class="sect3 sect" id="http-basic-settings"><div class="inner">
<div class="hgroup"><h3 class="title">Impostazioni di base</h3></div>
<div class="region"><div class="contents">
<p class="para">Questa sezione descrive i parametri di configurazione fondamentali del server Apache2. Per maggiori informazioni, consultare la <a href="http://httpd.apache.org/docs/2.4/" class="ulink" title="http://httpd.apache.org/docs/2.4/">documentazione di Apache2</a>.</p>
<div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
                 <p class="para">Apache2 è dotato di una configurazione predefinita adatta agli host virtuali: è configurato con un singolo host virtuale (attraverso l'uso della direttiva <span class="em emphasis">VirtualHost</span>) che può essere modificato oppure usato così com'è nel caso si disponga di un solo sito web oppure usato come modello per aggiungere altri host virtuali. Se lasciato così, l'host virtuale predefinito verrà usato come sito predefinito o come il sito che gli utenti vedranno se l'URL inserito non corrisponde alla direttiva <span class="em emphasis">ServerName</span> in uno qualsiasi dei siti personalizzati. Per modificare l'host virtuale predefinito, modificare il file <span class="file filename">/etc/apache2/sites-available/000-default.conf</span>.</p>

                 <div class="note" title="Annotazione"><div class="inner"><div class="region"><div class="contents">
                   <p class="para">Le direttive impostate per un host virtuale si applicano solamente a quel particolare host. Se una direttiva è impostata all'interno del server e non è definita nelle impostazioni  dell'host virtuale, vengono utilizzate le impostazioni predefinite. Per esempio, è possibile impostare un indirizzo email per il webmaster e non definirne alcuno per per gli host virtuali.</p>
                 </div></div></div></div>

                 <p class="para">Per configurare un nuovo host virtuale o un nuovo sito, copiare quel file nella stessa directory con un nome a scelta. Per esempio:</p>

<div class="screen"><pre class="contents "><span class="cmd command">sudo cp /etc/apache2/sites-available/000-default.conf /etc/apache2/sites-available/mionuovosito.conf</span>
</pre></div>

                 <p class="para">Modificare il file per configurare il nuovo sito usando alcune delle direttive descritte di seguito.</p>

               </li>
<li class="list itemizedlist">
                 <p class="para">La direttiva <span class="em emphasis">ServerAdmin</span> specifica a quale indirizzo email il sistema deve indirizzare la posta destinata agli amministratori. Il valore predefinito è «webmaster@localhost». Quest’impostazione deve essere modificata con l’indirizzo che è stato assegnato all’utente (nel caso sia l’amministratore). Se il sito presenta dei problemi, Apache2 mostrerà un messaggio di errore indicante l'indirizzo a cui deve essere segnalato il problema. Questa direttiva è presente nel file /etc/apache2/sites-available del proprio sito.</p>
               </li>
<li class="list itemizedlist">
                 <p class="para">La direttiva <span class="em emphasis">Listen</span> specifica la porta, e opzionalmente l'indirizzo IP, su cui Apache2 dovrebbe essere in ascolto. Se l'indirizzo IP non è specificato, Apache2 ascolta tutti gli indirizzi IP assegnati alla macchina. Il valore predefinito per la direttiva Listen è 80. Modificare questo valore, in 127.0.0.1:80 per fare in modo che Apache2 ascolti solo l'interfaccia di loopback e non sia disponibile verso internet, in 81 per modificare la porta di ascolto o lasciare il valore predefinito per il normale funzionamento. Questa direttiva può essere trovata e modifica in un file specifico: <span class="file filename">/etc/apache2/ports.conf</span></p>
               </li>
<li class="list itemizedlist">
                 <p class="para">La direttiva <span class="em emphasis">ServerName</span> è opzionale e specifica il FQDN a cui il proprio sito risponde. L'host virtuale predefinito non ha la direttiva ServerName impostata, cosicché risponderà a tutte le richieste che non corrispondono alla direttiva ServerName in un altro host virtuale. Se si è i proprietari del dominio «ubunturocks.com» e si vuole ospitare tale dominio su un server Ubuntu, il valore della direttiva ServerName nel file di configurazione dell'host virtuale dovrebbe essere «ubunturocks.com». Aggiungere quindi questa direttiva al nuovo file di configurazione creato precedentemente (<span class="file filename">/etc/apache2/sites-available/mionuovosito.conf</span>).</p>
			 
                 <p class="para">Potrebbe essere necessario che il proprio sito risponda anche alle richieste per «www.ubunturocks.com», dato che molti utenti ritengono corretto inserire il prefisso «www». Per ottenere questo, usare la direttiva <span class="em emphasis">ServerAlias</span>: è possibile usare anche caratteri speciali con la direttiva ServerAlias.</p>

                 <p class="para">Per esempio, la seguente configurazione farà in modo che il proprio sito risponda a qualsiasi richiesta il cui dominio termina con <span class="em emphasis">.ubunturocks.com</span>.</p>                 

<div class="code"><pre class="contents ">ServerAlias *.ubunturocks.com
</pre></div>

               </li>
<li class="list itemizedlist">
                 <p class="para">La direttiva <span class="em emphasis">DocumentRoot</span> specifica dove Apache2 troverà i file che compongono il sito. Il valore predefinito è /var/www/html, come specificato in <span class="file filename">/etc/apache2/sites-available/000-default.conf/default</span>: è possibile modificare questo valore nel file del'host virtuale del sito, ricordando di creare la directory, se necessario.</p>
              </li>
</ul></div>
<p class="para">Abilitare il nuovo <span class="em emphasis">VirtualHost</span> utilizzando l'utilità <span class="app application">a2ensite</span> e riavviare Apache2:</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo a2ensite mionuovosito</span>
<span class="cmd command">sudo systemctl restart apache2.service</span>
</pre></div>
<div class="note" title="Annotazione"><div class="inner"><div class="region"><div class="contents">
              <p class="para">Assicurarsi di sostituire <span class="em emphasis">mionuovosito</span> con una nome più descrittivo per il VirtualHost. Un metodo molto utilizzato consiste nel definire il nome del file secondo la direttiva <span class="em emphasis">ServerName</span> dell'host virtuale.</p>
            </div></div></div></div>
<p class="para">Allo stesso modo, usare l'utilità <span class="app application">a2dissite</span> per disabilitare i siti. Questo può rivelarsi utile per diagnosticare problemi di configurazione con molteplici host virtuali:</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo a2dissite mionuovosito</span>
<span class="cmd command">sudo systemctl restart apache2.service</span>
</pre></div>
</div></div>
</div></div>
<div class="sect3 sect" id="default-settings"><div class="inner">
<div class="hgroup"><h3 class="title">Impostazioni predefinite</h3></div>
<div class="region"><div class="contents">
<p class="para">Questa sezione si occupa delle impostazioni predefinite del server Apache2. Per esempio, se viene aggiunto un host virtuale, le impostazioni modificate dell'host virtuale hanno precedenza rispetto quelle dell'host. Per una direttiva non definita, viene utilizzato il valore predefinito.</p>
<div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">

              <p class="para"><span class="em emphasis">DirectoryIndex</span> è la pagina predefinita proposta dal server alle richieste dell'indice di una directory, specificate attraverso l'uso di una barra (/) come suffisso al nome della directory.</p>

              <p class="para">Per esempio, quando un utente richiede la pagina http://www.example.com/questa_directory/, potrà ottenere la pagina DirectoryIndex, se questa esiste, un elenco di directory generato dal server, se la pagina non esiste ma l'opzione indexes è specificata, oppure una pagina di accesso negato se nessuna delle precedenti condizioni è vera. Il server cerca uno dei file elencati nella direttiva DirectoryIndex e restituisce il primo trovato. Se non trova nessuno di questi file e se <span class="em emphasis">Options Indexes</span> è impostato per quella cartella, il server genera e restituisce un elenco, in formato HTML, delle sottodirectory e dei file contenuti nella directory. Il valore predefinito, presente in <span class="file filename">/etc/apache2/mods-available/dir.conf</span>, è «index.html index.cgi index.pl index.php index.xhtml index.htm». Pertanto, se Apache2 trova nella directory indicata un file con uno di questi nomi, verrà visualizzato il primo.</p>
            </li>
<li class="list itemizedlist">

              <p class="para">La direttiva <span class="em emphasis">ErrorDocument</span> permette di specificare un file che sarà utilizzato da Apache2 per errori specifici. Per esempio, se un utente richiede una risorsa che non esiste, si verifica un errore 404: per impostazione predefinita Apache2 semplicemente restituisce un codice HTTP 404. Per maggiori informazioni sull'utilizzo di ErrorDocument, comprese le posizioni dei file di esempio, consultare <span class="file filename">/etc/apache2/conf-available/localized-error-pages.conf</span>.</p>
            </li>
<li class="list itemizedlist">
              <p class="para">
              By default, the server writes the transfer log to the file
              <span class="file filename">/var/log/apache2/access.log</span>. You can change this on a per-site
	      basis in your virtual host configuration files with the <span class="em emphasis">CustomLog</span>
              directive, or omit it to accept the default, specified in <span class="file filename">
	      /etc/apache2/conf-available/other-vhosts-access-log.conf</span>.  You may also specify the file
	      to which errors are logged, via the <span class="em emphasis">ErrorLog</span> directive, whose default
	      is <span class="file filename">/var/log/apache2/error.log</span>.  These are kept
	      separate from the transfer logs to aid in troubleshooting problems
	      with your Apache2 server.  You may also specify the <span class="em emphasis">LogLevel</span> (the
	      default value is "warn") and the <span class="em emphasis">LogFormat</span> (see <span class="file filename">
	      /etc/apache2/apache2.conf</span> for the default value).
	      </p>
            </li>
<li class="list itemizedlist">
              <p class="para">Alcune opzioni vengono specificate per directory piuttosto che per server, come la direttiva <span class="em emphasis">Options</span>. Una stanza «Directory» è racchiusa tra tag in stile XML:</p>

<div class="code"><pre class="contents ">&lt;Directory /var/www/html/mynewsite&gt;
...
&lt;/Directory&gt;
</pre></div>

	    <p class="para">La direttiva <span class="em emphasis">Options</span> all'interno della stanza «Directory» accetta uno o più dei seguenti valori (tra gli altri) separati da spazi:</p>

            <div class="list itemizedlist"><ul class="list itemizedlist compact">
<li class="list itemizedlist">
                <p class="para"><span class="em em-bold emphasis">ExecCGI</span>: consente l'esecuzione di script CGI. Questi script non vengono eseguiti se l'opzione non è selezionata. <div class="note note-tip" title="Suggerimento"><div class="inner"><div class="region"><div class="contents">
                  <p class="para">La maggior parte dei file non dovrebbe venir eseguita come script CGI, potrebbe essere molto pericoloso. Gli script CGI dovrebbero essere mantenuti in una directory separata, al di fuori della propria DocumentRoot e solo questa directory dovrebbe avere l'opzione ExecCGI impostata. Questo è il comportamento predefinito in Ubuntu e la posizione per gli script CGI è <span class="file filename">/usr/lib/cgi-bin</span>.</p>
                </div></div></div></div></p>
                </li>
<li class="list itemizedlist">
                  <p class="para"><span class="em em-bold emphasis">Includes</span>: consente inclusioni lato server, consente cioè a un file HTML di <span class="em emphasis"> contenere</span> altri file. Per maggiori informazioni, consultare la <a href="https://help.ubuntu.com/community/ServerSideIncludes" class="ulink" title="https://help.ubuntu.com/community/ServerSideIncludes">Documentazione Apache SSI (comunità di Ubuntu)</a>.</p>
                </li>
<li class="list itemizedlist">
                  <p class="para"><span class="em em-bold emphasis">IncludesNOEXEC</span>: consente inclusioni lato server, ma disabilita i comandi <span class="em emphasis">#exec</span> e <span class="em emphasis">#include</span> negli script CGI.</p>
                </li>
<li class="list itemizedlist">
                  <p class="para"><span class="em em-bold emphasis">Indexes</span>: visualizza un elenco formattato dei contenuti della directory se non esiste alcun <span class="em emphasis">DirectoryIndex</span> (come index.html) nella directory richiesta. <div class="note note-warning" title="Avvertimento"><div class="inner"><div class="region"><div class="contents">
                    <p class="para">Per motivi di sicurezza, quest'opzione non dovrebbe essere impostata e soprattutto non su DocumentRoot. Abilitare questa opzione con molta cautela solo su alcune directory e nel caso in cui si voglia visualizzare l'intero contenuto della directory.</p>
                  </div></div></div></div></p>
                </li>
<li class="list itemizedlist">
                  <p class="para"><span class="em em-bold emphasis">Multiview</span>: supporta visualizzazioni multiple in base al contenuto, quest'opzione è disabilitata in modo predefinito per ragioni di sicurezza. Per maggiori informazioni, consultare <a href="http://httpd.apache.org/docs/2.4/mod/mod_negotiation.html#multiviews" class="ulink" title="http://httpd.apache.org/docs/2.4/mod/mod_negotiation.html#multiviews">la documentazione di Apache2</a>.</p>
                </li>
<li class="list itemizedlist">
                  <p class="para"><span class="em em-bold emphasis">SymLinksIfOwnerMatch</span>: segue i collegamenti simbolici solamente se il file di arrivo o la directory hanno gli stessi proprietari del collegamento.</p>
                </li>
</ul></div>
            </li>
</ul></div>
</div></div>
</div></div>
<div class="sect3 sect" id="httpd-settings"><div class="inner">
<div class="hgroup"><h3 class="title">Impostazioni di httpd</h3></div>
<div class="region"><div class="contents">
<p class="para">Questa sezione espone alcune delle configurazioni di base del demone <span class="app application">httpd</span>.</p>
<p class="para"><span class="em em-bold emphasis">LockFile</span>: la direttiva LockFile imposta il percorso al file di lock utilizzato quando il server viene compilato con USE_FCNTL_SERIALIZED_ACCEPT o USE_FLOCK_SERIALIZED_ACCEPT. Deve essere conservato nel disco locale. Questo valore dovrebbe essere lasciato invariato a meno che la directory di log non sia localizzata su una condivisione NFS. In questo caso, il valore dovrebbe essere modificato con una posizione sul disco locale e una directory accessibile solamente dall'utente root.</p>
<p class="para"><span class="em em-bold emphasis">PidFile</span>: la direttiva PidFile imposta il file in cui il server registra il proprio «pid». Questo file dovrebbe essere leggibile solamente dall'utente root. Nella maggior parte dei casi può essere lasciata invariata.</p>
<p class="para"><span class="em em-bold emphasis">User</span>: la direttiva User assegna l'identificativo dell'utente utilizzato dal server per rispondere alle richieste. Questa impostazione determina l'accesso al server: tutti i file inaccessibili per questo utente sono inaccessibili anche per i visitatori del sito; il valore predefinito per User è «www-data».</p>
<div class="note note-warning" title="Avvertimento"><div class="inner"><div class="region"><div class="contents">
            <p class="para">A meno che non sia estremamente necessario, non impostare mai la direttiva «User» a root. Utilizzare root con «User» può creare una falla nella sicurezza del server Web.</p>
          </div></div></div></div>
<p class="para"><span class="em em-bold emphasis">Group</span>: la direttiva Group è simile alla direttiva User: stabilisce il gruppo le cui richieste ottengono risposta dal server; anche il gruppo predefinito è «www-data».</p>
</div></div>
</div></div>
<div class="sect3 sect" id="apache-modules"><div class="inner">
<div class="hgroup"><h3 class="title">Moduli di Apache2</h3></div>
<div class="region"><div class="contents">
<p class="para">Apache2 è un server modulare: solo le funzionalità basilari sono incluse nel server principale. È possibile estendere le funzionalità del server attraverso dei moduli che vengono caricati all'interno di Apache2. Un piccolo insieme di moduli è incluso nel server durante la compilazione: se il server è compilato per caricare i moduli dinamicamente, gli stessi moduli possono essere compilati separatamente e aggiungi quando necessario utilizzando la direttiva LoadModule; altrimenti è necessario ricompilare Apache2 per aggiungere o rimuovere i moduli.</p>
<p class="para">La versione di Ubuntu consente il caricamento dinamico dei moduli. Le direttive di configurazione possono essere incluse in base alla presenza di un particolare modulo racchiudendole in un blocco tipo: <span class="em emphasis">&lt;IfModulo&gt;</span> block.</p>
<p class="para">
          You can install additional Apache2 modules and use them
          with your Web server.  For example, run the following command at a 
          terminal prompt to install the <span class="em emphasis">MySQL Authentication</span> module:
          </p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo apt install libapache2-mod-auth-mysql</span>
</pre></div>
<p class="para">Per altri moduli, consultare la directory <span class="file filename">/etc/apache2/mods-available</span>.</p>
<p class="para">Usare l'utilità <span class="app application">a2enmod</span> per abilitare un modulo:</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo a2enmod auth_mysql</span>
<span class="cmd command">sudo systemctl restart apache2.service</span>
</pre></div>
<p class="para">Allo stesso modo, <span class="app application">a2dismod</span> disabiliterà un modulo:</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo a2dismod auth_mysql</span>
<span class="cmd command">sudo systemctl restart apache2.service</span>
</pre></div>
</div></div>
</div></div>
</div>
</div></div>
<div class="sect2 sect" id="https-configuration"><div class="inner">
<div class="hgroup"><h2 class="title">Configurazione HTTPS</h2></div>
<div class="region"><div class="contents">
<p class="para">Il modulo <span class="app application">mod_ssl</span> aggiunge un'importante caratteristica al server Apache2, l'abilità di cifrare le comunicazioni. In questo modo, quando il browser utilizza la cifratura SSL per le comunicazioni, il prefisso «https://» verrà inserito nell'URL (Uniform Resource Locator) nella barra degli indirizzi.</p>
<p class="para">
          The <span class="app application">mod_ssl</span> module is available in
          <span class="app application">apache2-common</span> package. Execute the following command at a terminal prompt to
          enable the <span class="app application">mod_ssl</span> module:
          </p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo a2enmod ssl</span>
</pre></div>
<p class="para">Esiste un file di configurazione HTTPS predefinito in <span class="file filename">/etc/apache2/sites-available/default-ssl.conf</span>. Affinché <span class="app application">Apache2</span> possa fornire connessioni HTTPS, sono necessari un <span class="em emphasis">certificato</span> e una <span class="em emphasis">chiave</span>. La configurazione HTTPS predefinita utilizza un certificato e una chiave generati attraverso <span class="app application">ssl-cert</span>, utili in fase di test, ma da sostituire con con una versione specifica per il sito o il server. Per maggiori informazioni su come generare una chiave e su come procurarsi un certificato, consultare <a class="xref" href="certificates-and-security.html" title="Certificati">Certificati</a></p>
<p class="para">Per configurare l'HTTPS per <span class="app application">Apache2</span>, digitare quanto segue:</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo a2ensite default-ssl</span>
</pre></div>
<div class="note" title="Annotazione"><div class="inner"><div class="region"><div class="contents">
              <p class="para">Le directory <span class="file filename">/etc/ssl/certs</span> e <span class="file filename">/etc/ssl/private</span> sono le posizioni predefinite. Se si installa il certificato e la chiave in un'altra directory assicurarsi di modificare <span class="em emphasis">SSLCertificateFile</span> e <span class="em emphasis">SSLCertificateKeyFile</span> appropriatamente.</p>
            </div></div></div></div>
<p class="para">Con l'HTTPS configurato, riavviare il servizio per abilitare le nuove impostazioni:</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo systemctl restart apache2.service</span>
</pre></div>
<div class="note" title="Annotazione"><div class="inner"><div class="region"><div class="contents">
              <p class="para">In base a come è stato ottenuto il certificato, potrebbe essere necessario inserire una passphrase quando viene avviato <span class="app application">Apache2</span>.</p>
            </div></div></div></div>
<p class="para">È possibile accedere alle pagine del server sicuro digitando «https://nome_host/url/» nel barra degli indirizzi del proprio browser.</p>
</div></div>
</div></div>
<div class="sect2 sect" id="http-directory-permissions"><div class="inner">
<div class="hgroup"><h2 class="title">Condivisione del permesso di scrittura</h2></div>
<div class="region"><div class="contents">
<p class="para">Per consentire a più utenti di modificare la stessa directory è necessario concedere il permesso di scrittura a un gruppo al quale tutti appartengono. L'esempio seguente concede il permesso di scrittura di <span class="file filename">/var/www/html</span> al gruppo «webmasters».</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo chgrp -R webmasters /var/www/html</span>
<span class="cmd command">sudo find /var/www/html -type d -exec chmod g=rwxs "{}" \;</span>
<span class="cmd command">sudo find /var/www/html -type f -exec chmod g=rw  "{}" \;</span>
</pre></div>
<p class="para">
    These commands recursively set the group permission on all files and
    directories in /var/www/html to read write and set user id. This has the
    effect of having the files and directories inherit their group and permission
    from their parrent. Many admins find this useful for allowing multiple users
    to edit files in a directory tree.
</p>
<div class="note" title="Annotazione"><div class="inner"><div class="region"><div class="contents">
          <p class="para">Se l'accesso deve essere concesso a più di un gruppo per directory, abilitare le Access Control List (ACL).</p>
        </div></div></div></div>
</div></div>
</div></div>
<div class="sect2 sect" id="http-references"><div class="inner">
<div class="hgroup"><h2 class="title">Riferimenti</h2></div>
<div class="region"><div class="contents"><div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
            <p class="para">La <a href="http://httpd.apache.org/docs/2.4/" class="ulink" title="http://httpd.apache.org/docs/2.4/">documentazione di Apache2</a> contiene informazioni dettagliate riguardo le direttive di configurazione di Apache2. Inoltre, per la documentazione ufficiale di Apache2, consultare il pacchetto <span class="app application">apache2-doc</span>.</p>
          </li>
<li class="list itemizedlist">
            <p class="para">Per maggiori informazioni riguardo SSL, consultare la <a href="http://www.modssl.org/docs/" class="ulink" title="http://www.modssl.org/docs/">documentazione di Mod SSL</a>.</p>
          </li>
<li class="list itemizedlist">
            <p class="para">Il libro <a href="http://oreilly.com/catalog/9780596001919/" class="ulink" title="http://oreilly.com/catalog/9780596001919/">Apache Cookbook</a> di O'Reilly è un'ottima risorsa per informazioni su specifiche configurazioni di Apache2.</p>
          </li>
<li class="list itemizedlist">
            <p class="para">Per domande relative alla versione di Ubuntu di Apache2, chiedere nel canale IRC <span class="em emphasis">#ubuntu-server</span> sul server <a href="http://freenode.net/" class="ulink" title="http://freenode.net/">freenode.net</a>.</p>
          </li>
<li class="list itemizedlist">
            <p class="para">Una buona risorsa riguardo PHP e MySQL può essere trovata nella <a href="https://help.ubuntu.com/community/ApacheMySQLPHP" class="ulink" title="https://help.ubuntu.com/community/ApacheMySQLPHP">documentazione online</a>.</p>
          </li>
</ul></div></div></div>
</div></div>
</div>
<div class="links nextlinks">
<a class="nextlinks-prev" href="web-servers.html" title="Server web">Indietro</a><a class="nextlinks-next" href="php.html" title="PHP - Scripting Language">Avanti</a>
</div>
<div class="clear"></div>
</div>
<div id="pagebottom"></div>
</div></div>
</div>
<div id="footer"><p>The material in this document is available under a free license, see <a href="../../legal.html">Legal</a> for details.<br>
          For information on contributing see the <a href="https://wiki.ubuntu.com/DocumentationTeam">Ubuntu Documentation Team wiki page</a>.
          To report errors in this serverguide documentation, <a href="https://bugs.launchpad.net/serverguide">file a bug report</a>.</p></div>
</div>
</body>
</html>
