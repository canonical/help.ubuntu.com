<!DOCTYPE html>
<html lang=it>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Configurazione di rete</title>
<link rel="stylesheet" type="text/css" href="it.css">
<script type="text/javascript" src="jquery.js"></script><script type="text/javascript" src="jquery.syntax.js"></script><script type="text/javascript" src="yelp.js"></script>
</head>
<body id="home">
<script src="https://ssl.google-analytics.com/urchin.js" type="text/javascript"></script><script type="text/javascript">
        _uacct = "UA-1018242-8";
        urchinTracker();
      </script><div id="container">
<div id="container-inner">
<div id="mothership"><ul>
<li><a href="https://partners.ubuntu.com">Partners</a></li>
<li><a href="https://www.ubuntu.com/support/community-support">Support</a></li>
<li><a href="https://community.ubuntu.com">Community</a></li>
<li><a href="https://www.ubuntu.com">Ubuntu.com</a></li>
</ul></div>
<div id="header">
<h1 id="ubuntu-header"><a href="https://help.ubuntu.com/">Ubuntu Documentation</a></h1>
<ul id="main-menu">
<li><a class="main-menu-item current" href="../../">Official Documentation</a></li>
<li><a href="https://help.ubuntu.com/community/CommunityHelpWiki">Community Help Wiki</a></li>
<li><a href="https://community.ubuntu.com/t/contribute/26">Contribute</a></li>
</ul>
</div>
<div id="menu-search"><div id="search-box">
<noscript><form action="https://www.google.com/cse" id="cse-search-box"><div>
<input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq"><input type="hidden" name="ie" value="UTF-8"><input type="text" name="q" size="21"><input type="submit" name="sa" value="Search">
</div></form></noscript>
<script>
                document.write('<form action="../../search.html" id="cse-search-box">');
                document.write('  <div>');
                document.write('    <input type="hidden" name="cof" value="FORID:9">');
                document.write('    <input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq">');
                document.write('    <input type="hidden" name="ie" value="UTF-8">');
                document.write('    <input type="text" name="q" size="21">');
                document.write('    <input type="submit" name="sa" value="Search">');
                document.write('  </div>');
                document.write('</form>');
              </script>
</div></div>
<div class="trails"><div class="trail">
<a href="../../16.04" class="trail">Ubuntu 16.04</a> » <a class="trail" href="index.html" title="Guida a Ubuntu Server">Guida a Ubuntu Server</a> » <a class="trail" href="networking.html" title="Rete">Rete</a> » </div></div>
<div id="cwt-content" class="clearfix content-area"><div id="page">
<div id="content">
<div class="links nextlinks">
<a class="nextlinks-prev" href="networking.html" title="Rete">Indietro</a><a class="nextlinks-next" href="tcpip.html" title="TCP/IP">Avanti</a>
</div>
<div class="hgroup"><h1 class="title">Configurazione di rete</h1></div>
<div class="region">
<div class="contents"><p class="para">Ubuntu è corredato da una serie di utilità grafiche per la configurazione dei dispositivi di rete. Questa sezione è diretta agli amministratori di server e si focalizza sulla gestione della rete da riga di comando.</p></div>
<div class="links sectionlinks" role="navigation"><ul>
<li class="links"><a class="xref" href="network-configuration.html#ethernet-interfaces" title="Interfacce Ethernet">Interfacce Ethernet</a></li>
<li class="links"><a class="xref" href="network-configuration.html#ip-addressing" title="Indirizzamento IP">Indirizzamento IP</a></li>
<li class="links"><a class="xref" href="network-configuration.html#name-resolution" title="Risoluzione del nome">Risoluzione del nome</a></li>
<li class="links"><a class="xref" href="network-configuration.html#bridging" title="Bridging">Bridging</a></li>
<li class="links"><a class="xref" href="network-configuration.html#network-config-resources" title="Risorse">Risorse</a></li>
</ul></div>
<div class="sect2 sect" id="ethernet-interfaces"><div class="inner">
<div class="hgroup"><h2 class="title">Interfacce Ethernet</h2></div>
<div class="region">
<div class="contents"><p class="para">Le interfacce Ethernet sono identificate dal sistema con il nome convenzionale di <span class="em emphasis">ethX</span>, dove la <span class="em emphasis">X</span> rappresenta un valore numerico. La prima interfaccia Ethernet è tipicamente identificata come <span class="em emphasis">eth0</span>, la seconda come <span class="em emphasis">eth1</span>, e tutte le altre seguono in ordine numerico.</p></div>
<div class="sect3 sect" id="identify-ethernet-interfaces"><div class="inner">
<div class="hgroup"><h3 class="title">Identificare le interfacce Ethernet</h3></div>
<div class="region"><div class="contents">
<p class="para">Per identificare rapidamente tutte le interfacce Ethernet disponibili, è possibile usare il comando <span class="app application">ifconfig</span>, come indicato in seguito.</p>
<div class="screen"><pre class="contents "><span class="cmd command">ifconfig -a | grep eth</span>
<span class="output computeroutput">eth0 Link encap:Ethernet HWaddr 00:15:c5:4a:16:5a</span>
</pre></div>
<p class="para">Un'altra applicazione che può aiutare a identificare tutte le interfacce di rete disponibili nel sistema è il comando <span class="app application">lshw</span>. Nel seguente esempio, <span class="app application">lshw</span> mostra una singola interfaccia Ethernet con il nome logico di <span class="em emphasis">eth0</span>, insieme a informazioni sul bus, dettagli sul driver e tutte le capacità supportate.</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo lshw -class network</span>
<span class="output computeroutput">  *-network
       description: Ethernet interface
       product: BCM4401-B0 100Base-TX
       vendor: Broadcom Corporation
       physical id: 0
       bus info: pci@0000:03:00.0
       logical name: eth0
       version: 02
       serial: 00:15:c5:4a:16:5a
       size: 10MB/s
       capacity: 100MB/s
       width: 32 bits
       clock: 33MHz
       capabilities: (tagliato per brevità)
       configuration: (tagliato per brevità)
       resources: irq:17 memory:ef9fe000-ef9fffff</span>
</pre></div>
</div></div>
</div></div>
<div class="sect3 sect" id="ethernet-interface-names"><div class="inner">
<div class="hgroup"><h3 class="title">Nomi logici dell'interfaccia Ethernet</h3></div>
<div class="region"><div class="contents"><p class="para">I nomi logici delle interfacce sono configurati nel file <span class="file filename">/etc/udev/rules.d/70-persistent-net.rules.</span>. Per controllare quale interfaccia riceve un particolare nome logico, trovare la riga che corrisponde all'indirizzo MAC dell'interfaccia e modificare il valore <span class="em emphasis">NAME=ethX</span> in quello desiderato. Riavviare il sistema per rendere definitive le modifiche.</p></div></div>
</div></div>
<div class="sect3 sect" id="ethernet-interface-settings"><div class="inner">
<div class="hgroup"><h3 class="title">Impostazione dell'interfaccia Ethernet</h3></div>
<div class="region"><div class="contents">
<p class="para"><span class="app application">ethtool</span> è un programma che visualizza e modifica impostazioni della scheda Ethernet come l'autonegoziazione, la velocità della porta, la modalità duplex e il Wake-on-LAN. Non è installato per impostazione predefinita, ma è disponibile per l'installazione da repository.</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo apt install ethtool</span>
</pre></div>
<p class="para">Quello che segue è un esempio di come visualizzare caratteristiche supportate e impostazioni configurate di un'interfaccia Ethernet.</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo ethtool eth0</span>
<span class="output computeroutput">Settings for eth0:
        Supported ports: [ TP ]
        Supported link modes: 10baseT/Half 10baseT/Full 
                                100baseT/Half 100baseT/Full 
                                1000baseT/Half 1000baseT/Full 
        Supports auto-negotiation: Yes
        Advertised link modes: 10baseT/Half 10baseT/Full 
                                100baseT/Half 100baseT/Full 
                                1000baseT/Half 1000baseT/Full 
        Advertised auto-negotiation: Yes
        Speed: 1000Mb/s
        Duplex: Full
        Port: Twisted Pair
        PHYAD: 1
        Transceiver: internal
        Auto-negotiation: on
        Supports Wake-on: g
        Wake-on: d
        Current message level: 0x000000ff (255)
        Link detected: yes</span>
</pre></div>
<p class="para">Le modifiche effettuate mediante il comando <span class="app application">ethtool</span> sono temporanee e verranno perse dopo un riavvio. Per conservare le impostazioni, basta aggiungere l'appropriato comando <span class="app application">ethtool</span> a un'istruzione <span class="em emphasis">pre-up</span> nel file di configurazione delle interfacce <span class="file filename">/etc/network/interfaces</span>.</p>
<p class="para">Ciò che segue è un esempio di come è possibile configurare permanentemente l'interfaccia identificata come <span class="em emphasis">eth0</span> con una velocità di porta di 1000Mb/s in modalità full duplex.</p>
<div class="code"><pre class="contents ">auto eth0
iface eth0 inet static
pre-up /sbin/ethtool -s eth0 speed 1000 duplex full
</pre></div>
<div class="note" title="Annotazione"><div class="inner"><div class="region"><div class="contents">
			<p class="para">Sebbene l'esempio mostri un'interfaccia configurata per utilizzare un metodo <span class="em emphasis">statico</span>, funziona anche con altri metodi, come il DHCP. L'esempio vuole solo dimostrare la corretta posizione dell'istruzione <span class="em emphasis">pre-up</span> in relazione alla rimanente parte della configurazione dell'interfaccia.</p>
			</div></div></div></div>
</div></div>
</div></div>
</div>
</div></div>
<div class="sect2 sect" id="ip-addressing"><div class="inner">
<div class="hgroup"><h2 class="title">Indirizzamento IP</h2></div>
<div class="region">
<div class="contents"><p class="para">La seguente sezione descrive il processo di configurazione dell'indirizzo IP di sistema e del gateway predefinito necessari per le comunicazioni su una rete locale e Internet.</p></div>
<div class="sect3 sect" id="temp-ip-assignment"><div class="inner">
<div class="hgroup"><h3 class="title">Assegnazione temporanea di un indirizzo IP</h3></div>
<div class="region"><div class="contents">
<p class="para">Per configurazioni di reti temporanee, è possibile utilizzare comandi standard come <span class="app application">ip</span>, <span class="app application">ifconfig</span> e <span class="app application">route</span>, che si trovano anche su molti altri sistemi operativi GNU/Linux. Questi comandi consentono di configurare impostazioni che hanno effetto immediatamente, ma non sono persistenti e verranno perse dopo un riavvio.</p>
<p class="para">Per configurare temporaneamente un indirizzo IP, è possibile usare il comando <span class="app application">ifconfig</span> nella seguente maniera; basta modificare l'indirizzo IP e la maschera di sottorete per farli corrispondere ai requisiti della propria rete.</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo ifconfig eth0 10.0.0.100 netmask 255.255.255.0</span>
</pre></div>
<p class="para">Per verificare la configurazione dell'indirizzo IP di <span class="app application">eth0</span>, è possibile usare il comando <span class="app application">ifconfig</span> nel seguente modo:</p>
<div class="screen"><pre class="contents "><span class="cmd command">ifconfig eth0</span>
<span class="output computeroutput">eth0 Link encap:Ethernet HWaddr 00:15:c5:4a:16:5a  
          inet addr:10.0.0.100 Bcast:10.0.0.255 Mask:255.255.255.0
          inet6 addr: fe80::215:c5ff:fe4a:165a/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1
          RX packets:466475604 errors:0 dropped:0 overruns:0 frame:0
          TX packets:403172654 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:2574778386 (2.5 GB) TX bytes:1618367329 (1.6 GB)
          Interrupt:16</span> 
</pre></div>
<p class="para">Per configurare un gateway predefinito, è possibile usare il comando <span class="app application">route</span> nel seguente modo; modificare l'indirizzo del gateway predefinito per farlo corrispondere ai requisiti della propria rete.</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo route add default gw 10.0.0.1 eth0</span>
</pre></div>
<p class="para">Per verificare la configurazione del gateway predefinito, è possibile usare il comando <span class="app application">route</span> nel seguente modo:</p>
<div class="screen"><pre class="contents "><span class="cmd command">route -n</span>
<span class="output computeroutput">Kernel IP routing table
Destination Gateway Genmask Flags Metric Ref Use Iface
10.0.0.0 0.0.0.0 255.255.255.0 U 1 0 0 eth0
0.0.0.0 10.0.0.1 0.0.0.0 UG 0 0 0 eth0</span>
</pre></div>
<p class="para">Se per la configurazione della rete temporanea è necessario un DNS, è possibile aggiungere gli indirizzi IP del server DNS nel file <span class="file filename">/etc/resolv.conf</span>. In generale non è consigliabile modificare direttamente <span class="file filename">/etc/resolv.conf</span>, ma in questo caso si tratta di una configurazione temporanea e non permanente. Il seguente esempio mostra come inserire due server DNS in <span class="file filename">/etc/resolv.conf</span>, da modificare nei server adeguati alla propria rete. Una più esaustiva descrizione della configurazione di un client DNS è contenuta in una sezione successiva.</p>
<div class="code"><pre class="contents ">nameserver 8.8.8.8
nameserver 8.8.4.4
</pre></div>
<p class="para">Se questa configurazione non è più necessaria ed è necessario eliminare tutte le configurazioni IP da un'interfaccia, è possibile usare il comando <span class="app application">ip</span> con l'opzione <span class="em emphasis">flush</span>, come mostrato di seguito.</p>
<div class="screen"><pre class="contents "><span class="cmd command">ip addr flush eth0</span>
</pre></div>
<div class="note" title="Annotazione"><div class="inner"><div class="region"><div class="contents">
			<p class="para">Usare il comando <span class="app application">ip</span> con l'opzione <span class="em emphasis">flush</span> non ripulisce il contenuto di <span class="file filename">/etc/resolv.conf</span>: è necessario rimuovere o modificare queste voci manualmente o effettuare un riavvio, che provoca la riscrittura di <span class="file filename">/etc/resolv.conf</span>, che attualmente è ora un collegamento simbolico a <span class="file filename">/run/resolvconf/resolv.conf</span>.</p>
			</div></div></div></div>
</div></div>
</div></div>
<div class="sect3 sect" id="dynamic-ip-addressing"><div class="inner">
<div class="hgroup"><h3 class="title">Assegnazione di un indirizzo IP dinamico (Client DHCP)</h3></div>
<div class="region"><div class="contents">
<p class="para">Per configurare il proprio server per usare DHCP per l'assegnazione di un indirizzo dinamico, aggiungere il metodo <span class="em emphasis">dhcp</span> all'indirizzo inet nell'istruzione per l'interfaccia appropriata nel file <span class="file filename">/etc/network/interfaces</span>. Il seguente esempio assume che si stia configurando la prima interfaccia Ethernet identificata come <span class="em emphasis">eth0</span>.</p>
<div class="code"><pre class="contents ">auto eth0
iface eth0 inet dhcp
</pre></div>
<p class="para">Nell'aggiungere una configurazione d'interfaccia come mostrato sopra, è possibile abilitare manualmente l'interfaccia con il comando <span class="app application">ifup</span> che inizializza il processo DHCP tramite <span class="app application">dhclient</span>.</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo ifup eth0</span>
</pre></div>
<p class="para">Per disabilitare manualmente l'interfaccia, è possibile usare il comando <span class="app application">ifdown</span>, che avvia il processo di rilascio di DHCP e disattiva l'interfaccia.</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo ifdown eth0</span>
</pre></div>
</div></div>
</div></div>
<div class="sect3 sect" id="static-ip-addressing"><div class="inner">
<div class="hgroup"><h3 class="title">Assegnazione di un indirizzo IP statico</h3></div>
<div class="region"><div class="contents">
<p class="para">Per configurare il sistema per usare un'assegnazione di indirizzo IP statico, aggiungere il metodo <span class="em emphasis">statico</span> all'indirizzo inet nell'istruzione per l'interfaccia appropriata nel file <span class="file filename">/etc/network/interfaces</span>. Il seguente esempio assume che si stia configurando la prima interfaccia Ethernet identificata come <span class="em emphasis">eth0</span>. Modificare i valori per l'<span class="em emphasis">indirizzo</span>, la <span class="em emphasis">maschera di rete</span> e il <span class="em emphasis">gateway</span> per farli corrispondere ai requisiti della propria rete.</p>
<div class="code"><pre class="contents ">auto eth0
iface eth0 inet static
address 10.0.0.100
netmask 255.255.255.0
gateway 10.0.0.1
</pre></div>
<p class="para">Nell'aggiungere una configurazione d'interfaccia come mostrato sopra, è possibile abilitare manualmente l'interfaccia con il comando <span class="app application">ifup</span>.</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo ifup eth0</span>
</pre></div>
<p class="para">Per disabilitare manualmente l'interfaccia, è possibile usare il comando <span class="app application">ifdown</span>.</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo ifdown eth0</span>
</pre></div>
</div></div>
</div></div>
<div class="sect3 sect" id="loopback-interface"><div class="inner">
<div class="hgroup"><h3 class="title">Interfaccia di loopback</h3></div>
<div class="region"><div class="contents">
<p class="para">L'interfaccia di loopback è identificata dal sistema come <span class="em emphasis">lo</span> e ha un indirizzo IP predefinito di 127.0.0.1; può essere visualizzata con il comando ifconfig.</p>
<div class="screen"><pre class="contents "><span class="cmd command">ifconfig lo</span>
<span class="output computeroutput">lo Link encap:Local Loopback  
          inet addr:127.0.0.1 Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING MTU:16436 Metric:1
          RX packets:2718 errors:0 dropped:0 overruns:0 frame:0
          TX packets:2718 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:183308 (183.3 KB) TX bytes:183308 (183.3 KB)</span>
</pre></div>
<p class="para">Per impostazione predefinita, in <span class="file filename">/etc/network/interfaces</span> sono presenti due righe responsabili della configurazione automatica dell'interfaccia di loopback. Si raccomanda di mantenere le impostazioni predefinite a meno che non ci sia una specifica necessità di modificarle. Di seguito viene mostrato un esempio delle due righe predefinite.</p>
<div class="code"><pre class="contents ">auto lo
iface lo inet loopback
</pre></div>
</div></div>
</div></div>
</div>
</div></div>
<div class="sect2 sect" id="name-resolution"><div class="inner">
<div class="hgroup"><h2 class="title">Risoluzione del nome</h2></div>
<div class="region">
<div class="contents"><p class="para">La risoluzione del nome, in relazione alle reti IP, è il processo con cui vengono stabilite corrispondenze tra gli indirizzi IP e i nomi host, rendendo più semplice l'identificazione delle risorse su una rete. La seguente sezione spiega come configurare correttamente il proprio sistema per la risoluzione del nome usando record statici per i nomi host.</p></div>
<div class="sect3 sect" id="dns-client-configuration"><div class="inner">
<div class="hgroup"><h3 class="title">Configurazione del client DNS</h3></div>
<div class="region"><div class="contents">
<p class="para">Tradizionalmente, il file <span class="file filename">/etc/resolv.conf</span> era un file di configurazione statico che raramente necessitava di essere modificato o di ricevere modifiche automatiche tramite indirizzatori client DHCP. Al giorno d'oggi, un computer può spostarsi da una rete all'altra abbastanza frequentemente e l'infrastruttura <span class="em emphasis">resolvconf</span> viene utilizzata per conservare traccia di queste modifiche e aggiornare automaticamente la configurazione del risolutore. Agisce come intermediario fra i programmi che forniscono le informazioni sul server dei nomi e le applicazioni che necessitano di queste informazioni. Resolvconf viene popolato di informazioni da un insieme di script di indirizzamento collegati alla configurazione dell'interfaccia di rete. La più evidente differenza per l'utente consiste nel fatto che ogni modifica manuale effettuata in <span class="file filename">/etc/resolv.conf</span> verrà persa e sovrascritta ogni volta che viene attivato resolvconf. Invece, resolvconf utilizza indirizzatori client DHCP e <span class="file filename">/etc/network/interfaces</span> per generare un elenco di server dei nomi e di domini da collocare in <span class="file filename">/etc/resolv.conf</span>, che è ora un collegamento simbolico: <div class="code"><pre class="contents ">/etc/resolv.conf -&gt; ../run/resolvconf/resolv.conf
</pre></div>. Per configurare il risolutore, aggiungere gli indirizzi IP dei server dei nomi appropriati per la propria rete nel file <span class="file filename">/etc/network/interfaces</span>. È possibile anche aggiungere un elenco di ricerca di suffissi DNS opzionale per far corrispondere i nomi di dominio della propria rete. Per ciascuna ulteriore valida opzione di configurazione di resolv.conf, è possibile includere, nella sezione, una riga che inizia con il nome dell'opzione con un prefisso <span class="em em-bold emphasis">dns-</span>. Il file risultante dovrebbe essere simile al seguente:</p>
<div class="code"><pre class="contents ">iface eth0 inet static
    address 192.168.3.3
    netmask 255.255.255.0
    gateway 192.168.3.1
    dns-search example.com
    dns-nameservers 192.168.3.45 192.168.8.10
</pre></div>
<p class="para">L'opzione <span class="em emphasis">search</span> può anche essere usata con nomi di domini multipli, così che le query DNS vengano accodate secondo l'ordine di immissione. Per esempio, la rete può avere un campo di ricerca in più sotto-domini; un dominio superiore <span class="em emphasis">example.com</span> e due sotto-domini, <span class="em emphasis">sales.example.com</span> e <span class="em emphasis">dev.example.com</span>.</p>
<p class="para">Se la ricerca deve essere effettuata in più domini, la configurazione dovrebbe essere simile alla seguente:</p>
<div class="code"><pre class="contents ">iface eth0 inet static
    address 192.168.3.3
    netmask 255.255.255.0
    gateway 192.168.3.1
    dns-search example.com sales.example.com dev.example.com
    dns-nameservers 192.168.3.45 192.168.8.10
</pre></div>
<p class="para">Se si invia un ping a un host con nome <span class="em emphasis">server1</span>, il sistema cercherà automaticamente in DNS il suo nome di dominio completo (Fully Qualified Domain Name - FQDN) nel seguente ordine:</p>
<div class="list orderedlist"><ol class="list orderedlist">
<li class="list orderedlist">
			<p class="para">server1<span class="em em-bold emphasis">.example.com</span></p>
			</li>
<li class="list orderedlist">
			<p class="para">server1<span class="em em-bold emphasis">.sales.example.com</span></p>
			</li>
<li class="list orderedlist">
			<p class="para">server1<span class="em em-bold emphasis">.dev.example.com</span></p>
			</li>
</ol></div>
<p class="para">Se non vengono trovate corrispondenze, il server DNS fornisce un risultato di <span class="em emphasis">notfound (non trovato)</span> e la query DNS non avrà successo.</p>
</div></div>
</div></div>
<div class="sect3 sect" id="static-hostnames"><div class="inner">
<div class="hgroup"><h3 class="title">Nomi host statici</h3></div>
<div class="region"><div class="contents">
<p class="para">I nomi host statici sono definiti localmente come corrispondenze tra nome host e IP, posizionati nel file <span class="file filename">/etc/hosts</span>. Per impostazione predefinita, le voci nel file <span class="file filename">hosts</span> hanno precedenza sul DNS. Ciò significa che se il sistema cerca di risolvere un nome host e trova una corrispondenza in /etc/hosts, non tenterà di cercare il record in DNS. In alcune configurazioni, specie quando non sia richiesto un accesso a Internet, i server che comunicano con un limitato numero di risorse possono essere opportunamente impostati per usare nomi host statici invece del DNS.</p>
<p class="para">Ciò che segue è l'esempio di un file <span class="file filename">hosts</span> dove alcuni server locali sono stati identificati con semplici nomi host, alias e i loro equivalenti nomi di dominio completi (Fully Qualified Domain Name - FQDN)</p>
<div class="code"><pre class="contents ">127.0.0.1	localhost
127.0.1.1	ubuntu-server
10.0.0.11	server1 server1.example.com vpn
10.0.0.12	server2 server2.example.com mail
10.0.0.13	server3 server3.example.com www
10.0.0.14	server4 server4.example.com file
</pre></div>
<div class="note" title="Annotazione"><div class="inner"><div class="region"><div class="contents">
			<p class="para">Nel precedente esempio, notare come a ciascun server siano stati attribuiti degli alias, in aggiunta ai nomi propri e ai FQDN. <span class="em emphasis">Server1</span> corrisponde al nome <span class="em emphasis">vpn</span>, <span class="em emphasis">server2</span> è riferito a <span class="em emphasis">mail</span>, <span class="em emphasis">server3</span> è <span class="em emphasis">www</span> e <span class="em emphasis">server4</span> è <span class="em emphasis">file</span>.</p>
			</div></div></div></div>
</div></div>
</div></div>
<div class="sect3 sect" id="name-service-switch-config"><div class="inner">
<div class="hgroup"><h3 class="title">Configurazione del Name Service Switch</h3></div>
<div class="region"><div class="contents">
<p class="para">L'ordine in cui il sistema seleziona un metodo per risolvere i nomi host in indirizzi IP è controllato dal file di configurazione del Name Service Switch (NSS) <span class="file filename">/etc/nsswitch.conf</span>. Come illustrato nella precedente sezione, normalmente i nomi host statici definiti nel file di sistema <span class="file filename">/etc/hosts</span> hanno precedenza sui nomi risolti dal DNS. Ciò che segue è un esempio della riga responsabile dell'ordine di ricerca dei nomi host in <span class="file filename">/etc/nsswitch.conf</span>.</p>
<div class="code"><pre class="contents ">hosts: files mdns4_minimal [NOTFOUND=return] dns mdns4
</pre></div>
<div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
			<p class="para">Per prima cosa, <span class="em em-bold emphasis">files</span> cerca di risolvere i nomi host statici che si trovano in <span class="file filename">/etc/hosts</span>.</p>
			</li>
<li class="list itemizedlist">
			<p class="para"><span class="em em-bold emphasis">mdns4_minimal</span> tenta di risolvere il nome usando il DNS Multicast.</p>
			</li>
<li class="list itemizedlist">
			<p class="para"><span class="em em-bold emphasis">[NOTFOUND=return]</span> significa che ogni risposta <span class="em emphasis">notfound</span> dal precedente processo <span class="em emphasis">mdns4_minimal</span> viene considerata autoritativa e il sistema non tenterà di continuare a cercare una risposta.</p>
			</li>
<li class="list itemizedlist">
			<p class="para"><span class="em em-bold emphasis">dns</span> rappresenta una tradizionale query DNS Unicast.</p>
			</li>
<li class="list itemizedlist">
			<p class="para"><span class="em em-bold emphasis">mdns4</span> rappresenta una query DNS Multicast.</p>
			</li>
</ul></div>
<p class="para">Per modificare l'ordine dei metodi di risoluzione dei nomi sopra menzionati, basta modificare la stringa <span class="em emphasis">hosts:</span> nel valore prescelto. Per esempio, se si preferisce usare il tradizionale DNS Unicast invece del DNS Multicast, modificare la stringa in <span class="file filename">/etc/nsswitch.conf</span> come indicato di seguito.</p>
<div class="code"><pre class="contents ">hosts: files dns [NOTFOUND=return] mdns4_minimal mdns4
</pre></div>
</div></div>
</div></div>
</div>
</div></div>
<div class="sect2 sect" id="bridging"><div class="inner">
<div class="hgroup"><h2 class="title">Bridging</h2></div>
<div class="region"><div class="contents">
<p class="para">Il «bridging» di molteplici interfacce è una configurazione avanzata, ma utile in diversi scenari. Uno di questi scenari può consistere nel configurare un bridge con molteplici interfacce di rete e usare un firewall per filtrare il traffico tra due segmenti della rete. Un altro scenario consiste nell'usare un bridge su un sistema con una sola interfaccia per permettere alle macchine virtuali accesso diretto alla rete esterna. L'esempio che segue prende in considerazione quest'ultimo scenario.</p>
<p class="para">Prima di configurare un bridge è necessario installare il pacchetto <span class="app application">bridge-utils</span>. In un terminale digitare:</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo apt install bridge-utils</span>
</pre></div>
<p class="para">Configurare il bridge modificando il file <span class="file filename">/etc/network/interfaces</span>:</p>
<div class="code"><pre class="contents ">auto lo
iface lo inet loopback

auto br0
iface br0 inet static
        address 192.168.0.10
        network 192.168.0.0
        netmask 255.255.255.0
        broadcast 192.168.0.255
        gateway 192.168.0.1
        bridge_ports eth0
        bridge_fd 9
        bridge_hello 2
        bridge_maxage 12
        bridge_stp off
</pre></div>
<div class="note" title="Annotazione"><div class="inner"><div class="region"><div class="contents">
        <p class="para">Inserire i valori appropriati per la propria interfaccia di rete.</p>
      </div></div></div></div>
<p class="para">Ora aprire il bridge:</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo ifup br0</span>
</pre></div>
<p class="para">La nuova interfaccia dovrebbe ora essere funzionante. L'applicazione <span class="app application">brctl</span> fornisce utili informazioni riguardo lo stato del bridge, controlla le interfacce che compongono il bridge, ecc... Per maggiori informazioni, consultare la pagina di manuale: <span class="cmd command">man brctl</span>.</p>
</div></div>
</div></div>
<div class="sect2 sect" id="network-config-resources"><div class="inner">
<div class="hgroup"><h2 class="title">Risorse</h2></div>
<div class="region"><div class="contents">
<p class="para">
        
        </p>
<div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
            <p class="para">La pagina della <a href="https://help.ubuntu.com/community/Network" class="ulink" title="https://help.ubuntu.com/community/Network">documentazione della comunità sulle reti</a> contiene link ad articoli che trattano la configurazione avanzata delle reti.</p>
          </li>
<li class="list itemizedlist">
            <p class="para">Maggiori informazioni su resolvconf possono essere trovate sulla <a href="http://manpages.ubuntu.com/manpages/man8/resolvconf.8.html" class="ulink" title="http://manpages.ubuntu.com/manpages/man8/resolvconf.8.html">relativa pagina del manuale</a>.</p>
          </li>
<li class="list itemizedlist">
            <p class="para">La pagina del manuale <a href="http://manpages.ubuntu.com/manpages/man5/interfaces.5.html" class="ulink" title="http://manpages.ubuntu.com/manpages/man5/interfaces.5.html">interfacce</a> contiene ulteriori opzioni per <span class="file filename">/etc/network/interfaces</span>.</p>
          </li>
<li class="list itemizedlist">
            <p class="para">Dettagli su ulteriori opzioni per configurare client DHCP possono essere trovati nella <a href="http://manpages.ubuntu.com/manpages/man8/dhclient.8.html" class="ulink" title="http://manpages.ubuntu.com/manpages/man8/dhclient.8.html">pagina del manuale dhclient</a>.</p>
          </li>
<li class="list itemizedlist">
            <p class="para">Per ulteriori informazioni sulla configurazione di client DNS, consultare la pagina del manuale di <a href="http://manpages.ubuntu.com/manpages/man5/resolver.5.html" class="ulink" title="http://manpages.ubuntu.com/manpages/man5/resolver.5.html">resolver</a>. Anche il Capitolo 6 della <a href="http://oreilly.com/catalog/linag2/book/ch06.html" class="ulink" title="http://oreilly.com/catalog/linag2/book/ch06.html">Linux Network Administrator's Guide</a> di O'Reilly è una buona fonte di informazioni sulla configurazione di risolutore e servizio di nomi.</p>
          </li>
<li class="list itemizedlist">
            <p class="para">Per maggiori informazioni sul <span class="em emphasis">bridging</span>, consultare la <a href="http://manpages.ubuntu.com/manpages/man8/brctl.8.html" class="ulink" title="http://manpages.ubuntu.com/manpages/man8/brctl.8.html">pagina del manuale di brctl</a> e la pagina <a href="http://www.linuxfoundation.org/collaborate/workgroups/networking/bridge" class="ulink" title="http://www.linuxfoundation.org/collaborate/workgroups/networking/bridge">Networking-Bridge</a> della Linux Foundation.</p>
          </li>
</ul></div>
</div></div>
</div></div>
</div>
<div class="links nextlinks">
<a class="nextlinks-prev" href="networking.html" title="Rete">Indietro</a><a class="nextlinks-next" href="tcpip.html" title="TCP/IP">Avanti</a>
</div>
<div class="clear"></div>
</div>
<div id="pagebottom"></div>
</div></div>
</div>
<div id="footer"><p>The material in this document is available under a free license, see <a href="../../legal.html">Legal</a> for details.<br>
          For information on contributing see the <a href="https://wiki.ubuntu.com/DocumentationTeam">Ubuntu Documentation Team wiki page</a>.
          To report errors in this serverguide documentation, <a href="https://bugs.launchpad.net/serverguide">file a bug report</a>.</p></div>
</div>
</body>
</html>
