<!DOCTYPE html>
<html lang=pt-BR>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Configuração de Rede</title>
<link rel="stylesheet" type="text/css" href="pt_BR.css">
<script type="text/javascript" src="jquery.js"></script><script type="text/javascript" src="jquery.syntax.js"></script><script type="text/javascript" src="yelp.js"></script>
</head>
<body id="home">
<script src="https://ssl.google-analytics.com/urchin.js" type="text/javascript"></script><script type="text/javascript">
        _uacct = "UA-1018242-8";
        urchinTracker();
      </script><div id="container">
<div id="container-inner">
<div id="mothership"><ul>
<li><a href="http://www.ubuntu.com/partners">Partners</a></li>
<li><a href="http://www.ubuntu.com/support">Support</a></li>
<li><a href="http://www.ubuntu.com/community">Community</a></li>
<li><a href="http://www.ubuntu.com">Ubuntu.com</a></li>
</ul></div>
<div id="header">
<h1 id="ubuntu-header"><a href="https://help.ubuntu.com/">Ubuntu Documentation</a></h1>
<ul id="main-menu">
<li><a class="main-menu-item current" href="../../">Official Documentation</a></li>
<li><a href="https://help.ubuntu.com/community/CommunityHelpWiki">Community Help Wiki</a></li>
<li><a href="http://community.ubuntu.com/contribute/documentation/">Contribute</a></li>
</ul>
</div>
<div id="menu-search"><div id="search-box">
<noscript><form action="https://www.google.com/cse" id="cse-search-box"><div>
<input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq"><input type="hidden" name="ie" value="UTF-8"><input type="text" name="q" size="21"><input type="submit" name="sa" value="Search">
</div></form></noscript>
<script>
                document.write('<form action="../../search.html" id="cse-search-box">');
                document.write('  <div>');
                document.write('    <input type="hidden" name="cof" value="FORID:9">');
                document.write('    <input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq">');
                document.write('    <input type="hidden" name="ie" value="UTF-8">');
                document.write('    <input type="text" name="q" size="21">');
                document.write('    <input type="submit" name="sa" value="Search">');
                document.write('  </div>');
                document.write('</form>');
              </script>
</div></div>
<div class="trails"><div class="trail">
<a href="../../16.04" class="trail">Ubuntu 16.04</a> » <a class="trail" href="index.html" title="Guia para servidores Ubuntu">Guia para servidores Ubuntu</a> » <a class="trail" href="networking.html" title="Rede">Rede</a> » </div></div>
<div id="cwt-content" class="clearfix content-area"><div id="page">
<div id="content">
<div class="links nextlinks">
<a class="nextlinks-prev" href="networking.html" title="Rede">Anterior</a><a class="nextlinks-next" href="tcpip.html" title="TCP/IP">Próximo</a>
</div>
<div class="hgroup"><h1 class="title">Configuração de Rede</h1></div>
<div class="region">
<div class="contents"><p class="para">O Ubuntu distribui um número de utilidades gráficas para configurar seus equipamentos de rede. Este documento tem como foco administradores de servidores e focalizará em como administrar sua rede usando a linha de comando.</p></div>
<div class="links sectionlinks" role="navigation"><ul>
<li class="links"><a class="xref" href="network-configuration.html#ethernet-interfaces" title="Interfaces Ethernet">Interfaces Ethernet</a></li>
<li class="links"><a class="xref" href="network-configuration.html#ip-addressing" title="Endereçamento IP">Endereçamento IP</a></li>
<li class="links"><a class="xref" href="network-configuration.html#name-resolution" title="Resolução de nomes">Resolução de nomes</a></li>
<li class="links"><a class="xref" href="network-configuration.html#bridging" title="Ponte">Ponte</a></li>
<li class="links"><a class="xref" href="network-configuration.html#network-config-resources" title="Recursos">Recursos</a></li>
</ul></div>
<div class="sect2 sect" id="ethernet-interfaces"><div class="inner">
<div class="hgroup"><h2 class="title">Interfaces Ethernet</h2></div>
<div class="region">
<div class="contents"><p class="para">As interfaces Ethernet são identificadas pelo sistema utilizando a nomenclatura convencional <span class="em emphasis">ethX</span>, onde o <span class="em emphasis">X</span> representa um valor numérico. A primeira interface Ethernet geralmente é identificada como <span class="em emphasis">eth0</span>, a segunda como <span class="em emphasis">eth1</span>, e assim por diante para as demais.</p></div>
<div class="sect3 sect" id="identify-ethernet-interfaces"><div class="inner">
<div class="hgroup"><h3 class="title">Identificar interfaces Ethernet</h3></div>
<div class="region"><div class="contents">
<p class="para">Para identificar todas interfaces Ethernet de forma rápida, você pode utilizar o comando <span class="app application">ifconfig</span> , conforme exibido abaixo:</p>
<div class="screen"><pre class="contents "><span class="cmd command">ifconfig -a | grep eth</span>
<span class="output computeroutput">eth0      Link encap:Ethernet  HWaddr 00:15:c5:4a:16:5a</span>
</pre></div>
<p class="para">Outra aplicação que poderá auxiliar a identificação de todas intefaces de rede disponíveis no seu sistema é o comando <span class="app application">lshw</span>. No exemplo abaixo, o <span class="app application">lshw</span> exibe uma interface Ethernet com o nome lógico <span class="em emphasis">eth0</span>, juntamente com informações de barramento, driver, e outras funcionalidades suportadas.</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo lshw -class network</span>
<span class="output computeroutput">  *-network
       description: Ethernet interface
       product: BCM4401-B0 100Base-TX
       vendor: Broadcom Corporation
       physical id: 0
       bus info: pci@0000:03:00.0
       logical name: eth0
       version: 02
       serial: 00:15:c5:4a:16:5a
       size: 10MB/s
       capacity: 100MB/s
       width: 32 bits
       clock: 33MHz
       capabilities: (snipped for brevity)
       configuration: (snipped for brevity)
       resources: irq:17 memory:ef9fe000-ef9fffff</span>
</pre></div>
</div></div>
</div></div>
<div class="sect3 sect" id="ethernet-interface-names"><div class="inner">
<div class="hgroup"><h3 class="title">Nomes lógicos das interfaces Ethernet</h3></div>
<div class="region"><div class="contents"><p class="para">Nomes lógicos de interface são configurados no arquivo <span class="file filename">/etc/udev/rules.d/70-persistent-net.rules.</span> Se você gostaria de configurar qual interface recebe um nome lógico particular, encontre a linha que contém o endereço físico (MAC address) em questão e modifique o valor de <span class="em emphasis">NAME=ethX</span> para o nome lógico desejado. Reinicie o sistema para validar suas alterações.</p></div></div>
</div></div>
<div class="sect3 sect" id="ethernet-interface-settings"><div class="inner">
<div class="hgroup"><h3 class="title">Configurações das interfaces Ethernet</h3></div>
<div class="region"><div class="contents">
<p class="para"><span class="app application">ethtool</span> é um programa que mostra e modifica configurações de interfaces Ethernet como auto-negociação, velocidade da porta, modo duplex, e Wake-on-LAN. Não está instalado por padrão, mas está disponível para instalação nos repositórios.</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo apt install ethtool</span>
</pre></div>
<p class="para">A seguir um exemplo de como visualizar característocas suportadas e configurações de uma interface Ethernet.</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo ethtool eth0</span>
<span class="output computeroutput">Settings for eth0:
        Supported ports: [ TP ]
        Supported link modes:   10baseT/Half 10baseT/Full 
                                100baseT/Half 100baseT/Full 
                                1000baseT/Half 1000baseT/Full 
        Supports auto-negotiation: Yes
        Advertised link modes:  10baseT/Half 10baseT/Full 
                                100baseT/Half 100baseT/Full 
                                1000baseT/Half 1000baseT/Full 
        Advertised auto-negotiation: Yes
        Speed: 1000Mb/s
        Duplex: Full
        Port: Twisted Pair
        PHYAD: 1
        Transceiver: internal
        Auto-negotiation: on
        Supports Wake-on: g
        Wake-on: d
        Current message level: 0x000000ff (255)
        Link detected: yes</span>
</pre></div>
<p class="para">Modificações feitas com o comando <span class="app application">ethtool</span> são temporárias e serão perdidas depois de uma reinicialização do sistema operacional. Se estas modificações devem ser persistentes, simplesmente adicione o comandoo <span class="app application">ethtool</span> desejado a uma declaração <span class="em emphasis">pre-up</span> no arquivo de configuração da interface <span class="file filename">/etc/network/interfaces</span>.</p>
<p class="para">A seguir um exemplo de como a interface identificada como <span class="em emphasis">eth0</span> poderia ser permanentemente configurada com uma velocidade de porta de 1000Mb/s funcionando em modo full duplex</p>
<div class="code"><pre class="contents ">auto eth0
iface eth0 inet static
pre-up /sbin/ethtool -s eth0 speed 1000 duplex full
</pre></div>
<div class="note" title="Nota"><div class="inner"><div class="region"><div class="contents">
			<p class="para">Embora o exemplo acima mostre a interface configurada para usar o método <span class="em emphasis">static</span>, este também funciona com outros métodos, como DHCP. O exemplo visa demonstrar apenas o posicionamento adequado da declaração <span class="em emphasis">pre-up</span> em relação ao resto da configuração da interface.</p>
			</div></div></div></div>
</div></div>
</div></div>
</div>
</div></div>
<div class="sect2 sect" id="ip-addressing"><div class="inner">
<div class="hgroup"><h2 class="title">Endereçamento IP</h2></div>
<div class="region">
<div class="contents"><p class="para">A seção a seguir descreve o processo de configuração dos endereços IP e default gateway do seu sistema, necessários para comunicação em uma LAN e na Internet.</p></div>
<div class="sect3 sect" id="temp-ip-assignment"><div class="inner">
<div class="hgroup"><h3 class="title">Configuração de endereço IP temporário</h3></div>
<div class="region"><div class="contents">
<p class="para">Para configurações temporárias de rede, você pode usar comandos padrões como <span class="app application">ip</span>, <span class="app application">ifconfig</span> e <span class="app application">route</span>, os quais também são encontrados na maioria dos outro sistemas operacionais GNU/Linux. Estes comandos lhe permitem configurações de efeito imediato, entretanto estas não são persistentes e serão perdidas depois de uma reinicialização.</p>
<p class="para">Para configurar um endereço IP de forma temporária, você poderá utilizar o comando <span class="app application">ifconfig</span> conforme descrição abaixo. Não se esquecendo de modificar o endereço IP e a máscara de sub-rede para se adequar as necessidades da sua rede.</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo ifconfig eth0 10.0.0.100 netmask 255.255.255.0</span>
</pre></div>
<p class="para">Para verificar as configurações de endereçamento IP da interface <span class="app application">eth0</span>, você poderá utilizar o comando <span class="app application">ifconfig</span> da seguinte forma.</p>
<div class="screen"><pre class="contents "><span class="cmd command">ifconfig eth0</span>
<span class="output computeroutput">eth0      Link encap:Ethernet  HWaddr 00:15:c5:4a:16:5a  
          inet addr:10.0.0.100  Bcast:10.0.0.255  Mask:255.255.255.0
          inet6 addr: fe80::215:c5ff:fe4a:165a/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:466475604 errors:0 dropped:0 overruns:0 frame:0
          TX packets:403172654 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:2574778386 (2.5 GB)  TX bytes:1618367329 (1.6 GB)
          Interrupt:16</span> 
</pre></div>
<p class="para">Para configurar o gateway padrão, você poderá utilizar o comando <span class="app application">route</span> da seguinte forma. Não se esquecendo de utilizar um endereço de gateway que corresponda as necessidades da sua rede.</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo route add default gw 10.0.0.1 eth0</span>
</pre></div>
<p class="para">Para verificar as configurações de gateway padrão, você poderá utilizar o comando <span class="app application">route</span> da seguinte maneira.</p>
<div class="screen"><pre class="contents "><span class="cmd command">route -n</span>
<span class="output computeroutput">Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
10.0.0.0        0.0.0.0         255.255.255.0   U     1      0        0 eth0
0.0.0.0         10.0.0.1        0.0.0.0         UG    0      0        0 eth0</span>
</pre></div>
<p class="para">
			If you require DNS for your temporary network configuration, you can add DNS server
			IP addresses in the file <span class="file filename">/etc/resolv.conf</span>. In general, editing
                        <span class="file filename">/etc/resolv.conf</span> directly is not recommanded, but this is a
                        temporary and non-persistent configuration. The example below 
			shows how to enter two DNS servers to <span class="file filename">/etc/resolv.conf</span>, which 
			should be changed to servers appropriate for your network. A more lengthy description 
			of the proper persistent way to do DNS client configuration is in a following section.
			</p>
<div class="code"><pre class="contents ">nameserver 8.8.8.8
nameserver 8.8.4.4
</pre></div>
<p class="para">Se você não precisa mais desta configuração e deseja remover toda a configuração IP de uma interface, você pode usar o comando <span class="app application">ip</span> com a opção flush como demonstrado a seguir.</p>
<div class="screen"><pre class="contents "><span class="cmd command">ip addr flush eth0</span>
</pre></div>
<div class="note" title="Nota"><div class="inner"><div class="region"><div class="contents">
			<p class="para">
			Flushing the IP configuration using the <span class="app application">ip</span> command does not clear the 
			contents of <span class="file filename">/etc/resolv.conf</span>. You must remove or modify those entries manually,
                        or re-boot which should also cause <span class="file filename">/etc/resolv.conf</span>, which is actually now a
                        symlink to <span class="file filename">/run/resolvconf/resolv.conf</span>, to be re-written.
			</p>
			</div></div></div></div>
</div></div>
</div></div>
<div class="sect3 sect" id="dynamic-ip-addressing"><div class="inner">
<div class="hgroup"><h3 class="title">Configuração de endereço IP dinâmico (Cliente DHCP)</h3></div>
<div class="region"><div class="contents">
<p class="para">Para configurar seu servidor para usar DHCP como endereçamento dinâmico, adicione o método <span class="em emphasis">dhcp</span> à declaração inet para a interface apropriada no arquivo <span class="file filename">/etc/network/interfaces</span>. O exemplo abaixo é para a configuração da sua primeira interface Ethernet identificada como <span class="em emphasis">eth0</span>.</p>
<div class="code"><pre class="contents ">auto eth0
iface eth0 inet dhcp
</pre></div>
<p class="para">Ao adicionar uma configuração de interface como mostrado anteriormente, você pode manualmente habilitar a interface através do comando <span class="app application">ifup</span> que inicia o processo DHCP via <span class="app application">dhclient</span>.</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo ifup eth0</span>
</pre></div>
<p class="para">Para desabilitar uma interface manualmente, você poderá utilizar o comando <span class="app application">ifdown</span>, que por sua vez iniciará o processo de liberação de DHCP, e desligará a interface.</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo ifdown eth0</span>
</pre></div>
</div></div>
</div></div>
<div class="sect3 sect" id="static-ip-addressing"><div class="inner">
<div class="hgroup"><h3 class="title">Configuração de endereço IP estático</h3></div>
<div class="region"><div class="contents">
<p class="para">Para configurar seu sistema para que o mesmo use um endereço IP estático, adicione o método <span class="em emphasis">static</span> à declaração inet para a interface apropriada no arquivo <span class="file filename">/etc/network/interfaces</span>. O exemplo a seguir é para a configuração da sua primeira interface Ethernet identificada como <span class="em emphasis">eth0</span>. Troque os valores de <span class="em emphasis">address</span>, <span class="em emphasis">netmask</span>, e <span class="em emphasis">gateway</span> de acordo com as especificações da sua rede.</p>
<div class="code"><pre class="contents ">auto eth0
iface eth0 inet static
address 10.0.0.100
netmask 255.255.255.0
gateway 10.0.0.1
</pre></div>
<p class="para">Para adicionar uma configuração de interface, como mostrado acima, você pode habilitar manualmente a interface através do comando <span class="app application">ifup</span>.</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo ifup eth0</span>
</pre></div>
<p class="para">Para desativar manualmente a interface, você pode usar o comando <span class="app application">ifdown</span>.</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo ifdown eth0</span>
</pre></div>
</div></div>
</div></div>
<div class="sect3 sect" id="loopback-interface"><div class="inner">
<div class="hgroup"><h3 class="title">Interface local</h3></div>
<div class="region"><div class="contents">
<p class="para">A interface de loopback é identificada pelo sistema como <span class="em emphasis">lo</span>, possui endereço IP padrão 127.0.0.1, e pode ser visualizada através do comando ifconfig.</p>
<div class="screen"><pre class="contents "><span class="cmd command">ifconfig lo</span>
<span class="output computeroutput">lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:2718 errors:0 dropped:0 overruns:0 frame:0
          TX packets:2718 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:183308 (183.3 KB)  TX bytes:183308 (183.3 KB)</span>
</pre></div>
<p class="para">Por default, deveria haver duas linhas em <span class="file filename">/etc/network/interfaces</span> responsáveis por automaticamente configurar sua interface loopback. É recomendado que você mantenha estas configurações a menos que você tenha um propósito específico para as modificar. Um exemplo das duas linhas default é mostrado a seguir:</p>
<div class="code"><pre class="contents ">auto lo
iface lo inet loopback
</pre></div>
</div></div>
</div></div>
</div>
</div></div>
<div class="sect2 sect" id="name-resolution"><div class="inner">
<div class="hgroup"><h2 class="title">Resolução de nomes</h2></div>
<div class="region">
<div class="contents"><p class="para">A resolução de nome que se refere à rede IP é o processo de mapeamento de endereços IP para nomes de máquinas, tornando isso mais fácil a identificação de recursos na rede. A seguinte seção irá explicar como configurar corretamente o seu sistema para resolução de nomes usando o DNS e registros para nomes de máquinas estáticos.</p></div>
<div class="sect3 sect" id="dns-client-configuration"><div class="inner">
<div class="hgroup"><h3 class="title">Configuração do Cliente DNS</h3></div>
<div class="region"><div class="contents">
<p class="para">
				Traditionally, the file <span class="file filename">/etc/resolv.conf</span> was a static configuration file that rarely
			needed to be changed or automatically changed via DCHP client hooks. Nowadays, a computer can switch from
			one network to another quite often and the <span class="em emphasis">resolvconf</span> framework is now being used to track
			these changes and update the resolver's configuration automatically.  It acts as an intermediary between programs
			that supply nameserver information and applications that need nameserver information. Resolvconf gets populated with information
			by a set of hook scripts related to network interface configuration. The most notable difference for the
			user is that any change manually done to <span class="file filename">/etc/resolv.conf</span> will be lost as it gets overwritten each time
			something triggers resolvconf. Instead, resolvconf uses DHCP client hooks, and <span class="file filename">/etc/network/interfaces</span> to
			generate a list of nameservers and domains to put in <span class="file filename">/etc/resolv.conf</span>, which is now a symlink:

<div class="code"><pre class="contents ">/etc/resolv.conf -&gt; ../run/resolvconf/resolv.conf
</pre></div>

			To configure the resolver, add the IP addresses of the nameservers that
			are appropriate for your network in the file <span class="file filename">/etc/network/interfaces</span>. You can also
			add an optional DNS suffix search-lists to match your network domain names. For each other valid
			resolv.conf configuration option, you can include, in the stanza, one line beginning with that
			option name with a <span class="em em-bold emphasis">dns-</span> prefix. The resulting file might look like the following:
			</p>
<div class="code"><pre class="contents ">iface eth0 inet static
    address 192.168.3.3
    netmask 255.255.255.0
    gateway 192.168.3.1
    dns-search example.com
    dns-nameservers 192.168.3.45 192.168.8.10
</pre></div>
<p class="para">A opção <span class="em emphasis">search</span> também pode ser usada com vários nomes de domínio de modo que as consultas DNS serão anexadas na ordem em que são inseridos. Por exemplo, Sua rede pode ter vários sub-domínios para pesquisar; um domínio de nível superior <span class="em emphasis">exemplo.com</span>, e dois sub-domínios, <span class="em emphasis">vendas.exemplo.com</span> e <span class="em emphasis">dev.exemplo.com</span>.</p>
<p class="para">
			If you have multiple domains you wish to search, your configuration might look like the following:
			</p>
<div class="code"><pre class="contents ">iface eth0 inet static
    address 192.168.3.3
    netmask 255.255.255.0
    gateway 192.168.3.1
    dns-search example.com sales.example.com dev.example.com
    dns-nameservers 192.168.3.45 192.168.8.10
</pre></div>
<p class="para">Se você tentar executar o ping em um host com o nome de <span class="em emphasis">server1</span>, seu sistema automaticamente consultará DNS para o Nome de Domínio Totalmente Qualificado(FQDN) dele na seguinte ordem:</p>
<div class="list orderedlist"><ol class="list orderedlist">
<li class="list orderedlist">
			<p class="para">servidor1<span class="em em-bold emphasis">.exemplo.com</span></p>
			</li>
<li class="list orderedlist">
			<p class="para">servidor1<span class="em em-bold emphasis">.vendas.exemplo.com</span></p>
			</li>
<li class="list orderedlist">
			<p class="para">servidor1<span class="em em-bold emphasis">.dev.exemplo.com</span></p>
			</li>
</ol></div>
<p class="para">Se não forem encontradas correspondências, o servidor DNS irá fornecer um resultado de <span class="em emphasis">notfound</span> e a consulta DNS irá falhar.</p>
</div></div>
</div></div>
<div class="sect3 sect" id="static-hostnames"><div class="inner">
<div class="hgroup"><h3 class="title">Nomes de máquinas estáticos</h3></div>
<div class="region"><div class="contents">
<p class="para">Hostnames estáticos são definidos localmente como hostname para mapeamentos de IP localizado no arquivo <span class="file filename">/etc/hosts</span>. As entradas no arquivo <span class="file filename">hosts</span> terão precedência sobre DNS de forma padrão. Isto significa que se o seu sistema tenta resolver um hostname e isso corresponde a uma entrada no arquivo /etc/hosts, ele não tentará procurar o registro no DNS. Em algumas formações, especialmente quando o acesso a Internet não é necessário, servidores que se comunicam com um número limitado de recursos podem ser facilmente configurados para usar hostnames estático em vez de DNS.</p>
<p class="para">O seguinte é um exemplo de um arquivo <span class="file filename">hosts</span> onde um número de servidores locais tem sido identificados simplismente pelo nome de suas máquinas, apelidos e seus equivalentes Nomes de Domínio Totalmente Qualificado (FQDN's).</p>
<div class="code"><pre class="contents ">127.0.0.1	localhost
127.0.1.1	ubuntu-server
10.0.0.11	server1 server1.example.com vpn
10.0.0.12	server2 server2.example.com mail
10.0.0.13	server3 server3.example.com www
10.0.0.14	server4 server4.example.com file
</pre></div>
<div class="note" title="Nota"><div class="inner"><div class="region"><div class="contents">
			<p class="para">No exemplo acima, note que cada um dos servidores tem sidon dado apelidos além de seus corretos nomes e  FQDN's. <span class="em emphasis">Server1</span> tem sido mapeado para o nome de <span class="em emphasis">vpn</span>, <span class="em emphasis">server2</span> é referido como <span class="em emphasis">mail</span>, <span class="em emphasis">server3</span> como <span class="em emphasis">www</span>, e <span class="em emphasis">server4</span> como <span class="em emphasis">file</span>.</p>
			</div></div></div></div>
</div></div>
</div></div>
<div class="sect3 sect" id="name-service-switch-config"><div class="inner">
<div class="hgroup"><h3 class="title">Configuração do Serviço de Sistema de Nomes</h3></div>
<div class="region"><div class="contents">
<p class="para">A ordem na qual o sistema escolhe um método de resolver hostnames (nomes de máquinas) para endereços IP é controlado pelo arquivo de configuração do Sistema de Serviço de Nomes (NSS) <span class="file filename">/etc/nsswitch.conf</span>. Como mensionado na seção anterior, tipicamente hosts estáticos definidos no arquivo de sistema <span class="file filename">/etc/hosts</span> têm precedência sobre nomes resolvidos de DNS. O seguinte é um exemplo da linha responsável por esta ordem de buscas hostname no arquivo <span class="file filename">/etc/nsswitch.conf</span>.</p>
<div class="code"><pre class="contents ">hosts:          files mdns4_minimal [NOTFOUND=return] dns mdns4
</pre></div>
<div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
			<p class="para"><span class="em em-bold emphasis">files</span> primeiro tente resolver hostnames estáticos localizados em <span class="file filename">/etc/hosts</span>.</p>
			</li>
<li class="list itemizedlist">
			<p class="para"><span class="em em-bold emphasis">mdns4_minimal</span> tentativas de resolver o nome usando DNS Multicast  (Multicast é a entrega de informação para múltiplos destinatários simultaneamente).</p>
			</li>
<li class="list itemizedlist">
			<p class="para"><span class="em em-bold emphasis">[NOTFOUND=return]</span> significa que cada resposta de <span class="em emphasis">notfound</span> pelo processo anterior <span class="em emphasis">mdns4_minimal</span> deve ser tratado como competente e que o sistema não deve tentar continuar a caça para uma resposta.</p>
			</li>
<li class="list itemizedlist">
			<p class="para"><span class="em em-bold emphasis">dns</span> representa um legado de procura de DNS unicast (unicast é um endereçamento para um pacote feito a um único destino, ponto-a-ponto).</p>
			</li>
<li class="list itemizedlist">
			<p class="para"><span class="em em-bold emphasis">mdns4</span> representa uma procura de DNS Multicast (Multicast é a entrega de informação para múltiplos destinatários simultaneamente).</p>
			</li>
</ul></div>
<p class="para">Para modificar a ordem dos métodos de resolução de nomes mencionados acima, você pode simplismente mudar a string <span class="em emphasis">hosts:</span> para o valor de sua escolha. Por exemplo, se você preferir usar o legado de DNS Unicast versus DNS Multicast, você pode mudar a string em <span class="file filename">/etc/nsswitch.conf</span> como é mostrado abaixo.</p>
<div class="code"><pre class="contents ">hosts:          arquivos dns [NOTFOUND=return] mdns4_minimal mdns4
</pre></div>
</div></div>
</div></div>
</div>
</div></div>
<div class="sect2 sect" id="bridging"><div class="inner">
<div class="hgroup"><h2 class="title">Ponte</h2></div>
<div class="region"><div class="contents">
<p class="para">Unindo várias interfaces de rede é uma configuração mais avançada, mas é muito útil em vários ambientes. Um ambiente está configurando uma ponte com várias interfaces de rede, usando um firewall para filtrar o tráfego entre os dois seguimentos de rede. Outro ambiente está usando uma ponte no sistema  com uma interface de rede para permitir o acesso direto de máquinas virtuais do lado de fora da rede. O exemplo a seguir abrange o último ambiente.</p>
<p class="para">Antes de configurar uma ponte terá de instalar o pacote <span class="app application">bridge-utils</span>. Para instalar o pacote, em um terminal digite:</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo apt install bridge-utils</span>
</pre></div>
<p class="para">Em seguida, configure a ponte, editando <span class="file filename">/etc/network/interfaces</span>:</p>
<div class="code"><pre class="contents ">auto lo
iface lo inet loopback

auto br0
iface br0 inet static
        address 192.168.0.10
        network 192.168.0.0
        netmask 255.255.255.0
        broadcast 192.168.0.255
        gateway 192.168.0.1
        bridge_ports eth0
        bridge_fd 9
        bridge_hello 2
        bridge_maxage 12
        bridge_stp off
</pre></div>
<div class="note" title="Nota"><div class="inner"><div class="region"><div class="contents">
        <p class="para">Entre com os valores apropriados para sua interface física e rede.</p>
      </div></div></div></div>
<p class="para">
      Now bring up the bridge:
      </p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo ifup br0</span>
</pre></div>
<p class="para">A nova ponte de interface deve agora estar ativa e funcionando. O <span class="app application">brctl</span> fornece informações úteis sobre o estado da ponte, controla quais interfaces são parte da ponte, etc. Veja <span class="cmd command">man brctl</span> para mais informações.</p>
</div></div>
</div></div>
<div class="sect2 sect" id="network-config-resources"><div class="inner">
<div class="hgroup"><h2 class="title">Recursos</h2></div>
<div class="region"><div class="contents">
<p class="para">
        
        </p>
<div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
            <p class="para">A <a href="https://help.ubuntu.com/community/Network" class="ulink" title="https://help.ubuntu.com/community/Network">Página de redes da wiki do Ubuntu</a> possui links para artigos abrangendo ainda mais sobre configurações avançadas de rede.</p>
          </li>
<li class="list itemizedlist">
            <p class="para">
            The <a href="http://manpages.ubuntu.com/manpages/man8/resolvconf.8.html" class="ulink" title="http://manpages.ubuntu.com/manpages/man8/resolvconf.8.html">resolvconf man page</a> has 
            more information on resolvconf.
            </p>
          </li>
<li class="list itemizedlist">
            <p class="para">
            The <a href="http://manpages.ubuntu.com/manpages/man5/interfaces.5.html" class="ulink" title="http://manpages.ubuntu.com/manpages/man5/interfaces.5.html">interfaces man page</a> has 
            details on more options for <span class="file filename">/etc/network/interfaces</span>.
            </p>
          </li>
<li class="list itemizedlist">
            <p class="para">
            The <a href="http://manpages.ubuntu.com/manpages/man8/dhclient.8.html" class="ulink" title="http://manpages.ubuntu.com/manpages/man8/dhclient.8.html">dhclient man page</a> has 
            details on more options for configuring DHCP client settings.
            </p>
          </li>
<li class="list itemizedlist">
            <p class="para">
            For more information on DNS client configuration see the 
            <a href="http://manpages.ubuntu.com/manpages/man5/resolver.5.html" class="ulink" title="http://manpages.ubuntu.com/manpages/man5/resolver.5.html">resolver man page</a>.  Also, Chapter 
            6 of O'Reilly's <a href="http://oreilly.com/catalog/linag2/book/ch06.html" class="ulink" title="http://oreilly.com/catalog/linag2/book/ch06.html">Linux Network Administrator's Guide</a> is 
            a good source of resolver and name service configuration information.
            </p>
          </li>
<li class="list itemizedlist">
            <p class="para">
            For more information on <span class="em emphasis">bridging</span> see the 
            <a href="http://manpages.ubuntu.com/manpages/man8/brctl.8.html" class="ulink" title="http://manpages.ubuntu.com/manpages/man8/brctl.8.html">brctl man page</a> and the Linux Foundation's
            <a href="http://www.linuxfoundation.org/collaborate/workgroups/networking/bridge" class="ulink" title="http://www.linuxfoundation.org/collaborate/workgroups/networking/bridge">Networking-Bridge</a> page.
            </p>
          </li>
</ul></div>
</div></div>
</div></div>
</div>
<div class="links nextlinks">
<a class="nextlinks-prev" href="networking.html" title="Rede">Anterior</a><a class="nextlinks-next" href="tcpip.html" title="TCP/IP">Próximo</a>
</div>
<div class="clear"></div>
</div>
<div id="pagebottom"></div>
</div></div>
</div>
<div id="footer"><p>The material in this document is available under a free license, see <a href="../../legal.html">Legal</a> for details.<br>
          For information on contributing see the <a href="https://wiki.ubuntu.com/DocumentationTeam">Ubuntu Documentation Team wiki page</a>.
          To report errors in this serverguide documentation, <a href="https://bugs.launchpad.net/serverguide">file a bug report</a>.</p></div>
</div>
</body>
</html>
