<!DOCTYPE html>
<html lang=fr>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Serveur OpenSSH</title>
<link rel="stylesheet" type="text/css" href="fr.css">
<script type="text/javascript" src="jquery.js"></script><script type="text/javascript" src="jquery.syntax.js"></script><script type="text/javascript" src="yelp.js"></script>
</head>
<body id="home">
<script src="https://ssl.google-analytics.com/urchin.js" type="text/javascript"></script><script type="text/javascript">
        _uacct = "UA-1018242-8";
        urchinTracker();
      </script><div id="container">
<div id="container-inner">
<div id="mothership"><ul>
<li><a href="https://partners.ubuntu.com">Partners</a></li>
<li><a href="https://www.ubuntu.com/support/community-support">Support</a></li>
<li><a href="https://community.ubuntu.com">Community</a></li>
<li><a href="https://www.ubuntu.com">Ubuntu.com</a></li>
</ul></div>
<div id="header">
<h1 id="ubuntu-header"><a href="https://help.ubuntu.com/">Ubuntu Documentation</a></h1>
<ul id="main-menu">
<li><a class="main-menu-item current" href="../../">Official Documentation</a></li>
<li><a href="https://help.ubuntu.com/community/CommunityHelpWiki">Community Help Wiki</a></li>
<li><a href="https://community.ubuntu.com/t/contribute/26">Contribute</a></li>
</ul>
</div>
<div id="menu-search"><div id="search-box">
<noscript><form action="https://www.google.com/cse" id="cse-search-box"><div>
<input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq"><input type="hidden" name="ie" value="UTF-8"><input type="text" name="q" size="21"><input type="submit" name="sa" value="Search">
</div></form></noscript>
<script>
                document.write('<form action="../../search.html" id="cse-search-box">');
                document.write('  <div>');
                document.write('    <input type="hidden" name="cof" value="FORID:9">');
                document.write('    <input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq">');
                document.write('    <input type="hidden" name="ie" value="UTF-8">');
                document.write('    <input type="text" name="q" size="21">');
                document.write('    <input type="submit" name="sa" value="Search">');
                document.write('  </div>');
                document.write('</form>');
              </script>
</div></div>
<div class="trails"><div class="trail">
<a href="../../16.04" class="trail">Ubuntu 16.04</a> » <a class="trail" href="index.html" title="Guide du serveur Ubuntu">Guide du serveur Ubuntu</a> » <a class="trail" href="remote-administration.html" title="Administration à distance">Administration à distance</a> » </div></div>
<div id="cwt-content" class="clearfix content-area"><div id="page">
<div id="content">
<div class="links nextlinks">
<a class="nextlinks-prev" href="remote-administration.html" title="Administration à distance">Précédent</a><a class="nextlinks-next" href="puppet.html" title="Puppet">Suivant</a>
</div>
<div class="hgroup"><h1 class="title">Serveur OpenSSH</h1></div>
<div class="region">
<div class="contents"></div>
<div class="links sectionlinks" role="navigation"><ul>
<li class="links"><a class="xref" href="openssh-server.html#openssh-introduction" title="Introduction">Introduction</a></li>
<li class="links"><a class="xref" href="openssh-server.html#openssh-installation" title="Installation">Installation</a></li>
<li class="links"><a class="xref" href="openssh-server.html#openssh-configuration" title="Configuration">Configuration</a></li>
<li class="links"><a class="xref" href="openssh-server.html#openssh-keys" title="Clés SSH">Clés SSH</a></li>
<li class="links"><a class="xref" href="openssh-server.html#openssh-references" title="Références">Références</a></li>
</ul></div>
<div class="sect2 sect" id="openssh-introduction"><div class="inner">
<div class="hgroup"><h2 class="title">Introduction</h2></div>
<div class="region"><div class="contents">
<p class="para">Cette section du guide du serveur Ubuntu présente un ensemble d'outils puissants appelé <span class="em emphasis">OpenSSH</span> pour le contrôle à distance et le transfert de données entre des ordinateurs en réseau. Vous apprendrez également quelques paramètres de configuration possibles avec l'application serveur OpenSSH et comment les changer sur votre système Ubuntu.</p>
<p class="para">OpenSSH est une version libre de la famille d'outils du protocole Secure Shell (SSH) pour le contrôle à distance ou le transfert des fichiers entre les ordinateurs. Les outils traditionnels utilisés pour accomplir ces fonctions tels que <span class="app application">telnet</span> ou <span class="app application">rcp</span> ne sont pas sécurisés et transmettent le mot de passe utilisateur en clair lors de leurs utilisations. OpenSSH fournit un démon de serveur et des outils pour les clients afin de sécuriser le contrôle à distance chiffré et les opérations de transfert de fichiers, remplaçant ainsi les anciens outils.</p>
<p class="para">Le serveur OpenSSH, <span class="app application">sshd</span>, attend en permanence des connexions depuis des clients. Quand une requête de connexion a lieu, <span class="app application">sshd</span> établit la connexion correcte en fonction du type de client. Par exemple, si un client se connecte avec le client <span class="app application">ssh</span>, le serveur OpenSSH va établir une connexion sécurisée après une authentification. Si un client se connecte avec <span class="app application">scp</span>, le serveur OpenSSH va commencer un transfert de fichier sécurisé entre le serveur et le client après une authentification. OpenSSH peut utiliser de nombreuses méthodes d'authentification, par exemple un mot de passe, une clé publique, ou un ticket <span class="app application">Kerberos</span>.</p>
</div></div>
</div></div>
<div class="sect2 sect" id="openssh-installation"><div class="inner">
<div class="hgroup"><h2 class="title">Installation</h2></div>
<div class="region"><div class="contents">
<p class="para">L'installation des applications client et serveur d'OpenSSH est simple. Pour installer les applications clientes d'OpenSSH sur votre système Ubuntu, tapez cette commande dans un terminal :</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo apt install openssh-client</span>
</pre></div>
<p class="para">Pour installer le serveur OpenSSH et les fichiers nécessaires, utilisez cette commande dans un terminal :</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo apt install openssh-server</span>
</pre></div>
<p class="para">Le paquet <span class="app application">openssh-server</span> peut aussi être sélectionné pour s'installer pendant la procédure d'installation de l'édition serveur.</p>
</div></div>
</div></div>
<div class="sect2 sect" id="openssh-configuration"><div class="inner">
<div class="hgroup"><h2 class="title">Configuration</h2></div>
<div class="region"><div class="contents">
<p class="para">Vous pouvez configurer le comportement par défaut du serveur OpenSSH, <span class="app application">sshd</span>, en modifiant le fichier <span class="file filename">/etc/ssh/sshd_config</span>. Pour des informations sur les options de configuration utilisées dans ce fichier, veuillez lire le manuel approprié en tapant la commande suivante dans un terminal :</p>
<div class="screen"><pre class="contents "><span class="cmd command">man sshd_config</span>
</pre></div>
<p class="para">Il existe de nombreuses directives dans le fichier de configuration <span class="app application">sshd</span> contrôlant des choses telles que les paramètres de communication et les modes d'authentification. Ce qui suit sont des exemples de directives de configuration modifiables en éditant le fichier <span class="file filename">/etc/ssh/sshd_config</span>.</p>
<div class="note note-tip" title="Astuce"><div class="inner"><div class="region"><div class="contents">
                <p class="para">Avant de modifier le fichier de configuration, vous devriez faire une copie du fichier original et le protéger en écriture de façon à conserver les paramètres d'origine en référence et à pouvoir les réutiliser en cas de besoin.</p>
                <p class="para">Copiez le fichier <span class="file filename">/etc/ssh/sshd_config</span> et protégez le en écriture en tapant la commande suivante dans un terminal :</p>

<div class="screen"><pre class="contents "><span class="cmd command">sudo cp /etc/ssh/sshd_config /etc/ssh/sshd_config.original</span>
<span class="cmd command">sudo chmod a-w /etc/ssh/sshd_config.original</span>
</pre></div>
	    </div></div></div></div>
<p class="para">Voici des exemples de directives de configuration que vous pouvez changer :</p>
<div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
               <p class="para">Pour que OpenSSH écoute sur le port TCP 2222 au lieu du port par défaut 22, changez la directive Port comme ceci :</p>
               <p class="para">Port 2222</p>
               </li>
<li class="list itemizedlist">
            <p class="para">Pour que <span class="app application">sshd</span> accepte les informations de connexion basées sur une clef publique, il suffit d'ajouter ou de modifier la ligne :</p>
               <p class="para">PubkeyAuthentication yes</p>
            <p class="para">Si la ligne est déjà présente, alors assurez-vous qu'elle n'est pas commentée.</p>
            </li>
<li class="list itemizedlist">
             <p class="para">Pour que le serveur OpenSSH affiche le contenu du fichier <span class="file filename">/etc/issue.net</span> comme une invite avant l'affichage de l'écran de connexion, il suffit d'ajouter ou de modifier la ligne :</p>
               <p class="para">Banner /etc/issue.net</p>
               <p class="para">dans le fichier <span class="file filename">/etc/ssh/sshd_config</span>.</p>
             </li>
</ul></div>
<p class="para">Après avoir modifié le fichier <span class="file filename">/etc/ssh/sshd_config</span>, enregistrez-le et redémarrez le service <span class="app application">sshd</span> afin de prendre en compte les changements. Pour cela, saisissez la commande suivante dans un terminal :</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo systemctl restart sshd.service</span>
</pre></div>
<div class="note note-warning" title="Avertissement"><div class="inner"><div class="region"><div class="contents">
                  <p class="para">Beaucoup d'autres directives de configuration <span class="app application">sshd</span> sont disponibles pour changer le comportement de l'application serveur en fonction de vos besoins. Soyez averti, cependant, si votre seul moyen d'accès à un serveur est <span class="app application">ssh</span> et que vous faites une erreur dans la configuration <span class="app application">sshd</span> dans le fichier <span class="file filename">/etc/ssh/sshd_config</span>, vous pouvez vous retrouver bloqué sur le serveur lors de son redémarrage. En outre, si une directive de configuration incorrecte est fournie, le serveur <span class="app application">sshd</span> peut refuser de démarrer, soyez donc très prudent lorsque vous modifiez ce fichier sur un serveur distant.</p>
                </div></div></div></div>
</div></div>
</div></div>
<div class="sect2 sect" id="openssh-keys"><div class="inner">
<div class="hgroup"><h2 class="title">Clés SSH</h2></div>
<div class="region"><div class="contents">
<p class="para">Les <span class="em emphasis">clés</span> SSH permettent l’authentification entre deux hôtes sans avoir besoin de mot de passe. L’authentification par clé SSH utilise deux clés, une clé <span class="em emphasis">privée</span> et une clé <span class="em emphasis">publique</span>.</p>
<p class="para">Pour générer les clés, dans un terminal tapez :</p>
<div class="screen"><pre class="contents "><span class="cmd command">ssh-keygen -t rsa</span>
</pre></div>
<p class="para">Cela générera les clés à l'aide de l'<span class="em emphasis">Algorithme RSA</span>. Pendant le processus, vous serez invité à entrer un mot de passe. Appuyez simplement sur <span class="em emphasis">Entrée</span> lorsque vous y êtes invité pour créer la clé.</p>
<p class="para">Par défaut, la clé <span class="em emphasis">publique</span> est sauvegardée dans le fichier <span class="file filename">~/.ssh/id_rsa.pub</span>, alors que la clé <span class="em emphasis">privée</span> est dans <span class="file filename">~/.ssh/id_rsa</span>. Copiez maintenant le fichier <span class="file filename">id_rsa.pub</span> sur l'hôte distant et ajoutez le à <span class="file filename">~/.ssh/authorized_keys</span> en entrant :</p>
<div class="screen"><pre class="contents "><span class="cmd command">ssh-copy-id identifiant@hôte</span>
</pre></div>
<p class="para">Pour finir, vérifiez les permissions du fichier <span class="file filename">authorized_keys</span>. Seul l'utilisateur authetifié doit avoir les droits en lecture et écriture. Si les permissions sont incorrectes, changez-les en tapant :</p>
<div class="screen"><pre class="contents "><span class="cmd command">chmod 600 .ssh/authorized_keys</span>
</pre></div>
<p class="para">Vous devriez maintenant pouvoir établir une connexion SSH vers l'hôte sans avoir à saisir de mot de passe.</p>
</div></div>
</div></div>
<div class="sect2 sect" id="openssh-references"><div class="inner">
<div class="hgroup"><h2 class="title">Références</h2></div>
<div class="region"><div class="contents"><div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
          <p class="para">Pour plus d'information, consultez la page du <a href="https://help.ubuntu.com/community/SSH" class="ulink" title="https://help.ubuntu.com/community/SSH">Wiki Ubuntu consacrée à SSH</a>.</p>
        </li>
<li class="list itemizedlist">
          <p class="para">
          <a href="http://www.openssh.org/" class="ulink" title="http://www.openssh.org/">Site Web de OpenSSH</a>
          </p>
        </li>
<li class="list itemizedlist">
          <p class="para">
          <a href="https://wiki.ubuntu.com/AdvancedOpenSSH" class="ulink" title="https://wiki.ubuntu.com/AdvancedOpenSSH">Page Wiki sur OpenSSH avancé</a>
          </p>
        </li>
</ul></div></div></div>
</div></div>
</div>
<div class="links nextlinks">
<a class="nextlinks-prev" href="remote-administration.html" title="Administration à distance">Précédent</a><a class="nextlinks-next" href="puppet.html" title="Puppet">Suivant</a>
</div>
<div class="clear"></div>
</div>
<div id="pagebottom"></div>
</div></div>
</div>
<div id="footer"><p>The material in this document is available under a free license, see <a href="../../legal.html">Legal</a> for details.<br>
          For information on contributing see the <a href="https://wiki.ubuntu.com/DocumentationTeam">Ubuntu Documentation Team wiki page</a>.
          To report errors in this serverguide documentation, <a href="https://bugs.launchpad.net/serverguide">file a bug report</a>.</p></div>
</div>
</body>
</html>
