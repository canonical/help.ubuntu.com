<!DOCTYPE html>
<html lang=it>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Server OpenSSH</title>
<link rel="stylesheet" type="text/css" href="it.css">
<script type="text/javascript" src="jquery.js"></script><script type="text/javascript" src="jquery.syntax.js"></script><script type="text/javascript" src="yelp.js"></script>
</head>
<body id="home">
<script src="https://ssl.google-analytics.com/urchin.js" type="text/javascript"></script><script type="text/javascript">
        _uacct = "UA-1018242-8";
        urchinTracker();
      </script><div id="container">
<div id="container-inner">
<div id="mothership"><ul>
<li><a href="https://partners.ubuntu.com">Partners</a></li>
<li><a href="https://www.ubuntu.com/support/community-support">Support</a></li>
<li><a href="https://community.ubuntu.com">Community</a></li>
<li><a href="https://www.ubuntu.com">Ubuntu.com</a></li>
</ul></div>
<div id="header">
<h1 id="ubuntu-header"><a href="https://help.ubuntu.com/">Ubuntu Documentation</a></h1>
<ul id="main-menu">
<li><a class="main-menu-item current" href="../../">Official Documentation</a></li>
<li><a href="https://help.ubuntu.com/community/CommunityHelpWiki">Community Help Wiki</a></li>
<li><a href="https://community.ubuntu.com/t/contribute/26">Contribute</a></li>
</ul>
</div>
<div id="menu-search"><div id="search-box">
<noscript><form action="https://www.google.com/cse" id="cse-search-box"><div>
<input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq"><input type="hidden" name="ie" value="UTF-8"><input type="text" name="q" size="21"><input type="submit" name="sa" value="Search">
</div></form></noscript>
<script>
                document.write('<form action="../../search.html" id="cse-search-box">');
                document.write('  <div>');
                document.write('    <input type="hidden" name="cof" value="FORID:9">');
                document.write('    <input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq">');
                document.write('    <input type="hidden" name="ie" value="UTF-8">');
                document.write('    <input type="text" name="q" size="21">');
                document.write('    <input type="submit" name="sa" value="Search">');
                document.write('  </div>');
                document.write('</form>');
              </script>
</div></div>
<div class="trails"><div class="trail">
<a href="../../16.04" class="trail">Ubuntu 16.04</a> » <a class="trail" href="index.html" title="Guida a Ubuntu Server">Guida a Ubuntu Server</a> » <a class="trail" href="remote-administration.html" title="Amministrazione remota">Amministrazione remota</a> » </div></div>
<div id="cwt-content" class="clearfix content-area"><div id="page">
<div id="content">
<div class="links nextlinks">
<a class="nextlinks-prev" href="remote-administration.html" title="Amministrazione remota">Indietro</a><a class="nextlinks-next" href="puppet.html" title="Puppet">Avanti</a>
</div>
<div class="hgroup"><h1 class="title">Server OpenSSH</h1></div>
<div class="region">
<div class="contents"></div>
<div class="links sectionlinks" role="navigation"><ul>
<li class="links"><a class="xref" href="openssh-server.html#openssh-introduction" title="Introduzione">Introduzione</a></li>
<li class="links"><a class="xref" href="openssh-server.html#openssh-installation" title="Installazione">Installazione</a></li>
<li class="links"><a class="xref" href="openssh-server.html#openssh-configuration" title="Configurazione">Configurazione</a></li>
<li class="links"><a class="xref" href="openssh-server.html#openssh-keys" title="Chiavi SSH">Chiavi SSH</a></li>
<li class="links"><a class="xref" href="openssh-server.html#openssh-references" title="Riferimenti">Riferimenti</a></li>
</ul></div>
<div class="sect2 sect" id="openssh-introduction"><div class="inner">
<div class="hgroup"><h2 class="title">Introduzione</h2></div>
<div class="region"><div class="contents">
<p class="para">Questa sezione della Guida a Ubuntu server introduce una serie di potenti strumenti per il controllo remoto di computer e per il trasferimento di dati tra i computer in rete chiamata <span class="em emphasis">OpenSSH</span>. Vengono spiegate alcune delle possibili impostazioni dell'applicazione server OpenSSH e come modificarne la configurazione in Ubuntu.</p>
<p class="para">OpenSSH è una versione libera della famiglia di protocolli e strumenti SSH (Secure Shell) per il controllo remoto di un computer o per il trasferimento di file tra computer. Gli strumenti tradizionali usati per svolgere queste funzioni, come <span class="app application">telnet</span> o <span class="app application">rcp</span>, sono insicuri e quando utilizzati trasmettono la password dell'utente in chiaro. OpenSSH fornisce un demone server e degli strumenti lato client per facilitare operazioni di controllo remoto e trasferimento di file in sicurezza e con crittografia, sostituendo in modo completo gli strumenti tradizionali.</p>
<p class="para">Il componente server di OpenSSH, <span class="app application">sshd</span>, è in ascolto continuo per le connessioni in arrivo dei client, qualunque sia lo strumento usato sui client. Quando avviene una richiesta di connessione, per mezzo di <span class="app application">sshd</span> viene impostata la corretta connessione in base allo strumento utilizzato dal client. Per esempio, se il computer remoto sta effettuando una connessione con l'applicazione client <span class="app application">ssh</span>, il server OpenSSH imposta, dopo l'autenticazione, una sessione di controllo remoto. Se un utente remoto si connette a un server OpenSSH con <span class="app application">scp</span>, il demone server OpenSSH inizializza, dopo l'autenticazione, una procedura di copia sicura di file tra il server e il client. OpenSSH permette l'utilizzo di diversi metodi di autenticazione, inclusi password semplice, chiave pubblica e ticket <span class="app application">Kerberos</span>.</p>
</div></div>
</div></div>
<div class="sect2 sect" id="openssh-installation"><div class="inner">
<div class="hgroup"><h2 class="title">Installazione</h2></div>
<div class="region"><div class="contents">
<p class="para">L'installazione delle applicazioni server e client di OpenSSH è semplice. Per installare l'applicazione client OpenSSH sui sistemi Ubuntu, usare questo comando al prompt di un terminale:</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo apt install openssh-client</span>
</pre></div>
<p class="para">Per installare l'applicazione server di OpenSSH e i relativi file di supporto, usare questo comando al prompt di un terminale:</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo apt install openssh-server</span>
</pre></div>
<p class="para">È possibile scegliere di installare il pacchetto <span class="app application">openssh-server</span> durante il processo di installazione della Server Edition.</p>
</div></div>
</div></div>
<div class="sect2 sect" id="openssh-configuration"><div class="inner">
<div class="hgroup"><h2 class="title">Configurazione</h2></div>
<div class="region"><div class="contents">
<p class="para">È possibile configurare il comportamento predefinito dell'applicazione server di OpenSSH, <span class="app application">sshd</span>, modificando il file <span class="file filename">/etc/ssh/sshd_config</span>. Per maggiori informazioni riguardo le direttive di configurazione usate in questo file, consultare l'appropriata pagina di manuale inserendo, a un prompt di terminale, il seguente comando:</p>
<div class="screen"><pre class="contents "><span class="cmd command">man sshd_config</span>
</pre></div>
<p class="para">All'interno del file di configurazione di <span class="app application">sshd</span> sono presenti diverse direttive per controllare impostazioni riguardo la comunicazione o i mezzi di autenticazione. Di seguito vengono riportati degli esempi di direttive di configurazione che è possibile cambiare modificando il file <span class="file filename">/etc/ssh/sshd_config</span>.</p>
<div class="note note-tip" title="Suggerimento"><div class="inner"><div class="region"><div class="contents">
                <p class="para">Prima di modificare il file di configurazione, è consigliato fare una copia del file originale e proteggerla dalla scrittura, così da avere le impostazioni originali come riferimento ed eventualmente riusarle se necessario.</p>
                <p class="para">Copiare il file <span class="file filename">/etc/ssh/sshd_config</span> e proteggerlo da scrittura, con il seguente comando, digitando a un prompt di terminale:</p>

<div class="screen"><pre class="contents "><span class="cmd command">sudo cp /etc/ssh/sshd_config /etc/ssh/sshd_config.original</span>
<span class="cmd command">sudo chmod a-w /etc/ssh/sshd_config.original</span>
</pre></div>
	    </div></div></div></div>
<p class="para">Quelli che seguono sono esempi delle direttive di configurazione che è possibile cambiare:</p>
<div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
               <p class="para">Per impostare OpenSSH in modo da restare in ascolto sulla porta TCP 2222 invece che sulla predefinita porta TCP 22, cambiare la direttiva Port come segue:</p>
               <p class="para">Port 2222</p>
               </li>
<li class="list itemizedlist">
            <p class="para">Per consentire l'utilizzo in <span class="app application">sshd</span> di credenziali di accesso basate su chiave pubblica, aggiungere o modificare la riga:</p>
               <p class="para">PubkeyAuthentication yes</p>
            <p class="para">Se la riga è già presente, assicurarsi che non sia commentata.</p>
            </li>
<li class="list itemizedlist">
             <p class="para">Per far sì che il server OpenSSH mostri il contenuto del file <span class="file filename">/etc/issue.net</span> come un banner di pre-accesso, aggiungere o modificare la riga:</p>
               <p class="para">Banner /etc/issue.net</p>
               <p class="para">Nel file <span class="file filename">/etc/ssh/sshd_config</span>.</p>
             </li>
</ul></div>
<p class="para">Dopo aver apportato dei cambiamenti al file <span class="file filename">/etc/ssh/sshd_config</span>, salvarlo e, per rendere effettivi i cambiamenti, riavviare il demone <span class="app application">sshd</span> usando il seguente comando:</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo systemctl restart sshd.service</span>
</pre></div>
<div class="note note-warning" title="Avvertimento"><div class="inner"><div class="region"><div class="contents">
                  <p class="para">Per poter adattare il comportamento dell'applicazione server alle proprie necessità, sono disponibili molte altre direttive di configurazione per <span class="app application">sshd</span>. Se però l'unico metodo per accedere a un server è <span class="app application">ssh</span>, se si commette un errore nella configurazione di <span class="app application">sshd</span> attraverso il file <span class="file filename">/etc/ssh/sshd_config</span>, può risultare precluso l'accesso al server dopo il suo riavvio. Inoltre, se viene fornita una direttiva di configurazione non corretta, il server <span class="app application">sshd</span> potrebbe non riuscire ad avviarsi; è necessario pertanto prestare grande attenzione nella modifica di questo file su un server remoto.</p>
                </div></div></div></div>
</div></div>
</div></div>
<div class="sect2 sect" id="openssh-keys"><div class="inner">
<div class="hgroup"><h2 class="title">Chiavi SSH</h2></div>
<div class="region"><div class="contents">
<p class="para">Le <span class="em emphasis">chiavi</span> SSH consentono l'autenticazione tra due host senza la necessità di una password. L'autenticazione con chiave SSH utilizza due chiavi, una <span class="em emphasis">privata</span> e una <span class="em emphasis">public</span>.</p>
<p class="para">Per generare le chiavi, in un terminale, digitare:</p>
<div class="screen"><pre class="contents "><span class="cmd command">ssh-keygen -t rsa</span>
</pre></div>
<p class="para">Vengono così generate le chiavi usando un <span class="em emphasis">Algoritmo RSA</span>. Durante questo processo viene chiesto di inserire una password: premere semplicemente <span class="em emphasis">Invio</span> quando viene chiesto di creare la chiave.</p>
<p class="para">La chiave <span class="em emphasis">pubblica</span> viene salvata, in modo predefinito, nel file <span class="file filename">~/.ssh/id_rsa.pub</span>, mentre <span class="file filename">~/.ssh/id_rsa</span> è quella <span class="em emphasis">privata</span>. Ora, copiare il file <span class="file filename">id_rsa.pub</span> nell'host remoto e aggiungere il suo contenuto in <span class="file filename">~/.ssh/authorized_keys</span> digitando:</p>
<div class="screen"><pre class="contents "><span class="cmd command">ssh-copy-id NOME_UTENTE@HOST_REMOTO</span>
</pre></div>
<p class="para">Infine, controllare i permessi del file <span class="file filename">authorized_keys</span>: solo l'utente autenticato dovrebbe avere i permessi di lettura e scrittura. Nel caso non fossero corretti, modificarli:</p>
<div class="screen"><pre class="contents "><span class="cmd command">chmod 600 .ssh/authorized_keys</span>
</pre></div>
<p class="para">Dovrebbe essere possibile ora collegarsi via SSH all'host senza l'utilizzo di una password.</p>
</div></div>
</div></div>
<div class="sect2 sect" id="openssh-references"><div class="inner">
<div class="hgroup"><h2 class="title">Riferimenti</h2></div>
<div class="region"><div class="contents"><div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
          <p class="para">Pagina della <a href="https://help.ubuntu.com/community/SSH" class="ulink" title="https://help.ubuntu.com/community/SSH">documentazione della comunità su SSH</a>.</p>
        </li>
<li class="list itemizedlist">
          <p class="para">
          <a href="http://www.openssh.org/" class="ulink" title="http://www.openssh.org/">Sito web di OpenSSH</a>
          </p>
        </li>
<li class="list itemizedlist">
          <p class="para">
          <a href="https://wiki.ubuntu.com/AdvancedOpenSSH" class="ulink" title="https://wiki.ubuntu.com/AdvancedOpenSSH">Pagina wiki di OpenSSH avanzato</a>
          </p>
        </li>
</ul></div></div></div>
</div></div>
</div>
<div class="links nextlinks">
<a class="nextlinks-prev" href="remote-administration.html" title="Amministrazione remota">Indietro</a><a class="nextlinks-next" href="puppet.html" title="Puppet">Avanti</a>
</div>
<div class="clear"></div>
</div>
<div id="pagebottom"></div>
</div></div>
</div>
<div id="footer"><p>The material in this document is available under a free license, see <a href="../../legal.html">Legal</a> for details.<br>
          For information on contributing see the <a href="https://wiki.ubuntu.com/DocumentationTeam">Ubuntu Documentation Team wiki page</a>.
          To report errors in this serverguide documentation, <a href="https://bugs.launchpad.net/serverguide">file a bug report</a>.</p></div>
</div>
</body>
</html>
