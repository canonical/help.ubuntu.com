<!DOCTYPE html>
<html lang=it>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Device Mapper Multipathing</title>
<link rel="stylesheet" type="text/css" href="it.css">
<script type="text/javascript" src="jquery.js"></script><script type="text/javascript" src="jquery.syntax.js"></script><script type="text/javascript" src="yelp.js"></script>
</head>
<body id="home">
<script src="https://ssl.google-analytics.com/urchin.js" type="text/javascript"></script><script type="text/javascript">
        _uacct = "UA-1018242-8";
        urchinTracker();
      </script><script>
      function englishPageVersion() {
        var href = window.location.href;
        if (href.slice(-1) == "/") {
                window.location = "index.html.en";
        } else {
                window.location = href.replace(/\.html.*/, ".html.en");
        }
         return false;
      }
      function browserPreferredLanguage() {
        var href = window.location.href;
        if (href.slice(-1) == "/") {
                window.location = href;
        } else {
                window.location = href.replace(/\.html.*/, ".html");
        }
        return false;
      }
      </script><div id="container">
<div id="container-inner">
<div id="mothership"><ul>
<li><a href="https://partners.ubuntu.com">Partners</a></li>
<li><a href="https://www.ubuntu.com/support/community-support">Support</a></li>
<li><a href="https://community.ubuntu.com">Community</a></li>
<li><a href="https://www.ubuntu.com">Ubuntu.com</a></li>
</ul></div>
<div id="header">
<h1 id="ubuntu-header"><a href="https://help.ubuntu.com/">Ubuntu Documentation</a></h1>
<ul id="main-menu">
<li><a class="main-menu-item current" href="../../">Official Documentation</a></li>
<li><a href="https://help.ubuntu.com/community/CommunityHelpWiki">Community Help Wiki</a></li>
<li><a href="https://community.ubuntu.com/t/contribute/26">Contribute</a></li>
</ul>
</div>
<div id="menu-search"><div id="search-box">
<noscript><form action="https://www.google.com/cse" id="cse-search-box"><div>
<input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq"><input type="hidden" name="ie" value="UTF-8"><input type="text" name="q" size="21"><input type="submit" name="sa" value="Search">
</div></form></noscript>
<script>
                document.write('<form action="../../search.html" id="cse-search-box">');
                document.write('  <div>');
                document.write('    <input type="hidden" name="cof" value="FORID:9">');
                document.write('    <input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq">');
                document.write('    <input type="hidden" name="ie" value="UTF-8">');
                document.write('    <input type="text" name="q" size="21">');
                document.write('    <input type="submit" name="sa" value="Search">');
                document.write('  </div>');
                document.write('</form>');
              </script>
</div></div>
<div class="trails"><div class="trail">
<a href="../../18.04" class="trail">Ubuntu 18.04</a> » <a class="trail" href="index.html.it" title="Guida a Ubuntu Server">Guida a Ubuntu Server</a> » <a class="trail" href="dm-multipath-chapter.html.it" title="DM-Multipath">DM-Multipath</a> » </div></div>
<div id="cwt-content" class="clearfix content-area"><div id="page">
<div id="content">
<div class="links nextlinks">
<a class="nextlinks-prev" href="dm-multipath-chapter.html.it" title="DM-Multipath">Indietro</a><a class="nextlinks-next" href="multipath-devices.html.it" title="Dispositivi multipath">Avanti</a>
</div>
<div class="hgroup"><h1 class="title">Device Mapper Multipathing</h1></div>
<div class="region">
<div class="contents"><p class="para">§Il Device mapper multipathing (DM-Multipath) permette di configurare percorsi I/O multipli tra i nodi del server e gli array di archiviazione in un dispositivo singolo. I suddetti percorsi I/O sono collegamenti SAN fisici che possono includere cavi, interruttori e controller separati. Multipathing aggrega i percorsi I/O, creando un nuovo dispositivo che consisterà di percorsi aggregati. Questo capitolo fornisce un sommario delle nuove caratteristiche di DM-Multipath per la release iniziale di Ubuntu Server 12.04. A seguire verrà fornita una panoramica dettagliata di DM Multipath e dei suoi componenti insieme ad una panoramica sulla sua impostazione.</p></div>
<div class="links sectionlinks" role="navigation"><ul>
<li class="links"><a class="xref" href="device-mapper-multipathing.html.it#multipath-new-and-changed-features" title="Funzioni nuove e modificate per Ubuntu Server 12.04">Funzioni nuove e modificate per Ubuntu Server 12.04</a></li>
<li class="links"><a class="xref" href="device-mapper-multipathing.html.it#multipath-overview" title="Panoramica">Panoramica</a></li>
<li class="links"><a class="xref" href="device-mapper-multipathing.html.it#multipath-storage-array-support" title="Panoramica sull'array di archiviazione">Panoramica sull'array di archiviazione</a></li>
<li class="links"><a class="xref" href="device-mapper-multipathing.html.it#multipath-dm-multipath-components" title="Componenti DM-Multipath">Componenti DM-Multipath</a></li>
<li class="links"><a class="xref" href="device-mapper-multipathing.html.it#multipath-dm-multipath-setup-overview" title="Panoramica sull'impostazione di DM-Multipath">Panoramica sull'impostazione di DM-Multipath</a></li>
</ul></div>
<div class="sect2 sect" id="multipath-new-and-changed-features"><div class="inner">
<div class="hgroup"><h2 class="title">Funzioni nuove e modificate per Ubuntu Server 12.04</h2></div>
<div class="region">
<div class="contents"><p class="para">Magrate da multipath-0.4.8 a multipath-0.4.9</p></div>
<div class="sect3 sect" id="multipath-migration-from-previous-release"><div class="inner">
<div class="hgroup"><h3 class="title">Migrazione da 0.4.8</h3></div>
<div class="region"><div class="contents">
<p class="para">I controllori di priorità non sono più eseguiti come codici binari autonomi ma come librerie condivise; anche il nome del valore chiave per questa caratteristica è stato leggermente modificato. Copiare l'attributo chiamato <span class="em em-bold emphasis">prio_callout</span> in <span class="em em-bold emphasis">prio</span>, modificare anche l'argomento del nome del controllore di priorità, un percorso di sistema non più necessario. Esempio di conversione: <div class="screen"><pre class="contents ">device {
         vendor "NEC"
         product "DISK ARRAY"
         prio_callout mpath_prio_alua /dev/%n
         prio alua
 }</pre></div></p>
<p class="para">Per un elenco completo, consultare la tabella <a class="xref" href="device-mapper-multipathing.html.it#priority-checker-conversion-table" title="Conversione del controllore di priorità">Conversione del controllore di priorità</a>.</p>
<div class="table">
<a name="priority-checker-conversion-table"></a><div class="title">
<a name="checker-conversion-table"></a><h4><span class="title">Conversione del controllore di priorità</span></h4>
</div>
<table summary="Conversione del controllore di priorità" style="border: solid 1px;">
<thead><tr>
<th class="td-colsep" style="text-align: center;">v0.4.8</th>
<th style="text-align: center;">v0.4.9</th>
</tr></thead>
<tbody>
<tr>
<td class="td-colsep"><span class="em em-bold emphasis">prio_callout mpath_prio_emc /dev/%n</span></td>
<td><span class="em em-bold emphasis">prio emc</span></td>
</tr>
<tr class="shade">
<td class="td-colsep"><span class="em em-bold emphasis">prio_callout mpath_prio_alua /dev/%n</span></td>
<td><span class="em em-bold emphasis">prio alua</span></td>
</tr>
<tr>
<td class="td-colsep"><span class="em em-bold emphasis">prio_callout mpath_prio_netapp /dev/%n</span></td>
<td><span class="em em-bold emphasis">prio netapp</span></td>
</tr>
<tr class="shade">
<td class="td-colsep"><span class="em em-bold emphasis">prio_callout mpath_prio_rdac /dev/%n</span></td>
<td><span class="em em-bold emphasis">prio rdac</span></td>
</tr>
<tr>
<td class="td-colsep"><span class="em em-bold emphasis">prio_callout mpath_prio_hp_sw /dev/%n</span></td>
<td><span class="em em-bold emphasis">prio hp_sw</span></td>
</tr>
<tr class="shade">
<td class="td-colsep"><span class="em em-bold emphasis">prio_callout mpath_prio_hds_modular %b</span></td>
<td><span class="em em-bold emphasis">prio hds</span></td>
</tr>
</tbody>
</table>
</div>
<p class="para">Dal momento che il decodificatore del file di configurazione di multipath essenzialmente analizza tutte le coppie chiave/valore che trova per poi utilizzarle, è ragionevole che sia <span class="em em-bold emphasis">prio_callout</span> che <span class="em em-bold emphasis">prio</span> coesistano e si consiglia di inserire l'attributo <span class="em em-bold emphasis">prio</span> prima di iniziare la migrazione. Dopo di ciò è possibile eliminare in sicurezza <span class="em em-bold emphasis">prio_calliout</span>.</p>
</div></div>
</div></div>
</div>
</div></div>
<div class="sect2 sect" id="multipath-overview"><div class="inner">
<div class="hgroup"><h2 class="title">Panoramica</h2></div>
<div class="region"><div class="contents">
<p class="para">Il DM-Multipath può essere utilizzato per fornire:</p>
<div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
          <p class="para"><span class="em emphasis">Ridondanza</span> DM-Multipath permette il verificarsi di un failover in una configurazione attiva/passiva, nella quale solo metà dei percorsi vengono usati in qualsiasi momento per l'I/O. Se un elemento di un percorso di I/O (il cavo, l'interruttore o il controller) viene interrotto, DM-Multipath si sposta su di un percorso alternativo.</p>
        </li>
<li class="list itemizedlist">
          <p class="para"><span class="em emphasis">Migliori prestazioni</span> La prestazione di DM-Multipath può essere configurata in modalità attiva/attiva, in cui l'I/O viene suddiviso tra i percorsi seguendo un ordine round-robin. In alcune configurazioni, DM-Multipath è in grado di rilevare e bilanciare dinamicamente il carico sui percorsi di I/O.</p>
        </li>
</ul></div>
</div></div>
</div></div>
<div class="sect2 sect" id="multipath-storage-array-support"><div class="inner">
<div class="hgroup"><h2 class="title">Panoramica sull'array di archiviazione</h2></div>
<div class="region"><div class="contents"><p class="para">Per impostazione predefinita, DM-Multipath include il supporto per gli array di archiviazione più comuni che supportano DM-Multipath. I dispositivi supportati sono disponibili nel file multipath.conf.defaults. Se l'array di archiviazione supporta DM-Multipath e non è configurato per impostazione predefinita, è necessario aggiungerlo al file di configurazione di DM-Multipath,  multipath.conf. Per informazioni sul file di configurazione di DM-Multipath, consultare la <a class="link" href="multipath-dm-multipath-config-file.html.it" title="Il file di configurazione DM-Multipath">relativa Sezione</a>. Alcuni array di archiviazione richiedono una gestione speciale degli errori di I/O e dello smistamento del percorso. Questi processi necessitano di moduli del kernel gestore hardware separati.</p></div></div>
</div></div>
<div class="sect2 sect" id="multipath-dm-multipath-components"><div class="inner">
<div class="hgroup"><h2 class="title">Componenti DM-Multipath</h2></div>
<div class="region"><div class="contents">
<p class="para">La tabella <a class="link" href="device-mapper-multipathing.html.it#multipath-components-table" title="Componenti DM-Multipath">Componenti DM-Multipath</a> descrive i componenti del pacchetto DM-Multipath.</p>
<div class="table">
<a name="multipath-components-table"></a><div class="title"><h3><span class="title">Componenti DM-Multipath</span></h3></div>
<table summary="Componenti DM-Multipath" style="border: solid 1px;">
<thead><tr>
<th class="td-colsep" style="text-align: left;">Componente</th>
<th style="text-align: left;">Descrizione</th>
</tr></thead>
<tbody>
<tr>
<td class="td-colsep td-rowsep" style="text-align: left;">
          <span class="em em-bold emphasis">Modulo del kernel dm_multipath</span>
        </td>
<td class="td-rowsep" style="text-align: left;">Instrada l'I/O e supporta <span class="em em-bold emphasis">failover</span> per percorsi e gruppi di percorso.</td>
</tr>
<tr class="shade">
<td class="td-colsep td-rowsep" style="text-align: left;">
          <span class="em em-bold emphasis">comando multipath</span>
        </td>
<td class="td-rowsep" style="text-align: left;">Elenca e configura dispositivi <span class="em em-bold emphasis">multipath</span>. Avviato normalmente con <span class="file filename">/etc/rc.sysinit</span>, può essere avviato anche da un programma udev ogni qualvolta viene agginto un dispositivo a blocchi o può essere eseguito dal file system initramfs.</td>
</tr>
<tr>
<td class="td-colsep td-rowsep" style="text-align: left;">
          <span class="em em-bold emphasis">demone multipathd</span>
        </td>
<td class="td-rowsep" style="text-align: left;">Controlla i percorsi: poiché i percorsi possono essere interrotti ma successivamente ritornare a operare normalmente, può inizializzare gli interruttori del gruppi di percorso. Fornisce le modifiche interattive ai dispositivi <span class="em em-bold emphasis">multipath</span>: questo demone deve essere riavviato perché le modifiche al file <span class="file filename">/etc/multipath.conf</span> abbiano effetto.</td>
</tr>
<tr class="shade">
<td class="td-colsep" style="text-align: left;">
          <span class="em em-bold emphasis">comando kpartx</span>
        </td>
<td style="text-align: left;">Crea i dispositivi device mapper per le partizioni su un dispositivo: è necessario usare questo comando con DM-Multipath per le partizioni basate sul DOS. kpartx è fornito col proprio pacchetto, ma  il pacchetto <span class="em em-bold emphasis">Strumenti di multipath</span> dipende da esso.</td>
</tr>
</tbody>
</table>
</div>
</div></div>
</div></div>
<div class="sect2 sect" id="multipath-dm-multipath-setup-overview"><div class="inner">
<div class="hgroup"><h2 class="title">Panoramica sull'impostazione di DM-Multipath</h2></div>
<div class="region"><div class="contents"><p class="para">DM-Multipath comprende impostazioni predefinite già compilate che sono adatte a configurazioni comuni di multipath; l'impostazione di DM-Multipath è spesso semplice; la procedura di base per configurare il sistema con DM-Multipath è la seguente: <div class="list orderedlist"><ol class="list orderedlist">
<li class="list orderedlist">
            <p class="para">Installare i pacchetti <span class="em em-bold emphasis">multipath-tools</span> e <span class="em em-bold emphasis">multipath-tools-boot</span></p>
          </li>
<li class="list orderedlist">
            <p class="para">Creare un file di configurazione vuoto, <span class="file filename">/etc/multipath.conf</span>, che ridefinisce il <a class="link" href="multipath-setting-up-dm-multipath.html.it#multipath-skel-config" title="">seguente</a></p>
          </li>
<li class="list orderedlist">
            <p class="para">Se necessario, modificare il file di configurazione <span class="em em-bold emphasis">multipath.conf</span> per cambiare i valori predefiniti e salvare il file aggiornato.</p>
          </li>
<li class="list orderedlist">
            <p class="para">Avviare il demone di multipath.</p>
          </li>
<li class="list orderedlist">
            <p class="para">Aggiornare il ramdisk iniziale</p>
          </li>
</ol></div>. Per dettagliare istruzioni sull'impostazione della configurazione di multipath, consultare la Sezione <a class="link" href="multipath-setting-up-dm-multipath.html.it#multipath-setup-overview" title="Impostare DM-Multipath">Impostazione di DM-Multipath</a>.</p></div></div>
</div></div>
</div>
<div class="links nextlinks">
<a class="nextlinks-prev" href="dm-multipath-chapter.html.it" title="DM-Multipath">Indietro</a><a class="nextlinks-next" href="multipath-devices.html.it" title="Dispositivi multipath">Avanti</a>
</div>
<div class="clear"></div>
</div>
<div id="pagebottom"></div>
</div></div>
</div>
<div id="footer">
<p style="padding-bottom: 0.4em">You can choose the <b>displayed language</b> by adding a language suffix to the web address
          so it ends with e.g. <tt>.html.en</tt> or <tt>.html.de</tt>.<br>
          If the web address has no language suffix, the preferred language specified in your web browser's settings is used. For your convenience:<br>
          [ <a title="English page version" href="#" onClick="englishPageVersion();">Change to English Language</a> | 
          <a title="Language selected by browser" href="#" onClick="browserPreferredLanguage()">Change to Browser's Preferred Language</a> ]</p>
<p>The material in this document is available under a free license, see <a href="../../legal.html">Legal</a> for details.<br>
          For information on contributing see the <a href="https://wiki.ubuntu.com/DocumentationTeam">Ubuntu Documentation Team wiki page</a>.
          To report errors in this serverguide documentation, <a href="https://bugs.launchpad.net/serverguide">file a bug report</a>.</p>
</div>
</div>
</body>
</html>
