<!DOCTYPE html>
<html lang=pt-BR>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Firewall</title>
<link rel="stylesheet" type="text/css" href="pt_BR.css">
<script type="text/javascript" src="jquery.js"></script><script type="text/javascript" src="jquery.syntax.js"></script><script type="text/javascript" src="yelp.js"></script>
</head>
<body id="home">
<script src="https://ssl.google-analytics.com/urchin.js" type="text/javascript"></script><script type="text/javascript">
        _uacct = "UA-1018242-8";
        urchinTracker();
      </script><script>
      function englishPageVersion() {
        var href = window.location.href;
        if (href.slice(-1) == "/") {
                window.location = "index.html.en";
        } else {
                window.location = href.replace(/\.html.*/, ".html.en");
        }
         return false;
      }
      function browserPreferredLanguage() {
        var href = window.location.href;
        if (href.slice(-1) == "/") {
                window.location = href;
        } else {
                window.location = href.replace(/\.html.*/, ".html");
        }
        return false;
      }
      </script><div id="container">
<div id="container-inner">
<div id="mothership"><ul>
<li><a href="https://partners.ubuntu.com">Partners</a></li>
<li><a href="https://www.ubuntu.com/support/community-support">Support</a></li>
<li><a href="https://community.ubuntu.com">Community</a></li>
<li><a href="https://www.ubuntu.com">Ubuntu.com</a></li>
</ul></div>
<div id="header">
<h1 id="ubuntu-header"><a href="https://help.ubuntu.com/">Ubuntu Documentation</a></h1>
<ul id="main-menu">
<li><a class="main-menu-item current" href="../../">Official Documentation</a></li>
<li><a href="https://help.ubuntu.com/community/CommunityHelpWiki">Community Help Wiki</a></li>
<li><a href="https://community.ubuntu.com/t/contribute/26">Contribute</a></li>
</ul>
</div>
<div id="menu-search"><div id="search-box">
<noscript><form action="https://www.google.com/cse" id="cse-search-box"><div>
<input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq"><input type="hidden" name="ie" value="UTF-8"><input type="text" name="q" size="21"><input type="submit" name="sa" value="Search">
</div></form></noscript>
<script>
                document.write('<form action="../../search.html" id="cse-search-box">');
                document.write('  <div>');
                document.write('    <input type="hidden" name="cof" value="FORID:9">');
                document.write('    <input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq">');
                document.write('    <input type="hidden" name="ie" value="UTF-8">');
                document.write('    <input type="text" name="q" size="21">');
                document.write('    <input type="submit" name="sa" value="Search">');
                document.write('  </div>');
                document.write('</form>');
              </script>
</div></div>
<div class="trails"><div class="trail">
<a href="../../18.04" class="trail">Ubuntu 18.04</a> » <a class="trail" href="index.html.pt-BR" title="Guia para servidores Ubuntu">Guia para servidores Ubuntu</a> » <a class="trail" href="security.html.pt-BR" title="Segurança">Segurança</a> » </div></div>
<div id="cwt-content" class="clearfix content-area"><div id="page">
<div id="content">
<div class="links nextlinks">
<a class="nextlinks-prev" href="console-security.html.pt-BR" title="Console de Segurança">Anterior</a><a class="nextlinks-next" href="apparmor.html.pt-BR" title="AppArmor">Próximo</a>
</div>
<div class="hgroup"><h1 class="title">Firewall</h1></div>
<div class="region">
<div class="contents"></div>
<div class="links sectionlinks" role="navigation"><ul>
<li class="links"><a class="xref" href="firewall.html.pt-BR#firewall-introduction" title="Introdução">Introdução</a></li>
<li class="links"><a class="xref" href="firewall.html.pt-BR#firewall-ufw" title="ufw - Firewall Descomplicado">ufw - Firewall Descomplicado</a></li>
<li class="links"><a class="xref" href="firewall.html.pt-BR#ip-masquerading" title="Mascaramento de IP">Mascaramento de IP</a></li>
<li class="links"><a class="xref" href="firewall.html.pt-BR#firewall-logs" title="Logs">Logs</a></li>
<li class="links"><a class="xref" href="firewall.html.pt-BR#other-firewall-tools" title="Outras Ferramentas">Outras Ferramentas</a></li>
<li class="links"><a class="xref" href="firewall.html.pt-BR#firewall-references" title="Referências">Referências</a></li>
</ul></div>
<div class="sect2 sect" id="firewall-introduction"><div class="inner">
<div class="hgroup"><h2 class="title">Introdução</h2></div>
<div class="region"><div class="contents">
<p class="para">O kernel Linux inclui o subsistema <span class="em emphasis">Netfilter</span>, o qual é usado para manipular ou decidir o destino do tráfego de rede dirigido para ou através de seu servidor. Todas as soluções de firewall Linux modernas utilizam esse sistema para filtragem de pacotes.</p>
<p class="para">
              The kernel's packet filtering system would be of little use to administrators without
			  a userspace interface to manage it. This is the purpose of iptables: When a packet
			  reaches your server, it will be handed off to the Netfilter subsystem for acceptance,
			  manipulation, or rejection based on the rules supplied to it from userspace via
			  iptables. Thus, iptables is all you need to manage your firewall, if you're familiar
			  with it, but many frontends are available to simplify the task.
            </p>
</div></div>
</div></div>
<div class="sect2 sect" id="firewall-ufw"><div class="inner">
<div class="hgroup"><h2 class="title">ufw - Firewall Descomplicado</h2></div>
<div class="region">
<div class="contents">
<p class="para">
	    The default firewall configuration tool for Ubuntu is <span class="app application">ufw</span>. Developed to ease iptables firewall configuration,
	    <span class="app application">ufw</span> provides a user-friendly way to create an IPv4 or IPv6 host-based firewall.
	    </p>
<p class="para">Por padrão o application&gt;ufw</p>
<p class="para">
<span class="quote">"ufw não tem a intenção de provê uma funcionalidade completa de firewall através da sua interface de comando, mas no entanto fornece uma maneira fácil de adicionar e remover regras simples. Atualmente ele é utilizado para firewalls baseados em máquinas."</span>
	    </p>
<p class="para">Alguns exemplos de como usar o <span class="app application">ufw</span>:</p>
<div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
                <p class="para">Primeiramente, o <span class="app application">ufw</span> precisa ser habilitado. No terminal digite:</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo ufw enable</span>
</pre></div>
	      </li>
<li class="list itemizedlist">
                <p class="para">
                To open a port (SSH in this example):
	        </p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo ufw allow 22</span>
</pre></div>
	      </li>
<li class="list itemizedlist">
                <p class="para">Regras também podem ser acionadas usando um formato <span class="em emphasis">numerado</span>:</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo ufw insert 1 allow 80</span>
</pre></div>
	      </li>
<li class="list itemizedlist">
                <p class="para">Similarmente, para fechar uma porta aberta:</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo ufw deny 22</span>
</pre></div>
	      </li>
<li class="list itemizedlist">
                <p class="para">Para remover uma regra, use delete seguido pela regra:</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo ufw delete deny 22</span>
</pre></div>
	      </li>
<li class="list itemizedlist">
                <p class="para">
		It is also possible to allow access from specific hosts or networks to a port. The following example allows SSH access
		from host 192.168.0.2 to any IP address on this host:
	        </p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo ufw allow proto tcp from 192.168.0.2 to any port 22</span>
</pre></div>
	        <p class="para">
		Replace 192.168.0.2 with 192.168.0.0/24 to allow SSH access from the entire subnet.
		</p>
	      </li>
<li class="list itemizedlist">

                <p class="para">Adicionando a opção <span class="em emphasis">--dry-run</span> em um <span class="em emphasis">ufw</span> commando , terá como saída o resultado das regras, mas não apliquem elas. O exemplo seguinte seria aplicado ao abrir uma porta HTTP :</p>

<div class="screen"><pre class="contents "><span class="cmd command">sudo ufw --dry-run allow http</span>
</pre></div>

<div class="screen"><pre class="contents "><span class="output computeroutput">*filter
:ufw-user-input - [0:0]
:ufw-user-output - [0:0]
:ufw-user-forward - [0:0]
:ufw-user-limit - [0:0]
:ufw-user-limit-accept - [0:0]
### RULES ###

### tuple ### allow tcp 80 0.0.0.0/0 any 0.0.0.0/0
-A ufw-user-input -p tcp --dport 80 -j ACCEPT

### END RULES ###
-A ufw-user-input -j RETURN
-A ufw-user-output -j RETURN
-A ufw-user-forward -j RETURN
-A ufw-user-limit -m limit --limit 3/minute -j LOG --log-prefix "[UFW LIMIT]: "
-A ufw-user-limit -j REJECT
-A ufw-user-limit-accept -j ACCEPT
COMMIT
Rules updated</span>
</pre></div>

              </li>
<li class="list itemizedlist">
                <p class="para"><span class="app application">ufw</span> pode ser desabilitado por:</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo ufw disable</span>
</pre></div>
	      </li>
<li class="list itemizedlist">
                <p class="para">Para ver o status do firewall, digite:</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo ufw status</span>
</pre></div>
	      </li>
<li class="list itemizedlist">
                <p class="para">E para maiores informações de status use:</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo ufw status verbose</span>
</pre></div>
	      </li>
<li class="list itemizedlist">
                <p class="para">Para visualizar o formato <span class="em emphasis">numerado</span>:</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo ufw status numbered</span>
</pre></div>
	      </li>
</ul></div>
<div class="note" title="Nota"><div class="inner"><div class="region"><div class="contents">
	      <p class="para">Se a porta que você deseja abrir ou fechar estiver definida no <span class="file filename">/etc/services</span>, você poderá utilizar o nome da porta ao invés do número. Nos exemplos acima, altere <span class="em emphasis">22</span> por <span class="em emphasis">ssh</span>.</p>
	    </div></div></div></div>
<p class="para">Este é um guia introdutório ao <span class="app application">ufw</span>. Por favor veja a man page do <span class="app application">ufw</span> para maiores informações.</p>
</div>
<div class="sect3 sect" id="ufw-application-integration"><div class="inner">
<div class="hgroup"><h3 class="title">ufw Integração de Aplicativos</h3></div>
<div class="region"><div class="contents">
<p class="para">Aplicativos que abrem portas podem incluir um perfil <span class="app application">ufw</span>, o qual detalha as portas necessárias para que o aplicativo funcione de forma adequada. Os perfis são mantidos em <span class="file filename">/etc/ufw/applications.d</span>, e podem ser editados se as portas padrões não foram alteradas.</p>
<div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">

                  <p class="para">Para ver quais as aplicações instaladas têm um perfil, digite o seguinte em um terminal:</p>

<div class="screen"><pre class="contents "><span class="cmd command">sudo ufw app list</span>
</pre></div>

                </li>
<li class="list itemizedlist">

                  <p class="para">Similar ao que permite o tráfego de uma porta, utilizando uma aplicação o perfil é realizado através da entrada:</p>

<div class="screen"><pre class="contents "><span class="cmd command">sudo ufw allow Samba</span>
</pre></div>

                </li>
<li class="list itemizedlist">

                  <p class="para">Uma sintaxe extendida está disponível também:</p>

<div class="screen"><pre class="contents "><span class="cmd command">ufw allow from 192.168.0.0/24 to any app Samba</span>
</pre></div>

                  <p class="para">Substituir o <span class="em emphasis">Samba</span> e <span class="em emphasis">192.168.0.0/24</span> com a aplicação e o perfil que você está utilizando no intervalo de IP para sua rede.</p>

                  <div class="note" title="Nota"><div class="inner"><div class="region"><div class="contents">
                    <p class="para">Não é necessário especificar o <span class="em emphasis">protocolo</span> para o aplicativo, porque esta informação é detalhada no perfil. Observe também que o nome do <span class="em emphasis">aplicativo</span> substitui o número da <span class="em emphasis">porta</span>.</p>
                  </div></div></div></div>

                </li>
<li class="list itemizedlist">

                  <p class="para">
                  To view details about which ports, protocols, etc., are defined for an application, enter:
                  </p>

<div class="screen"><pre class="contents "><span class="cmd command">sudo ufw app info Samba</span>
</pre></div>

                </li>
</ul></div>
<p class="para">
              Not all applications that require opening a network port come with <span class="app application">ufw</span> profiles, but if 
              you have profiled an application and want the file to be included with the package, please file a bug against the 
              package in Launchpad.
              </p>
<div class="screen"><pre class="contents "><span class="cmd command">ubuntu-bug nomedopacote</span>
</pre></div>
</div></div>
</div></div>
</div>
</div></div>
<div class="sect2 sect" id="ip-masquerading"><div class="inner">
<div class="hgroup"><h2 class="title">Mascaramento de IP</h2></div>
<div class="region">
<div class="contents"><p class="para">O propósito da Máscara de IP é permitir máquinas com IP privado, endereço não-roteável em sua rede para acessar a Internet por meio da máquina "mascarada". O tráfico destinado de sua rede privada para a Internet deve ser manipulado para obter respostas da máquina que fez a petição, como em uma rota invertida. Para fazer isto, o kernel deve modificar o endereço IP da <span class="em emphasis">fonte</span> de cada pacote e retornar respostas a ele, antes que o endereço privado IP faço o pedido de resposta, que é impossível através da Internet. O Linux usa <span class="em emphasis">Connection Tracking</span> (conntrack) para acompanhar que conexões pertence a que máquinas e desviar cada pacote de retorno correspondente. O tráfico originado em sua rede privada é assim "mascarado" como tendo originado de seu gateway Ubuntu. Este processo possui referência na documentação da Microsoft como Conexão de Internet Compartilha.</p></div>
<div class="sect3 sect" id="ip-masquerade-ufw"><div class="inner">
<div class="hgroup"><h3 class="title">ufw Masquerading</h3></div>
<div class="region"><div class="contents">
<p class="para">Mascaramento de IP pode ser obtido utilizando regras de <span class="app application">ufw</span> customizadas. Isto é possível devido ao back-end atual para o <span class="app application">ufw</span> ser <span class="app application">iptables-restore</span> com os arquivos de regras localizados em <span class="file filename">/etc/ufw/*.rules</span>. Estes arquivos são um ótimo lugar para adicionar regras legadas do iptables utilizadas sem o <span class="app application">ufw</span>, e regras que são mais relacionadas com redes gateway ou bridge.</p>
<p class="para">As regras são divididas em dois arquivos diferentes, regras que devem ser executadas antes das regras de linha de comando do <span class="app application">ufw</span> e regras que devem ser executadas após a linha de comando do <span class="app application">ufw</span>.</p>
<div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
		  <p class="para">Primeiramente, o repasse de pacotes (packet forwarding) precisa estar habilitado no <span class="app application">ufw</span>.  Dois arquivos de configuração precisão ser ajustados, em <span class="file filename">/etc/default/ufw</span> altere o <span class="em emphasis">DEFAULT_FORWARD_POLICY</span> para <span class="quote">"ACCEPT"</span>:</p>
<div class="code"><pre class="contents ">DEFAULT_FORWARD_POLICY="ACCEPT"
</pre></div>
		  <p class="para">Então edite <span class="file filename">/etc/ufw/sysctl.conf</span> e remova o comentário:</p>
<div class="code"><pre class="contents ">net/ipv4/ip_forward=1
</pre></div>
		  <p class="para">Semelhantimente, para IPv6 adiantar não comentados</p>
<div class="code"><pre class="contents ">net/ipv6/conf/default/forwarding=1
</pre></div>
		</li>
<li class="list itemizedlist">
		  <p class="para">
		  Now add rules to the <span class="file filename">/etc/ufw/before.rules</span> file. The default rules only configure the <span class="em emphasis">filter</span>
	          table, and to enable masquerading the <span class="em emphasis">nat</span> table will need to be configured. Add the following to the top of the file
		  just after the header comments:	          
		  </p>
<div class="code"><pre class="contents "># nat Table rules
*nat
:POSTROUTING ACCEPT [0:0]

# Forward traffic from eth1 through eth0.
-A POSTROUTING -s 192.168.0.0/24 -o eth0 -j MASQUERADE

# don't delete the 'COMMIT' line or these nat table rules won't be processed
COMMIT
</pre></div>
	          <p class="para">Os comentários não são estritamente necessários, mas é considerada uma boa pratica documentar sua configuração. Além disso, quando modificar qualquer um dos arquivos de  <span class="em emphasis">regras</span> em <span class="file filename">/etc/ufw</span>, assegure-se que estas linhas seja a ultima linha para cada tabela modificada:</p>

<div class="code"><pre class="contents "># Não apague a linha 'COMMIT' ou estas regras não serão processadas
COMMIT
</pre></div>

                  <p class="para">Para cada <span class="em emphasis">Tabela</span> é necessário um argumento <span class="em emphasis">COMMIT</span> correspondente. Nestes exemplos apenas as tabelas <span class="em emphasis">nat</span> e <span class="em emphasis">filter</span> são apresentadas, mas você também pode acrescentar regras para as tabelas <span class="em emphasis">raw</span> e <span class="em emphasis">mangle</span>.</p>

                  <div class="note" title="Nota"><div class="inner"><div class="region"><div class="contents">
                   <p class="para">No exemplo acima, substitua <span class="em emphasis">eth0</span>, <span class="em emphasis">eth1</span> e <span class="em emphasis">192.168.0.0/24</span> pelas interfaces e pela variação de IP adequadas para a sua rede.</p>
                  </div></div></div></div>

		</li>
<li class="list itemizedlist">
		  <p class="para">Finalmente, desative e reative o <span class="app application">ufw</span> para aplicar as mundanças:</p>
<div class="code"><pre class="contents "><span class="cmd command">sudo ufw disable &amp;&amp; sudo ufw enable</span>
</pre></div>
		</li>
</ul></div>
<p class="para">O mascaramento IP agora pode ser habilitado. Você pode também adicionar regras FORWARD adicionais para o <span class="file filename">/etc/ufw/before.rules</span>. É recomendado que estas regras adicionais seja adicionada para a cadeia<span class="em emphasis">ufw-before-forward</span>.</p>
</div></div>
</div></div>
<div class="sect3 sect" id="ip-masquerading-iptables"><div class="inner">
<div class="hgroup"><h3 class="title">iptables Masquerading</h3></div>
<div class="region"><div class="contents">
<p class="para">
	    <span class="app application">iptables</span> can also be used to enable Masquerading.  
	    </p>
<div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
  	        <p class="para">
 	        Similar to <span class="app application">ufw</span>, the first step is to enable IPv4 packet forwarding by editing 
		<span class="file filename">/etc/sysctl.conf</span> and uncomment the following line:
	        </p>
<div class="code"><pre class="contents ">net.ipv4.ip_forward=1
</pre></div>
	        <p class="para">Se você optar por habilitar IPv6 forwarding então descomente:</p>
<div class="code"><pre class="contents ">net.ipv6.conf.default.forwarding=1
</pre></div>
 	      </li>
<li class="list itemizedlist">
		  <p class="para">Seguinte, execute o comando<span class="app application">sysctl</span> para habilitar novas configurações no arquivo de configuração:</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo sysctl -p</span>
</pre></div>
		</li>
<li class="list itemizedlist">
	        <p class="para">IP Masquerading pode agora ser finalizado com uma única regra iptables, a qual pode diferenciar-se um pouco baseado na sua configração de network:</p>
<div class="screen"><pre class="contents ">sudo iptables -t nat -A POSTROUTING -s 192.168.0.0/16 -o ppp0 -j MASQUERADE
</pre></div>
	        <p class="para">O comando acima assume que o seu espaço de endereço privado é  192.168.0.0/16 e que o dispositivo de acesso a in ternet é ppp0.</p>
		<div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist"><p class="para">-t nat -- a regra é para ir na tabela nat</p></li>
<li class="list itemizedlist"><p class="para">-A POSTROUTING -- a regra é para ser adicionada (-A) à corrente POSTROUTING</p></li>
<li class="list itemizedlist"><p class="para">-s 192.168.0.0/16 -- a regra é aplicada a trafego originando do endereço especificado</p></li>
<li class="list itemizedlist"><p class="para">-o ppp0 -- a regra é aplicada a trafego agendado para ser roteado pelo dispositivo de rede especificado</p></li>
<li class="list itemizedlist">
                    <p class="para">-j MASQUERADE -- trafego combinando com esta regra "pulará" (-j) para o alvo MASQUERADE para ser manipulado como descrito acima</p>
                  </li>
</ul></div>
	      </li>
<li class="list itemizedlist">
		<p class="para">Também, cada cadeia na tabela filter (a tabela padrão, e onde ocorre a maioria ou todos filtros os pacotes) possui uma <span class="em emphasis">política</span> padrão de ACCEPT, mas se você está criando um firewall para complementar um dispositivo de gateway, você deve configurar as políticas DROP ou REJECT, em qual caso seu tráfico mascarado precisa ser permitido através da cadeia FORWARD para que a regra acima funcione:</p>
<div class="screen"><pre class="contents ">sudo iptables -A FORWARD -s 192.168.0.0/16 -o ppp0 -j ACCEPT
sudo iptables -A FORWARD -d 192.168.0.0/16 -m state \
--state ESTABLISHED,RELATED -i ppp0 -j ACCEPT
</pre></div>
		<p class="para">O comando acima irá permitir que todas as conexões de sua rede local para a internet e todo tráfego relacionado a estas conexões retornem para as máquinas que as iniciaram.</p>
	      </li>
<li class="list itemizedlist">
		<p class="para">Se você quuizer o mascaramento esteja habilitado ao reiniciar, o que você provavelmente quer, edite <span class="file filename">/etc/rc.local</span> e adicione qualquer um dos comandos acima. Por exemplo adicione o primeiro comando sem nenhum filtro:</p>
<div class="screen"><pre class="contents ">iptables -t nat -A POSTROUTING -s 192.168.0.0/16 -o ppp0 -j MASQUERADE
</pre></div>
	      </li>
</ul></div>
</div></div>
</div></div>
</div>
</div></div>
<div class="sect2 sect" id="firewall-logs"><div class="inner">
<div class="hgroup"><h2 class="title">Logs</h2></div>
<div class="region"><div class="contents">
<p class="para">Logs do Firewall são essenciais para reconhecer ataques, identificar regras do seu firewall, e notar atividades incomuns nas sua rede. Você deve incluir regras de logs no seu firewall para que elas sejam geradas, considerar, as regras de log devem vir antes de qualquer regra de terminação aplicável ( uma regra com alvo que decide a sorte do pacote, como ACCEPT, DROP ou REJECT).</p>
<p class="para">Se você estiver usando o <span class="app application">ufw</span>, você pode ligar o log digitando o seguinte no terminal:</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo ufw logging on</span>
</pre></div>
<p class="para">Para desligar o log no <span class="app application">ufw</span>, simplesmente substitua <span class="em emphasis">on</span> por <span class="em emphasis">off</span> no comando acima.</p>
<p class="para">Se estiver usando <span class="app application">iptables</span> ao invés do <span class="app application">ufw</span>, digite:</p>
<div class="screen"><pre class="contents ">sudo iptables -A INPUT -m state --state NEW -p tcp --dport 80 \
-j LOG --log-prefix "NEW_HTTP_CONN: "
</pre></div>
<p class="para">
	     A request on port 80 from the local machine, then, would generate a log in dmesg
	     that looks like this (single line split into 3 to fit this document):
	     </p>
<div class="code"><pre class="contents ">[4304885.870000] NEW_HTTP_CONN: IN=lo OUT= MAC=00:00:00:00:00:00:00:00:00:00:00:00:08:00
SRC=127.0.0.1 DST=127.0.0.1 LEN=60 TOS=0x00 PREC=0x00 TTL=64 ID=58288 DF PROTO=TCP
SPT=53981 DPT=80 WINDOW=32767 RES=0x00 SYN URGP=0
</pre></div>
<p class="para">
              The above log will also appear in <span class="file filename">/var/log/messages</span>,
			  <span class="file filename">/var/log/syslog</span>, and <span class="file filename">/var/log/kern.log</span>.
			  This behavior can be modified by editing <span class="file filename">/etc/syslog.conf</span>
			  appropriately or by installing and configuring <span class="app application">ulogd</span>
			  and using the ULOG target instead of LOG. The <span class="app application">ulogd</span>
			  daemon is a userspace server that listens for logging instructions from the kernel
			  specifically for firewalls, and can log to any file you like, or even to a
			  <span class="app application">PostgreSQL</span> or <span class="app application">MySQL</span>
			  database.  Making sense of your firewall logs can be simplified by using a log
			  analyzing tool such as <span class="app application">logwatch</span>, <span class="app application">fwanalog</span>,
			  <span class="app application">fwlogwatch</span>, or <span class="app application">lire</span>.
            </p>
</div></div>
</div></div>
<div class="sect2 sect" id="other-firewall-tools"><div class="inner">
<div class="hgroup"><h2 class="title">Outras Ferramentas</h2></div>
<div class="region"><div class="contents">
<p class="para">
            There are many tools available to help you construct a complete firewall without
	    intimate knowledge of iptables. A command-line tool with plain-text configuration files: 
	    </p>
<div class="list itemizedlist"><ul class="list itemizedlist"><li class="list itemizedlist">
		<p class="para"><a href="http://www.shorewall.net/" class="ulink" title="http://www.shorewall.net/">Shorewall</a> é uma solução muito poderosa que ajuda a configurar um firewall avançado para qualquer rede.</p>
	      </li></ul></div>
</div></div>
</div></div>
<div class="sect2 sect" id="firewall-references"><div class="inner">
<div class="hgroup"><h2 class="title">Referências</h2></div>
<div class="region"><div class="contents"><div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
	      <p class="para">
	      The <a href="https://wiki.ubuntu.com/UncomplicatedFirewall" class="ulink" title="https://wiki.ubuntu.com/UncomplicatedFirewall">Ubuntu Firewall</a> wiki page contains information on the development
	      of <span class="app application">ufw</span>.
	      </p>
	    </li>
<li class="list itemizedlist">
	      <p class="para">Além disso, a página de manual do <span class="app application">ufw</span> contém algumas informações muito úteis: <span class="cmd command">man ufw</span>.</p>
	    </li>
<li class="list itemizedlist">
	      <p class="para">Veja <a href="http://www.netfilter.org/documentation/HOWTO/packet-filtering-HOWTO.html" class="ulink" title="http://www.netfilter.org/documentation/HOWTO/packet-filtering-HOWTO.html">packet-filtering-HOWTO</a> para mais informações sobre como usar o <span class="app application">iptables</span>.</p>
	    </li>
<li class="list itemizedlist">
	      <p class="para">O <a href="http://www.netfilter.org/documentation/HOWTO/NAT-HOWTO.html" class="ulink" title="http://www.netfilter.org/documentation/HOWTO/NAT-HOWTO.html">nat-HOWTO</a> contém mais detalhes sobre mascaramento.</p>
	    </li>
<li class="list itemizedlist">
	      <p class="para">O <a href="https://help.ubuntu.com/community/IptablesHowTo" class="ulink" title="https://help.ubuntu.com/community/IptablesHowTo">HowTo do IPTables</a> no wiki Ubuntu é um excelente recurso.</p>
	    </li>
</ul></div></div></div>
</div></div>
</div>
<div class="links nextlinks">
<a class="nextlinks-prev" href="console-security.html.pt-BR" title="Console de Segurança">Anterior</a><a class="nextlinks-next" href="apparmor.html.pt-BR" title="AppArmor">Próximo</a>
</div>
<div class="clear"></div>
</div>
<div id="pagebottom"></div>
</div></div>
</div>
<div id="footer">
<p style="padding-bottom: 0.4em">You can choose the <b>displayed language</b> by adding a language suffix to the web address
          so it ends with e.g. <tt>.html.en</tt> or <tt>.html.de</tt>.<br>
          If the web address has no language suffix, the preferred language specified in your web browser's settings is used. For your convenience:<br>
          [ <a title="English page version" href="#" onClick="englishPageVersion();">Change to English Language</a> | 
          <a title="Language selected by browser" href="#" onClick="browserPreferredLanguage()">Change to Browser's Preferred Language</a> ]</p>
<p>The material in this document is available under a free license, see <a href="../../legal.html">Legal</a> for details.<br>
          For information on contributing see the <a href="https://wiki.ubuntu.com/DocumentationTeam">Ubuntu Documentation Team wiki page</a>.
          To report errors in this serverguide documentation, <a href="https://bugs.launchpad.net/serverguide">file a bug report</a>.</p>
</div>
</div>
</body>
</html>
