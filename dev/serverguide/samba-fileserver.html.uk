<!DOCTYPE html>
<html lang=uk>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>File Server</title>
<link rel="stylesheet" type="text/css" href="uk.css">
<script type="text/javascript" src="jquery.js"></script><script type="text/javascript" src="jquery.syntax.js"></script><script type="text/javascript" src="yelp.js"></script>
</head>
<body id="home">
<script src="https://ssl.google-analytics.com/urchin.js" type="text/javascript"></script><script type="text/javascript">
        _uacct = "UA-1018242-8";
        urchinTracker();
      </script><script>
      function englishPageVersion() {
        var href = window.location.href;
        if (href.slice(-1) == "/") {
                window.location = "index.html.en";
        } else {
                window.location = href.replace(/\.html.*/, ".html.en");
        }
         return false;
      }
      function browserPreferredLanguage() {
        var href = window.location.href;
        if (href.slice(-1) == "/") {
                window.location = href;
        } else {
                window.location = href.replace(/\.html.*/, ".html");
        }
        return false;
      }
      </script><div id="container">
<div id="container-inner">
<div id="mothership"><ul>
<li><a href="https://partners.ubuntu.com">Partners</a></li>
<li><a href="https://www.ubuntu.com/support/community-support">Support</a></li>
<li><a href="https://community.ubuntu.com">Community</a></li>
<li><a href="https://www.ubuntu.com">Ubuntu.com</a></li>
</ul></div>
<div id="header">
<h1 id="ubuntu-header"><a href="https://help.ubuntu.com/">Ubuntu Documentation</a></h1>
<ul id="main-menu">
<li><a class="main-menu-item current" href="../../">Official Documentation</a></li>
<li><a href="https://help.ubuntu.com/community/CommunityHelpWiki">Community Help Wiki</a></li>
<li><a href="https://community.ubuntu.com/t/contribute/26">Contribute</a></li>
</ul>
</div>
<div id="menu-search"><div id="search-box">
<noscript><form action="https://www.google.com/cse" id="cse-search-box"><div>
<input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq"><input type="hidden" name="ie" value="UTF-8"><input type="text" name="q" size="21"><input type="submit" name="sa" value="Search">
</div></form></noscript>
<script>
                document.write('<form action="../../search.html" id="cse-search-box">');
                document.write('  <div>');
                document.write('    <input type="hidden" name="cof" value="FORID:9">');
                document.write('    <input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq">');
                document.write('    <input type="hidden" name="ie" value="UTF-8">');
                document.write('    <input type="text" name="q" size="21">');
                document.write('    <input type="submit" name="sa" value="Search">');
                document.write('  </div>');
                document.write('</form>');
              </script>
</div></div>
<div class="trails"><div class="trail">
<a href="../../18.04" class="trail">Ubuntu 18.04</a> » <a class="trail" href="index.html.uk" title="Настанова користувача Ubuntu Сервер">Настанова користувача Ubuntu Сервер</a> » <a class="trail" href="samba.html.uk" title="Samba">Samba</a> » </div></div>
<div id="cwt-content" class="clearfix content-area"><div id="page">
<div id="content">
<div class="links nextlinks">
<a class="nextlinks-prev" href="samba-introduction.html.uk" title="Вступ">Назад</a><a class="nextlinks-next" href="samba-printserver.html.uk" title="Сервер друку">Далі</a>
</div>
<div class="hgroup"><h1 class="title">File Server</h1></div>
<div class="region">
<div class="contents">
<p class="para">Один з найбільш поширених способів об'єднання в мережу комп'ютерів під управлінням Ubuntu і Windows - настройка Samba в якості файлового сервера. Ця секція охоплює налаштування сервера <span class="app application">Samba</span> для надання доступу до файлів для Windows-клієнтів.</p>
<p class="para">
    The server will be configured to share files with any client on the network without prompting for a password.  If
    your environment requires stricter Access Controls see <a class="xref" href="samba-fileprint-security.html.uk" title="Securing File and Print Server">Securing File and Print Server</a>.
    </p>
</div>
<div class="links sectionlinks" role="navigation"><ul>
<li class="links"><a class="xref" href="samba-fileserver.html.uk#samba-fileserver-installation" title="Встановлення">Встановлення</a></li>
<li class="links"><a class="xref" href="samba-fileserver.html.uk#samba-fileserver-configuration" title="Налаштовування">Налаштовування</a></li>
<li class="links"><a class="xref" href="samba-fileserver.html.uk#samba-fileserver-resources" title="Ресурси">Ресурси</a></li>
</ul></div>
<div class="sect2 sect" id="samba-fileserver-installation"><div class="inner">
<div class="hgroup"><h2 class="title">Встановлення</h2></div>
<div class="region"><div class="contents">
<p class="para">В першу чергу вам потрібно встановити пакунок <span class="app application">samba</span>. Введіть в терміналі:</p>
<div class="screen"><pre class="contents "><span class="cmd command">sudo apt install samba</span>
</pre></div>
<p class="para">Це все що потрібно; наразі ви готові до налаштування Samba, щоб розшарити файли.</p>
</div></div>
</div></div>
<div class="sect2 sect" id="samba-fileserver-configuration"><div class="inner">
<div class="hgroup"><h2 class="title">Налаштовування</h2></div>
<div class="region"><div class="contents">
<p class="para">
      The main Samba configuration file is located in <span class="file filename">/etc/samba/smb.conf</span>.  The default configuration file
      has a significant number of comments in order to document various configuration directives.  
      </p>
<div class="note" title="Примітка"><div class="inner"><div class="region"><div class="contents">
        <p class="para">Не всі доступні параметри включені в конфігурацію по замовчуванню. Дивітся <span class="file filename">smb.conf</span><span class="app application">man</span> сторінку чи <a href="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/" class="ulink" title="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/">Samba HOWTO Колекція</a> для деталей.</p>
      </div></div></div></div>
<div class="steps"><div class="inner"><ol class="steps">
<li class="steps">

        <p class="para">Спочатку, відредагуйте пари ключ/значення в <span class="em emphasis">[global]</span> розділі <span class="file filename">/etc/samba/smb.conf</span>:</p>

<div class="code"><pre class="contents ">   workgroup = EXAMPLE
   ...
   security = user
</pre></div>

        <p class="para"><span class="em emphasis">Security</span> параметр знаходится нижче в розділі [global], разом з коментарями. Також, змініть <span class="em emphasis">EXAMPLE</span> на те що вам більше підходить.</p>

        </li>
<li class="steps">
  
        <p class="para">Створіть новий розділ внизу файла, чи розкоментуйте один з прикладів, для розшарення папки:</p>

<div class="code"><pre class="contents ">[share]
    comment = Ubuntu File Server Share
    path = /srv/samba/share
    browsable = yes
    guest ok = yes
    read only = no
    create mask = 0755
</pre></div>

      <div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
          <p class="para"><span class="em emphasis">comment:</span> короткий опис шари. Змініть на те що вам до вподоби.</p>
        </li>
<li class="list itemizedlist">
          <p class="para"><span class="em emphasis">path:</span> шлях до папки, яка повинна бути розшарена.</p>
          <p class="para">Цей приклад використовує <span class="file filename">/srv/samba/sharename</span>, оскільки відповідно до <span class="em emphasis">Стандарту Ієрархії файлової системи (FHS) </span> папка <a href="http://www.pathname.com/fhs/pub/fhs-2.3.html#SRVDATAFORSERVICESPROVIDEDBYSYSTEM" class="ulink" title="http://www.pathname.com/fhs/pub/fhs-2.3.html#SRVDATAFORSERVICESPROVIDEDBYSYSTEM">/srv</a> призначена для зберігання даних, що відносяться до сайту. Технічно ресурси Samba можуть розташовуватися в будь-якому місці файлової системи, якщо для них виставлені правильні права доступу, але все-таки рекомендується дотримуватися стандартів.</p>
        </li>
<li class="list itemizedlist">
          <p class="para"><span class="em emphasis">browsable:</span> дозволяє Windows користувачам переглядати розшарену папку використовуючи <span class="app application">Windows Explorer</span>.</p>
        </li>
<li class="list itemizedlist">
          <p class="para"><span class="em emphasis">guest ok:</span> дозволяє клієнтам з'єднуватися із шарою без введення паролю.</p>
        </li>
<li class="list itemizedlist">
          <p class="para"><span class="em emphasis">read only:</span> визначає, можна лише читати дані зі спільного ресурсу чи можна також дані і записувати. Запис можна буде здійснювати, лише якщо буде вказано значення <span class="em emphasis">no</span>, як у нашому прикладі. Якщо буде вказано значення <span class="em emphasis">yes</span>, дані зі спільного ресурсу можна буде лише читати.</p>
        </li>
<li class="list itemizedlist">
          <p class="para"><span class="em emphasis">create mask:</span> визначає права нових файлів які створюються.</p>
        </li>
</ul></div>

      </li>
<li class="steps">
        
        <p class="para">Зараз <span class="app application">Samba</span> налаштована, папки потребує створення чи зміни прав. З терміналу введіть:</p>

<div class="screen"><pre class="contents "><span class="cmd command">sudo mkdir -p /srv/samba/share</span>
<span class="cmd command">sudo chown nobody:nogroup /srv/samba/share/</span>
</pre></div>

      <div class="note" title="Примітка"><div class="inner"><div class="region"><div class="contents">
        <p class="para">
        The <span class="em emphasis">-p</span> switch tells mkdir to create the entire directory tree if it doesn't exist.
        </p>
      </div></div></div></div>

      </li>
<li class="steps">
     
      <p class="para">Нарешті, перезапустіть служби <span class="app application">samba</span>, щоб нові налаштування набули чинності:</p>

<div class="screen"><pre class="contents "><span class="cmd command">sudo systemctl restart smbd.service nmbd.service</span>
</pre></div>

      </li>
</ol></div></div>
<div class="note note-warning" title="Попередження"><div class="inner"><div class="region"><div class="contents">
        <p class="para">Повторимо ще раз, наведена вище конфігурація дає повний доступ будь-якого клієнта в локальній мережі. Якщо вам потрібна більш захищена конфігурація, дивіться <a class="xref" href="samba-fileprint-security.html.uk" title="Securing File and Print Server">Securing File and Print Server</a>.</p>
      </div></div></div></div>
<p class="para">
      From a Windows client you should now be able to browse to the Ubuntu file server and see the shared directory. If your client doesn't show your share automatically, try to access your server by its IP address, e.g. \\192.168.1.1, in a Windows Explorer window. To check that everything is working try creating a directory from Windows. 
      </p>
<p class="para">Для створення додаткових спільних ресурсів слід створити додаткові розділи <span class="em emphasis">[dir]</span> у файлі <span class="file filename">/etc/samba/smb.conf</span> і перезапустити <span class="em emphasis">Samba</span>. Переконайтеся, що каталог, який ви надаєте у спільне користування, справді існує і що для нього було визначено належні права доступу.</p>
<div class="note" title="Примітка"><div class="inner"><div class="region"><div class="contents">
        <p class="para">
        The file share named <span class="em emphasis">"[share]"</span> and the path <span class="file filename">/srv/samba/share</span> are just examples.
        Adjust the share and path names to fit your environment.  It is a good idea to name a share after a directory on the 
        file system.  Another example would be a share name of <span class="em emphasis">[qa]</span> with a path of <span class="file filename">/srv/samba/qa</span>.
        </p>
      </div></div></div></div>
</div></div>
</div></div>
<div class="sect2 sect" id="samba-fileserver-resources"><div class="inner">
<div class="hgroup"><h2 class="title">Ресурси</h2></div>
<div class="region"><div class="contents"><div class="list itemizedlist"><ul class="list itemizedlist">
<li class="list itemizedlist">
          <p class="para">Докладніше про налаштування Samba можна дізнатися з <a href="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/" class="ulink" title="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/">збірки порад з Samba</a></p>
        </li>
<li class="list itemizedlist">
          <p class="para">Крім того, з підручником можна ознайомитися у <a href="http://www.amazon.com/exec/obidos/tg/detail/-/0131882228" class="ulink" title="http://www.amazon.com/exec/obidos/tg/detail/-/0131882228">паперовому форматі</a>.</p>
        </li>
<li class="list itemizedlist">
          <p class="para">Ще одним чудовим підручником є <a href="http://www.oreilly.com/catalog/9780596007690/" class="ulink" title="http://www.oreilly.com/catalog/9780596007690/">Використання Samba</a> видавництва O'Reilly.</p>
        </li>
<li class="list itemizedlist">
          <p class="para">
          The <a href="https://help.ubuntu.com/community/Samba" class="ulink" title="https://help.ubuntu.com/community/Samba">Ubuntu Wiki Samba </a> page.
          </p>
        </li>
</ul></div></div></div>
</div></div>
</div>
<div class="links nextlinks">
<a class="nextlinks-prev" href="samba-introduction.html.uk" title="Вступ">Назад</a><a class="nextlinks-next" href="samba-printserver.html.uk" title="Сервер друку">Далі</a>
</div>
<div class="clear"></div>
</div>
<div id="pagebottom"></div>
</div></div>
</div>
<div id="footer">
<p style="padding-bottom: 0.4em">You can choose the <b>displayed language</b> by adding a language suffix to the web address
          so it ends with e.g. <tt>.html.en</tt> or <tt>.html.de</tt>.<br>
          If the web address has no language suffix, the preferred language specified in your web browser's settings is used. For your convenience:<br>
          [ <a title="English page version" href="#" onClick="englishPageVersion();">Change to English Language</a> | 
          <a title="Language selected by browser" href="#" onClick="browserPreferredLanguage()">Change to Browser's Preferred Language</a> ]</p>
<p>The material in this document is available under a free license, see <a href="../../legal.html">Legal</a> for details.<br>
          For information on contributing see the <a href="https://wiki.ubuntu.com/DocumentationTeam">Ubuntu Documentation Team wiki page</a>.
          To report errors in this serverguide documentation, <a href="https://bugs.launchpad.net/serverguide">file a bug report</a>.</p>
</div>
</div>
</body>
</html>
