<?xml version="1.0"?>
<fo:root xmlns:fo="http://www.w3.org/1999/XSL/Format" font-family="serif,Symbol" font-size="11pt" text-align="left" line-height="1.5" font-selection-strategy="character-by-character" line-height-shift-adjustment="disregard-shifts" writing-mode="lr-tb" language="en"><fo:layout-master-set><fo:simple-page-master master-name="blank" page-width="21cm" page-height="29.7cm" margin-top="0.5in" margin-bottom="0.5in" margin-left="0.75in - (0pc)" margin-right="0.75in"><fo:region-body display-align="center" margin-bottom="0.5in" margin-top="0.5in" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-blank" extent="0.4in" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-blank" extent="0.4in" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-blank" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-blank" precedence="false" extent="0in"/></fo:simple-page-master><fo:simple-page-master master-name="titlepage-first" page-width="21cm" page-height="29.7cm" margin-top="0.5in" margin-bottom="0.5in" margin-left="0.75in - (0pc)" margin-right="0.75in"><fo:region-body margin-bottom="0.5in" margin-top="0.5in" column-gap="12pt" column-count="1" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-first" extent="0.4in" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-first" extent="0.4in" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-first" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-first" precedence="false" extent="0in"/></fo:simple-page-master><fo:simple-page-master master-name="titlepage-odd" page-width="21cm" page-height="29.7cm" margin-top="0.5in" margin-bottom="0.5in" margin-left="0.75in - (0pc)" margin-right="0.75in"><fo:region-body margin-bottom="0.5in" margin-top="0.5in" column-gap="12pt" column-count="1" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-odd" extent="0.4in" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-odd" extent="0.4in" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-odd" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-odd" precedence="false" extent="0in"/></fo:simple-page-master><fo:simple-page-master master-name="titlepage-even" page-width="21cm" page-height="29.7cm" margin-top="0.5in" margin-bottom="0.5in" margin-left="0.75in - (0pc)" margin-right="0.75in"><fo:region-body margin-bottom="0.5in" margin-top="0.5in" column-gap="12pt" column-count="1" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-even" extent="0.4in" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-even" extent="0.4in" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-even" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-even" precedence="false" extent="0in"/></fo:simple-page-master><fo:simple-page-master master-name="lot-first" page-width="21cm" page-height="29.7cm" margin-top="0.5in" margin-bottom="0.5in" margin-left="0.75in - (0pc)" margin-right="0.75in"><fo:region-body margin-bottom="0.5in" margin-top="0.5in" column-gap="12pt" column-count="1" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-first" extent="0.4in" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-first" extent="0.4in" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-first" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-first" precedence="false" extent="0in"/></fo:simple-page-master><fo:simple-page-master master-name="lot-odd" page-width="21cm" page-height="29.7cm" margin-top="0.5in" margin-bottom="0.5in" margin-left="0.75in - (0pc)" margin-right="0.75in"><fo:region-body margin-bottom="0.5in" margin-top="0.5in" column-gap="12pt" column-count="1" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-odd" extent="0.4in" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-odd" extent="0.4in" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-odd" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-odd" precedence="false" extent="0in"/></fo:simple-page-master><fo:simple-page-master master-name="lot-even" page-width="21cm" page-height="29.7cm" margin-top="0.5in" margin-bottom="0.5in" margin-left="0.75in - (0pc)" margin-right="0.75in"><fo:region-body margin-bottom="0.5in" margin-top="0.5in" column-gap="12pt" column-count="1" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-even" extent="0.4in" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-even" extent="0.4in" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-even" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-even" precedence="false" extent="0in"/></fo:simple-page-master><fo:simple-page-master master-name="front-first" page-width="21cm" page-height="29.7cm" margin-top="0.5in" margin-bottom="0.5in" margin-left="0.75in - (0pc)" margin-right="0.75in"><fo:region-body margin-bottom="0.5in" margin-top="0.5in" column-gap="12pt" column-count="1" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-first" extent="0.4in" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-first" extent="0.4in" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-first" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-first" precedence="false" extent="0in"/></fo:simple-page-master><fo:simple-page-master master-name="front-odd" page-width="21cm" page-height="29.7cm" margin-top="0.5in" margin-bottom="0.5in" margin-left="0.75in - (0pc)" margin-right="0.75in"><fo:region-body margin-bottom="0.5in" margin-top="0.5in" column-gap="12pt" column-count="1" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-odd" extent="0.4in" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-odd" extent="0.4in" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-odd" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-odd" precedence="false" extent="0in"/></fo:simple-page-master><fo:simple-page-master master-name="front-even" page-width="21cm" page-height="29.7cm" margin-top="0.5in" margin-bottom="0.5in" margin-left="0.75in - (0pc)" margin-right="0.75in"><fo:region-body margin-bottom="0.5in" margin-top="0.5in" column-gap="12pt" column-count="1" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-even" extent="0.4in" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-even" extent="0.4in" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-even" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-even" precedence="false" extent="0in"/></fo:simple-page-master><fo:simple-page-master master-name="body-first" page-width="21cm" page-height="29.7cm" margin-top="0.5in" margin-bottom="0.5in" margin-left="0.75in - (0pc) - (0pc)" margin-right="0.75in"><fo:region-body margin-bottom="0.5in" margin-top="0.5in" column-gap="12pt" column-count="1" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-first" extent="0.4in" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-first" extent="0.4in" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-first" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-first" precedence="false" extent="0in"/></fo:simple-page-master><fo:simple-page-master master-name="body-odd" page-width="21cm" page-height="29.7cm" margin-top="0.5in" margin-bottom="0.5in" margin-left="0.75in - (0pc)" margin-right="0.75in"><fo:region-body margin-bottom="0.5in" margin-top="0.5in" column-gap="12pt" column-count="1" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-odd" extent="0.4in" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-odd" extent="0.4in" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-odd" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-odd" precedence="false" extent="0in"/></fo:simple-page-master><fo:simple-page-master master-name="body-even" page-width="21cm" page-height="29.7cm" margin-top="0.5in" margin-bottom="0.5in" margin-left="0.75in - (0pc)" margin-right="0.75in"><fo:region-body margin-bottom="0.5in" margin-top="0.5in" column-gap="12pt" column-count="1" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-even" extent="0.4in" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-even" extent="0.4in" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-even" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-even" precedence="false" extent="0in"/></fo:simple-page-master><fo:simple-page-master master-name="back-first" page-width="21cm" page-height="29.7cm" margin-top="0.5in" margin-bottom="0.5in" margin-left="0.75in - (0pc)" margin-right="0.75in"><fo:region-body margin-bottom="0.5in" margin-top="0.5in" column-gap="12pt" column-count="1" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-first" extent="0.4in" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-first" extent="0.4in" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-first" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-first" precedence="false" extent="0in"/></fo:simple-page-master><fo:simple-page-master master-name="back-odd" page-width="21cm" page-height="29.7cm" margin-top="0.5in" margin-bottom="0.5in" margin-left="0.75in - (0pc)" margin-right="0.75in"><fo:region-body margin-bottom="0.5in" margin-top="0.5in" column-gap="12pt" column-count="1" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-odd" extent="0.4in" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-odd" extent="0.4in" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-odd" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-odd" precedence="false" extent="0in"/></fo:simple-page-master><fo:simple-page-master master-name="back-even" page-width="21cm" page-height="29.7cm" margin-top="0.5in" margin-bottom="0.5in" margin-left="0.75in - (0pc)" margin-right="0.75in"><fo:region-body margin-bottom="0.5in" margin-top="0.5in" column-gap="12pt" column-count="1" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-even" extent="0.4in" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-even" extent="0.4in" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-even" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-even" precedence="false" extent="0in"/></fo:simple-page-master><fo:simple-page-master master-name="index-first" page-width="21cm" page-height="29.7cm" margin-top="0.5in" margin-bottom="0.5in" margin-left="0.75in - (0pc)" margin-right="0.75in"><fo:region-body margin-bottom="0.5in" margin-top="0.5in" column-gap="12pt" column-count="2" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-first" extent="0.4in" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-first" extent="0.4in" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-first" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-first" precedence="false" extent="0in"/></fo:simple-page-master><fo:simple-page-master master-name="index-odd" page-width="21cm" page-height="29.7cm" margin-top="0.5in" margin-bottom="0.5in" margin-left="0.75in - (0pc)" margin-right="0.75in"><fo:region-body margin-bottom="0.5in" margin-top="0.5in" column-gap="12pt" column-count="2" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-odd" extent="0.4in" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-odd" extent="0.4in" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-odd" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-odd" precedence="false" extent="0in"/></fo:simple-page-master><fo:simple-page-master master-name="index-even" page-width="21cm" page-height="29.7cm" margin-top="0.5in" margin-bottom="0.5in" margin-left="0.75in - (0pc)" margin-right="0.75in"><fo:region-body margin-bottom="0.5in" margin-top="0.5in" column-gap="12pt" column-count="2" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-even" extent="0.4in" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-even" extent="0.4in" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-even" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-even" precedence="false" extent="0in"/></fo:simple-page-master><fo:page-sequence-master master-name="titlepage"><fo:repeatable-page-master-alternatives><fo:conditional-page-master-reference master-reference="blank" blank-or-not-blank="blank"/><fo:conditional-page-master-reference master-reference="titlepage-first" page-position="first"/><fo:conditional-page-master-reference master-reference="titlepage-odd" odd-or-even="odd"/><fo:conditional-page-master-reference odd-or-even="even" master-reference="titlepage-odd"/></fo:repeatable-page-master-alternatives></fo:page-sequence-master><fo:page-sequence-master master-name="lot"><fo:repeatable-page-master-alternatives><fo:conditional-page-master-reference master-reference="blank" blank-or-not-blank="blank"/><fo:conditional-page-master-reference master-reference="lot-first" page-position="first"/><fo:conditional-page-master-reference master-reference="lot-odd" odd-or-even="odd"/><fo:conditional-page-master-reference odd-or-even="even" master-reference="lot-odd"/></fo:repeatable-page-master-alternatives></fo:page-sequence-master><fo:page-sequence-master master-name="front"><fo:repeatable-page-master-alternatives><fo:conditional-page-master-reference master-reference="blank" blank-or-not-blank="blank"/><fo:conditional-page-master-reference master-reference="front-first" page-position="first"/><fo:conditional-page-master-reference master-reference="front-odd" odd-or-even="odd"/><fo:conditional-page-master-reference odd-or-even="even" master-reference="front-odd"/></fo:repeatable-page-master-alternatives></fo:page-sequence-master><fo:page-sequence-master master-name="body"><fo:repeatable-page-master-alternatives><fo:conditional-page-master-reference master-reference="blank" blank-or-not-blank="blank"/><fo:conditional-page-master-reference master-reference="body-first" page-position="first"/><fo:conditional-page-master-reference master-reference="body-odd" odd-or-even="odd"/><fo:conditional-page-master-reference odd-or-even="even" master-reference="body-odd"/></fo:repeatable-page-master-alternatives></fo:page-sequence-master><fo:page-sequence-master master-name="back"><fo:repeatable-page-master-alternatives><fo:conditional-page-master-reference master-reference="blank" blank-or-not-blank="blank"/><fo:conditional-page-master-reference master-reference="back-first" page-position="first"/><fo:conditional-page-master-reference master-reference="back-odd" odd-or-even="odd"/><fo:conditional-page-master-reference odd-or-even="even" master-reference="back-odd"/></fo:repeatable-page-master-alternatives></fo:page-sequence-master><fo:page-sequence-master master-name="index"><fo:repeatable-page-master-alternatives><fo:conditional-page-master-reference master-reference="blank" blank-or-not-blank="blank"/><fo:conditional-page-master-reference master-reference="index-first" page-position="first"/><fo:conditional-page-master-reference master-reference="index-odd" odd-or-even="odd"/><fo:conditional-page-master-reference odd-or-even="even" master-reference="index-odd"/></fo:repeatable-page-master-alternatives></fo:page-sequence-master></fo:layout-master-set><fo:declarations xmlns:fox="http://xmlgraphics.apache.org/fop/extensions"><x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about=""><dc:title xmlns:dc="http://purl.org/dc/elements/1.1/">Ubuntu Server Guide</dc:title></rdf:Description><rdf:Description xmlns:pdf="http://ns.adobe.com/pdf/1.3/" rdf:about=""/><rdf:Description xmlns:xmp="http://ns.adobe.com/xap/1.0/" rdf:about=""><xmp:CreatorTool>DocBook XSL Stylesheets with Apache FOP</xmp:CreatorTool></rdf:Description></rdf:RDF></x:xmpmeta></fo:declarations><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="legal"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="introduction-chap"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="introduction"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ubuntu-support"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="preparing-to-install"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="system-requirements"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="intro-server-differences"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="intro-kernel-diffs"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="backing-up"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="installing-from-cd"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="install-tasks"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="installing-upgrading"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="do-release-upgrade"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="advanced-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="software-raid"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="raid-partitioning"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="raid-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="raid-formatting"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="raid-degraded"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="raid-maintenance"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="raid-resources"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lvm"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lvm-overview"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lvm-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lvm-extending"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lvm-resources"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="iscsi"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="kernel-crash-dump"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="kernel-dump-introduction"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="kernel-crash-dump-mechanisms"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="Installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="kernel-dump-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="local-dump"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ssh-dump"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="nfs-dump"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="verification"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="kdump-testing"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="kdump-resources"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="package-management"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="package-management-introduction"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dpkg"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="apt"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="aptitude"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="aptitude-commandline"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="automatic-updates"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="update-notifications"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="extra-repositories"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="package-management-references"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="networking"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="network-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ethernet-interfaces"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="identify-ethernet-interfaces"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ethernet-interface-names"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ethernet-interface-settings"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ip-addressing"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="temp-ip-assignment"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dynamic-ip-addressing"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="static-ip-addressing"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="loopback-interface"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="name-resolution"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dns-client-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="static-hostnames"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="name-service-switch-config"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="bridging"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="network-config-resources"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="tcpip"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="tcpip-introduction"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="tcpip-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ip-routing"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="tcp-and-udp"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="icmp"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="daemons"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="tcpip-resources"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dhcp"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dhcp-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dhcp-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dhcp-references"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="NTP"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="timedate-info"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="timedate-config"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="timeservers"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ntpd"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ntp-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="timeservers-conf"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ntp-status"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ntp-pps"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ntp-references"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="DPDK"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dpdk-prerequisites"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dpdk-config-dev"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dpdk-config-hp"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dpdk-apps"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dpdk-openvswitch"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dpdk-openvswitch-guest"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dpdk-in-guest"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ovs-dpdk-tuning"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dpdk-support"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dpdk-references"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dm-multipath-chapter"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="device-mapper-multipathing"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-new-and-changed-features"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-migration-from-previous-release"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="priority-checker-conversion-table"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="checker-conversion-table"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-overview"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-storage-array-support"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-dm-multipath-components"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-components-table"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-dm-multipath-setup-overview"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-devices"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-device-identifiers"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-device-names-in-cluster"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-devices-attributes"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-devices-in-logical-volumes"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-setting-up-dm-multipath"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-setup-overview"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-skel-config"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-ignore-local-disks"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-config-storage-devices"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-dm-multipath-config-file"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-config-overview"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="config-overview-title"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-config-blacklist"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="config-blacklist-title"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-config-blacklist-by-wwid"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="config-blacklist-by-wwid-title"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-config-blacklist-by-device-name"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="config-blacklist-by-device-name-title"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-config-blacklist-by-device-type"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="config-blacklist-by-device-type-title"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-config-blacklist-exceptions"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="config-blacklist-exceptions-title"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-config-defaults"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="config-defaults-title"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-config-defaults-table"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="config-defaults-table-title"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="attribute-polling-interval"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="attribute-udev_dir"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="attribute-multipath_dir"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="attribute-verbosity"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="attribute-path_selector"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="attribute-path_grouping_policy"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="attribute-getuid_callout"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="attribute-prio"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="attribute-prio_args"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="attribute-features"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="attribute-path_checker"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="attribute-failback"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="attribute-rr_min_io"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="attribute-rr_weight"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="attribute-no_path_retry"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="attribute-user_friendly_names"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="attribute-queue_without_daemon"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="attribute-flush_on_last_del"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="attribute-max_fds"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="attribute-checker_timer"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="attribute-fast_io_fail_tmo"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="attribute-dev_loss_tmo"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-config-multipath"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="config-multipath-title"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-attributes-table"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="attributes-table-title"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="attribute-wwid"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="attribute-alias"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-config-device"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="config-device-title"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-device-attributes-table"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="device-attributes-table-title"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="attribute-vendor"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="attribute-product"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="attribute-revision"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="attribute-product-blacklist"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="attribute-hardware-handler"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-admin-and-troubleshooting"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-resize-an-online-multipath-device"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-moving-rootfs-from-single-path-to-multipath-device"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-moving-swap-from-single-path-to-multipath-device"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-daemon-multipathd"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-issues-with-queue_if_no_path"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-command-output"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-queries-and-commands"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-command-options"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="useful-multipath-command-options"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="useful-multipath-command-options-title"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="device-mapper-entries-in-dmsetup"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="multipath-interacting-with-multipathd"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="remote-administration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openssh-server"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openssh-introduction"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openssh-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openssh-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openssh-keys"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openssh-references"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="puppet"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="puppet-preconfiguration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="puppet-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="puppet-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="puppet-resources"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="zentyal"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="zentyal-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="zentyal-firststeps"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="zentyal-modules"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="zentyal-references"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="network-authentication"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openldap-server"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openldap-server-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openldap-server-postinstall"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openldap-server-populate"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openldap-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openldap-server-logging"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openldap-server-replication"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openldap-provider-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openldap-consumer-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openldap-testing"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openldap-server-acl"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openldap-tls"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openldap-tls-replication"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openldap-auth-config"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ldap-usergroup-management"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ldap-backup"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openldap-server-resources"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="samba-ldap"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="samba-ldap-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="samba-ldap-openldap-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="samba-ldap-openldap-configuration-samba-schema"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="samba-ldap-openldap-configuration-samba-indices"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="samba-ldap-openldap-configuration-populating"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="samba-ldap-samba-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="samba-ldap-resources"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="kerberos"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="kerberos-overview"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="kerberos-server"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="kerberos-server-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="kerberos-server-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="kerberos-secondary-kdc"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="kerberos-linux-client"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="kerberos-client-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="kerberos-client-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="kerberos-resources"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="kerberos-ldap"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="kerberos-ldap-openldap"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="kerberos-ldap-primary-kdc"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="kerberos-ldap-secondary-kdc"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="kerberos-ldap-resources"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="sssd-ad"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="sssd-ad-requirements"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="sssd-ad-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="sssd-ad-kerberos"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="sssd-ad-samba"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="sssd-ad-sssdconfig"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="sssd-ad-nsswitch"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="sssd-ad-hosts"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="sssd-ad-join"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="sssd-ad-test"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="sssd-ad-mkhomedir"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="sssd-ad-desktop"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="sssd-ad-resources"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dns"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dns-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dns-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dns-configuration-overview"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dns-caching-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dns-primarymaster-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dns-forward-zone-file"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dns-reverse-zone-file"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dns-secondarymaster-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dns-troubleshooting"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dns-testing"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dns-resolv.conf"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dns-testing-dig"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dns-testing-ping"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dns-testing-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dns-logging"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dns-references"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dns-record-types"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dns-more-info"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="security"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="user-management"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="where-is-root"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="adding-deleting-users"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="user-profile-security"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="password-policy"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="minimum-password-length"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="password-expiration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="other-security-considerations"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ssh-access-by-disabled-users"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="external-db-auth"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="console-security"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="disable-ctrl-alt-delete"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="firewall"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="firewall-introduction"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="firewall-ufw"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ufw-application-integration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ip-masquerading"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ip-masquerade-ufw"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ip-masquerading-iptables"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="firewall-logs"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="other-firewall-tools"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="firewall-references"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="apparmor"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="apparmor-usage"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="apparmor-profiles"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="apparmor-profiles-new"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="apparmor-profiles-update"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="apparmor-references"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="certificates-and-security"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="types-of-certificates"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="generating-a-csr"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="creating-a-self-signed-certificate"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="installing-the-certificate"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="certificate-authority"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="certificate-references"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ecryptfs"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ecryptfs-usage"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ecryptfs-automount"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ecryptfs-other-utils"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="eCryptfs-references"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="monitoring"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="monitoring-overview"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="nagios"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="nagios-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="nagios-configuration-overview"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="nagios-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="nagios-references"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="munin"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="munin-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="munin-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="munin-plugins"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="munin-references"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="web-servers"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="httpd"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="http-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="http-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="http-basic-settings"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="default-settings"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="httpd-settings"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="apache-modules"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="https-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="http-directory-permissions"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="http-references"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="php"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="php-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="php-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="php-testing"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="php-references"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="squid"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="squid-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="squid-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="squid-references"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ruby-on-rails"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ruby-on-rails-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ruby-on-rails-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ruby-on-rails-references"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="tomcat"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="tomcat-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="tomcat-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="tomcat-configuration-ports"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="tomcat-configuration-jvm"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="tomcat-configuration-users"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="tomcat-webapps"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="tomcat-installation-docs"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="tomcat-installation-admin"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="tomcat-installation-examples"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="tomcat-user"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="tomcat-user-install"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="tomcat-user-create"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="tomcat-user-config"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="tomcat-user-start"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="tomcat-references"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="databases"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="mysql"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="mysql-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="mysql-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="mysql-engines"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="mysql-advanced"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="mysql-tuned-mycnf"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="mysql-tuner"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="mysql-resources"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="postgresql"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="postgresql-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="postgresql-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="postgresql-backups"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="postgresql-resources"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lamp-applications"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lamp-overview"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="moinmoin"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="moinmoin-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="moinmoin-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="moinmoin-verification"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="moinmoin-references"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="phpmyadmin"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="phpmyadmin-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="phpmyadmin-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="phpmyadmin-references"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="wordpress"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="wordpress-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="wordpress-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="wordpress-references"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="file-servers"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ftp-server"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="vsftpd-ftp-server-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="vsftpd-anonymous-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="vsftpd-userauth-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="vsftpd-security"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="vsftpd-references"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="network-file-system"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="nfs-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="nfs-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="nfs-client-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="nfs-references"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="iscsi-initiator"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="iscsi-initiator-install"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="iscsi-initiator-config"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="iscsi-initiator-references"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="cups"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="cups-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="cups-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="cups-web"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="cups-references"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="email-services"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="postfix"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="postfix-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="postfix-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="postfix-smtp-authentication"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="postfix-sasl"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="mail-stack-delivery"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="postfix-testing"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="postfix-troubleshooting"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="postfix-chroot"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="postfix-smtps"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="postfix-logs"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="postfix-references"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="exim4"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="exim4-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="exim4-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="exim4-smtp-auth"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="exim4-sasl"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="exim4-references"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dovecot-server"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dovecot-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dovecot-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dovecot-ssl"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="dovecot-references"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="mailman"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="mailman-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="mailman-apache2"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="mailman-postfix"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="mailman-exim4"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="mailman-mailman"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="mailman-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="mailman-conf-apache2"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="mailman-conf-postfix"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="mailman-conf-exim4"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="mailman-conf-main"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="mailman-conf-transport"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="mailman-conf-router"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="mailman-conf-mailman"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="mailman-admin"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="mailman-users"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="mailman-references"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="mail-filtering"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="mail-filter-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="mail-filter-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="clamav-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="spamassassin-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="amavisd-new-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="amavis-dkim-whitelist"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="postfix-mail-filtering-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="amavisd-new-spamassassin-integration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="mail-filter-testing"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="mail-filter-troubleshooting"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="mail-filter-references"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="chat-servers"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="chat-overview"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="irc-server"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="irc-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="irc-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="irc-references"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="jabberd2-server"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="jabberd2-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="jabberd2-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="jabberd2-references"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="version-control-system"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="bazaar"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="bzr-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="bzr-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="bzr-learning"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="bzr-lp-integration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="git"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="git-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="git-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="git-usage"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="git-installing-gitolite"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="git-configuring-gitolite"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="git-gitolite-management"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="git-gitolite-usage"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="subversion"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="subversion-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="subversion-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="create-svn-repos"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="import-svn-files"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="access-methods"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="direct-repos-access"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="access-via-webdav"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="access-via-webdav-with-ssl"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="access-via-custom-protocol"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="access-via-custom-protocol-with-ssh"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="version-control-ref"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="samba"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="samba-introduction"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="samba-fileserver"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="samba-fileserver-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="samba-fileserver-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="samba-fileserver-resources"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="samba-printserver"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="samba-printserver-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="samba-printserver-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="samba-printserver-resources"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="samba-fileprint-security"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="samba-security-mode"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="samba-user-security"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="samba-share-security"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="windows-networking-groups"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="samba-file-permissions"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="samba-apparmor"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="samba-security-resources"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="samba-dc"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="samba-pdc-smbpasswd"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="samba-bdc-smbpasswd"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="samba-dc-resources"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="samba-ad-integration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ad-integration-samba-share"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ad-integration-windows-share"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ad-integration-resources"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="backups"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="backup-shellscripts"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="backup-shellscript"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="backup-executing-shellscript"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="backup-script-execute-shell"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="backup-script-execute-cron"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="backup-shellscript-archive-testing"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="backup-shellscript-references"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="backups-shellscripts-rotation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="backups-nfs-rotation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="backup-shellscript-tapedrive"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="bacula"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="bacula-overview"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="bacula-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="bacula-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="bacula-localhost-backup"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="bacula-resources"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="virtualization"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="libvirt"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="virtual-networking"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="libvirt-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="libvirt-virt-install"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="libvirt-virt-clone"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="libvirt-management"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="virsh"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="migration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="virtal-functions"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="monitor-via-libvirt"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="virt-manager"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="libvirt-virt-viewer"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="libvirt-resources"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="qemu"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="machine-type-upgrade"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="cloud-images-and-uvtool"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="cloud-image-introduction"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="creating-virtual-machines-using-uvtool"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="resources"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ubuntucloud"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ubuntu-cloud-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ubuntu-cloud-troubleshooting"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="ubuntu-cloud-resources"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lxd"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lxd-resources"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lxd-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lxd-kernel-prep"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lxd-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lxd-first-container"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lxd-server-config"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lxd-container-config"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lxd-profiles"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lxd-nesting"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lxd-limits"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lxd-uid"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lxd-aa"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lxd-seccomp"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lxd-troubleshooting"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lxc"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lxc-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lxc-basic-usage"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lxc-unpriv"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lxc-nesting"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lxc-global-conf"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lxc-network"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lxc-startup"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lxc-backinstores"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lxc-templates"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lxc-autostart"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lxc-apparmor"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lxc-cgroups"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lxc-cloning"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lxc-hooks"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lxc-consoles"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lxc-debugging"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lxc-monitoring"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="python-lxc"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lxc-security"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lxc-seccomp"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="lxc-resources"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="cgroups"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="cgroups-overview"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="cgroups-fs"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="cgroups-delegation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="cgroups-manager"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="cgroups-resources"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="clustering"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="drbd"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="drbd-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="drbd-testing"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="drbd-references"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="vpn"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openvpn"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openvpn-server-installation"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openvpn-pki-setup"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openvpn-ca-setup"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openvpn-server-cert"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openvpn-client-cert"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openvpn-simple-server-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openvpn-simple-client-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openvpn-first-troubleshooting"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openvpn-advanced-config"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openvpn-routed-server-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openvpn-bridged-server-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openvpn-bridged-server-configuration-interface"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openvpn-bridged-server-configuration-server"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openvpn-client-configuration"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openvpn-client-implementations"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openvpn-client-networkmanager"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openvpn-client-osx"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openvpn-client-win"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openvpn-client-openwrt"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="openvpn-references"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="other-useful-applications"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="pam_motd"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="pam_motd-resources"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="etckeeper"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="etckeeper-resources"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="byobu"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="byobu-resources"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="serverguide-appendix"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="reporting-bugs"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="reporting-bugs-apport-cli"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="apport-crash-catching"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="reporting-bugs-resources"/><fo:bookmark-tree><fo:bookmark internal-destination="idm45028036165072" starting-state="hide"><fo:bookmark-title>Ubuntu Server Guide</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="toc...idm45028036165072"><fo:bookmark-title>Table of Contents</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="introduction-chap" starting-state="hide"><fo:bookmark-title>Chapter1.Introduction</fo:bookmark-title><fo:bookmark internal-destination="ubuntu-support" starting-state="hide"><fo:bookmark-title>1.Support</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="installation" starting-state="hide"><fo:bookmark-title>Chapter2.Installation</fo:bookmark-title><fo:bookmark internal-destination="preparing-to-install" starting-state="hide"><fo:bookmark-title>1.Preparing to Install</fo:bookmark-title><fo:bookmark internal-destination="system-requirements" starting-state="hide"><fo:bookmark-title>1.1.System Requirements</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="intro-server-differences" starting-state="hide"><fo:bookmark-title>1.2.Server and Desktop Differences</fo:bookmark-title><fo:bookmark internal-destination="intro-kernel-diffs" starting-state="hide"><fo:bookmark-title>1.2.1.Kernel Differences:</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="backing-up" starting-state="hide"><fo:bookmark-title>1.3.Backing Up</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="installing-from-cd" starting-state="hide"><fo:bookmark-title>2.Installation</fo:bookmark-title><fo:bookmark internal-destination="install-tasks" starting-state="hide"><fo:bookmark-title>2.1.Package Tasks</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="installing-upgrading" starting-state="hide"><fo:bookmark-title>3.Upgrading</fo:bookmark-title><fo:bookmark internal-destination="do-release-upgrade" starting-state="hide"><fo:bookmark-title>3.1.do-release-upgrade</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="advanced-installation" starting-state="hide"><fo:bookmark-title>4.Advanced Installation</fo:bookmark-title><fo:bookmark internal-destination="software-raid" starting-state="hide"><fo:bookmark-title>4.1.Software RAID</fo:bookmark-title><fo:bookmark internal-destination="raid-partitioning" starting-state="hide"><fo:bookmark-title>4.1.1.Partitioning</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="raid-configuration" starting-state="hide"><fo:bookmark-title>4.1.2.RAID Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="raid-formatting" starting-state="hide"><fo:bookmark-title>4.1.3.Formatting</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="raid-degraded" starting-state="hide"><fo:bookmark-title>4.1.4.Degraded RAID</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="raid-maintenance" starting-state="hide"><fo:bookmark-title>4.1.5.RAID Maintenance</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="raid-resources" starting-state="hide"><fo:bookmark-title>4.1.6.Resources</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="lvm" starting-state="hide"><fo:bookmark-title>4.2.Logical Volume Manager (LVM)</fo:bookmark-title><fo:bookmark internal-destination="lvm-overview" starting-state="hide"><fo:bookmark-title>4.2.1.Overview</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="lvm-installation" starting-state="hide"><fo:bookmark-title>4.2.2.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="lvm-extending" starting-state="hide"><fo:bookmark-title>4.2.3.Extending Volume Groups</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="lvm-resources" starting-state="hide"><fo:bookmark-title>4.2.4.Resources</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="iscsi" starting-state="hide"><fo:bookmark-title>4.3.iSCSI</fo:bookmark-title><fo:bookmark internal-destination="idm45028029377536" starting-state="hide"><fo:bookmark-title>4.3.1.Installation on a diskless system</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="idm45028029359664" starting-state="hide"><fo:bookmark-title>4.3.2.Installation on a system with disk attached</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="idm45028029339312" starting-state="hide"><fo:bookmark-title>4.3.3.Rebooting to an iSCSI target</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="kernel-crash-dump" starting-state="hide"><fo:bookmark-title>5.Kernel Crash Dump</fo:bookmark-title><fo:bookmark internal-destination="kernel-dump-introduction" starting-state="hide"><fo:bookmark-title>5.1.Introduction</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="kernel-crash-dump-mechanisms" starting-state="hide"><fo:bookmark-title>5.2.Kernel Crash Dump Mechanism</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="Installation" starting-state="hide"><fo:bookmark-title>5.3.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="kernel-dump-configuration" starting-state="hide"><fo:bookmark-title>5.4.Configuration</fo:bookmark-title><fo:bookmark internal-destination="local-dump" starting-state="hide"><fo:bookmark-title>5.4.1.Local Kernel Crash Dumps</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="ssh-dump" starting-state="hide"><fo:bookmark-title>5.4.2.Remote Kernel Crash Dumps using the SSH protocol</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nfs-dump" starting-state="hide"><fo:bookmark-title>5.4.3.Remote Kernel Crash Dumps using the NFS protocol</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="verification" starting-state="hide"><fo:bookmark-title>5.5.Verification</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="kdump-testing" starting-state="hide"><fo:bookmark-title>5.6.Testing the Crash Dump Mechanism</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="kdump-resources" starting-state="hide"><fo:bookmark-title>5.7.Resources</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="package-management" starting-state="hide"><fo:bookmark-title>Chapter3.Package Management</fo:bookmark-title><fo:bookmark internal-destination="package-management-introduction" starting-state="hide"><fo:bookmark-title>1.Introduction</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="dpkg" starting-state="hide"><fo:bookmark-title>2.dpkg</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="apt" starting-state="hide"><fo:bookmark-title>3.Apt</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="aptitude" starting-state="hide"><fo:bookmark-title>4.Aptitude</fo:bookmark-title><fo:bookmark internal-destination="aptitude-commandline" starting-state="hide"><fo:bookmark-title>4.1.Command Line Aptitude</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="automatic-updates" starting-state="hide"><fo:bookmark-title>5.Automatic Updates</fo:bookmark-title><fo:bookmark internal-destination="update-notifications" starting-state="hide"><fo:bookmark-title>5.1.Notifications</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="configuration" starting-state="hide"><fo:bookmark-title>6.Configuration</fo:bookmark-title><fo:bookmark internal-destination="extra-repositories" starting-state="hide"><fo:bookmark-title>6.1.Extra Repositories</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="package-management-references" starting-state="hide"><fo:bookmark-title>7.References</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="networking" starting-state="hide"><fo:bookmark-title>Chapter4.Networking</fo:bookmark-title><fo:bookmark internal-destination="network-configuration" starting-state="hide"><fo:bookmark-title>1.Network Configuration</fo:bookmark-title><fo:bookmark internal-destination="ethernet-interfaces" starting-state="hide"><fo:bookmark-title>1.1.Ethernet Interfaces</fo:bookmark-title><fo:bookmark internal-destination="identify-ethernet-interfaces" starting-state="hide"><fo:bookmark-title>1.1.1.Identify Ethernet Interfaces</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="ethernet-interface-names" starting-state="hide"><fo:bookmark-title>1.1.2.Ethernet Interface Logical Names</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="ethernet-interface-settings" starting-state="hide"><fo:bookmark-title>1.1.3.Ethernet Interface Settings</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="ip-addressing" starting-state="hide"><fo:bookmark-title>1.2.IP Addressing</fo:bookmark-title><fo:bookmark internal-destination="temp-ip-assignment" starting-state="hide"><fo:bookmark-title>1.2.1.Temporary IP Address Assignment</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="dynamic-ip-addressing" starting-state="hide"><fo:bookmark-title>1.2.2.Dynamic IP Address Assignment (DHCP Client)</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="static-ip-addressing" starting-state="hide"><fo:bookmark-title>1.2.3.Static IP Address Assignment</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="loopback-interface" starting-state="hide"><fo:bookmark-title>1.2.4.Loopback Interface</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="name-resolution" starting-state="hide"><fo:bookmark-title>1.3.Name Resolution</fo:bookmark-title><fo:bookmark internal-destination="dns-client-configuration" starting-state="hide"><fo:bookmark-title>1.3.1.DNS Client Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="static-hostnames" starting-state="hide"><fo:bookmark-title>1.3.2.Static Hostnames</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="name-service-switch-config" starting-state="hide"><fo:bookmark-title>1.3.3.Name Service Switch Configuration</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="bridging" starting-state="hide"><fo:bookmark-title>1.4.Bridging</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="network-config-resources" starting-state="hide"><fo:bookmark-title>1.5.Resources</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="tcpip" starting-state="hide"><fo:bookmark-title>2.TCP/IP</fo:bookmark-title><fo:bookmark internal-destination="tcpip-introduction" starting-state="hide"><fo:bookmark-title>2.1.TCP/IP Introduction</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="tcpip-configuration" starting-state="hide"><fo:bookmark-title>2.2.TCP/IP Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="ip-routing" starting-state="hide"><fo:bookmark-title>2.3.IP Routing</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="tcp-and-udp" starting-state="hide"><fo:bookmark-title>2.4.TCP and UDP</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="icmp" starting-state="hide"><fo:bookmark-title>2.5.ICMP</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="daemons" starting-state="hide"><fo:bookmark-title>2.6.Daemons</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="tcpip-resources" starting-state="hide"><fo:bookmark-title>2.7.Resources</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="dhcp" starting-state="hide"><fo:bookmark-title>3.Dynamic Host Configuration Protocol (DHCP)</fo:bookmark-title><fo:bookmark internal-destination="dhcp-installation" starting-state="hide"><fo:bookmark-title>3.1.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="dhcp-configuration" starting-state="hide"><fo:bookmark-title>3.2.Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="dhcp-references" starting-state="hide"><fo:bookmark-title>3.3.References</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="NTP" starting-state="hide"><fo:bookmark-title>4.Time Synchronisation</fo:bookmark-title><fo:bookmark internal-destination="timedate-info" starting-state="hide"><fo:bookmark-title>4.1.Synchronizing your systems time</fo:bookmark-title><fo:bookmark internal-destination="timedate-config" starting-state="hide"><fo:bookmark-title>4.1.1.Configuring timedatectl and timesyncd</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="timeservers" starting-state="hide"><fo:bookmark-title>4.2.Serving NTP</fo:bookmark-title><fo:bookmark internal-destination="ntpd" starting-state="hide"><fo:bookmark-title>4.2.1.ntpd</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="ntp-installation" starting-state="hide"><fo:bookmark-title>4.2.2.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="timeservers-conf" starting-state="hide"><fo:bookmark-title>4.2.3.Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="ntp-status" starting-state="hide"><fo:bookmark-title>4.2.4.View status</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="ntp-pps" starting-state="hide"><fo:bookmark-title>4.2.5.PPS Support</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="ntp-references" starting-state="hide"><fo:bookmark-title>4.3.References</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="DPDK" starting-state="hide"><fo:bookmark-title>5.Data Plane Development Kit</fo:bookmark-title><fo:bookmark internal-destination="dpdk-prerequisites" starting-state="hide"><fo:bookmark-title>5.1.Prerequisites</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="dpdk-config-dev" starting-state="hide"><fo:bookmark-title>5.2.DPDK Device configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="dpdk-config-hp" starting-state="hide"><fo:bookmark-title>5.3.DPDK HugePage configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="dpdk-apps" starting-state="hide"><fo:bookmark-title>5.4.Compile DPDK Applications</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="dpdk-openvswitch" starting-state="hide"><fo:bookmark-title>5.5.OpenVswitch-DPDK</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="dpdk-openvswitch-guest" starting-state="hide"><fo:bookmark-title>5.6.OpenVswitch DPDK to KVM Guests</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="dpdk-in-guest" starting-state="hide"><fo:bookmark-title>5.7.DPDK in KVM Guests</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="ovs-dpdk-tuning" starting-state="hide"><fo:bookmark-title>5.8.Tuning Openvswitch-DPDK</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="dpdk-support" starting-state="hide"><fo:bookmark-title>5.9.Support and Troubleshooting</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="dpdk-references" starting-state="hide"><fo:bookmark-title>5.10.Resources</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="dm-multipath-chapter" starting-state="hide"><fo:bookmark-title>Chapter5.DM-Multipath</fo:bookmark-title><fo:bookmark internal-destination="device-mapper-multipathing" starting-state="hide"><fo:bookmark-title>1.Device Mapper Multipathing</fo:bookmark-title><fo:bookmark internal-destination="multipath-new-and-changed-features" starting-state="hide"><fo:bookmark-title>1.1.New and Changed Features for Ubuntu Server 12.04</fo:bookmark-title><fo:bookmark internal-destination="multipath-migration-from-previous-release" starting-state="hide"><fo:bookmark-title>1.1.1.Migration from 0.4.8</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="multipath-overview" starting-state="hide"><fo:bookmark-title>1.2.Overview</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="multipath-storage-array-support" starting-state="hide"><fo:bookmark-title>1.3.Storage Array Overview</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="multipath-dm-multipath-components" starting-state="hide"><fo:bookmark-title>1.4.DM-Multipath components</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="multipath-dm-multipath-setup-overview" starting-state="hide"><fo:bookmark-title>1.5.DM-Multipath Setup Overview</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="multipath-devices" starting-state="hide"><fo:bookmark-title>2.Multipath Devices</fo:bookmark-title><fo:bookmark internal-destination="multipath-device-identifiers" starting-state="hide"><fo:bookmark-title>2.1.Multipath Device Identifiers</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="multipath-device-names-in-cluster" starting-state="hide"><fo:bookmark-title>2.2.Consistent Multipath Device Names in a Cluster</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="multipath-devices-attributes" starting-state="hide"><fo:bookmark-title>2.3.Multipath Device attributes</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="multipath-devices-in-logical-volumes" starting-state="hide"><fo:bookmark-title>2.4.Multipath Devices in Logical Volumes</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="multipath-setting-up-dm-multipath" starting-state="hide"><fo:bookmark-title>3.Setting up DM-Multipath Overview</fo:bookmark-title><fo:bookmark internal-destination="multipath-setup-overview" starting-state="hide"><fo:bookmark-title>3.1.Setting Up DM-Multipath</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="idm45028022730896" starting-state="hide"><fo:bookmark-title>3.2.Installing with Multipath Support</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="multipath-ignore-local-disks" starting-state="hide"><fo:bookmark-title>3.3.Ignoring Local Disks When Generating Multipath Devices</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="multipath-config-storage-devices" starting-state="hide"><fo:bookmark-title>3.4.Configuring Storage Devices</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="multipath-dm-multipath-config-file" starting-state="hide"><fo:bookmark-title>4.The DM-Multipath Configuration File</fo:bookmark-title><fo:bookmark internal-destination="multipath-config-overview" starting-state="hide"><fo:bookmark-title>4.1.Configuration File Overview</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="multipath-config-blacklist" starting-state="hide"><fo:bookmark-title>4.2.Configuration File Blacklist</fo:bookmark-title><fo:bookmark internal-destination="multipath-config-blacklist-by-wwid" starting-state="hide"><fo:bookmark-title>4.2.1.Blacklisting By WWID</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="multipath-config-blacklist-by-device-name" starting-state="hide"><fo:bookmark-title>4.2.2.Blacklisting By Device Name</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="multipath-config-blacklist-by-device-type" starting-state="hide"><fo:bookmark-title>4.2.3.Blacklisting By Device Type</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="multipath-config-blacklist-exceptions" starting-state="hide"><fo:bookmark-title>4.2.4.Blacklist Exceptions</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="multipath-config-defaults" starting-state="hide"><fo:bookmark-title>4.3.Configuration File Defaults</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="multipath-config-multipath" starting-state="hide"><fo:bookmark-title>4.4.Configuration File Multipath Attributes</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="multipath-config-device" starting-state="hide"><fo:bookmark-title>4.5.Configuration File Devices</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="multipath-admin-and-troubleshooting" starting-state="hide"><fo:bookmark-title>5.DM-Multipath Administration and Troubleshooting</fo:bookmark-title><fo:bookmark internal-destination="multipath-resize-an-online-multipath-device" starting-state="hide"><fo:bookmark-title>5.1.Resizing an Online Multipath Device</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="multipath-moving-rootfs-from-single-path-to-multipath-device" starting-state="hide"><fo:bookmark-title>5.2.Moving root File Systems from a Single Path Device to a Multipath Device</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="multipath-moving-swap-from-single-path-to-multipath-device" starting-state="hide"><fo:bookmark-title>5.3.Moving swap File Systems from a Single Path Device to a Multipath Device</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="multipath-daemon-multipathd" starting-state="hide"><fo:bookmark-title>5.4.The Multipath Daemon</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="multipath-issues-with-queue_if_no_path" starting-state="hide"><fo:bookmark-title>5.5.Issues with queue_if_no_path</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="multipath-command-output" starting-state="hide"><fo:bookmark-title>5.6.Multipath Command Output</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="multipath-queries-and-commands" starting-state="hide"><fo:bookmark-title>5.7.Multipath Queries with multipath Command</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="multipath-command-options" starting-state="hide"><fo:bookmark-title>5.8.Multipath Command Options</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="device-mapper-entries-in-dmsetup" starting-state="hide"><fo:bookmark-title>5.9.Determining Device Mapper Entries with dmsetup Command</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="multipath-interacting-with-multipathd" starting-state="hide"><fo:bookmark-title>5.10.Troubleshooting with the multipathd interactive console</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="remote-administration" starting-state="hide"><fo:bookmark-title>Chapter6.Remote Administration</fo:bookmark-title><fo:bookmark internal-destination="openssh-server" starting-state="hide"><fo:bookmark-title>1.OpenSSH Server</fo:bookmark-title><fo:bookmark internal-destination="openssh-introduction" starting-state="hide"><fo:bookmark-title>1.1.Introduction</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="openssh-installation" starting-state="hide"><fo:bookmark-title>1.2.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="openssh-configuration" starting-state="hide"><fo:bookmark-title>1.3.Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="openssh-keys" starting-state="hide"><fo:bookmark-title>1.4.SSH Keys</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="openssh-references" starting-state="hide"><fo:bookmark-title>1.5.References</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="puppet" starting-state="hide"><fo:bookmark-title>2.Puppet</fo:bookmark-title><fo:bookmark internal-destination="puppet-preconfiguration" starting-state="hide"><fo:bookmark-title>2.1.Preconfiguration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="puppet-installation" starting-state="hide"><fo:bookmark-title>2.2.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="puppet-configuration" starting-state="hide"><fo:bookmark-title>2.3.Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="puppet-resources" starting-state="hide"><fo:bookmark-title>2.4.Resources</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="zentyal" starting-state="hide"><fo:bookmark-title>3.Zentyal</fo:bookmark-title><fo:bookmark internal-destination="zentyal-installation" starting-state="hide"><fo:bookmark-title>3.1.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="zentyal-firststeps" starting-state="hide"><fo:bookmark-title>3.2.First steps</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="zentyal-modules" starting-state="hide"><fo:bookmark-title>3.3.Modules</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="zentyal-references" starting-state="hide"><fo:bookmark-title>3.4.References</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="network-authentication" starting-state="hide"><fo:bookmark-title>Chapter7.Network Authentication</fo:bookmark-title><fo:bookmark internal-destination="openldap-server" starting-state="hide"><fo:bookmark-title>1.OpenLDAP Server</fo:bookmark-title><fo:bookmark internal-destination="openldap-server-installation" starting-state="hide"><fo:bookmark-title>1.1.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="openldap-server-postinstall" starting-state="hide"><fo:bookmark-title>1.2.Post-install Inspection</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="openldap-server-populate" starting-state="hide"><fo:bookmark-title>1.3.Modifying/Populating your Database</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="openldap-configuration" starting-state="hide"><fo:bookmark-title>1.4.Modifying the slapd Configuration Database</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="openldap-server-logging" starting-state="hide"><fo:bookmark-title>1.5.Logging</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="openldap-server-replication" starting-state="hide"><fo:bookmark-title>1.6.Replication</fo:bookmark-title><fo:bookmark internal-destination="openldap-provider-configuration" starting-state="hide"><fo:bookmark-title>1.6.1.Provider Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="openldap-consumer-configuration" starting-state="hide"><fo:bookmark-title>1.6.2.Consumer Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="openldap-testing" starting-state="hide"><fo:bookmark-title>1.6.3.Testing</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="openldap-server-acl" starting-state="hide"><fo:bookmark-title>1.7.Access Control</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="openldap-tls" starting-state="hide"><fo:bookmark-title>1.8.TLS</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="openldap-tls-replication" starting-state="hide"><fo:bookmark-title>1.9.Replication and TLS</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="openldap-auth-config" starting-state="hide"><fo:bookmark-title>1.10.LDAP Authentication</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="ldap-usergroup-management" starting-state="hide"><fo:bookmark-title>1.11.User and Group Management</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="ldap-backup" starting-state="hide"><fo:bookmark-title>1.12.Backup and Restore</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="openldap-server-resources" starting-state="hide"><fo:bookmark-title>1.13.Resources</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="samba-ldap" starting-state="hide"><fo:bookmark-title>2.Samba and LDAP</fo:bookmark-title><fo:bookmark internal-destination="samba-ldap-installation" starting-state="hide"><fo:bookmark-title>2.1.Software Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="samba-ldap-openldap-configuration" starting-state="hide"><fo:bookmark-title>2.2.LDAP Configuration</fo:bookmark-title><fo:bookmark internal-destination="samba-ldap-openldap-configuration-samba-schema" starting-state="hide"><fo:bookmark-title>2.2.1.Samba schema</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="samba-ldap-openldap-configuration-samba-indices" starting-state="hide"><fo:bookmark-title>2.2.2.Samba indices</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="samba-ldap-openldap-configuration-populating" starting-state="hide"><fo:bookmark-title>2.2.3.Adding Samba LDAP objects</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="samba-ldap-samba-configuration" starting-state="hide"><fo:bookmark-title>2.3.Samba Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="samba-ldap-resources" starting-state="hide"><fo:bookmark-title>2.4.Resources</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="kerberos" starting-state="hide"><fo:bookmark-title>3.Kerberos</fo:bookmark-title><fo:bookmark internal-destination="kerberos-overview" starting-state="hide"><fo:bookmark-title>3.1.Overview</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="kerberos-server" starting-state="hide"><fo:bookmark-title>3.2.Kerberos Server</fo:bookmark-title><fo:bookmark internal-destination="kerberos-server-installation" starting-state="hide"><fo:bookmark-title>3.2.1.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="kerberos-server-configuration" starting-state="hide"><fo:bookmark-title>3.2.2.Configuration</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="kerberos-secondary-kdc" starting-state="hide"><fo:bookmark-title>3.3.Secondary KDC</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="kerberos-linux-client" starting-state="hide"><fo:bookmark-title>3.4.Kerberos Linux Client</fo:bookmark-title><fo:bookmark internal-destination="kerberos-client-installation" starting-state="hide"><fo:bookmark-title>3.4.1.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="kerberos-client-configuration" starting-state="hide"><fo:bookmark-title>3.4.2.Configuration</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="kerberos-resources" starting-state="hide"><fo:bookmark-title>3.5.Resources</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="kerberos-ldap" starting-state="hide"><fo:bookmark-title>4.Kerberos and LDAP</fo:bookmark-title><fo:bookmark internal-destination="kerberos-ldap-openldap" starting-state="hide"><fo:bookmark-title>4.1.Configuring OpenLDAP</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="kerberos-ldap-primary-kdc" starting-state="hide"><fo:bookmark-title>4.2.Primary KDC Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="kerberos-ldap-secondary-kdc" starting-state="hide"><fo:bookmark-title>4.3.Secondary KDC Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="kerberos-ldap-resources" starting-state="hide"><fo:bookmark-title>4.4.Resources</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="sssd-ad" starting-state="hide"><fo:bookmark-title>5.SSSD and Active Directory</fo:bookmark-title><fo:bookmark internal-destination="sssd-ad-requirements" starting-state="hide"><fo:bookmark-title>5.1.Prerequisites, Assumptions, and Requirements</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="sssd-ad-installation" starting-state="hide"><fo:bookmark-title>5.2.Software Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="sssd-ad-kerberos" starting-state="hide"><fo:bookmark-title>5.3.Kerberos Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="sssd-ad-samba" starting-state="hide"><fo:bookmark-title>5.4.Samba Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="sssd-ad-sssdconfig" starting-state="hide"><fo:bookmark-title>5.5.SSSD Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="sssd-ad-nsswitch" starting-state="hide"><fo:bookmark-title>5.6.Verify nsswitch.conf Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="sssd-ad-hosts" starting-state="hide"><fo:bookmark-title>5.7.Modify /etc/hosts</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="sssd-ad-join" starting-state="hide"><fo:bookmark-title>5.8.Join the Active Directory</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="sssd-ad-test" starting-state="hide"><fo:bookmark-title>5.9.Test Authentication</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="sssd-ad-mkhomedir" starting-state="hide"><fo:bookmark-title>5.10.Home directories with pam_mkhomedir (optional)</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="sssd-ad-desktop" starting-state="hide"><fo:bookmark-title>5.11.Desktop Ubuntu Authentication</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="sssd-ad-resources" starting-state="hide"><fo:bookmark-title>5.12.Resources</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="dns" starting-state="hide"><fo:bookmark-title>Chapter8.Domain Name Service (DNS)</fo:bookmark-title><fo:bookmark internal-destination="dns-installation" starting-state="hide"><fo:bookmark-title>1.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="dns-configuration" starting-state="hide"><fo:bookmark-title>2.Configuration</fo:bookmark-title><fo:bookmark internal-destination="dns-configuration-overview" starting-state="hide"><fo:bookmark-title>2.1.Overview</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="dns-caching-configuration" starting-state="hide"><fo:bookmark-title>2.2.Caching Nameserver</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="dns-primarymaster-configuration" starting-state="hide"><fo:bookmark-title>2.3.Primary Master</fo:bookmark-title><fo:bookmark internal-destination="dns-forward-zone-file" starting-state="hide"><fo:bookmark-title>2.3.1.Forward Zone File</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="dns-reverse-zone-file" starting-state="hide"><fo:bookmark-title>2.3.2.Reverse Zone File</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="dns-secondarymaster-configuration" starting-state="hide"><fo:bookmark-title>2.4.Secondary Master</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="dns-troubleshooting" starting-state="hide"><fo:bookmark-title>3.Troubleshooting</fo:bookmark-title><fo:bookmark internal-destination="dns-testing" starting-state="hide"><fo:bookmark-title>3.1.Testing</fo:bookmark-title><fo:bookmark internal-destination="dns-resolv.conf" starting-state="hide"><fo:bookmark-title>3.1.1.resolv.conf</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="dns-testing-dig" starting-state="hide"><fo:bookmark-title>3.1.2.dig</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="dns-testing-ping" starting-state="hide"><fo:bookmark-title>3.1.3.ping</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="dns-testing-configuration" starting-state="hide"><fo:bookmark-title>3.1.4.named-checkzone</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="dns-logging" starting-state="hide"><fo:bookmark-title>3.2.Logging</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="dns-references" starting-state="hide"><fo:bookmark-title>4.References</fo:bookmark-title><fo:bookmark internal-destination="dns-record-types" starting-state="hide"><fo:bookmark-title>4.1.Common Record Types</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="dns-more-info" starting-state="hide"><fo:bookmark-title>4.2.More Information</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="security" starting-state="hide"><fo:bookmark-title>Chapter9.Security</fo:bookmark-title><fo:bookmark internal-destination="user-management" starting-state="hide"><fo:bookmark-title>1.User Management</fo:bookmark-title><fo:bookmark internal-destination="where-is-root" starting-state="hide"><fo:bookmark-title>1.1.Where is root?</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="adding-deleting-users" starting-state="hide"><fo:bookmark-title>1.2.Adding and Deleting Users</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="user-profile-security" starting-state="hide"><fo:bookmark-title>1.3.User Profile Security</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="password-policy" starting-state="hide"><fo:bookmark-title>1.4.Password Policy</fo:bookmark-title><fo:bookmark internal-destination="minimum-password-length" starting-state="hide"><fo:bookmark-title>1.4.1.Minimum Password Length</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="password-expiration" starting-state="hide"><fo:bookmark-title>1.4.2.Password Expiration</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="other-security-considerations" starting-state="hide"><fo:bookmark-title>1.5.Other Security Considerations</fo:bookmark-title><fo:bookmark internal-destination="ssh-access-by-disabled-users" starting-state="hide"><fo:bookmark-title>1.5.1.SSH Access by Disabled Users</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="external-db-auth" starting-state="hide"><fo:bookmark-title>1.5.2.External User Database Authentication</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="console-security" starting-state="hide"><fo:bookmark-title>2.Console Security</fo:bookmark-title><fo:bookmark internal-destination="disable-ctrl-alt-delete" starting-state="hide"><fo:bookmark-title>2.1.Disable Ctrl+Alt+Delete</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="firewall" starting-state="hide"><fo:bookmark-title>3.Firewall</fo:bookmark-title><fo:bookmark internal-destination="firewall-introduction" starting-state="hide"><fo:bookmark-title>3.1.Introduction</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="firewall-ufw" starting-state="hide"><fo:bookmark-title>3.2.ufw - Uncomplicated Firewall</fo:bookmark-title><fo:bookmark internal-destination="ufw-application-integration" starting-state="hide"><fo:bookmark-title>3.2.1.ufw Application Integration</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="ip-masquerading" starting-state="hide"><fo:bookmark-title>3.3.IP Masquerading</fo:bookmark-title><fo:bookmark internal-destination="ip-masquerade-ufw" starting-state="hide"><fo:bookmark-title>3.3.1.ufw Masquerading</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="ip-masquerading-iptables" starting-state="hide"><fo:bookmark-title>3.3.2.iptables Masquerading</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="firewall-logs" starting-state="hide"><fo:bookmark-title>3.4.Logs</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="other-firewall-tools" starting-state="hide"><fo:bookmark-title>3.5.Other Tools</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="firewall-references" starting-state="hide"><fo:bookmark-title>3.6.References</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="apparmor" starting-state="hide"><fo:bookmark-title>4.AppArmor</fo:bookmark-title><fo:bookmark internal-destination="apparmor-usage" starting-state="hide"><fo:bookmark-title>4.1.Using AppArmor</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="apparmor-profiles" starting-state="hide"><fo:bookmark-title>4.2.Profiles</fo:bookmark-title><fo:bookmark internal-destination="apparmor-profiles-new" starting-state="hide"><fo:bookmark-title>4.2.1.Creating a Profile</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="apparmor-profiles-update" starting-state="hide"><fo:bookmark-title>4.2.2.Updating Profiles</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="apparmor-references" starting-state="hide"><fo:bookmark-title>4.3.References</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="certificates-and-security" starting-state="hide"><fo:bookmark-title>5.Certificates</fo:bookmark-title><fo:bookmark internal-destination="types-of-certificates" starting-state="hide"><fo:bookmark-title>5.1.Types of Certificates</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="generating-a-csr" starting-state="hide"><fo:bookmark-title>5.2.Generating a Certificate Signing Request (CSR)</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="creating-a-self-signed-certificate" starting-state="hide"><fo:bookmark-title>5.3.Creating a Self-Signed Certificate</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="installing-the-certificate" starting-state="hide"><fo:bookmark-title>5.4.Installing the Certificate</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="certificate-authority" starting-state="hide"><fo:bookmark-title>5.5.Certification Authority</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="certificate-references" starting-state="hide"><fo:bookmark-title>5.6.References</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="ecryptfs" starting-state="hide"><fo:bookmark-title>6.eCryptfs</fo:bookmark-title><fo:bookmark internal-destination="ecryptfs-usage" starting-state="hide"><fo:bookmark-title>6.1.Using eCryptfs</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="ecryptfs-automount" starting-state="hide"><fo:bookmark-title>6.2.Automatically Mounting Encrypted Partitions</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="ecryptfs-other-utils" starting-state="hide"><fo:bookmark-title>6.3.Other Utilities</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="eCryptfs-references" starting-state="hide"><fo:bookmark-title>6.4.References</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="monitoring" starting-state="hide"><fo:bookmark-title>Chapter10.Monitoring</fo:bookmark-title><fo:bookmark internal-destination="monitoring-overview" starting-state="hide"><fo:bookmark-title>1.Overview</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nagios" starting-state="hide"><fo:bookmark-title>2.Nagios</fo:bookmark-title><fo:bookmark internal-destination="nagios-installation" starting-state="hide"><fo:bookmark-title>2.1.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nagios-configuration-overview" starting-state="hide"><fo:bookmark-title>2.2.Configuration Overview</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nagios-configuration" starting-state="hide"><fo:bookmark-title>2.3.Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nagios-references" starting-state="hide"><fo:bookmark-title>2.4.References</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="munin" starting-state="hide"><fo:bookmark-title>3.Munin</fo:bookmark-title><fo:bookmark internal-destination="munin-installation" starting-state="hide"><fo:bookmark-title>3.1.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="munin-configuration" starting-state="hide"><fo:bookmark-title>3.2.Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="munin-plugins" starting-state="hide"><fo:bookmark-title>3.3.Additional Plugins</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="munin-references" starting-state="hide"><fo:bookmark-title>3.4.References</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="web-servers" starting-state="hide"><fo:bookmark-title>Chapter11.Web Servers</fo:bookmark-title><fo:bookmark internal-destination="httpd" starting-state="hide"><fo:bookmark-title>1.HTTPD - Apache2 Web Server</fo:bookmark-title><fo:bookmark internal-destination="http-installation" starting-state="hide"><fo:bookmark-title>1.1.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="http-configuration" starting-state="hide"><fo:bookmark-title>1.2.Configuration</fo:bookmark-title><fo:bookmark internal-destination="http-basic-settings" starting-state="hide"><fo:bookmark-title>1.2.1.Basic Settings</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="default-settings" starting-state="hide"><fo:bookmark-title>1.2.2.Default Settings</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="httpd-settings" starting-state="hide"><fo:bookmark-title>1.2.3.httpd Settings</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="apache-modules" starting-state="hide"><fo:bookmark-title>1.2.4.Apache2 Modules</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="https-configuration" starting-state="hide"><fo:bookmark-title>1.3.HTTPS Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="http-directory-permissions" starting-state="hide"><fo:bookmark-title>1.4.Sharing Write Permission</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="http-references" starting-state="hide"><fo:bookmark-title>1.5.References</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="php" starting-state="hide"><fo:bookmark-title>2.PHP - Scripting Language</fo:bookmark-title><fo:bookmark internal-destination="php-installation" starting-state="hide"><fo:bookmark-title>2.1.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="php-configuration" starting-state="hide"><fo:bookmark-title>2.2.Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="php-testing" starting-state="hide"><fo:bookmark-title>2.3.Testing</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="php-references" starting-state="hide"><fo:bookmark-title>2.4.References</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="squid" starting-state="hide"><fo:bookmark-title>3.Squid - Proxy Server</fo:bookmark-title><fo:bookmark internal-destination="squid-installation" starting-state="hide"><fo:bookmark-title>3.1.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="squid-configuration" starting-state="hide"><fo:bookmark-title>3.2.Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="squid-references" starting-state="hide"><fo:bookmark-title>3.3.References</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="ruby-on-rails" starting-state="hide"><fo:bookmark-title>4.Ruby on Rails</fo:bookmark-title><fo:bookmark internal-destination="ruby-on-rails-installation" starting-state="hide"><fo:bookmark-title>4.1.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="ruby-on-rails-configuration" starting-state="hide"><fo:bookmark-title>4.2.Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="ruby-on-rails-references" starting-state="hide"><fo:bookmark-title>4.3.References</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="tomcat" starting-state="hide"><fo:bookmark-title>5.Apache Tomcat</fo:bookmark-title><fo:bookmark internal-destination="tomcat-installation" starting-state="hide"><fo:bookmark-title>5.1.System-wide installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="tomcat-configuration" starting-state="hide"><fo:bookmark-title>5.2.Configuration</fo:bookmark-title><fo:bookmark internal-destination="tomcat-configuration-ports" starting-state="hide"><fo:bookmark-title>5.2.1.Changing default ports</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="tomcat-configuration-jvm" starting-state="hide"><fo:bookmark-title>5.2.2.Changing JVM used</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="tomcat-configuration-users" starting-state="hide"><fo:bookmark-title>5.2.3.Declaring users and roles</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="tomcat-webapps" starting-state="hide"><fo:bookmark-title>5.3.Using Tomcat standard webapps</fo:bookmark-title><fo:bookmark internal-destination="tomcat-installation-docs" starting-state="hide"><fo:bookmark-title>5.3.1.Tomcat documentation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="tomcat-installation-admin" starting-state="hide"><fo:bookmark-title>5.3.2.Tomcat administration webapps</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="tomcat-installation-examples" starting-state="hide"><fo:bookmark-title>5.3.3.Tomcat examples webapps</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="tomcat-user" starting-state="hide"><fo:bookmark-title>5.4.Using private instances</fo:bookmark-title><fo:bookmark internal-destination="tomcat-user-install" starting-state="hide"><fo:bookmark-title>5.4.1.Installing private instance support</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="tomcat-user-create" starting-state="hide"><fo:bookmark-title>5.4.2.Creating a private instance</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="tomcat-user-config" starting-state="hide"><fo:bookmark-title>5.4.3.Configuring your private instance</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="tomcat-user-start" starting-state="hide"><fo:bookmark-title>5.4.4.Starting/stopping your private instance</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="tomcat-references" starting-state="hide"><fo:bookmark-title>5.5.References</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="databases" starting-state="hide"><fo:bookmark-title>Chapter12.Databases</fo:bookmark-title><fo:bookmark internal-destination="mysql" starting-state="hide"><fo:bookmark-title>1.MySQL</fo:bookmark-title><fo:bookmark internal-destination="mysql-installation" starting-state="hide"><fo:bookmark-title>1.1.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="mysql-configuration" starting-state="hide"><fo:bookmark-title>1.2.Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="mysql-engines" starting-state="hide"><fo:bookmark-title>1.3.Database Engines</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="mysql-advanced" starting-state="hide"><fo:bookmark-title>1.4.Advanced configuration</fo:bookmark-title><fo:bookmark internal-destination="mysql-tuned-mycnf" starting-state="hide"><fo:bookmark-title>1.4.1.Creating a tuned my.cnf file</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="mysql-tuner" starting-state="hide"><fo:bookmark-title>1.4.2.MySQL Tuner</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="mysql-resources" starting-state="hide"><fo:bookmark-title>1.5.Resources</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="postgresql" starting-state="hide"><fo:bookmark-title>2.PostgreSQL</fo:bookmark-title><fo:bookmark internal-destination="postgresql-installation" starting-state="hide"><fo:bookmark-title>2.1.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="postgresql-configuration" starting-state="hide"><fo:bookmark-title>2.2.Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="postgresql-backups" starting-state="hide"><fo:bookmark-title>2.3.Backups</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="postgresql-resources" starting-state="hide"><fo:bookmark-title>2.4.Resources</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="lamp-applications" starting-state="hide"><fo:bookmark-title>Chapter13.LAMP Applications</fo:bookmark-title><fo:bookmark internal-destination="lamp-overview" starting-state="hide"><fo:bookmark-title>1.Overview</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="moinmoin" starting-state="hide"><fo:bookmark-title>2.Moin Moin</fo:bookmark-title><fo:bookmark internal-destination="moinmoin-installation" starting-state="hide"><fo:bookmark-title>2.1.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="moinmoin-configuration" starting-state="hide"><fo:bookmark-title>2.2.Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="moinmoin-verification" starting-state="hide"><fo:bookmark-title>2.3.Verification</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="moinmoin-references" starting-state="hide"><fo:bookmark-title>2.4.References</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="phpmyadmin" starting-state="hide"><fo:bookmark-title>3.phpMyAdmin</fo:bookmark-title><fo:bookmark internal-destination="phpmyadmin-installation" starting-state="hide"><fo:bookmark-title>3.1.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="phpmyadmin-configuration" starting-state="hide"><fo:bookmark-title>3.2.Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="phpmyadmin-references" starting-state="hide"><fo:bookmark-title>3.3.References</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="wordpress" starting-state="hide"><fo:bookmark-title>4.WordPress</fo:bookmark-title><fo:bookmark internal-destination="wordpress-installation" starting-state="hide"><fo:bookmark-title>4.1.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="wordpress-configuration" starting-state="hide"><fo:bookmark-title>4.2.Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="wordpress-references" starting-state="hide"><fo:bookmark-title>4.3.References</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="file-servers" starting-state="hide"><fo:bookmark-title>Chapter14.File Servers</fo:bookmark-title><fo:bookmark internal-destination="ftp-server" starting-state="hide"><fo:bookmark-title>1.FTP Server</fo:bookmark-title><fo:bookmark internal-destination="vsftpd-ftp-server-installation" starting-state="hide"><fo:bookmark-title>1.1.vsftpd - FTP Server Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="vsftpd-anonymous-configuration" starting-state="hide"><fo:bookmark-title>1.2.Anonymous FTP Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="vsftpd-userauth-configuration" starting-state="hide"><fo:bookmark-title>1.3.User Authenticated FTP Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="vsftpd-security" starting-state="hide"><fo:bookmark-title>1.4.Securing FTP</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="vsftpd-references" starting-state="hide"><fo:bookmark-title>1.5.References</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="network-file-system" starting-state="hide"><fo:bookmark-title>2.Network File System (NFS)</fo:bookmark-title><fo:bookmark internal-destination="nfs-installation" starting-state="hide"><fo:bookmark-title>2.1.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nfs-configuration" starting-state="hide"><fo:bookmark-title>2.2.Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nfs-client-configuration" starting-state="hide"><fo:bookmark-title>2.3.NFS Client Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nfs-references" starting-state="hide"><fo:bookmark-title>2.4.References</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="iscsi-initiator" starting-state="hide"><fo:bookmark-title>3.iSCSI Initiator</fo:bookmark-title><fo:bookmark internal-destination="iscsi-initiator-install" starting-state="hide"><fo:bookmark-title>3.1.iSCSI Initiator Install</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="iscsi-initiator-config" starting-state="hide"><fo:bookmark-title>3.2.iSCSI Initiator Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="iscsi-initiator-references" starting-state="hide"><fo:bookmark-title>3.3.References</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="cups" starting-state="hide"><fo:bookmark-title>4.CUPS - Print Server</fo:bookmark-title><fo:bookmark internal-destination="cups-installation" starting-state="hide"><fo:bookmark-title>4.1.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="cups-configuration" starting-state="hide"><fo:bookmark-title>4.2.Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="cups-web" starting-state="hide"><fo:bookmark-title>4.3.Web Interface</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="cups-references" starting-state="hide"><fo:bookmark-title>4.4.References</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="email-services" starting-state="hide"><fo:bookmark-title>Chapter15.Email Services</fo:bookmark-title><fo:bookmark internal-destination="postfix" starting-state="hide"><fo:bookmark-title>1.Postfix</fo:bookmark-title><fo:bookmark internal-destination="postfix-installation" starting-state="hide"><fo:bookmark-title>1.1.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="postfix-configuration" starting-state="hide"><fo:bookmark-title>1.2.Basic Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="postfix-smtp-authentication" starting-state="hide"><fo:bookmark-title>1.3.SMTP Authentication</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="postfix-sasl" starting-state="hide"><fo:bookmark-title>1.4.Configuring SASL</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="mail-stack-delivery" starting-state="hide"><fo:bookmark-title>1.5.Mail-Stack Delivery</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="postfix-testing" starting-state="hide"><fo:bookmark-title>1.6.Testing</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="postfix-troubleshooting" starting-state="hide"><fo:bookmark-title>1.7.Troubleshooting</fo:bookmark-title><fo:bookmark internal-destination="postfix-chroot" starting-state="hide"><fo:bookmark-title>1.7.1.Escaping chroot</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="postfix-smtps" starting-state="hide"><fo:bookmark-title>1.7.2.Smtps</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="postfix-logs" starting-state="hide"><fo:bookmark-title>1.7.3.Log Files</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="postfix-references" starting-state="hide"><fo:bookmark-title>1.7.4.References</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="exim4" starting-state="hide"><fo:bookmark-title>2.Exim4</fo:bookmark-title><fo:bookmark internal-destination="exim4-installation" starting-state="hide"><fo:bookmark-title>2.1.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="exim4-configuration" starting-state="hide"><fo:bookmark-title>2.2.Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="exim4-smtp-auth" starting-state="hide"><fo:bookmark-title>2.3.SMTP Authentication</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="exim4-sasl" starting-state="hide"><fo:bookmark-title>2.4.Configuring SASL</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="exim4-references" starting-state="hide"><fo:bookmark-title>2.5.References</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="dovecot-server" starting-state="hide"><fo:bookmark-title>3.Dovecot Server</fo:bookmark-title><fo:bookmark internal-destination="dovecot-installation" starting-state="hide"><fo:bookmark-title>3.1.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="dovecot-configuration" starting-state="hide"><fo:bookmark-title>3.2.Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="dovecot-ssl" starting-state="hide"><fo:bookmark-title>3.3.Dovecot SSL Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="idm45028019977904" starting-state="hide"><fo:bookmark-title>3.4.Firewall Configuration for an Email Server</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="dovecot-references" starting-state="hide"><fo:bookmark-title>3.5.References</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="mailman" starting-state="hide"><fo:bookmark-title>4.Mailman</fo:bookmark-title><fo:bookmark internal-destination="mailman-installation" starting-state="hide"><fo:bookmark-title>4.1.Installation</fo:bookmark-title><fo:bookmark internal-destination="mailman-apache2" starting-state="hide"><fo:bookmark-title>4.1.1.Apache2</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="mailman-postfix" starting-state="hide"><fo:bookmark-title>4.1.2.Postfix</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="mailman-exim4" starting-state="hide"><fo:bookmark-title>4.1.3.Exim4</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="mailman-mailman" starting-state="hide"><fo:bookmark-title>4.1.4.Mailman</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="mailman-configuration" starting-state="hide"><fo:bookmark-title>4.2.Configuration</fo:bookmark-title><fo:bookmark internal-destination="mailman-conf-apache2" starting-state="hide"><fo:bookmark-title>4.2.1.Apache2</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="mailman-conf-postfix" starting-state="hide"><fo:bookmark-title>4.2.2.Postfix</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="mailman-conf-exim4" starting-state="hide"><fo:bookmark-title>4.2.3.Exim4</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="mailman-conf-main" starting-state="hide"><fo:bookmark-title>4.2.4.Main</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="mailman-conf-transport" starting-state="hide"><fo:bookmark-title>4.2.5.Transport</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="mailman-conf-router" starting-state="hide"><fo:bookmark-title>4.2.6.Router</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="mailman-conf-mailman" starting-state="hide"><fo:bookmark-title>4.2.7.Mailman</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="mailman-admin" starting-state="hide"><fo:bookmark-title>4.3.Administration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="mailman-users" starting-state="hide"><fo:bookmark-title>4.4.Users</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="mailman-references" starting-state="hide"><fo:bookmark-title>4.5.References</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="mail-filtering" starting-state="hide"><fo:bookmark-title>5.Mail Filtering</fo:bookmark-title><fo:bookmark internal-destination="mail-filter-installation" starting-state="hide"><fo:bookmark-title>5.1.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="mail-filter-configuration" starting-state="hide"><fo:bookmark-title>5.2.Configuration</fo:bookmark-title><fo:bookmark internal-destination="clamav-configuration" starting-state="hide"><fo:bookmark-title>5.2.1.ClamAV</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="spamassassin-configuration" starting-state="hide"><fo:bookmark-title>5.2.2.Spamassassin</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="amavisd-new-configuration" starting-state="hide"><fo:bookmark-title>5.2.3.Amavisd-new</fo:bookmark-title><fo:bookmark internal-destination="amavis-dkim-whitelist" starting-state="hide"><fo:bookmark-title>5.2.3.1.DKIM Whitelist</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="postfix-mail-filtering-configuration" starting-state="hide"><fo:bookmark-title>5.2.4.Postfix</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="amavisd-new-spamassassin-integration" starting-state="hide"><fo:bookmark-title>5.2.5.Amavisd-new and Spamassassin</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="mail-filter-testing" starting-state="hide"><fo:bookmark-title>5.3.Testing</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="mail-filter-troubleshooting" starting-state="hide"><fo:bookmark-title>5.4.Troubleshooting</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="mail-filter-references" starting-state="hide"><fo:bookmark-title>5.5.References</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="chat-servers" starting-state="hide"><fo:bookmark-title>Chapter16.Chat Applications</fo:bookmark-title><fo:bookmark internal-destination="chat-overview" starting-state="hide"><fo:bookmark-title>1.Overview</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="irc-server" starting-state="hide"><fo:bookmark-title>2.IRC Server</fo:bookmark-title><fo:bookmark internal-destination="irc-installation" starting-state="hide"><fo:bookmark-title>2.1.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="irc-configuration" starting-state="hide"><fo:bookmark-title>2.2.Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="irc-references" starting-state="hide"><fo:bookmark-title>2.3.References</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="jabberd2-server" starting-state="hide"><fo:bookmark-title>3.Jabber Instant Messaging Server</fo:bookmark-title><fo:bookmark internal-destination="jabberd2-installation" starting-state="hide"><fo:bookmark-title>3.1.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="jabberd2-configuration" starting-state="hide"><fo:bookmark-title>3.2.Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="jabberd2-references" starting-state="hide"><fo:bookmark-title>3.3.References</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="version-control-system" starting-state="hide"><fo:bookmark-title>Chapter17.Version Control System</fo:bookmark-title><fo:bookmark internal-destination="bazaar" starting-state="hide"><fo:bookmark-title>1.Bazaar</fo:bookmark-title><fo:bookmark internal-destination="bzr-installation" starting-state="hide"><fo:bookmark-title>1.1.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="bzr-configuration" starting-state="hide"><fo:bookmark-title>1.2.Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="bzr-learning" starting-state="hide"><fo:bookmark-title>1.3.Learning Bazaar</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="bzr-lp-integration" starting-state="hide"><fo:bookmark-title>1.4.Launchpad Integration</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="git" starting-state="hide"><fo:bookmark-title>2.Git</fo:bookmark-title><fo:bookmark internal-destination="git-installation" starting-state="hide"><fo:bookmark-title>2.1.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="git-configuration" starting-state="hide"><fo:bookmark-title>2.2.Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="git-usage" starting-state="hide"><fo:bookmark-title>2.3.Basic usage</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="git-installing-gitolite" starting-state="hide"><fo:bookmark-title>2.4.Installing a gitolite server</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="git-configuring-gitolite" starting-state="hide"><fo:bookmark-title>2.5.Gitolite configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="git-gitolite-management" starting-state="hide"><fo:bookmark-title>2.6.Managing gitolite users and repositories</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="git-gitolite-usage" starting-state="hide"><fo:bookmark-title>2.7.Using your server</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="subversion" starting-state="hide"><fo:bookmark-title>3.Subversion</fo:bookmark-title><fo:bookmark internal-destination="subversion-installation" starting-state="hide"><fo:bookmark-title>3.1.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="subversion-configuration" starting-state="hide"><fo:bookmark-title>3.2.Server Configuration</fo:bookmark-title><fo:bookmark internal-destination="create-svn-repos" starting-state="hide"><fo:bookmark-title>3.2.1.Create Subversion Repository</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="import-svn-files" starting-state="hide"><fo:bookmark-title>3.2.2.Importing Files</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="access-methods" starting-state="hide"><fo:bookmark-title>3.3.Access Methods</fo:bookmark-title><fo:bookmark internal-destination="direct-repos-access" starting-state="hide"><fo:bookmark-title>3.3.1.Direct repository access (file://)</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="access-via-webdav" starting-state="hide"><fo:bookmark-title>3.3.2.Access via WebDAV protocol (http://)</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="access-via-webdav-with-ssl" starting-state="hide"><fo:bookmark-title>3.3.3.Access via WebDAV protocol with SSL encryption (https://)</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="access-via-custom-protocol" starting-state="hide"><fo:bookmark-title>3.3.4.Access via custom protocol (svn://)</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="access-via-custom-protocol-with-ssh" starting-state="hide"><fo:bookmark-title>3.3.5.Access via custom protocol with SSH encryption (svn+ssh://)</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="version-control-ref" starting-state="hide"><fo:bookmark-title>4.References</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="samba" starting-state="hide"><fo:bookmark-title>Chapter18.Samba</fo:bookmark-title><fo:bookmark internal-destination="samba-introduction" starting-state="hide"><fo:bookmark-title>1.Introduction</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="samba-fileserver" starting-state="hide"><fo:bookmark-title>2.File Server</fo:bookmark-title><fo:bookmark internal-destination="samba-fileserver-installation" starting-state="hide"><fo:bookmark-title>2.1.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="samba-fileserver-configuration" starting-state="hide"><fo:bookmark-title>2.2.Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="samba-fileserver-resources" starting-state="hide"><fo:bookmark-title>2.3.Resources</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="samba-printserver" starting-state="hide"><fo:bookmark-title>3.Print Server</fo:bookmark-title><fo:bookmark internal-destination="samba-printserver-installation" starting-state="hide"><fo:bookmark-title>3.1.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="samba-printserver-configuration" starting-state="hide"><fo:bookmark-title>3.2.Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="samba-printserver-resources" starting-state="hide"><fo:bookmark-title>3.3.Resources</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="samba-fileprint-security" starting-state="hide"><fo:bookmark-title>4.Securing File and Print Server</fo:bookmark-title><fo:bookmark internal-destination="samba-security-mode" starting-state="hide"><fo:bookmark-title>4.1.Samba Security Modes</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="samba-user-security" starting-state="hide"><fo:bookmark-title>4.2.Security = User</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="samba-share-security" starting-state="hide"><fo:bookmark-title>4.3.Share Security</fo:bookmark-title><fo:bookmark internal-destination="windows-networking-groups" starting-state="hide"><fo:bookmark-title>4.3.1.Groups</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="samba-file-permissions" starting-state="hide"><fo:bookmark-title>4.3.2.File Permissions</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="samba-apparmor" starting-state="hide"><fo:bookmark-title>4.4.Samba AppArmor Profile</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="samba-security-resources" starting-state="hide"><fo:bookmark-title>4.5.Resources</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="samba-dc" starting-state="hide"><fo:bookmark-title>5.As a Domain Controller</fo:bookmark-title><fo:bookmark internal-destination="samba-pdc-smbpasswd" starting-state="hide"><fo:bookmark-title>5.1.Primary Domain Controller</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="samba-bdc-smbpasswd" starting-state="hide"><fo:bookmark-title>5.2.Backup Domain Controller</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="samba-dc-resources" starting-state="hide"><fo:bookmark-title>5.3.Resources</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="samba-ad-integration" starting-state="hide"><fo:bookmark-title>6.Active Directory Integration</fo:bookmark-title><fo:bookmark internal-destination="ad-integration-samba-share" starting-state="hide"><fo:bookmark-title>6.1.Accessing a Samba Share</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="ad-integration-windows-share" starting-state="hide"><fo:bookmark-title>6.2.Accessing a Windows Share</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="ad-integration-resources" starting-state="hide"><fo:bookmark-title>6.3.Resources</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="backups" starting-state="hide"><fo:bookmark-title>Chapter19.Backups</fo:bookmark-title><fo:bookmark internal-destination="backup-shellscripts" starting-state="hide"><fo:bookmark-title>1.Shell Scripts</fo:bookmark-title><fo:bookmark internal-destination="backup-shellscript" starting-state="hide"><fo:bookmark-title>1.1.Simple Shell Script</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="backup-executing-shellscript" starting-state="hide"><fo:bookmark-title>1.2.Executing the Script</fo:bookmark-title><fo:bookmark internal-destination="backup-script-execute-shell" starting-state="hide"><fo:bookmark-title>1.2.1.Executing from a Terminal</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="backup-script-execute-cron" starting-state="hide"><fo:bookmark-title>1.2.2.Executing with cron</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="backup-shellscript-archive-testing" starting-state="hide"><fo:bookmark-title>1.3.Restoring from the Archive</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="backup-shellscript-references" starting-state="hide"><fo:bookmark-title>1.4.References</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="backups-shellscripts-rotation" starting-state="hide"><fo:bookmark-title>2.Archive Rotation</fo:bookmark-title><fo:bookmark internal-destination="backups-nfs-rotation" starting-state="hide"><fo:bookmark-title>2.1.Rotating NFS Archives</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="backup-shellscript-tapedrive" starting-state="hide"><fo:bookmark-title>2.2.Tape Drives</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="bacula" starting-state="hide"><fo:bookmark-title>3.Bacula</fo:bookmark-title><fo:bookmark internal-destination="bacula-overview" starting-state="hide"><fo:bookmark-title>3.1.Overview</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="bacula-installation" starting-state="hide"><fo:bookmark-title>3.2.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="bacula-configuration" starting-state="hide"><fo:bookmark-title>3.3.Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="bacula-localhost-backup" starting-state="hide"><fo:bookmark-title>3.4.Localhost Backup</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="bacula-resources" starting-state="hide"><fo:bookmark-title>3.5.Resources</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="virtualization" starting-state="hide"><fo:bookmark-title>Chapter20.Virtualization</fo:bookmark-title><fo:bookmark internal-destination="libvirt" starting-state="hide"><fo:bookmark-title>1.libvirt</fo:bookmark-title><fo:bookmark internal-destination="virtual-networking" starting-state="hide"><fo:bookmark-title>1.1.Virtual Networking</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="libvirt-installation" starting-state="hide"><fo:bookmark-title>1.2.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="libvirt-virt-install" starting-state="hide"><fo:bookmark-title>1.3.virt-install</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="libvirt-virt-clone" starting-state="hide"><fo:bookmark-title>1.4.virt-clone</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="libvirt-management" starting-state="hide"><fo:bookmark-title>1.5.Virtual Machine Management</fo:bookmark-title><fo:bookmark internal-destination="virsh" starting-state="hide"><fo:bookmark-title>1.5.1.virsh</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="migration" starting-state="hide"><fo:bookmark-title>1.5.2.migration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="virtal-functions" starting-state="hide"><fo:bookmark-title>1.5.3.Device Passthrough / Hotplug</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="monitor-via-libvirt" starting-state="hide"><fo:bookmark-title>1.5.4.Access Qemu Monitor via libvirt</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="virt-manager" starting-state="hide"><fo:bookmark-title>1.5.5.Virtual Machine Manager</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="libvirt-virt-viewer" starting-state="hide"><fo:bookmark-title>1.6.Virtual Machine Viewer</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="libvirt-resources" starting-state="hide"><fo:bookmark-title>1.7.Resources</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="qemu" starting-state="hide"><fo:bookmark-title>2.Qemu</fo:bookmark-title><fo:bookmark internal-destination="machine-type-upgrade" starting-state="hide"><fo:bookmark-title>2.1.Upgrading the machine type</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="cloud-images-and-uvtool" starting-state="hide"><fo:bookmark-title>3.Cloud images and uvtool</fo:bookmark-title><fo:bookmark internal-destination="cloud-image-introduction" starting-state="hide"><fo:bookmark-title>3.1.Introduction</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="creating-virtual-machines-using-uvtool" starting-state="hide"><fo:bookmark-title>3.2.Creating virtual machines using uvtool</fo:bookmark-title><fo:bookmark internal-destination="idm45028018297920" starting-state="hide"><fo:bookmark-title>3.2.1.Uvtool packages</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="idm45028018288384" starting-state="hide"><fo:bookmark-title>3.2.2.Get the Ubuntu Cloud Image with uvt-simplestreams-libvirt</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="idm45028018281248" starting-state="hide"><fo:bookmark-title>3.2.3.Create the VM using uvt-kvm</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="idm45028018272256" starting-state="hide"><fo:bookmark-title>3.2.4.Connect to the running VM</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="idm45028018266544" starting-state="hide"><fo:bookmark-title>3.2.5.Get the list of running VMs</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="idm45028018264560" starting-state="hide"><fo:bookmark-title>3.2.6.Destroy your VM</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="idm45028018262592" starting-state="hide"><fo:bookmark-title>3.2.7.More uvt-kvm options</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="resources" starting-state="hide"><fo:bookmark-title>3.3.Resources</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="ubuntucloud" starting-state="hide"><fo:bookmark-title>4.Ubuntu Cloud</fo:bookmark-title><fo:bookmark internal-destination="ubuntu-cloud-installation" starting-state="hide"><fo:bookmark-title>4.1.Installation and Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="ubuntu-cloud-troubleshooting" starting-state="hide"><fo:bookmark-title>4.2.Support and Troubleshooting</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="ubuntu-cloud-resources" starting-state="hide"><fo:bookmark-title>4.3.Resources</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="lxd" starting-state="hide"><fo:bookmark-title>5.LXD</fo:bookmark-title><fo:bookmark internal-destination="lxd-resources" starting-state="hide"><fo:bookmark-title>5.1.Online Resources</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="lxd-installation" starting-state="hide"><fo:bookmark-title>5.2.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="lxd-kernel-prep" starting-state="hide"><fo:bookmark-title>5.3. Kernel preparation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="lxd-configuration" starting-state="hide"><fo:bookmark-title>5.4. Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="lxd-first-container" starting-state="hide"><fo:bookmark-title>5.5. Creating your first container</fo:bookmark-title><fo:bookmark internal-destination="idm45028018195472" starting-state="hide"><fo:bookmark-title>5.5.1. Creating a container</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="lxd-server-config" starting-state="hide"><fo:bookmark-title>5.6. LXD Server Configuration</fo:bookmark-title><fo:bookmark internal-destination="idm45028018165856" starting-state="hide"><fo:bookmark-title>5.6.1. Authentication</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="idm45028018156624" starting-state="hide"><fo:bookmark-title>5.6.2. Backing store</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="lxd-container-config" starting-state="hide"><fo:bookmark-title>5.7. Container configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="lxd-profiles" starting-state="hide"><fo:bookmark-title>5.8. Profiles</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="lxd-nesting" starting-state="hide"><fo:bookmark-title>5.9. Nesting</fo:bookmark-title><fo:bookmark internal-destination="idm45028018125840" starting-state="hide"><fo:bookmark-title>5.9.1. Docker</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="lxd-limits" starting-state="hide"><fo:bookmark-title>5.10. Limits</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="lxd-uid" starting-state="hide"><fo:bookmark-title>5.11. UID mappings and Privileged containers</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="lxd-aa" starting-state="hide"><fo:bookmark-title>5.12. Apparmor</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="lxd-seccomp" starting-state="hide"><fo:bookmark-title>5.13. Seccomp</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="idm45028016792272" starting-state="hide"><fo:bookmark-title>5.14. Raw LXC configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="idm45028016789712" starting-state="hide"><fo:bookmark-title>5.15. Images and containers</fo:bookmark-title><fo:bookmark internal-destination="idm45028016779040" starting-state="hide"><fo:bookmark-title>5.15.1. Snapshots</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="idm45028016771520" starting-state="hide"><fo:bookmark-title>5.15.2. Publishing images</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="idm45028016764976" starting-state="hide"><fo:bookmark-title>5.15.3. Image export and import</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="lxd-troubleshooting" starting-state="hide"><fo:bookmark-title>5.16. Troubleshooting</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="lxc" starting-state="hide"><fo:bookmark-title>6.LXC</fo:bookmark-title><fo:bookmark internal-destination="lxc-installation" starting-state="hide"><fo:bookmark-title>6.1.Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="lxc-basic-usage" starting-state="hide"><fo:bookmark-title>6.2.Basic usage</fo:bookmark-title><fo:bookmark internal-destination="idm45028016741200" starting-state="hide"><fo:bookmark-title>6.2.1.Basic privileged usage</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="idm45028016729328" starting-state="hide"><fo:bookmark-title>6.2.2.User namespaces</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="lxc-unpriv" starting-state="hide"><fo:bookmark-title>6.2.3.Basic unprivileged usage</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="lxc-nesting" starting-state="hide"><fo:bookmark-title>6.2.4.Nesting</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="lxc-global-conf" starting-state="hide"><fo:bookmark-title>6.3.Global configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="lxc-network" starting-state="hide"><fo:bookmark-title>6.4.Networking</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="lxc-startup" starting-state="hide"><fo:bookmark-title>6.5.LXC startup</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="lxc-backinstores" starting-state="hide"><fo:bookmark-title>6.6.Backing Stores</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="lxc-templates" starting-state="hide"><fo:bookmark-title>6.7.Templates</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="lxc-autostart" starting-state="hide"><fo:bookmark-title>6.8.Autostart</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="lxc-apparmor" starting-state="hide"><fo:bookmark-title>6.9.Apparmor</fo:bookmark-title><fo:bookmark internal-destination="idm45028016641504" starting-state="hide"><fo:bookmark-title>6.9.1.Customizing container policies</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="lxc-cgroups" starting-state="hide"><fo:bookmark-title>6.10.Control Groups</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="lxc-cloning" starting-state="hide"><fo:bookmark-title>6.11.Cloning</fo:bookmark-title><fo:bookmark internal-destination="idm45028016601024" starting-state="hide"><fo:bookmark-title>6.11.1.Snapshots</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="idm45028016593792" starting-state="hide"><fo:bookmark-title>6.11.2.Ephemeral Containers</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="lxc-hooks" starting-state="hide"><fo:bookmark-title>6.12.Lifecycle management hooks</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="lxc-consoles" starting-state="hide"><fo:bookmark-title>6.13.Consoles</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="lxc-debugging" starting-state="hide"><fo:bookmark-title>6.14.Troubleshooting</fo:bookmark-title><fo:bookmark internal-destination="idm45028016567040" starting-state="hide"><fo:bookmark-title>6.14.1.Logging</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="lxc-monitoring" starting-state="hide"><fo:bookmark-title>6.14.2.Monitoring container status</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="idm45028016555088" starting-state="hide"><fo:bookmark-title>6.14.3.Attach</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="idm45028016552272" starting-state="hide"><fo:bookmark-title>6.14.4.Container init verbosity</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="python-lxc" starting-state="hide"><fo:bookmark-title>6.15.LXC API</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="lxc-security" starting-state="hide"><fo:bookmark-title>6.16.Security</fo:bookmark-title><fo:bookmark internal-destination="lxc-seccomp" starting-state="hide"><fo:bookmark-title>6.16.1.Exploitable system calls</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="lxc-resources" starting-state="hide"><fo:bookmark-title>6.17.Resources</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="cgroups" starting-state="hide"><fo:bookmark-title>Chapter21.Control Groups</fo:bookmark-title><fo:bookmark internal-destination="cgroups-overview" starting-state="hide"><fo:bookmark-title>1.Overview</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="cgroups-fs" starting-state="hide"><fo:bookmark-title>2.Filesystem</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="cgroups-delegation" starting-state="hide"><fo:bookmark-title>3.Delegation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="cgroups-manager" starting-state="hide"><fo:bookmark-title>4.Manager</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="cgroups-resources" starting-state="hide"><fo:bookmark-title>5.Resources</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="clustering" starting-state="hide"><fo:bookmark-title>Chapter22.Clustering</fo:bookmark-title><fo:bookmark internal-destination="drbd" starting-state="hide"><fo:bookmark-title>1.DRBD</fo:bookmark-title><fo:bookmark internal-destination="drbd-configuration" starting-state="hide"><fo:bookmark-title>1.1.Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="drbd-testing" starting-state="hide"><fo:bookmark-title>1.2.Testing</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="drbd-references" starting-state="hide"><fo:bookmark-title>1.3.References</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="vpn" starting-state="hide"><fo:bookmark-title>Chapter23.VPN</fo:bookmark-title><fo:bookmark internal-destination="openvpn" starting-state="hide"><fo:bookmark-title>1.OpenVPN</fo:bookmark-title><fo:bookmark internal-destination="openvpn-server-installation" starting-state="hide"><fo:bookmark-title>1.1.Server Installation</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="openvpn-pki-setup" starting-state="hide"><fo:bookmark-title>1.2.Public Key Infrastructure Setup</fo:bookmark-title><fo:bookmark internal-destination="openvpn-ca-setup" starting-state="hide"><fo:bookmark-title>1.2.1.Certificate Authority Setup</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="openvpn-server-cert" starting-state="hide"><fo:bookmark-title>1.2.2.Server Certificates</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="openvpn-client-cert" starting-state="hide"><fo:bookmark-title>1.2.3.Client Certificates</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="openvpn-simple-server-configuration" starting-state="hide"><fo:bookmark-title>1.3.Simple Server Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="openvpn-simple-client-configuration" starting-state="hide"><fo:bookmark-title>1.4.Simple Client Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="openvpn-first-troubleshooting" starting-state="hide"><fo:bookmark-title>1.5.First trouble shooting</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="openvpn-advanced-config" starting-state="hide"><fo:bookmark-title>1.6.Advanced configuration</fo:bookmark-title><fo:bookmark internal-destination="openvpn-routed-server-configuration" starting-state="hide"><fo:bookmark-title>1.6.1.Advanced routed VPN configuration on server</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="openvpn-bridged-server-configuration" starting-state="hide"><fo:bookmark-title>1.6.2.Advanced bridged VPN configuration on server</fo:bookmark-title><fo:bookmark internal-destination="openvpn-bridged-server-configuration-interface" starting-state="hide"><fo:bookmark-title>1.6.2.1.Prepare interface config for bridging on server</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="openvpn-bridged-server-configuration-server" starting-state="hide"><fo:bookmark-title>1.6.2.2.Prepare server config for bridging</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="openvpn-client-configuration" starting-state="hide"><fo:bookmark-title>1.6.2.3.Client Configuration</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="openvpn-client-implementations" starting-state="hide"><fo:bookmark-title>1.7.Client software implementations</fo:bookmark-title><fo:bookmark internal-destination="openvpn-client-networkmanager" starting-state="hide"><fo:bookmark-title>1.7.1.Linux Network-Manager GUI for OpenVPN</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="openvpn-client-osx" starting-state="hide"><fo:bookmark-title>1.7.2.OpenVPN with GUI for Mac OS X: Tunnelblick</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="openvpn-client-win" starting-state="hide"><fo:bookmark-title>1.7.3.OpenVPN with GUI for Win 7</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="openvpn-client-openwrt" starting-state="hide"><fo:bookmark-title>1.7.4.OpenVPN for OpenWRT</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="openvpn-references" starting-state="hide"><fo:bookmark-title>1.8.References</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="other-useful-applications" starting-state="hide"><fo:bookmark-title>Chapter24.Other Useful Applications</fo:bookmark-title><fo:bookmark internal-destination="pam_motd" starting-state="hide"><fo:bookmark-title>1.pam_motd</fo:bookmark-title><fo:bookmark internal-destination="pam_motd-resources" starting-state="hide"><fo:bookmark-title>1.1.Resources</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="etckeeper" starting-state="hide"><fo:bookmark-title>2.etckeeper</fo:bookmark-title><fo:bookmark internal-destination="etckeeper-resources" starting-state="hide"><fo:bookmark-title>2.1.Resources</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="byobu" starting-state="hide"><fo:bookmark-title>3.Byobu</fo:bookmark-title><fo:bookmark internal-destination="byobu-resources" starting-state="hide"><fo:bookmark-title>3.1.Resources</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="serverguide-appendix" starting-state="hide"><fo:bookmark-title>AppendixA.Appendix</fo:bookmark-title><fo:bookmark internal-destination="reporting-bugs" starting-state="hide"><fo:bookmark-title>1.Reporting Bugs in Ubuntu Server Edition</fo:bookmark-title><fo:bookmark internal-destination="reporting-bugs-apport-cli" starting-state="hide"><fo:bookmark-title>1.1.Reporting Bugs With apport-cli</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="apport-crash-catching" starting-state="hide"><fo:bookmark-title>1.2.Reporting Application Crashes</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="reporting-bugs-resources" starting-state="hide"><fo:bookmark-title>1.3.Resources</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark></fo:bookmark-tree><fo:page-sequence hyphenate="false" master-reference="titlepage" language="en" format="i" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif,Symbol" margin-left="0pc"/></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-inner-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol" margin-left="0pc"/></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block id="idm45028036165072"><fo:block><fo:block><fo:block text-align="center" font-size="24.8832pt" space-before="18.6624pt" font-weight="bold" font-family="serif,Symbol"><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" keep-with-next.within-column="always" hyphenate="false">Ubuntu Server Guide</fo:block></fo:block></fo:block><fo:block><fo:block break-after="page"/><fo:block font-size="14.4pt" font-weight="bold" font-family="serif,Symbol"><fo:block>Ubuntu Server Guide</fo:block></fo:block><fo:block font-size="10pt">Copyright <fo:inline font-family="serif,Symbol"></fo:inline> 2016 Contributors to the document</fo:block><fo:block font-size="10pt"><fo:block start-indent="0.0in" end-indent="0.0in"><fo:block font-family="serif,Symbol" font-weight="bold" keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="center">Abstract</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Welcome to the <fo:inline font-style="italic">Ubuntu Server Guide</fo:inline>!
		 It contains information on how to
 		install and configure various server applications on your Ubuntu 
		system to fit your needs. It is a step-by-step, task-oriented guide
		 for configuring and customizing your system.
		</fo:block></fo:block></fo:block><fo:block font-size="8pt"><fo:block id="legal"><fo:block font-weight="bold" font-size="13.2pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" keep-with-next.within-column="always">Credits and License</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This document is maintained by the Ubuntu documentation team (https://wiki.ubuntu.com/DocumentationTeam). A list of contributors is below.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This document is made available under the Creative Commons ShareAlike 3.0 License (CC-BY-SA).</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You are free to modify, extend, and improve the Ubuntu documentation source code under the
 	    terms of this license. All derivative works must be released under this license.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This documentation is distributed in the hope that it will be useful, but WITHOUT ANY
	    WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
	    PURPOSE AS DESCRIBED IN THE DISCLAIMER.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A copy of the license is available here: <fo:basic-link external-destination="https://creativecommons.org/licenses/by-sa/3.0/" font-style="italic">Creative Commons ShareAlike License</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline> <fo:basic-link external-destination="https://creativecommons.org/licenses/by-sa/3.0/">https://creativecommons.org/licenses/by-sa/3.0/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Contributors to this document are:
        <fo:list-block id="idm45028033420448" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028032775008" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Members of the <fo:basic-link external-destination="https://launchpad.net/~ubuntu-core-doc" font-style="italic">Ubuntu Documentation Project</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline> <fo:basic-link external-destination="https://launchpad.net/~ubuntu-core-doc">https://launchpad.net/~ubuntu-core-doc</fo:basic-link></fo:block></fo:footnote-body></fo:footnote></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028032726800" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Members of the <fo:basic-link external-destination="https://launchpad.net/~ubuntu-server" font-style="italic">Ubuntu Server Team</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline> <fo:basic-link external-destination="https://launchpad.net/~ubuntu-server">https://launchpad.net/~ubuntu-server</fo:basic-link></fo:block></fo:footnote-body></fo:footnote></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028033548288" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Contributors to the <fo:basic-link external-destination="https://help.ubuntu.com/community/" font-style="italic">Community Help Wiki</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/">https://help.ubuntu.com/community/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028032847952" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Other contributors can be found in the revision history of the <fo:basic-link external-destination="https://bazaar.launchpad.net/~ubuntu-core-doc/serverguide/trunk/changes" font-style="italic">serverguide</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline> <fo:basic-link external-destination="https://bazaar.launchpad.net/~ubuntu-core-doc/serverguide/trunk/changes">https://bazaar.launchpad.net/~ubuntu-core-doc/serverguide/trunk/changes</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> and <fo:basic-link external-destination="https://bazaar.launchpad.net/~ubuntu-core-doc/ubuntu-docs/trunk/changes" font-style="italic">ubuntu-docs</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline> <fo:basic-link external-destination="https://bazaar.launchpad.net/~ubuntu-core-doc/ubuntu-docs/trunk/changes">https://bazaar.launchpad.net/~ubuntu-core-doc/ubuntu-docs/trunk/changes</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> bzr branches available on Launchpad.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block>
      </fo:block></fo:block></fo:block></fo:block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence hyphenate="false" master-reference="lot" language="en" format="i" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Ubuntu Server Guide</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Ubuntu Server Guide</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-inner-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block id="toc...idm45028036165072" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:block><fo:block><fo:block space-before.minimum="1em" space-before.optimum="1.5em" space-before.maximum="2em" space-after="0.5em" start-indent="0pt" font-size="17.28pt" font-weight="bold" font-family="serif,Symbol">Table of Contents</fo:block></fo:block></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="introduction-chap">1. Introduction</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="introduction-chap"><fo:page-number-citation ref-id="introduction-chap"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.idm45028036165072.introduction-chap" margin-left="24pt"><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ubuntu-support">1. Support</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="ubuntu-support"><fo:page-number-citation ref-id="ubuntu-support"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="installation">2. Installation</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="installation"><fo:page-number-citation ref-id="installation"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.idm45028036165072.installation" margin-left="24pt"><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="preparing-to-install">1. Preparing to Install</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="preparing-to-install"><fo:page-number-citation ref-id="preparing-to-install"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="installing-from-cd">2. Installation</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="installing-from-cd"><fo:page-number-citation ref-id="installing-from-cd"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="installing-upgrading">3. Upgrading</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="installing-upgrading"><fo:page-number-citation ref-id="installing-upgrading"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="advanced-installation">4. Advanced Installation</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="advanced-installation"><fo:page-number-citation ref-id="advanced-installation"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="kernel-crash-dump">5. Kernel Crash Dump</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="kernel-crash-dump"><fo:page-number-citation ref-id="kernel-crash-dump"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="package-management">3. Package Management</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="package-management"><fo:page-number-citation ref-id="package-management"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.idm45028036165072.package-management" margin-left="24pt"><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="package-management-introduction">1. Introduction</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="package-management-introduction"><fo:page-number-citation ref-id="package-management-introduction"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="dpkg">2. dpkg</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="dpkg"><fo:page-number-citation ref-id="dpkg"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="apt">3. Apt</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="apt"><fo:page-number-citation ref-id="apt"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="aptitude">4. Aptitude</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="aptitude"><fo:page-number-citation ref-id="aptitude"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="automatic-updates">5. Automatic Updates</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="automatic-updates"><fo:page-number-citation ref-id="automatic-updates"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="configuration">6. Configuration</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="configuration"><fo:page-number-citation ref-id="configuration"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="package-management-references">7. References</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="package-management-references"><fo:page-number-citation ref-id="package-management-references"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="networking">4. Networking</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="networking"><fo:page-number-citation ref-id="networking"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.idm45028036165072.networking" margin-left="24pt"><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="network-configuration">1. Network Configuration</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="network-configuration"><fo:page-number-citation ref-id="network-configuration"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="tcpip">2. TCP/IP</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="tcpip"><fo:page-number-citation ref-id="tcpip"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="dhcp">3. Dynamic Host Configuration Protocol (DHCP)</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="dhcp"><fo:page-number-citation ref-id="dhcp"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="NTP">4. Time Synchronisation</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="NTP"><fo:page-number-citation ref-id="NTP"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="DPDK">5. Data Plane Development Kit</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="DPDK"><fo:page-number-citation ref-id="DPDK"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="dm-multipath-chapter">5. DM-Multipath</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="dm-multipath-chapter"><fo:page-number-citation ref-id="dm-multipath-chapter"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.idm45028036165072.dm-multipath-chapter" margin-left="24pt"><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="device-mapper-multipathing">1. Device Mapper Multipathing</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="device-mapper-multipathing"><fo:page-number-citation ref-id="device-mapper-multipathing"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="multipath-devices">2. Multipath Devices</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="multipath-devices"><fo:page-number-citation ref-id="multipath-devices"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="multipath-setting-up-dm-multipath">3. Setting up DM-Multipath Overview</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="multipath-setting-up-dm-multipath"><fo:page-number-citation ref-id="multipath-setting-up-dm-multipath"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="multipath-dm-multipath-config-file">4. The DM-Multipath Configuration File</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="multipath-dm-multipath-config-file"><fo:page-number-citation ref-id="multipath-dm-multipath-config-file"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="multipath-admin-and-troubleshooting">5. DM-Multipath Administration and Troubleshooting</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="multipath-admin-and-troubleshooting"><fo:page-number-citation ref-id="multipath-admin-and-troubleshooting"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="remote-administration">6. Remote Administration</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="remote-administration"><fo:page-number-citation ref-id="remote-administration"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.idm45028036165072.remote-administration" margin-left="24pt"><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="openssh-server">1. OpenSSH Server</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="openssh-server"><fo:page-number-citation ref-id="openssh-server"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="puppet">2. Puppet</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="puppet"><fo:page-number-citation ref-id="puppet"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="zentyal">3. Zentyal</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="zentyal"><fo:page-number-citation ref-id="zentyal"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="network-authentication">7. Network Authentication</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="network-authentication"><fo:page-number-citation ref-id="network-authentication"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.idm45028036165072.network-authentication" margin-left="24pt"><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="openldap-server">1. OpenLDAP Server</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="openldap-server"><fo:page-number-citation ref-id="openldap-server"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="samba-ldap">2. Samba and LDAP</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="samba-ldap"><fo:page-number-citation ref-id="samba-ldap"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="kerberos">3. Kerberos</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="kerberos"><fo:page-number-citation ref-id="kerberos"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="kerberos-ldap">4. Kerberos and LDAP</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="kerberos-ldap"><fo:page-number-citation ref-id="kerberos-ldap"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="sssd-ad">5. SSSD and Active Directory</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="sssd-ad"><fo:page-number-citation ref-id="sssd-ad"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="dns">8. Domain Name Service (DNS)</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="dns"><fo:page-number-citation ref-id="dns"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.idm45028036165072.dns" margin-left="24pt"><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="dns-installation">1. Installation</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="dns-installation"><fo:page-number-citation ref-id="dns-installation"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="dns-configuration">2. Configuration</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="dns-configuration"><fo:page-number-citation ref-id="dns-configuration"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="dns-troubleshooting">3. Troubleshooting</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="dns-troubleshooting"><fo:page-number-citation ref-id="dns-troubleshooting"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="dns-references">4. References</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="dns-references"><fo:page-number-citation ref-id="dns-references"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="security">9. Security</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="security"><fo:page-number-citation ref-id="security"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.idm45028036165072.security" margin-left="24pt"><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="user-management">1. User Management</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="user-management"><fo:page-number-citation ref-id="user-management"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="console-security">2. Console Security</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="console-security"><fo:page-number-citation ref-id="console-security"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="firewall">3. Firewall</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="firewall"><fo:page-number-citation ref-id="firewall"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="apparmor">4. AppArmor</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="apparmor"><fo:page-number-citation ref-id="apparmor"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="certificates-and-security">5. Certificates</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="certificates-and-security"><fo:page-number-citation ref-id="certificates-and-security"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ecryptfs">6. eCryptfs</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="ecryptfs"><fo:page-number-citation ref-id="ecryptfs"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="monitoring">10. Monitoring</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="monitoring"><fo:page-number-citation ref-id="monitoring"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.idm45028036165072.monitoring" margin-left="24pt"><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="monitoring-overview">1. Overview</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="monitoring-overview"><fo:page-number-citation ref-id="monitoring-overview"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nagios">2. Nagios</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="nagios"><fo:page-number-citation ref-id="nagios"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="munin">3. Munin</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="munin"><fo:page-number-citation ref-id="munin"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="web-servers">11. Web Servers</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="web-servers"><fo:page-number-citation ref-id="web-servers"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.idm45028036165072.web-servers" margin-left="24pt"><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="httpd">1. HTTPD - Apache2 Web Server</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="httpd"><fo:page-number-citation ref-id="httpd"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="php">2. PHP - Scripting Language</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="php"><fo:page-number-citation ref-id="php"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="squid">3. Squid - Proxy Server</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="squid"><fo:page-number-citation ref-id="squid"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ruby-on-rails">4. Ruby on Rails</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="ruby-on-rails"><fo:page-number-citation ref-id="ruby-on-rails"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="tomcat">5. Apache Tomcat</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="tomcat"><fo:page-number-citation ref-id="tomcat"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="databases">12. Databases</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="databases"><fo:page-number-citation ref-id="databases"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.idm45028036165072.databases" margin-left="24pt"><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="mysql">1. MySQL</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="mysql"><fo:page-number-citation ref-id="mysql"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="postgresql">2. PostgreSQL</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="postgresql"><fo:page-number-citation ref-id="postgresql"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="lamp-applications">13. LAMP Applications</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="lamp-applications"><fo:page-number-citation ref-id="lamp-applications"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.idm45028036165072.lamp-applications" margin-left="24pt"><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="lamp-overview">1. Overview</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="lamp-overview"><fo:page-number-citation ref-id="lamp-overview"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="moinmoin">2. Moin Moin</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="moinmoin"><fo:page-number-citation ref-id="moinmoin"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="phpmyadmin">3. phpMyAdmin</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="phpmyadmin"><fo:page-number-citation ref-id="phpmyadmin"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="wordpress">4. WordPress</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="wordpress"><fo:page-number-citation ref-id="wordpress"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="file-servers">14. File Servers</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="file-servers"><fo:page-number-citation ref-id="file-servers"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.idm45028036165072.file-servers" margin-left="24pt"><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ftp-server">1. FTP Server</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="ftp-server"><fo:page-number-citation ref-id="ftp-server"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="network-file-system">2. Network File System (NFS)</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="network-file-system"><fo:page-number-citation ref-id="network-file-system"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="iscsi-initiator">3. iSCSI Initiator</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="iscsi-initiator"><fo:page-number-citation ref-id="iscsi-initiator"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="cups">4. CUPS - Print Server</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="cups"><fo:page-number-citation ref-id="cups"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="email-services">15. Email Services</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="email-services"><fo:page-number-citation ref-id="email-services"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.idm45028036165072.email-services" margin-left="24pt"><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="postfix">1. Postfix</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="postfix"><fo:page-number-citation ref-id="postfix"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="exim4">2. Exim4</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="exim4"><fo:page-number-citation ref-id="exim4"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="dovecot-server">3. Dovecot Server</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="dovecot-server"><fo:page-number-citation ref-id="dovecot-server"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="mailman">4. Mailman</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="mailman"><fo:page-number-citation ref-id="mailman"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="mail-filtering">5. Mail Filtering</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="mail-filtering"><fo:page-number-citation ref-id="mail-filtering"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="chat-servers">16. Chat Applications</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="chat-servers"><fo:page-number-citation ref-id="chat-servers"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.idm45028036165072.chat-servers" margin-left="24pt"><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="chat-overview">1. Overview</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="chat-overview"><fo:page-number-citation ref-id="chat-overview"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="irc-server">2. IRC Server</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="irc-server"><fo:page-number-citation ref-id="irc-server"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="jabberd2-server">3. Jabber Instant Messaging Server</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="jabberd2-server"><fo:page-number-citation ref-id="jabberd2-server"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="version-control-system">17. Version Control System</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="version-control-system"><fo:page-number-citation ref-id="version-control-system"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.idm45028036165072.version-control-system" margin-left="24pt"><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="bazaar">1. Bazaar</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="bazaar"><fo:page-number-citation ref-id="bazaar"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="git">2. Git</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="git"><fo:page-number-citation ref-id="git"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="subversion">3. Subversion</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="subversion"><fo:page-number-citation ref-id="subversion"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="version-control-ref">4. References</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="version-control-ref"><fo:page-number-citation ref-id="version-control-ref"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="samba">18. Samba</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="samba"><fo:page-number-citation ref-id="samba"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.idm45028036165072.samba" margin-left="24pt"><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="samba-introduction">1. Introduction</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="samba-introduction"><fo:page-number-citation ref-id="samba-introduction"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="samba-fileserver">2. File Server</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="samba-fileserver"><fo:page-number-citation ref-id="samba-fileserver"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="samba-printserver">3. Print Server</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="samba-printserver"><fo:page-number-citation ref-id="samba-printserver"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="samba-fileprint-security">4. Securing File and Print Server</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="samba-fileprint-security"><fo:page-number-citation ref-id="samba-fileprint-security"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="samba-dc">5. As a Domain Controller</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="samba-dc"><fo:page-number-citation ref-id="samba-dc"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="samba-ad-integration">6. Active Directory Integration</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="samba-ad-integration"><fo:page-number-citation ref-id="samba-ad-integration"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="backups">19. Backups</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="backups"><fo:page-number-citation ref-id="backups"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.idm45028036165072.backups" margin-left="24pt"><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="backup-shellscripts">1. Shell Scripts</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="backup-shellscripts"><fo:page-number-citation ref-id="backup-shellscripts"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="backups-shellscripts-rotation">2. Archive Rotation</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="backups-shellscripts-rotation"><fo:page-number-citation ref-id="backups-shellscripts-rotation"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="bacula">3. Bacula</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="bacula"><fo:page-number-citation ref-id="bacula"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="virtualization">20. Virtualization</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="virtualization"><fo:page-number-citation ref-id="virtualization"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.idm45028036165072.virtualization" margin-left="24pt"><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="libvirt">1. libvirt</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="libvirt"><fo:page-number-citation ref-id="libvirt"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="qemu">2. Qemu</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="qemu"><fo:page-number-citation ref-id="qemu"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="cloud-images-and-uvtool">3. Cloud images and uvtool</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="cloud-images-and-uvtool"><fo:page-number-citation ref-id="cloud-images-and-uvtool"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ubuntucloud">4. Ubuntu Cloud</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="ubuntucloud"><fo:page-number-citation ref-id="ubuntucloud"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="lxd">5. LXD</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="lxd"><fo:page-number-citation ref-id="lxd"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="lxc">6. LXC</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="lxc"><fo:page-number-citation ref-id="lxc"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="cgroups">21. Control Groups</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="cgroups"><fo:page-number-citation ref-id="cgroups"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.idm45028036165072.cgroups" margin-left="24pt"><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="cgroups-overview">1. Overview</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="cgroups-overview"><fo:page-number-citation ref-id="cgroups-overview"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="cgroups-fs">2. Filesystem</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="cgroups-fs"><fo:page-number-citation ref-id="cgroups-fs"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="cgroups-delegation">3. Delegation</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="cgroups-delegation"><fo:page-number-citation ref-id="cgroups-delegation"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="cgroups-manager">4. Manager</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="cgroups-manager"><fo:page-number-citation ref-id="cgroups-manager"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="cgroups-resources">5. Resources</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="cgroups-resources"><fo:page-number-citation ref-id="cgroups-resources"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="clustering">22. Clustering</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="clustering"><fo:page-number-citation ref-id="clustering"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.idm45028036165072.clustering" margin-left="24pt"><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="drbd">1. DRBD</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="drbd"><fo:page-number-citation ref-id="drbd"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="vpn">23. VPN</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="vpn"><fo:page-number-citation ref-id="vpn"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.idm45028036165072.vpn" margin-left="24pt"><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="openvpn">1. OpenVPN</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="openvpn"><fo:page-number-citation ref-id="openvpn"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="other-useful-applications">24. Other Useful Applications</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="other-useful-applications"><fo:page-number-citation ref-id="other-useful-applications"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.idm45028036165072.other-useful-applications" margin-left="24pt"><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="pam_motd">1. pam_motd</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="pam_motd"><fo:page-number-citation ref-id="pam_motd"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="etckeeper">2. etckeeper</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="etckeeper"><fo:page-number-citation ref-id="etckeeper"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="byobu">3. Byobu</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="byobu"><fo:page-number-citation ref-id="byobu"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="serverguide-appendix">A. Appendix</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="serverguide-appendix"><fo:page-number-citation ref-id="serverguide-appendix"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.idm45028036165072.serverguide-appendix" margin-left="24pt"><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="reporting-bugs">1. Reporting Bugs in Ubuntu Server Edition</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="reporting-bugs"><fo:page-number-citation ref-id="reporting-bugs"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence hyphenate="false" master-reference="lot" language="en" format="i" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Ubuntu Server Guide</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Ubuntu Server Guide</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-inner-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block id="lot...table...idm45028036165072" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:block><fo:block><fo:block space-before.minimum="1em" space-before.optimum="1.5em" space-before.maximum="2em" space-after="0.5em" start-indent="0pt" font-size="17.28pt" font-weight="bold" font-family="serif,Symbol">List of Tables</fo:block></fo:block></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="idm45028027703392">2.1. Recommended Minimum Requirements</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="idm45028027703392"><fo:page-number-citation ref-id="idm45028027703392"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="priority-checker-conversion-table">5.1. Priority Checker
          Conversion</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="priority-checker-conversion-table"><fo:page-number-citation ref-id="priority-checker-conversion-table"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="multipath-components-table">5.2. DM-Multipath Components</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="multipath-components-table"><fo:page-number-citation ref-id="multipath-components-table"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="multipath-config-defaults-table">5.3. Multipath Configuration
  Defaults</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="multipath-config-defaults-table"><fo:page-number-citation ref-id="multipath-config-defaults-table"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="multipath-attributes-table">5.4. Multipath Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="multipath-attributes-table"><fo:page-number-citation ref-id="multipath-attributes-table"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="multipath-device-attributes-table">5.5. Device Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="multipath-device-attributes-table"><fo:page-number-citation ref-id="multipath-device-attributes-table"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="useful-multipath-command-options">5.6. Useful multipath Command
        Options</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="useful-multipath-command-options"><fo:page-number-citation ref-id="useful-multipath-command-options"/></fo:basic-link></fo:inline></fo:block><fo:block xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="idm45028030467792">17.1. Access Methods</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"><fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" padding-left="3pt" padding-right="3pt"/><fo:basic-link internal-destination="idm45028030467792"><fo:page-number-citation ref-id="idm45028030467792"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="1" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Introduction</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Introduction</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-inner-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block id="introduction-chap"><fo:block font-family="serif,Symbol"><fo:block margin-left="0pc"><fo:block font-size="24.8832pt" font-weight="bold"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0pc" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">Chapter1.Introduction</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Welcome to the <fo:inline font-style="italic">Ubuntu Server Guide</fo:inline>!</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
   Here you can find information on how to install and configure various server applications.  It is a step-by-step, task-oriented guide 
   for configuring and customizing your system.
  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
  This guide assumes you have a basic understanding of your Ubuntu
  system.  Some installation details are covered in <fo:basic-link internal-destination="installation"><fo:inline font-style="italic">Chapter2, <fo:inline font-style="italic">Installation</fo:inline></fo:inline></fo:basic-link><fo:basic-link internal-destination="installation" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="installation"/>]</fo:inline></fo:basic-link>, but if you need detailed instructions installing  
  Ubuntu please refer to the <fo:basic-link external-destination="https://help.ubuntu.com/16.04/installation-guide/" font-style="italic">Ubuntu Installation Guide</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/16.04/installation-guide/">https://help.ubuntu.com/16.04/installation-guide/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
  A HTML version of the manual is available online at <fo:basic-link external-destination="https://help.ubuntu.com" font-style="italic">the Ubuntu Documentation website</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com">https://help.ubuntu.com</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
  </fo:block><fo:block id="ubuntu-support"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Support</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">1.Support</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    There are a couple of different ways that Ubuntu Server Edition is 
    supported: commercial support and community support. The main commercial 
    support (and development funding) is available from Canonical, Ltd. They 
    supply reasonably- priced support contracts on a per desktop or per server 
    basis.  For more information see the 
    <fo:basic-link external-destination="http://www.ubuntu.com/management" font-style="italic">Ubuntu Advantage</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline> <fo:basic-link external-destination="http://www.ubuntu.com/management">http://www.ubuntu.com/management</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> page.
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    Community support is also provided by dedicated individuals and companies that wish to make Ubuntu the best distribution possible. 
    Support is provided through multiple mailing lists, IRC channels, forums, blogs, wikis, etc.  The large amount of information available 
    can be overwhelming, but a good search engine query can usually provide an answer to your questions.  See the 
    <fo:basic-link external-destination="http://www.ubuntu.com/support" font-style="italic">Ubuntu Support</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline> <fo:basic-link external-destination="http://www.ubuntu.com/support">http://www.ubuntu.com/support</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> page for more information.
    </fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Installation</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Installation</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-inner-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block id="installation"><fo:block font-family="serif,Symbol"><fo:block margin-left="0pc"><fo:block font-size="24.8832pt" font-weight="bold"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0pc" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">Chapter2.Installation</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
  This chapter provides a quick overview of installing Ubuntu 16.04 LTS Server Edition. For more detailed instructions, 
  please refer to the <fo:basic-link external-destination="https://help.ubuntu.com/16.04/installation-guide/" font-style="italic">Ubuntu Installation Guide</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/16.04/installation-guide/">https://help.ubuntu.com/16.04/installation-guide/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
  </fo:block><fo:block id="preparing-to-install"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Preparing to Install</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">1.Preparing to Install</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      This section explains various aspects to consider before starting the
      installation. </fo:block><fo:block id="system-requirements"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">System Requirements</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.1.System Requirements</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Ubuntu 16.04 LTS Server Edition supports three (3) major architectures: Intel x86, AMD64 and
                ARM. The table below lists recommended hardware specifications. Depending on your needs, you might manage with less than this. However, most users risk being frustrated if they ignore these suggestions.</fo:block><fo:block id="idm45028027703392" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:block font-weight="bold" font-size="13.2pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" keep-with-next.within-column="always">Table2.1.Recommended Minimum Requirements</fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.5pt" border-end-width="0.5pt" border-top-width="0.5pt" border-bottom-width="0.5pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black" table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1.0)"/><fo:table-column column-number="2" column-width="proportional-column-width(1.0)"/><fo:table-column column-number="3" column-width="proportional-column-width(1.0)"/><fo:table-column column-number="4" column-width="proportional-column-width(1.0)"/><fo:table-column column-number="5" column-width="proportional-column-width(1.2)"/><fo:table-header xmlns:rx="http://www.renderx.com/XSL/Extensions" start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always"><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" display-align="center" number-rows-spanned="2"><fo:block font-weight="bold"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Install Type</fo:block></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" display-align="center" number-rows-spanned="2"><fo:block font-weight="bold"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">CPU</fo:block></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" display-align="center" number-rows-spanned="2"><fo:block font-weight="bold"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">RAM</fo:block></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" text-align="center" number-columns-spanned="2"><fo:block font-weight="bold"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Hard Drive Space</fo:block></fo:block></fo:table-cell></fo:table-row><fo:table-row keep-with-next.within-column="always"><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black"><fo:block font-weight="bold"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Base System</fo:block></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:block font-weight="bold"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">All Tasks Installed</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-header><fo:table-body xmlns:rx="http://www.renderx.com/XSL/Extensions" start-indent="0pt" end-indent="0pt"><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Server (Standard)</fo:block></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">1 gigahertz</fo:block></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">512 megabytes</fo:block></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">1.5 gigabyte</fo:block></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">2.5 gigabytes</fo:block></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-end-width="0.5pt" border-end-style="solid" border-end-color="black"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Server (Minimal)</fo:block></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-end-width="0.5pt" border-end-style="solid" border-end-color="black"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">300 megahertz</fo:block></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-end-width="0.5pt" border-end-style="solid" border-end-color="black"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">256 megabytes</fo:block></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-end-width="0.5pt" border-end-style="solid" border-end-color="black"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">1.5 megabytes</fo:block></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">2.5 gigabytes</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
				The Server Edition provides a common base for all sorts of server applications. 
				It is a minimalist design providing a platform for the desired services, such 
	 			as file/print services, web hosting, email hosting, etc. 
				</fo:block></fo:block><fo:block id="intro-server-differences"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Server and Desktop Differences</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.2.Server and Desktop Differences</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    There are a few differences between the <fo:inline font-style="italic">Ubuntu Server Edition</fo:inline> and the 
    <fo:inline font-style="italic">Ubuntu Desktop Edition</fo:inline>.  It should be noted that both editions use the same 
    apt repositories, making it just as easy to install a <fo:inline font-style="italic">server</fo:inline> 
    application on the Desktop Edition as it is on the Server Edition.
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    The differences between the two editions are the lack of an X window environment in the Server Edition and 
    the installation process.
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    </fo:block><fo:block id="intro-kernel-diffs"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.2.1.Kernel Differences:</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Ubuntu version 10.10 and prior, actually had different kernels for the server and desktop editions.
      Ubuntu no longer has separate -server and -generic kernel flavors. These have been merged into
      a single -generic kernel flavor to help reduce the maintenance burden over the life of the release.
      </fo:block><fo:block id="idm45028030781664" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    When running a 64-bit version of Ubuntu on 64-bit processors you are not limited by memory addressing space.
	    </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	To see all kernel configuration options you can look through <fo:inline font-size="8.800000000000001pt" font-family="monospace">/boot/config-4.4.0-server</fo:inline>. 
	Also, <fo:basic-link external-destination="http://www.kroah.com/lkn/" font-style="italic">Linux Kernel in a Nutshell</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline> <fo:basic-link external-destination="http://www.kroah.com/lkn/">http://www.kroah.com/lkn/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> is a great resource on the options 
	available.
	</fo:block></fo:block></fo:block><fo:block id="backing-up"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Backing Up</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.3.Backing Up</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028027646128" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028027135744" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      Before installing Ubuntu Server Edition you should make sure all data on the system 
              is backed up. See <fo:basic-link internal-destination="backups"><fo:inline font-style="italic">Chapter19, <fo:inline font-style="italic">Backups</fo:inline></fo:inline></fo:basic-link><fo:basic-link internal-destination="backups" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="backups"/>]</fo:inline></fo:basic-link> for backup options.
	      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> 
	      If this is not the first time an operating system has been installed on your
              computer, it is likely you will need to re-partition your disk to make room for Ubuntu. 
	      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> 
			  Any time you partition your disk, you should be prepared to 
			  lose everything on the disk should you make a mistake or 
			  something goes wrong during partitioning.  The programs used in installation are 
			  quite reliable, most have seen years of use, but they 
			  also perform destructive actions.
              </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="installing-from-cd"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">2.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  The basic steps to install Ubuntu Server Edition are the same  as those for installing any operating system.  Unlike
	  the <fo:inline font-style="italic">Desktop Edition</fo:inline>, the <fo:inline font-style="italic">Server Edition</fo:inline> does not include a graphical 
	  installation program.  The Server Edition uses a console menu based process instead.
	  </fo:block><fo:list-block id="idm45028029268160" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028026060000" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      Download the appropriate ISO file from the <fo:basic-link external-destination="http://www.ubuntu.com/download/server/download" font-style="italic">
	      Ubuntu web site</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline> <fo:basic-link external-destination="http://www.ubuntu.com/download/server/download">http://www.ubuntu.com/download/server/download</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
	      </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028028636768" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      Boot the system from media (e.g. USB key) containing the ISO file.
	      </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028027753312" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      At the boot prompt you will be asked to select a language.
	      </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024886704" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      From the main boot menu there are some additional options to install Ubuntu Server Edition.  You can install a
          basic Ubuntu Server, check the CD-ROM for defects, check the system's RAM, boot from first hard disk, or
          rescue a broken system. The rest of this section will cover the basic Ubuntu Server install.
	      </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025701744" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      The installer asks which language it should use.
          Afterwards, you are asked to select your location.
	      </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026434080" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      Next, the installation process begins by asking for your keyboard layout. You can ask the installer to
          attempt auto-detecting it, or you can select it manually from a list.
	      </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029633072" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      The installer then discovers your hardware configuration, and configures the 
	      network settings using DHCP.  If you do not wish to use DHCP at the next screen
          choose "Go Back", and you have the option to "Configure the network manually".
	      </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028028381280" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      Next, the installer asks for the system's hostname. 
	      </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028028185936" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      A new user is set up; this user will have <fo:inline font-style="italic">root</fo:inline> access
	      through the sudo utility.
	      </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029891152" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          After the user settings have been completed, you will be asked if you want to encrypt your 
          <fo:inline font-size="8.800000000000001pt" font-family="monospace">home</fo:inline> directory. 
	      </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029778736" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Next, the installer asks for the system's Time Zone.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028027005664" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      You can then choose from several options to configure the hard drive layout. Afterwards you are asked 
          which disk to install to. You may get confirmation prompts before rewriting the partition table or setting up
          LVM depending on disk layout. If you choose LVM, you will be asked for the size of the root logical volume.
          For advanced disk options see <fo:basic-link internal-destination="advanced-installation"><fo:inline font-style="italic">Section4, Advanced Installation</fo:inline></fo:basic-link><fo:basic-link internal-destination="advanced-installation" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="advanced-installation"/>]</fo:inline></fo:basic-link>.
	      </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024872880" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	     The Ubuntu base system is then installed.
	      </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026460176" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The next step in the installation process is to decide how you want to update the system.
          There are three options: 
	      </fo:block><fo:list-block id="idm45028027989168" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028028038640" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                    <fo:inline font-style="italic">No automatic updates</fo:inline>: this requires an administrator to log into
                    the machine and manually install updates.
                    </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028028909920" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                    <fo:inline font-style="italic">Install security updates automatically</fo:inline>: this will install the 
                    unattended-upgrades package, which will install security updates without the intervention
                    of an administrator.  For more details see <fo:basic-link internal-destination="automatic-updates"><fo:inline font-style="italic">Section5, Automatic Updates</fo:inline></fo:basic-link><fo:basic-link internal-destination="automatic-updates" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="automatic-updates"/>]</fo:inline></fo:basic-link>.
                    </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026476416" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                    <fo:inline font-style="italic">Manage the system with Landscape</fo:inline>: Landscape is a paid service provided
                    by Canonical to help manage your Ubuntu machines.  See the 
                    <fo:basic-link external-destination="http://landscape.canonical.com/" font-style="italic">Landscape</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline> <fo:basic-link external-destination="http://landscape.canonical.com/">http://landscape.canonical.com/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> site for details.
                    </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028028812208" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      You now have the option to install, or not install, several package tasks.  See 
	      <fo:basic-link internal-destination="install-tasks"><fo:inline font-style="italic">Section2.1, Package Tasks</fo:inline></fo:basic-link><fo:basic-link internal-destination="install-tasks" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="install-tasks"/>]</fo:inline></fo:basic-link> for details.  Also, there is an option to launch
          aptitude to choose specific packages to install.  For more
          information see <fo:basic-link internal-destination="aptitude"><fo:inline font-style="italic">Section4, Aptitude</fo:inline></fo:basic-link><fo:basic-link internal-destination="aptitude" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="aptitude"/>]</fo:inline></fo:basic-link>.
	      </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029926192" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      Finally, the last step before rebooting is to set the clock to UTC.
	      </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block id="idm45028026075248" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            If at any point during installation you are not satisfied by the default setting, use the "Go Back" function at 
            any prompt to be brought to a detailed installation menu that will allow you to modify the default settings.
	    </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          At some point during the installation process you may want to
          read the help screen provided by the installation system. To
          do this, press F1.
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  Once again, for detailed instructions see the <fo:basic-link external-destination="https://help.ubuntu.com/16.04/installation-guide/" font-style="italic">
	  Ubuntu Installation Guide</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/16.04/installation-guide/">https://help.ubuntu.com/16.04/installation-guide/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
	  </fo:block><fo:block id="install-tasks"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Package Tasks</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.1.Package Tasks</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    During the Server Edition installation you have the option of installing additional packages.  The packages
	    are grouped by the type of service they provide. 
	    </fo:block><fo:list-block id="idm45028028130832" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028024789472" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		DNS server: Selects the BIND DNS server and its documentation.
	        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025369472" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		LAMP server: Selects a ready-made Linux/Apache/MySQL/PHP server.	
	        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026762096" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Mail server: This task selects a variety of packages useful for a general purpose mail  server system.
	        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029167440" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		OpenSSH server: Selects packages needed for an OpenSSH server.
	        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026682640" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		PostgreSQL database: This task selects client and server packages for the PostgreSQL database.
	        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028027946832" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Print server: This task sets up your system to be a print server.
	        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024970880" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Samba File server: This task sets up your system to be a Samba file server, which is 
		especially suitable in networks with both Windows and Linux systems.
	        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026252160" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Tomcat Java server: Installs Apache Tomcat and needed dependencies.
	        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028028013648" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Virtual Machine host: Includes packages needed to run KVM virtual machines.
	        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025032352" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Manually select packages: Executes aptitude allowing you to individually select packages.
	        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    Installing the package groups is accomplished using the tasksel utility.  
	    One of the important differences between Ubuntu (or Debian) and other GNU/Linux distribution is that, when 
            installed, a package is also configured to reasonable defaults, eventually prompting you for additional required 
            information. Likewise, when installing a task, the packages are not only installed, but also configured to provided
            a fully integrated service.
	    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Once the installation process has finished you can view a list of available tasks by entering the following from a 
            terminal prompt:
	    </fo:block><fo:block id="idm45028025165296" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">tasksel --list-tasks</fo:inline>
</fo:block><fo:block id="idm45028029113632" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      The output will list tasks from other Ubuntu based distributions such as Kubuntu and Edubuntu.
	      Note that you can also invoke the <fo:inline font-weight="bold">tasksel</fo:inline> command by itself, which will bring up a menu 
              of the different tasks available.
	      </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    You can view a list of which packages are installed with each task using the <fo:inline font-style="italic">--task-packages</fo:inline> option. 
	    For example, to list the packages installed with the <fo:inline font-style="italic">DNS Server</fo:inline> task enter the following:
	    </fo:block><fo:block id="idm45028025457824" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">tasksel --task-packages dns-server</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    The output of the command should list:
	    </fo:block><fo:block id="idm45028026083440" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
bind9-doc 
bind9utils 
bind9
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    If you did not install one of the tasks during the installation process, but for example you decide to make your new LAMP server 
	    a DNS server as well, simply insert the installation media and from a terminal:
	    </fo:block><fo:block id="idm45028025311472" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo tasksel install dns-server</fo:inline>
</fo:block></fo:block></fo:block><fo:block id="installing-upgrading"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Upgrading</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">3.Upgrading</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      There are several ways to upgrade from one Ubuntu release to another.  This section gives an overview of the recommended upgrade method.
      </fo:block><fo:block id="do-release-upgrade"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">do-release-upgrade</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.1.do-release-upgrade</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The recommended way to upgrade a Server Edition installation is to use the do-release-upgrade utility.
        Part of the <fo:inline font-style="italic">update-manager-core</fo:inline> package, it does not have any graphical dependencies and 
	is installed by default.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Debian based systems can also be upgraded by using <fo:inline font-weight="bold">apt dist-upgrade</fo:inline>. However, using 
	do-release-upgrade is recommended because it has the ability to handle system configuration
	changes sometimes needed between releases.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	To upgrade to a newer release, from a terminal prompt enter:
	</fo:block><fo:block id="idm45028027918640" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">do-release-upgrade</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	It is also possible to use do-release-upgrade to upgrade to a development version of 
	Ubuntu.  To accomplish this use the <fo:inline font-style="italic">-d</fo:inline> switch:
	</fo:block><fo:block id="idm45028027335888" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">do-release-upgrade -d</fo:inline>
</fo:block><fo:block id="idm45028027334400" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/warning.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  Upgrading to a development release is <fo:inline font-style="italic">not</fo:inline> recommended for production environments.
	  </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		For further stability of a LTS release there is a slight change in behaviour if you are currently running a LTS version.
		LTS systems are only automatically considered for an upgrade to the next LTS via do-release-upgrade with the first point release.
		So for example 14.04 will only upgrade once 16.04.1 is released.
		If you want to update before, e.g. on a subset of machines to evaluate the LTS upgrade for your setup the same argument as an upgrade to a dev release has to be used via the <fo:inline font-style="italic">-d</fo:inline> switch.
	</fo:block></fo:block></fo:block><fo:block id="advanced-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Advanced Installation</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">4.Advanced Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="software-raid"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Software RAID</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.1.Software RAID</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Redundant Array of Independent Disks "RAID" is a method of using multiple disks to provide different balances of
        increasing data reliability and/or increasing input/output performance, depending on the RAID level being used.
        RAID is implemented in either software 
        (where the operating system knows about both drives and actively maintains both of them) or hardware 
        (where a special controller makes the OS think there's only one drive and maintains the drives 'invisibly').
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The RAID software included with current versions of Linux (and Ubuntu) is based on the 'mdadm'
        driver and works very well, better even than many so-called 'hardware' RAID controllers.  This section will guide you 
        through installing Ubuntu Server Edition using two RAID1 partitions on two physical hard drives, one for 
        <fo:inline font-style="italic">/</fo:inline> and another for <fo:inline font-style="italic">swap</fo:inline>.
        </fo:block><fo:block id="raid-partitioning"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.1.1.Partitioning</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Follow the installation steps until you get to the <fo:inline font-style="italic">Partition disks</fo:inline> step, then:
          </fo:block><fo:block id="idm45028028850896" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:list-block provisional-distance-between-starts="2em" provisional-label-separation="0.2em" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em"><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028028850608">1.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Select <fo:inline font-style="italic">Manual</fo:inline> as the partition method.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028024726528">2.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Select the first hard drive, and agree to <fo:inline font-style="italic">"Create a new empty partition table on this device?"</fo:inline>.
              </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Repeat this step for each drive you wish to be part of the RAID array.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028024724368">3.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Select the <fo:inline font-style="italic">"FREE SPACE"</fo:inline> on the first drive then select <fo:inline font-style="italic">"Create a new partition"</fo:inline>. 
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028024722176">4.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Next, select the <fo:inline font-style="italic">Size</fo:inline> of the partition.  This partition will be the <fo:inline font-style="italic">swap</fo:inline> partition,
              and a general rule for swap size is twice that of RAM.  Enter the partition size, then choose <fo:inline font-style="italic">Primary</fo:inline>,
              then <fo:inline font-style="italic">Beginning</fo:inline>. 
              </fo:block><fo:block id="idm45028024719200" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                A swap partition size of twice the available RAM capacity may not always be desirable, especially on systems with large amounts of RAM.
                Calculating the swap partition size for servers is highly dependent on how the system is going to be used.
                </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028024717872">5.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Select the <fo:inline font-style="italic">"Use as:"</fo:inline> line at the top.  By default this is 
              <fo:inline font-style="italic">"Ext4 journaling file system"</fo:inline>, change that to <fo:inline font-style="italic">"physical volume for RAID"</fo:inline>
              then <fo:inline font-style="italic">"Done setting up partition"</fo:inline>. 
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028024714528">6.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              For the <fo:inline font-style="italic">/</fo:inline> partition once again select <fo:inline font-style="italic">"Free Space"</fo:inline> on the first drive then
              <fo:inline font-style="italic">"Create a new partition"</fo:inline>. 
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028024711888">7.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Use the rest of the free space on the drive and choose <fo:inline font-style="italic">Continue</fo:inline>, then <fo:inline font-style="italic">Primary</fo:inline>. 
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028027688320">8.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              As with the swap partition, select the <fo:inline font-style="italic">"Use as:"</fo:inline> line at the 
              top, changing it to <fo:inline font-style="italic">"physical volume for RAID"</fo:inline>. Also select the 
              <fo:inline font-style="italic">"Bootable flag:"</fo:inline> line to change the value to 
              <fo:inline font-style="italic">"on"</fo:inline>. Then choose <fo:inline font-style="italic">"Done setting up partition"</fo:inline>. 
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028027684880">9.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Repeat steps three through eight for the other disk and partitions. 
              </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="raid-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.1.2.RAID Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          With the partitions setup the arrays are ready to be configured:
          </fo:block><fo:block id="idm45028027681504" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:list-block provisional-distance-between-starts="2em" provisional-label-separation="0.2em" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em"><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028027681216">1.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Back in the main "Partition Disks" page, select <fo:inline font-style="italic">"Configure Software RAID"</fo:inline> at the top.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028027679440">2.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Select <fo:inline font-style="italic">"yes"</fo:inline> to write the changes to disk.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028027677776">3.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Choose <fo:inline font-style="italic">"Create MD device"</fo:inline>.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028027676080">4.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              For this example, select <fo:inline font-style="italic">"RAID1"</fo:inline>, but if you are using a different setup choose the appropriate type 
              (RAID0 RAID1 RAID5).
              </fo:block><fo:block id="idm45028027674480" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                In order to use <fo:inline font-style="italic">RAID5</fo:inline> you need at least <fo:inline font-style="italic">three</fo:inline> drives.  Using RAID0 or RAID1
                only <fo:inline font-style="italic">two</fo:inline> drives are required.
                </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029565232">5.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Enter the number of active devices <fo:inline font-style="italic">"2"</fo:inline>, or the amount of hard drives you have, for the array.  Then 
              select <fo:inline font-style="italic">"Continue"</fo:inline>.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029563152">6.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Next, enter the number of spare devices <fo:inline font-style="italic">"0"</fo:inline> by default, then choose <fo:inline font-style="italic">"Continue"</fo:inline>.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029561024">7.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Choose which partitions to use. Generally they will be sda1, sdb1, sdc1, etc. The numbers will usually match and the different 
              letters correspond to different hard drives.  
              </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              For the <fo:inline font-style="italic">swap</fo:inline> partition choose <fo:inline font-style="italic">sda1</fo:inline> and <fo:inline font-style="italic">sdb1</fo:inline>.
              Select <fo:inline font-style="italic">"Continue"</fo:inline> to go to the next step.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029557312">8.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Repeat steps <fo:inline font-style="italic">three</fo:inline> through <fo:inline font-style="italic">seven</fo:inline> for the <fo:inline font-style="italic">/</fo:inline> partition choosing 
              <fo:inline font-style="italic">sda2</fo:inline> and <fo:inline font-style="italic">sdb2</fo:inline>.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029553792">9.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Once done select <fo:inline font-style="italic">"Finish"</fo:inline>.
              </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="raid-formatting"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.1.3.Formatting</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          There should now be a list of hard drives and RAID devices. The next step is to format and set the mount point for the RAID devices.
          Treat the RAID device as a local hard drive, format and mount accordingly.
          </fo:block><fo:block id="idm45028029549776" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:list-block provisional-distance-between-starts="2em" provisional-label-separation="0.2em" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em"><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029549488">1.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Select <fo:inline font-style="italic">"#1"</fo:inline> under the <fo:inline font-style="italic">"RAID1 device #0"</fo:inline> partition. 
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029547328">2.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Choose <fo:inline font-style="italic">"Use as:"</fo:inline>.  Then select <fo:inline font-style="italic">"swap area"</fo:inline>, then 
              <fo:inline font-style="italic">"Done setting up partition"</fo:inline>.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029544720">3.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Next, select <fo:inline font-style="italic">"#1"</fo:inline> under the <fo:inline font-style="italic">"RAID1 device #1"</fo:inline> partition. 
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029542544">4.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Choose <fo:inline font-style="italic">"Use as:"</fo:inline>.  Then select <fo:inline font-style="italic">"Ext4 journaling file system"</fo:inline>.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029540384">5.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Then select the <fo:inline font-style="italic">"Mount point"</fo:inline> and choose <fo:inline font-style="italic">"/ - the root file system"</fo:inline>.
              Change any of the other options as appropriate, then select <fo:inline font-style="italic">"Done setting up partition"</fo:inline>.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029537776">6.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Finally, select <fo:inline font-style="italic">"Finish partitioning and write changes to disk"</fo:inline>.
              </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          If you choose to place the root partition on a RAID array, the installer will then ask if you would like to boot in
          a <fo:inline font-style="italic">degraded</fo:inline> state.  See <fo:basic-link internal-destination="raid-degraded"><fo:inline font-style="italic">Section4.1.4, Degraded RAID</fo:inline></fo:basic-link><fo:basic-link internal-destination="raid-degraded" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="raid-degraded"/>]</fo:inline></fo:basic-link> for further details.  
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The installation process will then continue normally.
          </fo:block></fo:block><fo:block id="raid-degraded"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.1.4.Degraded RAID</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          At some point in the life of the computer a disk failure event may occur.  When this happens, using Software RAID, the operating
          system will place the array into what is known as a <fo:inline font-style="italic">degraded</fo:inline> state.
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          If the array has become degraded, due to the chance of data corruption, by default Ubuntu Server Edition will boot 
          to <fo:inline font-style="italic">initramfs</fo:inline> after thirty seconds.  Once the initramfs has booted there is a fifteen second 
          prompt giving you the option to go ahead and boot the system, or attempt manual recover.  Booting to the initramfs
          prompt may or may not be the desired behavior, especially if the machine is in a remote location.  Booting to a 
          degraded array can be configured several ways:
          </fo:block><fo:list-block id="idm45028029529952" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028029529664" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              The dpkg-reconfigure utility can be used to configure the default behavior, and 
              during the process you will be queried about additional settings related to the array.  Such as monitoring, email 
              alerts, etc.  To reconfigure mdadm enter the following:  
              </fo:block><fo:block id="idm45028029527088" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo dpkg-reconfigure mdadm</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029525312" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              The <fo:inline font-weight="bold">dpkg-reconfigure mdadm</fo:inline> process will change the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/initramfs-tools/conf.d/mdadm</fo:inline>
              configuration file.  The file has the advantage of being able to pre-configure the system's behavior, and can also be manually
              edited:
              </fo:block><fo:block id="idm45028029522784" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
BOOT_DEGRADED=true
</fo:block><fo:block id="idm45028029521984" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            The configuration file can be overridden by using a Kernel argument.
            </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029520832" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Using a Kernel argument will allow the system to boot to a degraded array as well:
              </fo:block><fo:list-block id="idm45028029520000" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028029519712" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  When the server is booting press <fo:inline font-weight="bold">Shift</fo:inline> to open the Grub menu.
                  </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029517232" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  Press <fo:inline font-weight="bold">e</fo:inline> to edit your kernel command options.
                  </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029515472" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  Press the <fo:inline font-weight="bold">down</fo:inline> arrow to highlight the kernel line.
                  </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029513792" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  Add <fo:inline font-style="italic">"bootdegraded=true"</fo:inline> (without the quotes) to the end of the line.
                  </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029512400" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  Press <fo:inline font-weight="bold">Ctrl</fo:inline>+<fo:inline font-weight="bold">x</fo:inline> to boot the system.
                  </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
           Once the system has booted you can either repair the array see <fo:basic-link internal-destination="raid-maintenance"><fo:inline font-style="italic">Section4.1.5, RAID Maintenance</fo:inline></fo:basic-link><fo:basic-link internal-destination="raid-maintenance" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="raid-maintenance"/>]</fo:inline></fo:basic-link> for details, or copy 
           important data to another machine due to major hardware failure.
           </fo:block></fo:block><fo:block id="raid-maintenance"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.1.5.RAID Maintenance</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The mdadm utility can be used to view the status of an array, add disks to an array, remove 
          disks, etc:
          </fo:block><fo:list-block id="idm45028029505456" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028029505168" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              To view the status of an array, from a terminal prompt enter:
              </fo:block><fo:block id="idm45028029504352" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo mdadm -D /dev/md0</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              The <fo:inline font-style="italic">-D</fo:inline> tells mdadm to display <fo:inline font-style="italic">detailed</fo:inline> information
              about the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/dev/md0</fo:inline> device.  Replace <fo:inline font-size="8.800000000000001pt" font-family="monospace">/dev/md0</fo:inline> with the appropriate RAID device.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029498848" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              To view the status of a disk in an array:
              </fo:block><fo:block id="idm45028029498064" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo mdadm -E /dev/sda1</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              The output if very similar to the <fo:inline font-weight="bold">mdadm -D</fo:inline> command, adjust <fo:inline font-size="8.800000000000001pt" font-family="monospace">/dev/sda1</fo:inline> for each disk.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029494272" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              If a disk fails and needs to be removed from an array enter:
              </fo:block><fo:block id="idm45028029493456" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo mdadm --remove /dev/md0 /dev/sda1</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Change <fo:inline font-size="8.800000000000001pt" font-family="monospace">/dev/md0</fo:inline> and <fo:inline font-size="8.800000000000001pt" font-family="monospace">/dev/sda1</fo:inline> to the appropriate RAID device and disk.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029489584" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Similarly, to add a new disk:
              </fo:block><fo:block id="idm45028029488800" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo mdadm --add /dev/md0 /dev/sda1</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Sometimes a disk can change to a <fo:inline font-style="italic">faulty</fo:inline> state even though there is nothing physically wrong with the drive. 
          It is usually worthwhile to remove the drive from the array then re-add it.  This will cause the drive to re-sync with the array.
          If the drive will not sync with the array, it is a good indication of hardware failure.
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The <fo:inline font-size="8.800000000000001pt" font-family="monospace">/proc/mdstat</fo:inline> file also contains useful information about the system's RAID devices:
          </fo:block><fo:block id="idm45028029484480" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">cat /proc/mdstat</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">Personalities : [linear] [multipath] [raid0] [raid1] [raid6] [raid5] [raid4] [raid10] 
md0 : active raid1 sda1[0] sdb1[1]
      10016384 blocks [2/2] [UU]
      
unused devices: &lt;none&gt;</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The following command is great for watching the status of a syncing drive:
          </fo:block><fo:block id="idm45028029481376" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">watch -n1 cat /proc/mdstat</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Press <fo:inline font-style="italic">Ctrl+c</fo:inline> to stop the watch command.
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          If you do need to replace a faulty drive, after the drive has been replaced and synced, grub will need to be 
          installed.  To install grub on the new drive, enter the following:
          </fo:block><fo:block id="idm45028029476000" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo grub-install /dev/md0</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Replace <fo:inline font-size="8.800000000000001pt" font-family="monospace">/dev/md0</fo:inline> with the appropriate array device name.
          </fo:block></fo:block><fo:block id="raid-resources"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.1.6.Resources</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The topic of RAID arrays is a complex one due to the plethora of ways RAID can be configured.  Please see the following links for 
          more information:
          </fo:block><fo:list-block id="idm45028029471088" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028029470800" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              <fo:basic-link external-destination="https://help.ubuntu.com/community/Installation#raid" font-style="italic">Ubuntu Wiki Articles on RAID</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/Installation#raid">https://help.ubuntu.com/community/Installation#raid</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029469200" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              <fo:basic-link external-destination="http://www.faqs.org/docs/Linux-HOWTO/Software-RAID-HOWTO.html" font-style="italic">Software RAID HOWTO</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">7</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">7</fo:inline> <fo:basic-link external-destination="http://www.faqs.org/docs/Linux-HOWTO/Software-RAID-HOWTO.html">http://www.faqs.org/docs/Linux-HOWTO/Software-RAID-HOWTO.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029467536" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              <fo:basic-link external-destination="http://oreilly.com/catalog/9781565927308/" font-style="italic">Managing RAID on Linux</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">8</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">8</fo:inline> <fo:basic-link external-destination="http://oreilly.com/catalog/9781565927308/">http://oreilly.com/catalog/9781565927308/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
              </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="lvm"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Logical Volume Manager (LVM)</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.2.Logical Volume Manager (LVM)</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Logical Volume Manger, or <fo:inline font-style="italic">LVM</fo:inline>, allows administrators to create <fo:inline font-style="italic">logical</fo:inline> volumes out of
        one or multiple physical hard disks.  LVM volumes can be created on both software RAID partitions and standard partitions 
        residing on a single disk.  Volumes can also be extended, giving greater flexibility to systems as requirements change.
        </fo:block><fo:block id="lvm-overview"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.2.1.Overview</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          A side effect of LVM's power and flexibility is a greater degree of complication.  Before diving into the LVM installation process,
          it is best to get familiar with some terms.
          </fo:block><fo:list-block id="idm45028029460544" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028029460256" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              <fo:inline font-style="italic">Physical Volume (PV):</fo:inline> physical hard disk, disk partition or software RAID partition
              formatted as LVM PV.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029458816" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              <fo:inline font-style="italic">Volume Group (VG):</fo:inline> is made from one or more physical volumes. A VG can can be
              extended by adding more PVs. A VG is like a virtual disk drive, from which one or more logical volumes are carved.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029457280" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              <fo:inline font-style="italic">Logical Volume (LV):</fo:inline> is similar to a partition in a non-LVM system. A LV is formatted
              with the desired file system (EXT3, XFS, JFS, etc), it is then available for mounting and data storage.
              </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="lvm-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.2.2.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          As an example this section covers installing Ubuntu Server Edition with <fo:inline font-size="8.800000000000001pt" font-family="monospace">/srv</fo:inline> mounted
          on a LVM volume.  During the initial install only one Physical Volume (PV) will be part of the Volume Group (VG).  Another
          PV will be added after install to demonstrate how a VG can be extended.
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          There are several installation options for LVM, <fo:inline font-style="italic">"Guided - use the entire disk and setup LVM"</fo:inline> which will
          also allow you to assign a portion of the available space to LVM, <fo:inline font-style="italic">"Guided - use entire and setup encrypted LVM"</fo:inline>,
          or <fo:inline font-style="italic">Manually</fo:inline> setup the partitions and configure LVM.  At this time the only way to configure a system with 
          both LVM and standard partitions, during installation, is to use the Manual approach.
          </fo:block><fo:block id="idm45028029450368" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:list-block provisional-distance-between-starts="2em" provisional-label-separation="0.2em" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em"><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029450080">1.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Follow the installation steps until you get to the <fo:inline font-style="italic">Partition disks</fo:inline> step, then:
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029448320">2.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              At the <fo:inline font-style="italic">"Partition Disks</fo:inline> screen choose <fo:inline font-style="italic">"Manual"</fo:inline>.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029446176">3.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Select the hard disk and on the next screen choose "yes" to <fo:inline font-style="italic">"Create a new empty partition table on this device"</fo:inline>.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029444544">4.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Next, create standard <fo:inline font-style="italic">/boot</fo:inline>, <fo:inline font-style="italic">swap</fo:inline>, and <fo:inline font-style="italic">/</fo:inline> partitions with whichever
              filesystem you prefer.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029441968">5.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              For the LVM <fo:inline font-style="italic">/srv</fo:inline>, create a new <fo:inline font-style="italic">Logical</fo:inline> partition.  Then change <fo:inline font-style="italic">"Use as"</fo:inline>
              to <fo:inline font-style="italic">"physical volume for LVM"</fo:inline> then <fo:inline font-style="italic">"Done setting up the partition"</fo:inline>.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029438416">6.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Now select <fo:inline font-style="italic">"Configure the Logical Volume Manager"</fo:inline> at the top, and choose <fo:inline font-style="italic">"Yes"</fo:inline> to write 
              the changes to disk.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029436176">7.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              For the <fo:inline font-style="italic">"LVM configuration action"</fo:inline> on the next screen, choose <fo:inline font-style="italic">"Create volume group"</fo:inline>.  Enter
              a name for the VG such as <fo:inline font-style="italic">vg01</fo:inline>, or something more descriptive. After entering a name, select the partition 
              configured for LVM, and choose <fo:inline font-style="italic">"Continue"</fo:inline>.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029433024">8.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Back at the <fo:inline font-style="italic">"LVM configuration action"</fo:inline> screen, select <fo:inline font-style="italic">"Create logical volume"</fo:inline>.  Select 
              the newly created volume group, and enter a name for the new LV, for example <fo:inline font-style="italic">srv</fo:inline> since that is the intended
              mount point.  Then choose a size, which may be the full partition because it can always be extended later. Choose 
              <fo:inline font-style="italic">"Finish"</fo:inline> and you should be back at the main <fo:inline font-style="italic">"Partition Disks"</fo:inline> screen.    
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029429232">9.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Now add a filesystem to the new LVM.  Select the partition under <fo:inline font-style="italic">"LVM VG vg01, LV srv"</fo:inline>, or whatever name
              you have chosen, the choose <fo:inline font-style="italic">Use as</fo:inline>.  Setup a file system as normal selecting <fo:inline font-style="italic">/srv</fo:inline> as
              the mount point.  Once done, select <fo:inline font-style="italic">"Done setting up the partition"</fo:inline>.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029426224">10.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Finally, select <fo:inline font-style="italic">"Finish partitioning and write changes to disk"</fo:inline>.  Then confirm the changes and continue
              with the rest of the installation.
              </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          There are some useful utilities to view information about LVM: 
          </fo:block><fo:list-block id="idm45028029423872" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028029423584" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">pvdisplay:</fo:inline> shows information about Physical Volumes.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029422752" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">vgdisplay:</fo:inline> shows information about Volume Groups.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029421872" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">lvdisplay:</fo:inline> shows information about Logical Volumes.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="lvm-extending"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.2.3.Extending Volume Groups</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Continuing with <fo:inline font-style="italic">srv</fo:inline> as an LVM volume example, this section covers adding a second hard disk, creating
          a Physical Volume (PV), adding it to the volume group (VG), extending the logical volume <fo:inline font-size="8.800000000000001pt" font-family="monospace">srv</fo:inline>
          and finally extending the filesystem. This example assumes a second hard disk has been added to the system. In
          this example, this hard disk will be named <fo:inline font-size="8.800000000000001pt" font-family="monospace">/dev/sdb</fo:inline> and we will use the entire disk as a physical volume 
          (you could choose to create partitions and use them as different physical volumes)
          </fo:block><fo:block id="idm45028029416160" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/warning.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Make sure you don't already have an existing <fo:inline font-size="8.800000000000001pt" font-family="monospace">/dev/sdb</fo:inline> before issuing the commands below. You could lose some data if you issue those commands on a non-empty disk. 
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="idm45028029414304" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:list-block provisional-distance-between-starts="2em" provisional-label-separation="0.2em" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em"><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029414016">1.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              First, create the physical volume, in a terminal execute:
              </fo:block><fo:block id="idm45028029412960" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo pvcreate /dev/sdb</fo:inline>
                </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029411200">2.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Now extend the Volume Group (VG):
              </fo:block><fo:block id="idm45028029410064" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo vgextend vg01 /dev/sdb</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029408288">3.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Use vgdisplay to find out the free physical extents - Free PE / size (the size you can allocate). 
              We will assume a free size of 511 PE (equivalent to 2GB with a PE size of 4MB) and we will use the whole free space available.
              Use your own PE and/or free space.
              </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              The Logical Volume (LV) can now be extended by different methods, we will only see how to use the PE to extend the LV:
              </fo:block><fo:block id="idm45028029405552" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo lvextend /dev/vg01/srv -l +511</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              The <fo:inline font-style="italic">-l</fo:inline> option allows the LV to be extended using PE.
              The <fo:inline font-style="italic">-L</fo:inline> option allows the LV to be extended using Meg, Gig, Tera, etc bytes.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029402416">4.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Even though you are supposed to be able to <fo:inline font-style="italic">expand</fo:inline> an ext3 or ext4 filesystem without unmounting it first, 
              it may be a good practice to unmount it anyway and check the filesystem, so that you don't mess up the day you want to reduce
              a logical volume (in that case unmounting first is compulsory).
              </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              The following commands are for an <fo:inline font-style="italic">EXT3</fo:inline> or <fo:inline font-style="italic">EXT4</fo:inline> filesystem. If you are
              using another filesystem there may be other utilities available.
              </fo:block><fo:block id="idm45028029399152" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo umount /srv</fo:inline>
<fo:inline font-weight="bold">sudo e2fsck -f /dev/vg01/srv</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              The <fo:inline font-style="italic">-f</fo:inline> option of e2fsck forces checking even if the system seems clean.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029394832">5.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Finally, resize the filesystem:
              </fo:block><fo:block id="idm45028029393696" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo resize2fs /dev/vg01/srv</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029391920">6.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Now mount the partition and check its size.
              </fo:block><fo:block id="idm45028029390864" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">mount /dev/vg01/srv /srv &amp;&amp; df -h /srv</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="lvm-resources"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.2.4.Resources</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028029387456" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028029387168" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              See the <fo:basic-link external-destination="https://help.ubuntu.com/community/Installation#lvm" font-style="italic">Ubuntu Wiki LVM Articles</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">9</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">9</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/Installation#lvm">https://help.ubuntu.com/community/Installation#lvm</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029385568" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              See the <fo:basic-link external-destination="http://tldp.org/HOWTO/LVM-HOWTO/index.html" font-style="italic">LVM HOWTO</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">10</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">10</fo:inline> <fo:basic-link external-destination="http://tldp.org/HOWTO/LVM-HOWTO/index.html">http://tldp.org/HOWTO/LVM-HOWTO/index.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> for more information.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029383968" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Another good article is 
              <fo:basic-link external-destination="http://www.linuxdevcenter.com/pub/a/linux/2006/04/27/managing-disk-space-with-lvm.html" font-style="italic">Managing Disk Space with LVM</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">11</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">11</fo:inline> <fo:basic-link external-destination="http://www.linuxdevcenter.com/pub/a/linux/2006/04/27/managing-disk-space-with-lvm.html">http://www.linuxdevcenter.com/pub/a/linux/2006/04/27/managing-disk-space-with-lvm.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
              on O'Reilly's linuxdevcenter.com site.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029382352" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              For more information on fdisk see the
              <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/xenial/en/man8/fdisk.8.html" font-style="italic">fdisk man page</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">12</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">12</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/xenial/en/man8/fdisk.8.html">http://manpages.ubuntu.com/manpages/xenial/en/man8/fdisk.8.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
              </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="iscsi"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">iSCSI</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.3.iSCSI</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The iSCSI protocol can be used to install Ubuntu on systems with
        or without hard disks attached.</fo:block><fo:block id="idm45028029377536"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.3.1.Installation on a diskless system</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The first steps of a diskless iSCSI installation are identical
          to the <fo:basic-link internal-destination="installing-from-cd"><fo:inline font-style="italic">Section2, Installation</fo:inline></fo:basic-link><fo:basic-link internal-destination="installing-from-cd" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="installing-from-cd"/>]</fo:inline></fo:basic-link> section up to "Hard drive
          layout".</fo:block><fo:block id="idm45028029375840" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:list-block provisional-distance-between-starts="2em" provisional-label-separation="0.2em" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em"><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029375552">1.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The installer will display a warning with the following
              message:</fo:block><fo:block id="idm45028029374496" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">No disk drive was detected. If you know the name of the driver needed by your disk drive, you can select it from the list.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029373424">2.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Select the item in the list titled <fo:inline font-style="italic">login to iSCSI
              targets.</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029371856">3.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You will be prompted to Enter an IP address to scan for
              iSCSI targets with a description of the format for the address.
              Enter the IP address for the location of your iSCSI target and
              navigate to <fo:inline font-style="italic">&lt;continue&gt;</fo:inline> then hit
              <fo:inline font-weight="bold">ENTER</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029369280">4.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If authentication is required in order to access the iSCSI
              device, provide the <fo:inline font-style="italic">username</fo:inline> in the next
              field. Otherwise leave it blank.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029367456">5.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If your system is able to connect to the iSCSI provider, you
              should see a list of available iSCSI targets where the operating
              system can be installed. The list should be similar to the
              following :</fo:block><fo:block id="idm45028029366144" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">Select the iSCSI targets you wish to use.

iSCSI targets on 192.168.1.29:3260:

[ ] iqn.2016-03.TrustyS-iscsitarget:storage.sys0

&lt;Go Back&gt;                          &lt;Continue&gt;

</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029365024">6.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Select the iSCSI target that you want to use with the space
              bar. Use the arrow keys to navigate to the target that you want to
              select.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029363632">7.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Navigate to <fo:inline font-style="italic">&lt;Continue&gt;</fo:inline> and hit
              <fo:inline font-weight="bold">ENTER</fo:inline>.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If the connection to the iSCSI target is successful, you will be
          prompted with the <fo:inline font-style="italic">[!!] Partition disks</fo:inline>
          installation menu. The rest of the procedure is identical to any
          normal installation on attached disks. Once the installation is
          completed, you will be asked to reboot.</fo:block></fo:block><fo:block id="idm45028029359664"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.3.2.Installation on a system with disk attached</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Again, the iSCSI installation on a normal server with one or
          many disks attached is identical to the <fo:basic-link internal-destination="installing-from-cd"><fo:inline font-style="italic">Section2, Installation</fo:inline></fo:basic-link><fo:basic-link internal-destination="installing-from-cd" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="installing-from-cd"/>]</fo:inline></fo:basic-link> section until we reach the disk
          partitioning menu. Instead of using any of the Guided selection, we
          need to perform the following steps :</fo:block><fo:block id="idm45028029357712" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:list-block provisional-distance-between-starts="2em" provisional-label-separation="0.2em" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em"><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029357424">1.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Navigate to the Manual menu entry</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029356160">2.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Select the Configure iSCSI Volumes menu entry</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029354944">3.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Choose the Log into iSCSI targets</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029353680">4.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You will be prompted to Enter an IP address to scan for
              iSCSI targets. with a description of the format for the address.
              Enter the IP address and navigate to
              <fo:inline font-style="italic">&lt;continue&gt;</fo:inline> then hit <fo:inline font-weight="bold">ENTER</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029351152">5.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If authentication is required in order to access the iSCSI
              device, provide the <fo:inline font-style="italic">username</fo:inline> in the next
              field or leave it blank.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029349408">6.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If your system is able to connect to the iSCSI provider, you
              should see a list of available iSCSI targets where the operating
              system can be installed. The list should be similar to the
              following :</fo:block><fo:block id="idm45028029348096" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">Select the iSCSI targets you wish to use.

iSCSI targets on 192.168.1.29:3260:

[ ] iqn.2016-03.TrustyS-iscsitarget:storage.sys0

&lt;Go Back&gt;                          &lt;Continue&gt;
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029346976">7.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Select the iSCSI target that you want to use with the space
              bar. Use the arrow keys to navigate to the target that you want to
              select</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029345584">8.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Navigate to &lt;Continue&gt; and hit <fo:inline font-weight="bold">ENTER</fo:inline>.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029343520">9.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If successful, you will come back to the menu asking you to
              Log into iSCSI targets. Navigate to Finish and hit <fo:inline font-weight="bold">ENTER</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The newly connected iSCSI disk will appear in the overview
          section as a device prefixed with SCSI. This is the disk that you
          should select as your installation disk. Once identified, you can
          choose any of the partitioning methods.</fo:block><fo:block id="idm45028029340672" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/warning.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Depending on your system configuration, there may be other
            SCSI disks attached to the system. Be very careful to identify the
            proper device before proceeding with the installation. Otherwise,
            irreversible data loss may result from performing an installation on
            the wrong disk.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="idm45028029339312"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.3.3.Rebooting to an iSCSI target</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The procedure is specific to your hardware platform. As an
          example, here is how to reboot to your iSCSI target using iPXE</fo:block><fo:block id="idm45028029338000" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">iPXE&gt; dhcp

Configuring (net0 52:54:00:a4:f2:a9)....... ok

iPXE&gt; sanboot iscsi:192.168.1.29::::iqn.2016-03.TrustyS-iscsitarget:storage.sys0
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If the procedure is successful, you should see the Grub menu
          appear on the screen.</fo:block></fo:block></fo:block></fo:block><fo:block id="kernel-crash-dump"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Kernel Crash Dump</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">5.Kernel Crash Dump</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="kernel-dump-introduction"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Introduction</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.1.Introduction</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        A Kernel Crash Dump refers to a portion of the contents of volatile memory (RAM) that is copied to disk whenever
         the execution of the kernel is disrupted. The following events can cause a kernel disruption :
         <fo:list-block id="idm45028029332848" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028029332560" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Kernel Panic</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029331984" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Non Maskable Interrupts (NMI)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029331440" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Machine Check Exceptions (MCE)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029330848" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Hardware failure</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029330272" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Manual intervention</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block>
	 For some of those events (panic, NMI) the kernel will react automatically and trigger the crash dump mechanism through <fo:inline font-style="italic">kexec</fo:inline>. In other situations a manual intervention is required in order to capture the memory.
	 
	 Whenever one of the above events occurs, it is important to find out the root cause in order to prevent it from happening again.  The cause can be determined by inspecting the copied memory contents.
        </fo:block></fo:block><fo:block id="kernel-crash-dump-mechanisms"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Kernel Crash Dump Mechanism</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.2.Kernel Crash Dump Mechanism</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	When a kernel panic occurs, the kernel relies on the <fo:inline font-style="italic">kexec</fo:inline> mechanism to quickly reboot a new instance of the kernel in a pre-reserved section of memory that had been allocated when the system booted (see below). This permits the existing memory area to remain untouched in order to safely copy its contents to storage.
        </fo:block></fo:block><fo:block id="Installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.3.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      The kernel crash dump utility is installed with the following command:
      </fo:block><fo:block id="idm45028029324000" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install linux-crashdump</fo:inline>
</fo:block><fo:block id="idm45028029322384" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Starting with 16.04, the kernel crash dump mechanism is enabled by default. During the installation, you will be prompted with the following dialog. Unless chosen otherwise, the kdump mechanism will be enabled.
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="idm45028029321280" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
 |------------------------| Configuring kdump-tools |------------------------|
 |                                                                           |
 |                                                                           |
 | If you choose this option, the kdump-tools mechanism will be enabled. A   |
 | reboot is still required in order to enable the crashkernel kernel        |
 | parameter.                                                                |
 |                                                                           |
 | Should kdump-tools be enabled by default?                                 |
 |                                                                           |
 |                    <fo:inline font-weight="bold">&lt;Yes&gt;</fo:inline>                       &lt;No&gt;                       |
 |                                                                           |
 |---------------------------------------------------------------------------|
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          If you ever need to manually enable the functionality, you can use the <fo:inline font-weight="bold">dpkg-reconfigure kdump-tools</fo:inline> command and answer Yes to the question. You can also edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/default/kdump-tools</fo:inline> by including the following line:
<fo:block id="idm45028024374320" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
USE_KDUMP=1
</fo:block>
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      If a reboot has not been done since installation of the linux-crashdump package, a reboot will be required in order to activate the crashkernel= boot parameter. Upon reboot, kdump-tools will be enabled and active.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        If you enable kdump-tools after a reboot, you will only need to issue the <fo:inline font-weight="bold">kdump-config load</fo:inline> command to activate the kdump mechanism.
      </fo:block></fo:block><fo:block id="kernel-dump-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.4.Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        In addition to local dump, it is now possible to use the remote dump functionality to send the kernel crash dump to a remote server, using either the <fo:inline font-style="italic">SSH</fo:inline> or <fo:inline font-style="italic">NFS</fo:inline> protocols.
      </fo:block><fo:block id="local-dump"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">5.4.1.Local Kernel Crash Dumps</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Local dumps are configured automatically and will remain in use unless a remote protocol is chosen. Many configuration options exist and are thoroughly documented in the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/default/kdump-tools</fo:inline> file.
        </fo:block></fo:block><fo:block id="ssh-dump"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">5.4.2.Remote Kernel Crash Dumps using the SSH protocol</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          To enable remote dumps using the <fo:inline font-style="italic">SSH</fo:inline> protocol, the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/default/kdump-tools</fo:inline> must be modified in the following manner :</fo:block><fo:block id="idm45028024364400" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
# ---------------------------------------------------------------------------
# Remote dump facilities:
# SSH - username and hostname of the remote server that will receive the dump
#       and dmesg files.
# SSH_KEY - Full path of the ssh private key to be used to login to the remote
#           server. use kdump-config propagate to send the public key to the
#           remote server
# HOSTTAG - Select if hostname of IP address will be used as a prefix to the
#           timestamped directory when sending files to the remote server.
#           'ip' is the default.
<fo:inline font-weight="bold">SSH="ubuntu@kdump-netcrash"</fo:inline>
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The only mandatory variable to define is SSH. It must contain the username and hostname of the remote server using the format {username}@{remote server}.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">SSH_KEY may be used to provide an existing private key to be used. Otherwise, the <fo:inline font-weight="bold">kdump-config propagate</fo:inline> command will create a new keypair. The HOSTTAG variable may be used to use the hostname of the system as a prefix to the remote directory to be created instead of the IP address. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The following example shows how <fo:inline font-weight="bold">kdump-config propagate</fo:inline> is used to create and propagate a new keypair to the remote server :
        <fo:block id="idm45028024359920" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo kdump-config propagate</fo:inline>
Need to generate a new ssh key...
The authenticity of host 'kdump-netcrash (192.168.1.74)' can't be established.
ECDSA key fingerprint is SHA256:iMp+5Y28qhbd+tevFCWrEXykDd4dI3yN4OVlu3CBBQ4.
Are you sure you want to continue connecting (yes/no)? yes
ubuntu@kdump-netcrash's password: 
propagated ssh key /root/.ssh/kdump_id_rsa to server ubuntu@kdump-netcrash
        </fo:block>
        The password of the account used on the remote server will be required in order to successfully send the public key to the server</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The <fo:inline font-weight="bold">kdump-config show</fo:inline> command can be used to confirm that kdump is correctly configured to use the SSH protocol :
        <fo:block id="idm45028024357008" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">kdump-config show</fo:inline>
DUMP_MODE:        kdump
USE_KDUMP:        1
KDUMP_SYSCTL:     kernel.panic_on_oops=1
KDUMP_COREDIR:    /var/crash
crashkernel addr: 0x2c000000
   /var/lib/kdump/vmlinuz: symbolic link to /boot/vmlinuz-4.4.0-10-generic
kdump initrd: 
   /var/lib/kdump/initrd.img: symbolic link to /var/lib/kdump/initrd.img-4.4.0-10-generic
<fo:inline font-weight="bold">SSH:              ubuntu@kdump-netcrash
SSH_KEY:          /root/.ssh/kdump_id_rsa
HOSTTAG:          ip
current state:    ready to kdump</fo:inline>
        </fo:block></fo:block></fo:block><fo:block id="nfs-dump"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">5.4.3.Remote Kernel Crash Dumps using the NFS protocol</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          To enable remote dumps using the <fo:inline font-style="italic">NFS</fo:inline> protocol, the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/default/kdump-tools</fo:inline> must be modified in the following manner :</fo:block><fo:block id="idm45028024352016" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
# NFS -     Hostname and mount point of the NFS server configured to receive
#           the crash dump. The syntax must be {HOSTNAME}:{MOUNTPOINT} 
#           (e.g. remote:/var/crash)
#
<fo:inline font-weight="bold">NFS="kdump-netcrash:/var/crash"</fo:inline>
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">As with the SSH protocol, the HOSTTAG variable can be used to replace the IP address by the hostname as the prefix of the remote directory.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The <fo:inline font-weight="bold">kdump-config show</fo:inline> command can be used to confirm that kdump is correctly configured to use the NFS protocol :
        <fo:block id="idm45028024349024" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">kdump-config show</fo:inline>
DUMP_MODE:        kdump
USE_KDUMP:        1
KDUMP_SYSCTL:     kernel.panic_on_oops=1
KDUMP_COREDIR:    /var/crash
crashkernel addr: 0x2c000000
   /var/lib/kdump/vmlinuz: symbolic link to /boot/vmlinuz-4.4.0-10-generic
kdump initrd: 
   /var/lib/kdump/initrd.img: symbolic link to /var/lib/kdump/initrd.img-4.4.0-10-generic
<fo:inline font-weight="bold">NFS:              kdump-netcrash:/var/crash
HOSTTAG:          hostname
current state:    ready to kdump</fo:inline>
      </fo:block></fo:block></fo:block></fo:block><fo:block id="verification"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Verification</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.5.Verification</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      To confirm that the kernel dump mechanism is enabled, there are a few things to verify. First, confirm that
      the <fo:inline font-style="italic">crashkernel</fo:inline> boot parameter is present (note: The following line has been split
      into two to fit the format of this document:
      </fo:block><fo:block id="idm45028024344272" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">cat /proc/cmdline</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">
BOOT_IMAGE=/vmlinuz-3.2.0-17-server root=/dev/mapper/PreciseS-root ro
 crashkernel=384M-2G:64M,2G-:128M
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The <fo:inline font-style="italic">crashkernel</fo:inline> parameter has the following syntax: 
        <fo:block id="idm45028024341632" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
crashkernel=&lt;range1&gt;:&lt;size1&gt;[,&lt;range2&gt;:&lt;size2&gt;,...][@offset]
    range=start-[end] 'start' is inclusive and 'end' is exclusive.
        </fo:block>
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> 
So for the crashkernel parameter found in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/proc/cmdline</fo:inline> we would have :
<fo:block id="idm45028024339840" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
crashkernel=384M-2G:64M,2G-:128M
</fo:block>
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The above value means:</fo:block><fo:list-block id="idm45028024338704" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028024338448" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">if the RAM is smaller than 384M, then don't reserve anything
       (this is the "rescue" case)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024337824" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">if the RAM size is between 386M and 2G (exclusive), then reserve 64M</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024337312" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">if the RAM size is larger than 2G, then reserve 128M</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Second, verify that the kernel has reserved the requested memory area for the kdump kernel by doing:
      </fo:block><fo:block id="idm45028024336160" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">dmesg | grep -i crash</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">
...
[    0.000000] Reserving 64MB of memory at 800MB for crashkernel (System RAM: 1023MB)
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Finally, as seen previously, the <fo:inline font-weight="bold">kdump-config show</fo:inline> command displays the current status of the kdump-tools configuration :
      <fo:block id="idm45028024333296" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
        <fo:inline font-weight="bold">kdump-config show
</fo:inline>DUMP_MODE:        kdump
USE_KDUMP:        1
KDUMP_SYSCTL:     kernel.panic_on_oops=1
KDUMP_COREDIR:    /var/crash
crashkernel addr: 0x2c000000
   /var/lib/kdump/vmlinuz: symbolic link to /boot/vmlinuz-4.4.0-10-generic
kdump initrd: 
      /var/lib/kdump/initrd.img: symbolic link to /var/lib/kdump/initrd.img-4.4.0-10-generic
current state:    ready to kdump

kexec command:
      /sbin/kexec -p --command-line="BOOT_IMAGE=/vmlinuz-4.4.0-10-generic root=/dev/mapper/VividS--vg-root ro debug break=init console=ttyS0,115200 irqpoll maxcpus=1 nousb systemd.unit=kdump-tools.service" --initrd=/var/lib/kdump/initrd.img /var/lib/kdump/vmlinuz
      </fo:block>
      </fo:block></fo:block><fo:block id="kdump-testing"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Testing the Crash Dump Mechanism</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.6.Testing the Crash Dump Mechanism</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="idm45028024330016" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/warning.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Testing the Crash Dump Mechanism will cause <fo:inline font-style="italic">a system reboot.</fo:inline> In certain situations, this can
	cause data loss if the system is under heavy load. If you want to test the mechanism, make sure that the system
	is idle or under very light load.
	</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Verify that the <fo:inline font-style="italic">SysRQ</fo:inline> mechanism is enabled by looking at the value of the
	<fo:inline font-size="8.800000000000001pt" font-family="monospace">/proc/sys/kernel/sysrq</fo:inline> kernel parameter : 
	</fo:block><fo:block id="idm45028024327280" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">cat /proc/sys/kernel/sysrq</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      If a value of <fo:inline font-style="italic">0</fo:inline> is returned the feature is disabled. Enable it with the following command :
      </fo:block><fo:block id="idm45028024325264" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo sysctl -w kernel.sysrq=1</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Once this is done, you must become root, as just using <fo:inline font-weight="bold">sudo</fo:inline> will not be sufficient. As the <fo:inline font-style="italic">root</fo:inline>
      user, you will have to issue the command <fo:inline font-weight="bold">echo c &gt; /proc/sysrq-trigger</fo:inline>. If you are using a network connection,
      you will lose contact with the system. This is why it is better to do the test while being connected to the system console. This has the 
      advantage of making the kernel dump process visible.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      A typical test output should look like the following :
      </fo:block><fo:block id="idm45028024321344" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo -s</fo:inline>
[sudo] password for ubuntu: 
# <fo:inline font-weight="bold">echo c &gt; /proc/sysrq-trigger</fo:inline>
[   31.659002] SysRq : Trigger a crash
[   31.659749] BUG: unable to handle kernel NULL pointer dereference at           (null)
[   31.662668] IP: [&lt;ffffffff8139f166&gt;] sysrq_handle_crash+0x16/0x20
[   31.662668] PGD 3bfb9067 PUD 368a7067 PMD 0 
[   31.662668] Oops: 0002 [#1] SMP 
[   31.662668] CPU 1 
....
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      The rest of the output is truncated, but you should see the system rebooting and somewhere in the log, you will see the following line :
      <fo:block id="idm45028024318736" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">Begin: Saving vmcore from kernel crash ...</fo:block>
      Once completed, the system will reboot to its normal operational mode. You will then find Kernel Crash Dump file in the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/crash</fo:inline> directory :
      </fo:block><fo:block id="idm45028024317216" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">ls /var/crash</fo:inline>
linux-image-3.0.0-12-server.0.crash
</fo:block></fo:block><fo:block id="kdump-resources"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Resources</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.7.Resources</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Kernel Crash Dump is a vast topic that requires good knowledge of the linux kernel. You can find more information on the topic here :
      </fo:block><fo:list-block id="idm45028024314176" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028024313920" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              <fo:basic-link external-destination="http://www.kernel.org/doc/Documentation/kdump/kdump.txt" font-style="italic">Kdump kernel documentation</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">13</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">13</fo:inline> <fo:basic-link external-destination="http://www.kernel.org/doc/Documentation/kdump/kdump.txt">http://www.kernel.org/doc/Documentation/kdump/kdump.txt</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024312528" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              <fo:basic-link external-destination="http://people.redhat.com/~anderson/" font-style="italic">The crash tool</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">14</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">14</fo:inline> <fo:basic-link external-destination="http://people.redhat.com/~anderson/">http://people.redhat.com/~anderson/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024311136" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              <fo:basic-link external-destination="http://www.dedoimedo.com/computers/crash-analyze.html" font-style="italic">Analyzing Linux Kernel Crash</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">15</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">15</fo:inline> <fo:basic-link external-destination="http://www.dedoimedo.com/computers/crash-analyze.html">http://www.dedoimedo.com/computers/crash-analyze.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> (Based on Fedora, it still gives a good walkthrough of kernel dump analysis)
              </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Package Management</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Package Management</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-inner-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block id="package-management"><fo:block font-family="serif,Symbol"><fo:block margin-left="0pc"><fo:block font-size="24.8832pt" font-weight="bold"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0pc" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">Chapter3.Package Management</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Ubuntu features a comprehensive package management system for installing, upgrading, configuring, and removing software.  In addition to providing access to an organized base of over 45,000 software packages for your Ubuntu computer, the package management facilities also feature dependency resolution capabilities and software update checking.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Several tools are available for interacting with Ubuntu's package management system, from simple command-line utilities which may be easily automated by system administrators, to a simple graphical interface which is easy to use by those new to Ubuntu.
        </fo:block><fo:block id="package-management-introduction"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Introduction</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">1.Introduction</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Ubuntu's package management system is derived from the same system used by the Debian GNU/Linux distribution.  The package files contain all of the necessary files, meta-data, and instructions to implement a particular functionality or software application on your Ubuntu computer.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Debian package files typically have the extension '.deb', and usually exist in <fo:inline font-style="italic">repositories</fo:inline> which are collections of packages found on various media, such as CD-ROM discs, or online.  Packages are normally in a pre-compiled binary format; thus installation is quick, and requires no compiling of software.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Many complex packages use <fo:inline font-style="italic">dependencies</fo:inline>.  Dependencies are additional packages required by the principal package in order to function properly.  For example, the speech synthesis package festival depends upon the package libasound2, which is a package supplying the ALSA sound library needed for audio playback.  In order for festival to function, it and all of its dependencies must be installed. The software management tools in Ubuntu will do this automatically.
        </fo:block></fo:block><fo:block id="dpkg"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">dpkg</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">2.dpkg</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    dpkg is a package manager for <fo:inline font-style="italic">Debian</fo:inline>-based systems.  It can install, remove, and build packages, but
    unlike other package management systems, it cannot automatically download and install packages or their dependencies.  This section covers using
    dpkg to manage locally installed packages:
    </fo:block><fo:list-block id="idm45028026912864" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028027434096" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        To list all packages installed on the system, from a terminal prompt type:
        </fo:block><fo:block id="idm45028024965344" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">dpkg -l</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024784256" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Depending on the amount of packages on your system, this can generate a large amount of output.  Pipe the output through 
        grep to see if a specific package is installed:
        </fo:block><fo:block id="idm45028028751200" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">dpkg -l | grep apache2</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Replace <fo:inline font-style="italic">apache2</fo:inline> with any package name, part of a package name, or other regular expression.
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026598192" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        To list the files installed by a package, in this case the ufw package, enter:
        </fo:block><fo:block id="idm45028036437392" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">dpkg -L ufw</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028027188144" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        If you are not sure which package installed a file, dpkg -S may be able to tell you.
        For example:
        </fo:block><fo:block id="idm45028029170912" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">dpkg -S /etc/host.conf </fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">base-files: /etc/host.conf</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The output shows that the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/host.conf</fo:inline> belongs to the base-files package.
        </fo:block><fo:block id="idm45028027942064" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Many files are automatically generated during the package install process, and even though they are on the filesystem, 
          <fo:inline font-weight="bold">dpkg -S</fo:inline> may not know which package they belong to.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030351232" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        You can install a local <fo:inline font-style="italic">.deb</fo:inline> file by entering:
        </fo:block><fo:block id="idm45028028534304" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo dpkg -i zip_3.0-4_i386.deb</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Change <fo:inline font-size="8.800000000000001pt" font-family="monospace">zip_3.0-4_i386.deb</fo:inline> to the actual file name of the local .deb file you wish to install.
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028028162800" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Uninstalling a package can be accomplished by:
        </fo:block><fo:block id="idm45028029667824" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo dpkg -r zip</fo:inline>
</fo:block><fo:block id="idm45028027140240" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/caution.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Uninstalling packages using dpkg, in most cases, is <fo:inline font-style="italic">NOT</fo:inline> recommended.
          It is better to use a package manager that handles dependencies to ensure that the system is in a consistent state.  For
          example using <fo:inline font-weight="bold">dpkg -r zip</fo:inline> will remove the zip package, but any packages that
          depend on it will still be installed and may no longer function correctly.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    For more dpkg options see the man page: <fo:inline font-weight="bold">man dpkg</fo:inline>.
    </fo:block></fo:block><fo:block id="apt"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Apt</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">3.Apt</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The apt command is a powerful command-line tool, which works with Ubuntu's <fo:inline font-style="italic">Advanced Packaging Tool</fo:inline> (APT) performing such functions as installation of new software packages, upgrade of existing software packages, updating of the package list index, and even upgrading the entire Ubuntu system.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Being a simple command-line tool, apt has numerous advantages over other package management tools available in Ubuntu for server administrators.  Some of these advantages include ease of use over simple terminal connections (SSH), and the ability to be used in system administration scripts, which can in turn be automated by the cron scheduling utility.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Some examples of popular uses for the apt utility:
        <fo:list-block id="idm45028028730656" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028027976160" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                <fo:inline font-weight="bold">Install a Package</fo:inline>: Installation of packages using the apt tool is quite simple.  For example, to install the network scanner nmap, type the following:
<fo:block id="idm45028027722720" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install nmap</fo:inline>
</fo:block>
                </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025972176" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                <fo:inline font-weight="bold">Remove a Package</fo:inline>: Removal of a package (or packages) is also straightforward. To remove the package installed in the previous example, type the following:
<fo:block id="idm45028025512944" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt remove nmap</fo:inline>
</fo:block>
                </fo:block><fo:block id="idm45028028084112" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/tip.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-weight="bold">Multiple Packages</fo:inline>: You may specify multiple packages to be installed or removed, separated by spaces.  
                </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	        Also, adding the <fo:inline font-style="italic">--purge</fo:inline> option to <fo:inline font-weight="bold">apt remove</fo:inline> will remove the package 
                configuration files as well.  This may or may not be the desired effect, so use with caution.
		</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026675472" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                <fo:inline font-weight="bold">Update the Package Index</fo:inline>: The APT package index is essentially a database of available packages from the repositories defined in the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apt/sources.list</fo:inline> file and in the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apt/sources.list.d</fo:inline> directory.  To update the local package index with the latest changes made in the repositories, type the following:
<fo:block id="idm45028026630960" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt update</fo:inline>
</fo:block>
                </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025185488" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                <fo:inline font-weight="bold">Upgrade Packages</fo:inline>: Over time, updated versions of packages currently installed on your computer may become available from the package repositories (for example security updates).  To upgrade your system, first update your package index as outlined above, and then type:
<fo:block id="idm45028029001088" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt upgrade</fo:inline>
</fo:block>
                </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		For information on upgrading to a new Ubuntu release see <fo:basic-link internal-destination="installing-upgrading"><fo:inline font-style="italic">Section3, Upgrading</fo:inline></fo:basic-link><fo:basic-link internal-destination="installing-upgrading" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="installing-upgrading"/>]</fo:inline></fo:basic-link>.
		</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block>
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Actions of the apt command, such as installation and removal of packages, are logged in the /var/log/dpkg.log log file.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For further information about the use of APT, read the comprehensive <fo:basic-link external-destination="http://www.debian.org/doc/user-manuals#apt-howto" font-style="italic">Debian APT User Manual</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline> <fo:basic-link external-destination="http://www.debian.org/doc/user-manuals#apt-howto">http://www.debian.org/doc/user-manuals#apt-howto</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> or type:
<fo:block id="idm45028028281152" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">apt help</fo:inline>
</fo:block>
</fo:block></fo:block><fo:block id="aptitude"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Aptitude</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">4.Aptitude</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Launching Aptitude with no command-line options, will give you a menu-driven, text-based front-end to the <fo:inline font-style="italic">Advanced Packaging Tool</fo:inline> (APT) system. Many of the common package management functions, such as installation, removal, and upgrade, can be performed in Aptitude with single-key commands, which are typically lowercase letters.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Aptitude is best suited for use in a non-graphical terminal environment to ensure proper functioning of the command keys.  You may start the menu-driven interface of Aptitude as a normal user by typing the following command at a terminal prompt:
<fo:block id="idm45028029842800" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo aptitude</fo:inline>
</fo:block>
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        When Aptitude starts, you will see a menu bar at the top of the screen and two panes below the menu bar.  The top pane contains package categories, such as <fo:inline font-style="italic">New Packages</fo:inline> and <fo:inline font-style="italic">Not Installed Packages</fo:inline>. The bottom pane contains information related to the packages and package categories.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Using Aptitude for package management is relatively straightforward, and the user interface makes common tasks simple to perform.  The following are examples of common package management functions as performed in Aptitude:
        </fo:block><fo:list-block id="idm45028025112992" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028025718896" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-weight="bold">Install Packages</fo:inline>: To install a package, locate the package
                  via the <fo:inline font-style="italic">Not Installed Packages</fo:inline> package category, by using the keyboard arrow
                  keys and the <fo:inline font-weight="bold">ENTER</fo:inline> key. Highlight the desired package, then press the
                  <fo:inline font-weight="bold">+</fo:inline> key. The package entry should turn <fo:inline font-style="italic">green</fo:inline>, indicating that
                  it has been marked for installation. Now press <fo:inline font-weight="bold">g</fo:inline> to be presented with a summary
                  of package actions. Press <fo:inline font-weight="bold">g</fo:inline> again, and downloading and installation of the package
                  will commence. When finished, press <fo:inline font-weight="bold">ENTER</fo:inline>, to return to the menu.
                </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026417808" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-weight="bold">Remove Packages</fo:inline>: To remove a package, locate the package via
                  the <fo:inline font-style="italic">Installed Packages</fo:inline> package category, by using the keyboard
                  arrow keys and the <fo:inline font-weight="bold">ENTER</fo:inline> key. Highlight the desired package you wish to remove, then
                  press the <fo:inline font-weight="bold">-</fo:inline> key. The package entry should turn <fo:inline font-style="italic">pink</fo:inline>,
                  indicating it has been marked for removal. Now press <fo:inline font-weight="bold">g</fo:inline> to be presented with a summary of
                  package actions. Press <fo:inline font-weight="bold">g</fo:inline> again, and removal of the package will commence. When finished,
                  press <fo:inline font-weight="bold">ENTER</fo:inline>, to return to the menu.
                </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028028271296" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-weight="bold">Update Package Index</fo:inline>: To update the package index, simply press the
                  <fo:inline font-weight="bold">u</fo:inline> key. Updating of the package index will commence.
                </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029208736" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-weight="bold">Upgrade Packages</fo:inline>: To upgrade packages, perform the update
                  of the package index as detailed above, and then press the <fo:inline font-weight="bold">U</fo:inline> key to mark all
                  packages with updates. Now press <fo:inline font-weight="bold">g</fo:inline> whereby you'll be presented with a summary
                  of package actions.  Press <fo:inline font-weight="bold">g</fo:inline> again, and the download and installation will commence.
                  When finished, press <fo:inline font-weight="bold">ENTER</fo:inline>, to return to the menu.
                </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The first column of information displayed in the package list in the top pane, when actually viewing packages lists the current state of the package, and uses the following key to describe the state of the package:
        <fo:list-block id="idm45028028058624" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028028899520" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        <fo:inline font-weight="bold">i</fo:inline>: Installed package
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026420320" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        <fo:inline font-weight="bold">c</fo:inline>: Package not installed, but package configuration remains on system
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029298176" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        <fo:inline font-weight="bold">p</fo:inline>: Purged from system
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029296704" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        <fo:inline font-weight="bold">v</fo:inline>: Virtual package
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029295232" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        <fo:inline font-weight="bold">B</fo:inline>: Broken package
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029293760" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        <fo:inline font-weight="bold">u</fo:inline>: Unpacked files, but package not yet configured
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029292336" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        <fo:inline font-weight="bold">C</fo:inline>: Half-configured - Configuration failed and requires fix
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029658352" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        <fo:inline font-weight="bold">H</fo:inline>: Half-installed - Removal failed and requires fix
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block>
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To exit Aptitude, simply press the <fo:inline font-weight="bold">q</fo:inline> key and confirm you wish to exit. Many other functions are available from the Aptitude menu by pressing the <fo:inline font-weight="bold">F10</fo:inline> key.
        </fo:block><fo:block id="aptitude-commandline"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Command Line Aptitude</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.1.Command Line Aptitude</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can also use Aptitude as a command-line tool, similar to apt. To install the nmap package with all necessary dependencies, as in the apt example, you would use the following command:
<fo:block id="idm45028026391600" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo aptitude install nmap</fo:inline>
</fo:block>
To remove the same package, you would use the command:
<fo:block id="idm45028026390016" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo aptitude remove nmap</fo:inline>
</fo:block>
Consult the man pages for more details of command line options for Aptitude.</fo:block></fo:block></fo:block><fo:block id="automatic-updates"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Automatic Updates</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">5.Automatic Updates</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    The unattended-upgrades package can be used to automatically install updated packages, and can be configured to
    update all packages or just install security updates.  First, install the package by entering the following in a terminal:
    </fo:block><fo:block id="idm45028026145200" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install unattended-upgrades</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    To configure unattended-upgrades, edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apt/apt.conf.d/50unattended-upgrades</fo:inline> and adjust the 
    following to fit your needs:
    </fo:block><fo:block id="idm45028026141600" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
Unattended-Upgrade::Allowed-Origins {
        "${distro_id}:${distro_codename}";
        "${distro_id}:${distro_codename}-security";
//      "${distro_id}:${distro_codename}-updates";
//      "${distro_id}:${distro_codename}-proposed";
//      "${distro_id}:${distro_codename}-backports";
};
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    Certain packages can also be <fo:inline font-style="italic">blacklisted</fo:inline> and therefore will not be automatically updated.  To blacklist a package, add it to the 
    list:
    </fo:block><fo:block id="idm45028026139520" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
Unattended-Upgrade::Package-Blacklist {
//      "vim";
//      "libc6";
//      "libc6-dev";
//      "libc6-i686";
};
</fo:block><fo:block id="idm45028026138624" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      The double <fo:inline font-style="italic"><fo:inline>//</fo:inline></fo:inline> serve as comments, so whatever follows "//" will not be evaluated.
     </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    To enable automatic updates, edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apt/apt.conf.d/20auto-upgrades</fo:inline> and set the appropriate apt configuration options:
    </fo:block><fo:block id="idm45028026135072" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
APT::Periodic::Update-Package-Lists "1";
APT::Periodic::Download-Upgradeable-Packages "1";
APT::Periodic::AutocleanInterval "7";
APT::Periodic::Unattended-Upgrade "1";
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    The above configuration updates the package list, downloads, and installs available upgrades every day.
    The local download archive is cleaned every week.  On servers upgraded to newer versions of Ubuntu,
    depending on your responses, the file listed above may not be there.  In this case, creating a new file of this name
    should also work.
    </fo:block><fo:block id="idm45028026133312" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      You can read more about apt Periodic configuration options in the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/cron.daily/apt</fo:inline> script header.
     </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    The results of unattended-upgrades will be logged to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/log/unattended-upgrades</fo:inline>.
    </fo:block><fo:block id="update-notifications"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Notifications</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.1.Notifications</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Configuring <fo:inline font-style="italic">Unattended-Upgrade::Mail</fo:inline> in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apt/apt.conf.d/50unattended-upgrades</fo:inline> will enable 
        unattended-upgrades to email an administrator detailing any packages that need upgrading or have problems.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Another useful package is apticron.  apticron will configure a 
        cron job to email an administrator information about any packages on the system that have updates available, as well
        as a summary of changes in each package.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        To install the apticron package, in a terminal enter:
        </fo:block><fo:block id="idm45028030133472" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install apticron</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Once the package is installed edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apticron/apticron.conf</fo:inline>, to set the email address and other options:
        </fo:block><fo:block id="idm45028030130656" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
EMAIL="root@example.com"
</fo:block></fo:block></fo:block><fo:block id="configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">6.Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    Configuration of the <fo:inline font-style="italic">Advanced Packaging Tool</fo:inline> (APT) system repositories is stored in the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apt/sources.list</fo:inline> file and  the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apt/sources.list.d</fo:inline> directory. An example of this file is referenced here, along with information on adding or removing repository references from the
    file.
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    You may edit the file to enable repositories or disable them.  For example, to disable the requirement of inserting the Ubuntu CD-ROM 
    whenever package operations occur, simply comment out the appropriate line for the CD-ROM, which appears at the top of the file:
    </fo:block><fo:block id="idm45028030124896" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
# no more prompting for CD-ROM please
# deb cdrom:[Ubuntu 16.04 _Xenial Xerus_ - Release i386 (20111013.1)]/ xenial main restricted
</fo:block><fo:block id="extra-repositories"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Extra Repositories</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">6.1.Extra Repositories</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          In addition to the officially supported package repositories available for Ubuntu, there exist additional community-maintained repositories which add thousands more packages for potential installation.  Two of the most popular are the <fo:inline font-style="italic">Universe</fo:inline> and <fo:inline font-style="italic">Multiverse</fo:inline> repositories. These repositories are not officially supported by Ubuntu, but because they are maintained by the community they generally provide packages which are safe for use with your Ubuntu computer. 
          </fo:block><fo:block id="idm45028030120896" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Packages in the <fo:inline font-style="italic">Multiverse</fo:inline> repository often have licensing issues that prevent them from being distributed with a free operating system, and they may be illegal in your locality.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="idm45028030119728" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/warning.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Be advised that neither the <fo:inline font-style="italic">Universe</fo:inline> or <fo:inline font-style="italic">Multiverse</fo:inline> repositories contain officially supported packages. In particular, there may not be security updates for these packages.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Many other package sources are available, sometimes even offering only one package, as in the case of package sources provided by the developer of a single application.  You should always be very careful and cautious when using non-standard package sources, however.  Research the source and packages carefully before performing any installation, as some package sources and their packages could render your system unstable or non-functional in some respects.
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          By default, the <fo:inline font-style="italic">Universe</fo:inline> and
          <fo:inline font-style="italic">Multiverse</fo:inline> repositories are enabled but if
          you would like to disable them edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apt/sources.list</fo:inline> 
	  and comment the following lines:
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
<fo:block id="idm45028030114512" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
deb http://archive.ubuntu.com/ubuntu xenial universe multiverse
deb-src http://archive.ubuntu.com/ubuntu xenial universe multiverse

deb http://us.archive.ubuntu.com/ubuntu/ xenial universe
deb-src http://us.archive.ubuntu.com/ubuntu/ xenial universe
deb http://us.archive.ubuntu.com/ubuntu/ xenial-updates universe
deb-src http://us.archive.ubuntu.com/ubuntu/ xenial-updates universe

deb http://us.archive.ubuntu.com/ubuntu/ xenial multiverse
deb-src http://us.archive.ubuntu.com/ubuntu/ xenial multiverse
deb http://us.archive.ubuntu.com/ubuntu/ xenial-updates multiverse
deb-src http://us.archive.ubuntu.com/ubuntu/ xenial-updates multiverse

deb http://security.ubuntu.com/ubuntu xenial-security universe
deb-src http://security.ubuntu.com/ubuntu xenial-security universe
deb http://security.ubuntu.com/ubuntu xenial-security multiverse
deb-src http://security.ubuntu.com/ubuntu xenial-security multiverse
</fo:block>
          </fo:block></fo:block></fo:block><fo:block id="package-management-references"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">References</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">7.References</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    Most of the material covered in this chapter is available in man pages, many of which are available
    online.
    </fo:block><fo:list-block id="idm45028030109808" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028030109520" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The <fo:basic-link external-destination="https://help.ubuntu.com/community/InstallingSoftware" font-style="italic">InstallingSoftware</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/InstallingSoftware">https://help.ubuntu.com/community/InstallingSoftware</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> Ubuntu wiki page has more information.
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030107968" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        For more dpkg details see the 
        <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/xenial/en/man1/dpkg.1.html" font-style="italic">dpkg man page</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/xenial/en/man1/dpkg.1.html">http://manpages.ubuntu.com/manpages/xenial/en/man1/dpkg.1.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030105568" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The <fo:basic-link external-destination="http://www.debian.org/doc/manuals/apt-howto/" font-style="italic">APT HOWTO</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline> <fo:basic-link external-destination="http://www.debian.org/doc/manuals/apt-howto/">http://www.debian.org/doc/manuals/apt-howto/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> and 
        <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/xenial/en/man8/apt.8.html" font-style="italic">apt man page</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/xenial/en/man8/apt.8.html">http://manpages.ubuntu.com/manpages/xenial/en/man8/apt.8.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
        contain useful information regarding apt usage.
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030102528" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        See the <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/xenial/man8/aptitude.8.html" font-style="italic">aptitude man page</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/xenial/man8/aptitude.8.html">http://manpages.ubuntu.com/manpages/xenial/man8/aptitude.8.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> 
        for more aptitude options.
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030100144" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The <fo:basic-link external-destination="https://help.ubuntu.com/community/Repositories/Ubuntu" font-style="italic">Adding Repositories HOWTO (Ubuntu Wiki)</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">7</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">7</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/Repositories/Ubuntu">https://help.ubuntu.com/community/Repositories/Ubuntu</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> page
        contains more details on adding repositories.
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Networking</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Networking</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-inner-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block id="networking"><fo:block font-family="serif,Symbol"><fo:block margin-left="0pc"><fo:block font-size="24.8832pt" font-weight="bold"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0pc" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">Chapter4.Networking</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Networks consist of two or more devices, such as computer systems, printers, 
	and related equipment which are connected by either physical cabling or 
	wireless links for the purpose of sharing and distributing information among 
	the connected devices. 
  	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	This section provides general and specific information pertaining
        to networking, including an overview of network concepts and detailed 
	discussion of popular network protocols.
	</fo:block><fo:block id="network-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Network Configuration</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">1.Network Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Ubuntu ships with a number of graphical utilities to configure your 
	network devices.  This document is geared toward server administrators 
	and will focus on managing your	network on the command line.
    </fo:block><fo:block id="ethernet-interfaces"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Ethernet Interfaces</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.1.Ethernet Interfaces</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Ethernet interfaces are identified by the system using the naming convention of 
		<fo:inline font-style="italic">ethX</fo:inline>, where <fo:inline font-style="italic">X</fo:inline> 
		represents a numeric value.  The first Ethernet interface is typically identified 
		as <fo:inline font-style="italic">eth0</fo:inline>, the second as 
		<fo:inline font-style="italic">eth1</fo:inline>, and all others should move up in 
		numerical order.
		</fo:block><fo:block id="identify-ethernet-interfaces"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.1.1.Identify Ethernet Interfaces</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			To quickly identify all available Ethernet interfaces, you can use the 
			ifconfig command as shown below.
			</fo:block><fo:block id="idm45028030811248" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">ifconfig -a | grep eth</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">eth0      Link encap:Ethernet  HWaddr 00:15:c5:4a:16:5a</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			Another application that can help identify all network interfaces available to your system 
			is the lshw command.  In the example below, lshw 
			shows a single Ethernet interface with the logical name of <fo:inline font-style="italic">eth0</fo:inline>
			along with bus information, driver details and all supported capabilities.
			</fo:block><fo:block id="idm45028028503536" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo lshw -class network</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">  *-network
       description: Ethernet interface
       product: BCM4401-B0 100Base-TX
       vendor: Broadcom Corporation
       physical id: 0
       bus info: pci@0000:03:00.0
       logical name: eth0
       version: 02
       serial: 00:15:c5:4a:16:5a
       size: 10MB/s
       capacity: 100MB/s
       width: 32 bits
       clock: 33MHz
       capabilities: (snipped for brevity)
       configuration: (snipped for brevity)
       resources: irq:17 memory:ef9fe000-ef9fffff</fo:inline>
</fo:block></fo:block><fo:block id="ethernet-interface-names"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.1.2.Ethernet Interface Logical Names</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			Interface logical names are configured in the file 
			<fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/udev/rules.d/70-persistent-net.rules.</fo:inline>  If you would 
			like control which interface receives a particular logical name, find the line 
			matching the interfaces physical MAC address and modify the value of 
			<fo:inline font-style="italic">NAME=ethX</fo:inline> to the desired logical name. 
			Reboot the system to commit your changes.
			</fo:block></fo:block><fo:block id="ethernet-interface-settings"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.1.3.Ethernet Interface Settings</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			ethtool is a program that displays and changes Ethernet 
			card settings such as auto-negotiation, port speed, duplex mode, and Wake-on-LAN. It
			is not installed by default, but is available for installation in the repositories.
			</fo:block><fo:block id="idm45028026381168" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install ethtool</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			The following is an example of how to view supported features and configured 
			settings of an Ethernet interface.
			</fo:block><fo:block id="idm45028026954592" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ethtool eth0</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">Settings for eth0:
        Supported ports: [ TP ]
        Supported link modes:   10baseT/Half 10baseT/Full 
                                100baseT/Half 100baseT/Full 
                                1000baseT/Half 1000baseT/Full 
        Supports auto-negotiation: Yes
        Advertised link modes:  10baseT/Half 10baseT/Full 
                                100baseT/Half 100baseT/Full 
                                1000baseT/Half 1000baseT/Full 
        Advertised auto-negotiation: Yes
        Speed: 1000Mb/s
        Duplex: Full
        Port: Twisted Pair
        PHYAD: 1
        Transceiver: internal
        Auto-negotiation: on
        Supports Wake-on: g
        Wake-on: d
        Current message level: 0x000000ff (255)
        Link detected: yes</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			Changes made with the ethtool command are temporary 
			and will be lost after a reboot. If you would like to retain settings, simply add 
			the desired ethtool command to a <fo:inline font-style="italic">pre-up</fo:inline> 
			statement in the interface configuration file <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/network/interfaces</fo:inline>. 
			</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			The following is an example of how the interface identified as <fo:inline font-style="italic">eth0</fo:inline>
			could be permanently configured with a port speed of 1000Mb/s running in full duplex mode.
			</fo:block><fo:block id="idm45028030383232" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
auto eth0
iface eth0 inet static
pre-up /sbin/ethtool -s eth0 speed 1000 duplex full
</fo:block><fo:block id="idm45028030382464" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			Although the example above shows the interface configured to use the 
			<fo:inline font-style="italic">static</fo:inline> method, it actually works with other 
			methods as well, such as DHCP.  The example is meant to demonstrate only proper 
			placement of the <fo:inline font-style="italic">pre-up</fo:inline> statement in relation 
			to the rest of the interface configuration.
			</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:block><fo:block id="ip-addressing"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">IP Addressing</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.2.IP Addressing</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		The following section describes the process of configuring your systems IP address
		and default gateway needed for communicating on a local area network and the
		Internet.
		</fo:block><fo:block id="temp-ip-assignment"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.2.1.Temporary IP Address Assignment</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			For temporary network configurations, you can use standard commands 
			such as ip, ifconfig 
			and route, which are also found on most other 
			GNU/Linux operating systems.  These commands allow you to configure settings
			which take effect immediately, however they are not persistent and will
			be lost after a reboot.
			</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			To temporarily configure an IP address, you can use the ifconfig 
			command in the following manner. Just modify the IP address and subnet mask to match your 
			network requirements.
			</fo:block><fo:block id="idm45028028045584" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ifconfig eth0 10.0.0.100 netmask 255.255.255.0</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			To verify the IP address configuration of eth0, 
			you can use the ifconfig command in the following manner.
			</fo:block><fo:block id="idm45028029054608" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">ifconfig eth0</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">eth0      Link encap:Ethernet  HWaddr 00:15:c5:4a:16:5a  
          inet addr:10.0.0.100  Bcast:10.0.0.255  Mask:255.255.255.0
          inet6 addr: fe80::215:c5ff:fe4a:165a/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:466475604 errors:0 dropped:0 overruns:0 frame:0
          TX packets:403172654 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:2574778386 (2.5 GB)  TX bytes:1618367329 (1.6 GB)
          Interrupt:16</fo:inline> 
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			To configure a default gateway, you can use the route 
			command in the following manner.  Modify the default gateway address to match 
			your network requirements.
			</fo:block><fo:block id="idm45028027556304" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo route add default gw 10.0.0.1 eth0</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			To verify your default gateway configuration, you can use the route 
			command in the following manner.
			</fo:block><fo:block id="idm45028030790880" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">route -n</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
10.0.0.0        0.0.0.0         255.255.255.0   U     1      0        0 eth0
0.0.0.0         10.0.0.1        0.0.0.0         UG    0      0        0 eth0</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			If you require DNS for your temporary network configuration, you can add DNS server
			IP addresses in the file <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/resolv.conf</fo:inline>. In general, editing
                        <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/resolv.conf</fo:inline> directly is not recommanded, but this is a
                        temporary and non-persistent configuration. The example below 
			shows how to enter two DNS servers to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/resolv.conf</fo:inline>, which 
			should be changed to servers appropriate for your network. A more lengthy description 
			of the proper persistent way to do DNS client configuration is in a following section.
			</fo:block><fo:block id="idm45028024840320" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
nameserver 8.8.8.8
nameserver 8.8.4.4
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			If you no longer need this configuration and wish to purge all IP configuration from
			an interface, you can use the ip command with the flush option
			as shown below.  
			</fo:block><fo:block id="idm45028027152544" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">ip addr flush eth0</fo:inline>
</fo:block><fo:block id="idm45028026643712" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			Flushing the IP configuration using the ip command does not clear the 
			contents of <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/resolv.conf</fo:inline>. You must remove or modify those entries manually,
                        or re-boot which should also cause <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/resolv.conf</fo:inline>, which is actually now a
                        symlink to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/run/resolvconf/resolv.conf</fo:inline>, to be re-written.
			</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="dynamic-ip-addressing"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.2.2.Dynamic IP Address Assignment (DHCP Client)</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			To configure your server to use DHCP for dynamic address assignment, add the
			<fo:inline font-style="italic">dhcp</fo:inline> method to the inet address family statement 
			for the appropriate interface in the file <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/network/interfaces</fo:inline>.
			The example below assumes you are configuring your first Ethernet interface identified as 
			<fo:inline font-style="italic">eth0</fo:inline>.
			</fo:block><fo:block id="idm45028027454352" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
auto eth0
iface eth0 inet dhcp
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			By adding an interface configuration as shown above, you can manually enable the 
			interface through the ifup command which initiates the 
			DHCP process via dhclient.
			</fo:block><fo:block id="idm45028026070976" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ifup eth0</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			To manually disable the	interface, you can use the ifdown 
			command, which in turn will initiate the DHCP release process and shut down the 
			interface.
			</fo:block><fo:block id="idm45028026217872" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ifdown eth0</fo:inline>
</fo:block></fo:block><fo:block id="static-ip-addressing"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.2.3.Static IP Address Assignment</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			To configure your system to use a static IP address assignment, add the 
			<fo:inline font-style="italic">static</fo:inline> method to the inet address family statement 
			for the appropriate interface in the file <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/network/interfaces</fo:inline>. 
			The example below assumes you are configuring your first Ethernet interface identified as 
			<fo:inline font-style="italic">eth0</fo:inline>.  Change the <fo:inline font-style="italic">address</fo:inline>, 
			<fo:inline font-style="italic">netmask</fo:inline>, and <fo:inline font-style="italic">gateway</fo:inline> 
			values to meet the requirements of your network.
			</fo:block><fo:block id="idm45028027291088" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
auto eth0
iface eth0 inet static
address 10.0.0.100
netmask 255.255.255.0
gateway 10.0.0.1
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			By adding an interface configuration as shown above, you can manually enable the 
			interface through the ifup command.
			</fo:block><fo:block id="idm45028030427168" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ifup eth0</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			To manually disable the	interface, you can use the ifdown 
			command.
			</fo:block><fo:block id="idm45028036065536" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ifdown eth0</fo:inline>
</fo:block></fo:block><fo:block id="loopback-interface"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.2.4.Loopback Interface</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			The loopback interface is identified by the system as <fo:inline font-style="italic">lo</fo:inline>
			and has a default IP address of 127.0.0.1.  It can be viewed using the ifconfig command. 
			</fo:block><fo:block id="idm45028029060160" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">ifconfig lo</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:2718 errors:0 dropped:0 overruns:0 frame:0
          TX packets:2718 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:183308 (183.3 KB)  TX bytes:183308 (183.3 KB)</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			By default, there should be two lines in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/network/interfaces</fo:inline> 
			responsible for automatically configuring your loopback interface. It is recommended that you 
			keep the default settings unless you have a specific purpose for changing them.  An example of 
			the two default lines are shown below.
			</fo:block><fo:block id="idm45028025365488" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
auto lo
iface lo inet loopback
</fo:block></fo:block></fo:block><fo:block id="name-resolution"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Name Resolution</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.3.Name Resolution</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Name resolution as it relates to IP networking is the process of mapping IP addresses 
		to hostnames, making it easier to identify resources on a network.  The following section
		will explain how to properly configure your system for name resolution using DNS and static
		hostname records.
		</fo:block><fo:block id="dns-client-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.3.1.DNS Client Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
				Traditionally, the file <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/resolv.conf</fo:inline> was a static configuration file that rarely
			needed to be changed or automatically changed via DCHP client hooks. Nowadays, a computer can switch from
			one network to another quite often and the <fo:inline font-style="italic">resolvconf</fo:inline> framework is now being used to track
			these changes and update the resolver's configuration automatically.  It acts as an intermediary between programs
			that supply nameserver information and applications that need nameserver information. Resolvconf gets populated with information
			by a set of hook scripts related to network interface configuration. The most notable difference for the
			user is that any change manually done to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/resolv.conf</fo:inline> will be lost as it gets overwritten each time
			something triggers resolvconf. Instead, resolvconf uses DHCP client hooks, and <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/network/interfaces</fo:inline> to
			generate a list of nameservers and domains to put in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/resolv.conf</fo:inline>, which is now a symlink:

<fo:block id="idm45028024749296" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
/etc/resolv.conf -&gt; ../run/resolvconf/resolv.conf
</fo:block>

			To configure the resolver, add the IP addresses of the nameservers that
			are appropriate for your network in the file <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/network/interfaces</fo:inline>. You can also
			add an optional DNS suffix search-lists to match your network domain names. For each other valid
			resolv.conf configuration option, you can include, in the stanza, one line beginning with that
			option name with a <fo:inline font-weight="bold">dns-</fo:inline> prefix. The resulting file might look like the following:
			</fo:block><fo:block id="idm45028025320448" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
iface eth0 inet static
    address 192.168.3.3
    netmask 255.255.255.0
    gateway 192.168.3.1
    dns-search example.com
    dns-nameservers 192.168.3.45 192.168.8.10
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			The <fo:inline font-style="italic">search</fo:inline> option can also be used with multiple domain names 
			so that DNS queries will be appended in the order in which they are entered. For example, your 
			network may have multiple sub-domains to search; a parent domain of <fo:inline font-style="italic">example.com</fo:inline>,
			and two sub-domains, <fo:inline font-style="italic">sales.example.com</fo:inline> and <fo:inline font-style="italic">dev.example.com</fo:inline>.  
			</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			If you have multiple domains you wish to search, your configuration might look like the following:
			</fo:block><fo:block id="idm45028024843968" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
iface eth0 inet static
    address 192.168.3.3
    netmask 255.255.255.0
    gateway 192.168.3.1
    dns-search example.com sales.example.com dev.example.com
    dns-nameservers 192.168.3.45 192.168.8.10
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			If you try to ping a host with the name of <fo:inline font-style="italic">server1</fo:inline>, your system 
			will automatically query DNS for its Fully Qualified Domain Name (FQDN) in the following order:
			</fo:block><fo:list-block id="idm45028026259264" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-distance-between-starts="1.2em" provisional-label-separation="0.2em"><fo:list-item id="idm45028026672272" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			server1<fo:inline font-weight="bold">.example.com</fo:inline>
			</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028027563904" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			server1<fo:inline font-weight="bold">.sales.example.com</fo:inline>
			</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028027562288" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			server1<fo:inline font-weight="bold">.dev.example.com</fo:inline>
			</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			If no matches are found, the DNS server will provide a result of 
			<fo:inline font-style="italic">notfound</fo:inline> and the DNS query will fail.
			</fo:block></fo:block><fo:block id="static-hostnames"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.3.2.Static Hostnames</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			Static hostnames are locally defined hostname-to-IP mappings located in the file <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/hosts</fo:inline>.
			Entries in the <fo:inline font-size="8.800000000000001pt" font-family="monospace">hosts</fo:inline> file will have precedence over DNS by default. This means that if your
			system tries to resolve a hostname and it matches an entry in /etc/hosts, it will not attempt to look up the
			record in DNS.  In some configurations, especially when Internet access is not required, servers that 
			communicate with a limited number of resources can be conveniently set to use static hostnames instead of DNS.
			</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			The following is an example of a <fo:inline font-size="8.800000000000001pt" font-family="monospace">hosts</fo:inline> file where a number of local servers 
			have been identified by simple hostnames, aliases and their equivalent Fully Qualified Domain Names (FQDN's).
			</fo:block><fo:block id="idm45028030095104" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
127.0.0.1	localhost
127.0.1.1	ubuntu-server
10.0.0.11	server1 server1.example.com vpn
10.0.0.12	server2 server2.example.com mail
10.0.0.13	server3 server3.example.com www
10.0.0.14	server4 server4.example.com file
</fo:block><fo:block id="idm45028030094112" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			In the above example, notice that each of the servers have been given aliases in addition to their 
			proper names and FQDN's. <fo:inline font-style="italic">Server1</fo:inline> has been mapped to the name 
			<fo:inline font-style="italic">vpn</fo:inline>, <fo:inline font-style="italic">server2</fo:inline> is referred 
			to as <fo:inline font-style="italic">mail</fo:inline>, <fo:inline font-style="italic">server3</fo:inline> as 
			<fo:inline font-style="italic">www</fo:inline>, and <fo:inline font-style="italic">server4</fo:inline> as 
			<fo:inline font-style="italic">file</fo:inline>.
			</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="name-service-switch-config"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.3.3.Name Service Switch Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			The order in which your system selects a method of resolving hostnames to IP addresses is
			controlled by the Name Service Switch (NSS) configuration file <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/nsswitch.conf</fo:inline>.
			As mentioned in the previous section, typically static hostnames defined in the systems 
			<fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/hosts</fo:inline> file have precedence over names resolved from DNS. The following 
			is an example of the line responsible for this order of hostname lookups in the file 
			<fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/nsswitch.conf</fo:inline>.
			</fo:block><fo:block id="idm45028030082592" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
hosts:          files mdns4_minimal [NOTFOUND=return] dns mdns4
</fo:block><fo:list-block id="idm45028025694832" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028025694544" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			<fo:inline font-weight="bold">files</fo:inline> first tries to resolve static hostnames located in 
			<fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/hosts</fo:inline>.
			</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025692208" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			<fo:inline font-weight="bold">mdns4_minimal</fo:inline> attempts to resolve the name using Multicast DNS.
			</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025690624" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			<fo:inline font-weight="bold">[NOTFOUND=return]</fo:inline> means that any response of 
			<fo:inline font-style="italic">notfound</fo:inline> by the preceding 
			<fo:inline font-style="italic">mdns4_minimal</fo:inline> process should be treated as 
			authoritative and that the system should not try to continue hunting for an answer.
			</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025687440" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			<fo:inline font-weight="bold">dns</fo:inline> represents a legacy unicast DNS query.
			</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025685856" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			<fo:inline font-weight="bold">mdns4</fo:inline> represents a Multicast DNS query.
			</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			To modify the order of the above mentioned name resolution methods, you can
			simply change the <fo:inline font-style="italic">hosts:</fo:inline> string to the value 
			of your choosing. For example, if you prefer to use legacy Unicast DNS versus 
			Multicast DNS, you can change the string in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/nsswitch.conf</fo:inline> 
			as shown below.
			</fo:block><fo:block id="idm45028025681872" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
hosts:          files dns [NOTFOUND=return] mdns4_minimal mdns4
</fo:block></fo:block></fo:block><fo:block id="bridging"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Bridging</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.4.Bridging</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Bridging multiple interfaces is a more advanced configuration, but is very useful in multiple scenarios.  
      One scenario is setting up a bridge with multiple network interfaces, then using a firewall to filter traffic
      between two network segments.  Another scenario is using bridge on a system with one interface to allow virtual
      machines direct access to the outside network.  The following example covers the latter scenario.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Before configuring a bridge you will need to install the bridge-utils package.  To install the 
      package, in a terminal enter:
      </fo:block><fo:block id="idm45028024488688" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install bridge-utils</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Next, configure the bridge by editing <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/network/interfaces</fo:inline>:
      </fo:block><fo:block id="idm45028024485856" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
auto lo
iface lo inet loopback

auto br0
iface br0 inet static
        address 192.168.0.10
        network 192.168.0.0
        netmask 255.255.255.0
        broadcast 192.168.0.255
        gateway 192.168.0.1
        bridge_ports eth0
        bridge_fd 9
        bridge_hello 2
        bridge_maxage 12
        bridge_stp off
</fo:block><fo:block id="idm45028024484736" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Enter the appropriate values for your physical interface and network.
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Now bring up the bridge:
      </fo:block><fo:block id="idm45028024483408" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ifup br0</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The new bridge interface should now be up and running.  The brctl provides useful information
        about the state of the bridge, controls which interfaces are part of the bridge, etc.  See <fo:inline font-weight="bold">man brctl</fo:inline> 
        for more information.        
        </fo:block></fo:block><fo:block id="network-config-resources"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Resources</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.5.Resources</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        
        </fo:block><fo:list-block id="idm45028024477712" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028024477424" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            The <fo:basic-link external-destination="https://help.ubuntu.com/community/Network" font-style="italic">Ubuntu Wiki Network page</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/Network">https://help.ubuntu.com/community/Network</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> has 
            links to articles covering more advanced network configuration.
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024475792" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            The <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/man8/resolvconf.8.html" font-style="italic">resolvconf man page</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/man8/resolvconf.8.html">http://manpages.ubuntu.com/manpages/man8/resolvconf.8.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> has 
            more information on resolvconf.
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024474240" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            The <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/man5/interfaces.5.html" font-style="italic">interfaces man page</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/man5/interfaces.5.html">http://manpages.ubuntu.com/manpages/man5/interfaces.5.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> has 
            details on more options for <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/network/interfaces</fo:inline>.
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024471888" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            The <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/man8/dhclient.8.html" font-style="italic">dhclient man page</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/man8/dhclient.8.html">http://manpages.ubuntu.com/manpages/man8/dhclient.8.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> has 
            details on more options for configuring DHCP client settings.
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024470224" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            For more information on DNS client configuration see the 
            <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/man5/resolver.5.html" font-style="italic">resolver man page</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/man5/resolver.5.html">http://manpages.ubuntu.com/manpages/man5/resolver.5.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.  Also, Chapter 
            6 of O'Reilly's <fo:basic-link external-destination="http://oreilly.com/catalog/linag2/book/ch06.html" font-style="italic">Linux Network Administrator's Guide</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline> <fo:basic-link external-destination="http://oreilly.com/catalog/linag2/book/ch06.html">http://oreilly.com/catalog/linag2/book/ch06.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> is 
            a good source of resolver and name service configuration information.
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024467920" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            For more information on <fo:inline font-style="italic">bridging</fo:inline> see the 
            <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/man8/brctl.8.html" font-style="italic">brctl man page</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">7</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">7</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/man8/brctl.8.html">http://manpages.ubuntu.com/manpages/man8/brctl.8.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> and the Linux Foundation's
            <fo:basic-link external-destination="http://www.linuxfoundation.org/collaborate/workgroups/networking/bridge" font-style="italic">Networking-Bridge</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">8</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">8</fo:inline> <fo:basic-link external-destination="http://www.linuxfoundation.org/collaborate/workgroups/networking/bridge">http://www.linuxfoundation.org/collaborate/workgroups/networking/bridge</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> page.
            </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="tcpip"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">TCP/IP</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">2.TCP/IP</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            The Transmission Control Protocol and Internet Protocol (TCP/IP) is a standard 
			set of protocols developed in the late 1970s by the Defense Advanced Research 
			Projects Agency (DARPA) as a means of communication between different types of 
			computers and computer networks. TCP/IP is the driving force of the Internet, 
			and thus it is the most popular set of network protocols on Earth. 
          </fo:block><fo:block id="tcpip-introduction"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">TCP/IP Introduction</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.1.TCP/IP Introduction</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            The two protocol components of TCP/IP deal with different aspects of computer networking.
            <fo:inline font-style="italic">Internet Protocol</fo:inline>, the "IP" of TCP/IP is a 
			connectionless protocol which deals only with network packet routing using the <fo:inline font-style="italic">IP Datagram</fo:inline> as the basic unit of networking information.  The 
			IP Datagram consists of a header followed by a message.  The <fo:inline font-style="italic">
			Transmission Control Protocol</fo:inline> is the "TCP" of TCP/IP and enables network hosts 
			to establish connections which may be used to exchange data streams.  TCP also guarantees 
			that the data between connections is delivered and that it arrives at one network host in 
			the same order as sent from another network host.
          </fo:block></fo:block><fo:block id="tcpip-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">TCP/IP Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.2.TCP/IP Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            The TCP/IP protocol configuration consists of several elements which must be set by 
			editing the appropriate configuration files, or deploying solutions such as the Dynamic 
			Host Configuration Protocol (DHCP) server which in turn, can be configured to provide the 
			proper TCP/IP configuration settings to network clients automatically. These 
			configuration values must be set correctly in order to facilitate the proper network 
			operation of your Ubuntu system.
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            The common configuration elements of TCP/IP and their purposes are as follows:
            <fo:list-block id="idm45028024455824" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028024455536" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  <fo:inline font-weight="bold">IP address</fo:inline> The IP address is a unique
                  identifying string expressed as four decimal numbers ranging from zero (0)
                  to two-hundred and fifty-five (255), separated by periods,
                  with each of the four numbers representing eight (8) bits of the address for a
                  total length of thirty-two (32) bits for the whole address. This format is called
                  <fo:inline font-style="italic">dotted quad
                  notation</fo:inline>.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024453056" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  <fo:inline font-weight="bold">Netmask</fo:inline> The Subnet Mask (or simply,
                  <fo:inline font-style="italic">netmask</fo:inline>) is a local bit mask, or set of flags
                  which separate the portions of an IP address significant to the network from the
                  bits significant to the <fo:inline font-style="italic">subnetwork</fo:inline>.  For example,
                  in a Class C network, the standard netmask is 255.255.255.0 which masks the first
                  three bytes of the IP address and allows the last byte of the IP address to
                  remain available for specifying hosts on the subnetwork.
                  </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024450128" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  <fo:inline font-weight="bold">Network Address</fo:inline> The Network Address represents the
                  bytes comprising the network portion of an IP address.  For example, the host 12.128.1.2
                  in a Class A network would use 12.0.0.0 as the network address, where twelve (12)
                  represents the first byte of the IP address, (the network part) and zeroes (0) 
                  in all of the remaining three bytes to represent the potential host values.  A network
                  host using the private IP address 192.168.1.100
                  would in turn use a Network Address of 192.168.1.0, which specifies the first three
                  bytes of the Class C 192.168.1 network and a zero (0) for all the possible hosts on the
                  network.
                  </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024447760" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  <fo:inline font-weight="bold">Broadcast Address</fo:inline> The Broadcast Address is an IP address
                  which allows network data to be sent simultaneously to all hosts on a given subnetwork rather
                  than specifying a particular host.  The standard general broadcast address for IP networks is
                  255.255.255.255, but this broadcast address cannot be used to send a broadcast message to
                  every host on the Internet because routers block it.  A more appropriate broadcast address
                  is set to match a specific subnetwork.  For example, on the private Class C IP network,
                  192.168.1.0, the broadcast address is 192.168.1.255. Broadcast messages are
                  typically produced by network protocols such as the Address Resolution Protocol (ARP) and the 
                  Routing Information Protocol (RIP).             
                  </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024445280" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  <fo:inline font-weight="bold">Gateway Address</fo:inline> A Gateway Address is the IP address through which
                  a particular network, or host on a network, may be reached.  If one network host wishes to communicate
                  with another network host, and that host is not located on the same network, then a 
                  <fo:inline font-style="italic">gateway</fo:inline> must be used. In many cases, the Gateway Address will be that
                  of a router on the same network, which will in turn pass traffic on to other networks or hosts, such as
                  Internet hosts.  The value of the Gateway Address setting must be correct, or your system will not be able
                  to reach any hosts beyond those on the same network.                  
                  </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024442544" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  <fo:inline font-weight="bold">Nameserver Address</fo:inline> Nameserver Addresses represent the IP addresses of
                  Domain Name Service (DNS) systems, which resolve network hostnames into IP addresses.  There are three levels of
                  Nameserver Addresses, which may be specified in order of precedence: The 
                  <fo:inline font-style="italic">Primary</fo:inline>
                  Nameserver, the <fo:inline font-style="italic">Secondary</fo:inline> Nameserver, and the 
                  <fo:inline font-style="italic">Tertiary</fo:inline>
                  Nameserver. In order for your system to be able to resolve network hostnames into their
                  corresponding IP addresses, you must specify valid Nameserver Addresses which you are authorized to use
                  in your system's TCP/IP configuration.  In many cases these addresses can and will be provided by your
                  network service provider, but many free and publicly accessible nameservers are available for use, such as
                  the Level3 (Verizon) servers with IP addresses from
                  4.2.2.1 to 4.2.2.6. </fo:block><fo:block id="idm45028024438928" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/tip.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                        The IP address, Netmask, Network Address, Broadcast Address, Gateway Address, and Nameserver
                        Addresses are typically specified via the appropriate directives in the file
                        <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/network/interfaces</fo:inline>. For more information, view the system manual
                        page for <fo:inline font-size="8.800000000000001pt" font-family="monospace">interfaces</fo:inline>, with the following command typed at a terminal prompt:
                        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                    Access the system manual page for <fo:inline font-size="8.800000000000001pt" font-family="monospace">interfaces</fo:inline> with the following command:
                    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
<fo:block id="idm45028024434784" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">man interfaces</fo:inline>
</fo:block>
                    </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block>
            </fo:block></fo:block><fo:block id="ip-routing"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">IP Routing</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.3.IP Routing</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              IP routing is a means of specifying and discovering paths in a TCP/IP network along which
              network data may be sent.  Routing uses a set of <fo:inline font-style="italic">routing tables</fo:inline>
              to direct the forwarding of network data packets from their source to the destination, often
              via many intermediary network nodes known as <fo:inline font-style="italic">routers</fo:inline>.
              There are two primary forms of
              IP routing: <fo:inline font-style="italic">Static Routing</fo:inline> and 
              <fo:inline font-style="italic">Dynamic Routing.</fo:inline>
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Static routing involves manually adding IP routes to the system's routing table, and this is usually
            done by manipulating the routing table with the route command. Static routing enjoys
            many advantages over dynamic routing, such as simplicity of implementation on smaller networks, 
            predictability (the routing table is always computed in advance, and thus the route is precisely the 
            same each time it is used), and low overhead on other routers and network links due to the lack of a
            dynamic routing protocol.  However, static routing does present some disadvantages as well.  For example,
            static routing is limited to small networks and does not scale well.  Static routing also fails completely
            to adapt to network outages and failures along the route due to the fixed nature of the route. 
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Dynamic routing depends on large networks with multiple possible IP routes from a source to a destination
            and makes use of special routing protocols, such as the Router Information Protocol (RIP), which handle
            the automatic adjustments in routing tables that make dynamic routing possible.  Dynamic routing
            has several advantages over static routing, such as superior scalability and the ability to adapt
            to failures and outages along network routes. Additionally, there is less manual configuration of the
            routing tables, since routers learn from one another about their existence and available routes. This trait
            also eliminates the possibility of introducing mistakes in the routing tables via human error.
            Dynamic routing is not perfect, however, and presents disadvantages such as heightened complexity and
            additional network overhead from router communications, which does not immediately benefit the end users,
            but still consumes network bandwidth.
            </fo:block></fo:block><fo:block id="tcp-and-udp"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">TCP and UDP</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.4.TCP and UDP</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              TCP is a connection-based protocol, offering error correction and guaranteed delivery of
              data via what is known as <fo:inline font-style="italic">flow control</fo:inline>. Flow control
              determines when the flow of a data stream needs to be stopped, and previously sent data
              packets should to be re-sent due to problems such as <fo:inline font-style="italic">collisions</fo:inline>,
              for example, thus ensuring complete and accurate delivery of the data.  TCP is typically
              used in the exchange of important information such as database transactions. 
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              The User Datagram Protocol (UDP), on the other hand, is a <fo:inline font-style="italic">connectionless</fo:inline>
              protocol which seldom deals with the transmission of important data because it lacks flow
              control or any other method to ensure reliable delivery of the data.  UDP is commonly used
              in such applications as audio and video streaming, where it is considerably faster than
              TCP due to the lack of error correction and flow control, and where the loss of a few packets
			  is not generally catastrophic.
            </fo:block></fo:block><fo:block id="icmp"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">ICMP</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.5.ICMP</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              The Internet Control Messaging Protocol (ICMP) is an extension to the Internet Protocol (IP) as defined
              in the Request For Comments (RFC) #792 and supports network packets containing control, error, and
              informational messages.  ICMP is used by such network applications as the ping
              utility, which can determine the availability of a network host or device.  Examples of some error messages
              returned by ICMP which are useful to both network hosts and devices such as routers, include 
              <fo:inline font-style="italic">Destination Unreachable</fo:inline> and <fo:inline font-style="italic">Time Exceeded</fo:inline>.
            </fo:block></fo:block><fo:block id="daemons"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Daemons</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.6.Daemons</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Daemons are special system applications which typically execute continuously in the background and
              await requests for the functions they provide from other applications.  Many daemons are network-centric; that is,
              a large number of daemons executing in the background on an Ubuntu system may provide network-related functionality.
              Some examples of such network daemons include the <fo:inline font-style="italic">Hyper Text Transport Protocol Daemon</fo:inline> 
              (httpd), which provides web server functionality; the <fo:inline font-style="italic">Secure SHell Daemon</fo:inline> (sshd), which
              provides secure remote login shell and file transfer capabilities; and the <fo:inline font-style="italic">Internet Message Access 
              Protocol Daemon</fo:inline> (imapd), which provides E-Mail services.
            </fo:block></fo:block><fo:block id="tcpip-resources"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Resources</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.7.Resources</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028030767408" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028030767120" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              There are man pages for <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/xenial/en/man7/tcp.7.html" font-style="italic">TCP</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">9</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">9</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/xenial/en/man7/tcp.7.html">http://manpages.ubuntu.com/manpages/xenial/en/man7/tcp.7.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> and
              <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/xenial/man7/ip.7.html" font-style="italic">IP</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">10</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">10</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/xenial/man7/ip.7.html">http://manpages.ubuntu.com/manpages/xenial/man7/ip.7.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> that contain more useful information.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030764704" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Also, see the <fo:basic-link external-destination="http://www.redbooks.ibm.com/abstracts/gg243376.html" font-style="italic">TCP/IP Tutorial and Technical Overview</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">11</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">11</fo:inline> <fo:basic-link external-destination="http://www.redbooks.ibm.com/abstracts/gg243376.html">http://www.redbooks.ibm.com/abstracts/gg243376.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
              IBM Redbook.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030763120" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Another resource is O'Reilly's <fo:basic-link external-destination="http://oreilly.com/catalog/9780596002978/" font-style="italic">TCP/IP Network Administration</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">12</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">12</fo:inline> <fo:basic-link external-destination="http://oreilly.com/catalog/9780596002978/">http://oreilly.com/catalog/9780596002978/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
              </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="dhcp"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Dynamic Host Configuration Protocol (DHCP)</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">3.Dynamic Host Configuration Protocol (DHCP)</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    The Dynamic Host Configuration Protocol (DHCP) is a network service that enables 
	    host computers to be automatically assigned settings from a server as opposed to
            manually configuring each network host. Computers configured to be DHCP clients have
            no control over the settings they receive from the DHCP server, and the 
	    configuration is transparent to the computer's user.
	    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    The most common settings provided by a DHCP server to DHCP clients include:
	    </fo:block><fo:list-block id="idm45028030758528" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028030757968" space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">IP address and netmask</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030757072" space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">IP address of the default-gateway to use</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030756208" space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">IP adresses of the DNS servers to use</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    However, a DHCP server can also supply configuration properties such as:
	    </fo:block><fo:list-block id="idm45028030754720" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028030754160" space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Host Name</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030753264" space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Domain Name</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030752368" space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Time Server</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030751472" space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Print Server</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    The advantage of using DHCP is that changes to the network, for example a change
            in the address of the DNS server, need only be changed at the DHCP server, and all
            network hosts will be reconfigured the next time their DHCP clients poll the
            DHCP server. As an added advantage, it is also easier to integrate new computers 
	    into the network, as there is no need to check for the availability of an IP 
	    address.  Conflicts in IP address allocation are also reduced.
	    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    A DHCP server can provide configuration settings using the following methods:
	    </fo:block><fo:block id="idm45028030748928" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em"><fo:block id="idm45028030748640" keep-together.within-column="always" keep-with-next.within-column="always" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:inline>Manual allocation (MAC address)</fo:inline></fo:block><fo:block margin-left="0.25in"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			This method entails using DHCP to identify the unique hardware address
                        of each network card connected to the network and then continually
                        supplying a constant configuration each time the DHCP client makes a
                        request to the DHCP server using that network device. This ensures that
			a particular address is assigned automatically to that network card, 
			based on it's MAC address.
			</fo:block></fo:block><fo:block id="idm45028030746368" keep-together.within-column="always" keep-with-next.within-column="always" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:inline>Dynamic allocation (address pool)</fo:inline></fo:block><fo:block margin-left="0.25in"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			In this method, the DHCP server will assign an IP address from a pool of addresses
			(sometimes also called a range or scope) for a period of time or lease, that is 
			configured on the server or until the client informs the server that it doesn't 
			need the address anymore. This way, the clients will be receiving their configuration
			properties dynamically and on a "first come, first served" basis. When a DHCP client
			is no longer on the network for a specified period, the configuration is expired and 
			released back to the address pool for use by other DHCP Clients. This way, an address
			can be leased or used for a period of time. After this period, the client has to 
			renegociate the lease with the server to maintain use of the address.
			</fo:block></fo:block><fo:block id="idm45028030743792" keep-together.within-column="always" keep-with-next.within-column="always" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:inline>Automatic allocation</fo:inline></fo:block><fo:block margin-left="0.25in"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			Using this method, the DHCP automatically assigns an IP address permanently to a device,
			selecting it from a pool of available addresses. Usually DHCP is used to assign a 
			temporary address to a client, but a DHCP server can allow an infinite lease time.
			</fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    The last two methods can be considered "automatic" because in each case the DHCP server
            assigns an address with no extra intervention needed. The only difference between them
	    is in how long the IP address is leased, in other words whether a client's address varies
	    over time.

	    Ubuntu is shipped with both DHCP server and client. The server is
            dhcpd (dynamic host configuration protocol daemon).
            The client provided with Ubuntu is dhclient and should 
	    be installed on all computers required to be automatically configured. Both 
	    programs are easy to install and configure and will be automatically started at
	    system boot.
	    </fo:block><fo:block id="dhcp-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.1.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  At a terminal prompt, enter the following command to install
          dhcpd:
	  </fo:block><fo:block id="idm45028030736352" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install isc-dhcp-server</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  You will probably need to change the default configuration
	  by editing /etc/dhcp/dhcpd.conf to suit your needs and particular configuration.
	  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  You also may need to edit /etc/default/isc-dhcp-server to specify the interfaces dhcpd
	  should listen to.
	  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  NOTE: dhcpd's messages are being sent to syslog. Look there for
	  diagnostics messages.
	  </fo:block></fo:block><fo:block id="dhcp-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.2.Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    The error message the installation ends with might be a little confusing, but the
            following steps will help you configure the service:
	    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    Most commonly, what you want to do is assign an IP address randomly. This can be
            done with settings as follows:
	    </fo:block><fo:block id="idm45028030730464" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
# minimal sample /etc/dhcp/dhcpd.conf
default-lease-time 600;
max-lease-time 7200;

subnet 192.168.1.0 netmask 255.255.255.0 {
 range 192.168.1.150 192.168.1.200;
 option routers 192.168.1.254;
 option domain-name-servers 192.168.1.1, 192.168.1.2;
 option domain-name "mydomain.example";
} 
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    This will result in the DHCP server giving clients an IP address from the range
            192.168.1.150-192.168.1.200. It will lease an IP
            address for 600 seconds if the client doesn't ask for a specific time frame. 
	    Otherwise the maximum (allowed) lease will be 7200 seconds. The server will also 
	    "advise" the client to use 192.168.1.254 as the default-gateway and 
	    192.168.1.1 and 192.168.1.2 as its DNS servers. 
	    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  After changing the config file you have to restart the
          dhcpd:
	  </fo:block><fo:block id="idm45028030727200" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart isc-dhcp-server.service</fo:inline>
</fo:block></fo:block><fo:block id="dhcp-references"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">References</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.3.References</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028030724160" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028030723872" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              The <fo:basic-link external-destination="https://help.ubuntu.com/community/dhcp3-server" font-style="italic">dhcp3-server Ubuntu Wiki</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">13</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">13</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/dhcp3-server">https://help.ubuntu.com/community/dhcp3-server</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> page has more information.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030722304" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              For more <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/dhcp/dhcpd.conf</fo:inline> options see the 
              <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/xenial/en/man5/dhcpd.conf.5.html" font-style="italic">dhcpd.conf man page</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">14</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">14</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/xenial/en/man5/dhcpd.conf.5.html">http://manpages.ubuntu.com/manpages/xenial/en/man5/dhcpd.conf.5.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030719808" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              <fo:basic-link external-destination="http://www.isc.org/software/dhcp" font-style="italic">ISC dhcp-server</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">15</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">15</fo:inline> <fo:basic-link external-destination="http://www.isc.org/software/dhcp">http://www.isc.org/software/dhcp</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
              </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="NTP"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Time Synchronisation</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">4.Time Synchronisation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
NTP is a TCP/IP protocol for synchronising time over a network. Basically a client requests the current time from a server, and uses it to set its own clock.  
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Behind this simple description, there is a lot of complexity - there are tiers of NTP servers, with the tier one NTP servers connected to atomic clocks, and tier two and three servers spreading the load of actually handling requests across the Internet. Also the client software is a lot more complex than you might think - it has to factor out communication delays, and adjust the time in a way that does not upset all the other processes that run on the server. But luckily all that complexity is hidden from you! 
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Ubuntu by default uses <fo:inline font-style="italic">timedatectl / timesyncd</fo:inline> to synchronize time and users can optionally use ntpd to serve network time info.
</fo:block><fo:block id="timedate-info"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Synchronizing your systems time</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.1.Synchronizing your systems time</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Starting with Ubuntu 16.04 <fo:inline font-style="italic">timedatectl / timesyncd</fo:inline> (which are part of systemd) replace most of <fo:inline font-style="italic">ntpdate / ntp</fo:inline>.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        timesyncd is available by default and replaces not only ntpdate, but also the client portion of ntpd.
		So on top of the one-shot action that ntpdate provided on boot and network activation, now timesyncd by default regularly checks and keeps your local time in sync.
		It also stores time updates locally, so that after reboots monotonically advances if applicable.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		If ntpdate / ntp are installed timedatectl steps back to let you keep your old setup.
		That shall ensure that no two time syncing services are fighting and also to retain any kind of old behaviour/config that you had through an upgrade.
		But it also implies that on an upgrade from a former release ntp/ntpdate might still be installed and therefore renders the new systemd based services disabled.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		ntpdate is considered deprecated in favour of timedatectl and thereby no more installed by default.
	</fo:block><fo:block id="timedate-config"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.1.1.Configuring timedatectl and timesyncd</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		The current status of time and time configuration via timedatectl and timesyncd can be checked with <fo:inline font-weight="bold">timedatectl status</fo:inline>.
	</fo:block><fo:block id="idm45028030698144" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
$ timedatectl status
      Local time: Mo 2017-06-26 12:16:16 CEST
  Universal time: Mo 2017-06-26 10:16:16 UTC
        RTC time: Mo 2017-06-26 10:16:16
       Time zone: Europe/Berlin (CEST, +0200)
 Network time on: yes
NTP synchronized: yes
 RTC in local TZ: no
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Via timedatectl an admin can control the timezone, how the system clock should relate to the hwclock and if permanent synronization should be enabled or not.
See <fo:inline font-weight="bold">man timedatectl</fo:inline> for more details.
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        timesyncd itself is still a normal service, so you can check its status also more in detail via.
<fo:block id="idm45028030694528" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
$ systemctl status systemd-timesyncd
. systemd-timesyncd.service - Network Time Synchronization
   Loaded: loaded (/lib/systemd/system/systemd-timesyncd.service; enabled; vendor preset: enabled)
  Drop-In: /lib/systemd/system/systemd-timesyncd.service.d
           |_disable-with-time-daemon.conf
   Active: active (running) since Mo 2017-06-26 11:12:19 CEST; 30min ago
     Docs: man:systemd-timesyncd.service(8)
 Main PID: 12379 (systemd-timesyn)
   Status: "Synchronized to time server [2001:67c:1560:8003::c8]:123 (ntp.ubuntu.com)."
    Tasks: 2
   Memory: 424.0K
      CPU: 12ms
   CGroup: /system.slice/systemd-timesyncd.service
           |_12379 /lib/systemd/systemd-timesyncd

Jun 26 11:12:19 lap systemd[1]: Starting Network Time Synchronization...
Jun 26 11:12:19 lap systemd[1]: Started Network Time Synchronization.
Jun 26 11:12:19 lap systemd-timesyncd[12379]: Synchronized to time server [2001:67c:1560:8003::c8]:123 (ntp.ubuntu.com).
</fo:block>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The nameserver to fetch time for timedatectl and timesyncd from can be specified in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/systemd/timesyncd.conf</fo:inline> and additional config files can be stored in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/systemd/timesyncd.conf.d/</fo:inline>.
        The entries for NTP= and FallbackNTP= are space separated lists.
</fo:block></fo:block></fo:block><fo:block id="timeservers"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Serving NTP</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.2.Serving NTP</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
       If on top of synchronizing your system you also want to serve NTP information you need an ntp server. The most classic and supported one is ntpd, but it is also very old so there also are openntpd and chrony as alternatives available in the archive.
   </fo:block><fo:block id="ntpd"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.2.1.ntpd</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
   The ntp daemon ntpd calculates the drift of your system clock and continuously adjusts it, so there are no large corrections that could
   lead to inconsistent logs for instance. The cost is a little processing power and memory, but for a modern server this is negligible.
   </fo:block></fo:block><fo:block id="ntp-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.2.2.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
   To install ntpd, from a terminal prompt enter:
   </fo:block><fo:block id="idm45028030680576" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install ntp</fo:inline>
</fo:block></fo:block><fo:block id="timeservers-conf"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.2.3.Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
  Edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ntp.conf</fo:inline> to add/remove server lines.
  By default these servers are configured:
  </fo:block><fo:block id="idm45028030676288" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
# Use servers from the NTP Pool Project. Approved by Ubuntu Technical Board
# on 2011-02-08 (LP: #104525). See http://www.pool.ntp.org/join.html for
# more information.
server 0.ubuntu.pool.ntp.org
server 1.ubuntu.pool.ntp.org
server 2.ubuntu.pool.ntp.org
server 3.ubuntu.pool.ntp.org
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  After changing the config file you have to reload the
          ntpd:
	  </fo:block><fo:block id="idm45028030673920" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl reload ntp.service</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	   Of the pool number 2.ubuntu.pool.ntp.org as well as ntp.ubuntu.com also support ipv6 if needed.
	   If one needs to force ipv6 there also is ipv6.ntp.ubuntu.com which is not configured by default.
</fo:block></fo:block><fo:block id="ntp-status"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.2.4.View status</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
  Use ntpq to see more info: 
  </fo:block><fo:block id="idm45028030669728" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold"># sudo ntpq -p</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">     remote           refid      st t when poll reach   delay   offset  jitter
==============================================================================
+stratum2-2.NTP. 129.70.130.70    2 u    5   64  377   68.461  -44.274 110.334
+ntp2.m-online.n 212.18.1.106     2 u    5   64  377   54.629  -27.318  78.882
*145.253.66.170  .DCFa.           1 u   10   64  377   83.607  -30.159  68.343
+stratum2-3.NTP. 129.70.130.70    2 u    5   64  357   68.795  -68.168 104.612
+europium.canoni 193.79.237.14    2 u   63   64  337   81.534  -67.968  92.792</fo:inline>
</fo:block></fo:block><fo:block id="ntp-pps"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.2.5.PPS Support</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Since 16.04 ntp supports PPS discipline which can be used to augment ntp with local timesources for better accuracy.
For more details on configuration see the external pps ressource listed below.
  </fo:block></fo:block></fo:block><fo:block id="ntp-references"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">References</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.3.References</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028030663056" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028030662768" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          See the <fo:basic-link external-destination="https://help.ubuntu.com/community/UbuntuTime" font-style="italic">Ubuntu Time</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">16</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">16</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/UbuntuTime">https://help.ubuntu.com/community/UbuntuTime</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> wiki page for more information.
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030661216" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:basic-link external-destination="http://www.ntp.org/" font-style="italic">ntp.org, home of the Network Time Protocol project</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">17</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">17</fo:inline> <fo:basic-link external-destination="http://www.ntp.org/">http://www.ntp.org/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030659632" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:basic-link external-destination="https://www.freedesktop.org/software/systemd/man/timedatectl.html" font-style="italic">Freedesktop.org info on timedatectl</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">18</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">18</fo:inline> <fo:basic-link external-destination="https://www.freedesktop.org/software/systemd/man/timedatectl.html">https://www.freedesktop.org/software/systemd/man/timedatectl.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030657952" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:basic-link external-destination="https://www.freedesktop.org/software/systemd/man/systemd-timesyncd.service.html#" font-style="italic">Freedesktop.org info on systemd-timesyncd service</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">19</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">19</fo:inline> <fo:basic-link external-destination="https://www.freedesktop.org/software/systemd/man/systemd-timesyncd.service.html#">https://www.freedesktop.org/software/systemd/man/systemd-timesyncd.service.html#</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030656400" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		    <fo:basic-link external-destination="http://www.ntp.org/ntpfaq/NTP-s-config-adv.htm#S-CONFIG-ADV-PPS" font-style="italic">ntp.org faq on configuring PPS</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">20</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">20</fo:inline> <fo:basic-link external-destination="http://www.ntp.org/ntpfaq/NTP-s-config-adv.htm#S-CONFIG-ADV-PPS">http://www.ntp.org/ntpfaq/NTP-s-config-adv.htm#S-CONFIG-ADV-PPS</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="DPDK"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Data Plane Development Kit</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">5.Data Plane Development Kit</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		  The DPDK is a set of libraries and drivers for fast packet processing and runs mostly in Linux userland.
		  It is a set of libraries that provide the so called "Environment Abstraction Layer" (EAL).
		  The EAL hides the details of the environment and provides a standard programming interface.
		  Common use cases are around special solutions for instance network function virtualization
		  and advanced high-throughput network switching.
		  The DPDK uses a run-to-completion model for fast data plane performance and accesses devices via polling
		  to eliminate the latency of interrupt processing at the tradeoff of higher cpu consumption.
		  It was designed to run on any processors. The first supported CPU was Intel x86 and it is
		  now extended to IBM Power 8, EZchip TILE-Gx and ARM.
	  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		  Ubuntu currently supports DPDK version 2.2 and provides some infrastructure to ease its usability.
	  </fo:block><fo:block id="dpdk-prerequisites"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Prerequisites</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.1.Prerequisites</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  This package is currently compiled for the lowest possible CPU requirements. Which still requires at least SSE3 to be supported by the CPU.
		  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  The list of upstream DPDK supported network cards can be found at <fo:basic-link external-destination="http://dpdk.org/doc/nics" font-style="italic">supported NICs</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">21</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">21</fo:inline> <fo:basic-link external-destination="http://dpdk.org/doc/nics">http://dpdk.org/doc/nics</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
			  But a lot of those are disabled by default in the upstream Project as they are not yet in a stable state.
			  The subset of network cards that DPDK has enabled in the package as available in Ubuntu 16.04 is:
		  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  Intel
		  </fo:block><fo:list-block id="idm45028030647440" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028030647152" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link external-destination="http://dpdk.org/doc/guides/nics/e1000em.html" font-style="italic">e1000</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">22</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">22</fo:inline> <fo:basic-link external-destination="http://dpdk.org/doc/guides/nics/e1000em.html">http://dpdk.org/doc/guides/nics/e1000em.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> (82540, 82545, 82546)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030645728" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link external-destination="http://dpdk.org/browse/dpdk/tree/drivers/net/e1000/" font-style="italic">e1000e</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">23</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">23</fo:inline> <fo:basic-link external-destination="http://dpdk.org/browse/dpdk/tree/drivers/net/e1000/">http://dpdk.org/browse/dpdk/tree/drivers/net/e1000/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> (82571..82574, 82583, ICH8..ICH10, PCH..PCH2)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030644336" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link external-destination="http://dpdk.org/browse/dpdk/tree/drivers/net/e1000/" font-style="italic">igb</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">24</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">24</fo:inline> <fo:basic-link external-destination="http://dpdk.org/browse/dpdk/tree/drivers/net/e1000/">http://dpdk.org/browse/dpdk/tree/drivers/net/e1000/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> (82575..82576, 82580, I210, I211, I350, I354, DH89xx)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030642944" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link external-destination="http://dpdk.org/doc/guides/nics/ixgbe.html" font-style="italic">ixgbe</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">25</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">25</fo:inline> <fo:basic-link external-destination="http://dpdk.org/doc/guides/nics/ixgbe.html">http://dpdk.org/doc/guides/nics/ixgbe.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> (82598..82599, X540, X550)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030641504" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link external-destination="http://dpdk.org/browse/dpdk/tree/drivers/net/i40e/" font-style="italic">i40e</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">26</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">26</fo:inline> <fo:basic-link external-destination="http://dpdk.org/browse/dpdk/tree/drivers/net/i40e/">http://dpdk.org/browse/dpdk/tree/drivers/net/i40e/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> (X710, XL710, X722)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030640080" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link external-destination="http://dpdk.org/doc/guides/nics/fm10k.html" font-style="italic">fm10k</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">27</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">27</fo:inline> <fo:basic-link external-destination="http://dpdk.org/doc/guides/nics/fm10k.html">http://dpdk.org/doc/guides/nics/fm10k.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> (FM10420)</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  Chelsio
		  </fo:block><fo:list-block id="idm45028030638048" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028030637760" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link external-destination="http://dpdk.org/doc/guides/nics/cxgbe.html" font-style="italic">cxgbe</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">28</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">28</fo:inline> <fo:basic-link external-destination="http://dpdk.org/doc/guides/nics/cxgbe.html">http://dpdk.org/doc/guides/nics/cxgbe.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> (Terminator 5)</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  Cisco
		  </fo:block><fo:list-block id="idm45028030635728" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028030635440" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link external-destination="http://dpdk.org/browse/dpdk/tree/drivers/net/enic" font-style="italic">enic</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">29</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">29</fo:inline> <fo:basic-link external-destination="http://dpdk.org/browse/dpdk/tree/drivers/net/enic">http://dpdk.org/browse/dpdk/tree/drivers/net/enic</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> (UCS Virtual Interface Card)</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  Paravirtualization
		  </fo:block><fo:list-block id="idm45028030633376" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028030633088" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link external-destination="http://dpdk.org/doc/guides/nics/virtio.html" font-style="italic">virtio-net</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">30</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">30</fo:inline> <fo:basic-link external-destination="http://dpdk.org/doc/guides/nics/virtio.html">http://dpdk.org/doc/guides/nics/virtio.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> (QEMU)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030631664" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link external-destination="http://dpdk.org/doc/guides/nics/vmxnet3.html" font-style="italic">vmxnet3</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">31</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">31</fo:inline> <fo:basic-link external-destination="http://dpdk.org/doc/guides/nics/vmxnet3.html">http://dpdk.org/doc/guides/nics/vmxnet3.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  Others
		  </fo:block><fo:list-block id="idm45028030629792" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028030629504" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link external-destination="http://dpdk.org/browse/dpdk/tree/drivers/net/af_packet" font-style="italic">af_packet</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">32</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">32</fo:inline> <fo:basic-link external-destination="http://dpdk.org/browse/dpdk/tree/drivers/net/af_packet">http://dpdk.org/browse/dpdk/tree/drivers/net/af_packet</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> (Linux AF_PACKET socket)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030628064" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link external-destination="http://dpdk.org/doc/guides/nics/pcap_ring.html#rings-based-pmd" font-style="italic">ring</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">33</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">33</fo:inline> <fo:basic-link external-destination="http://dpdk.org/doc/guides/nics/pcap_ring.html#rings-based-pmd">http://dpdk.org/doc/guides/nics/pcap_ring.html#rings-based-pmd</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> (memory)</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  On top it experimentally enables the following two PMD drivers as they represent (virtual) devices that are very accessible to end users.
		  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  Paravirtualization
		  </fo:block><fo:list-block id="idm45028030625360" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028030625072" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link external-destination="http://dpdk.org/doc/guides/xen/pkt_switch.html#xen-pmd-frontend-prerequisites" font-style="italic">xenvirt</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">34</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">34</fo:inline> <fo:basic-link external-destination="http://dpdk.org/doc/guides/xen/pkt_switch.html#xen-pmd-frontend-prerequisites">http://dpdk.org/doc/guides/xen/pkt_switch.html#xen-pmd-frontend-prerequisites</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> (Xen)</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  Others
		  </fo:block><fo:list-block id="idm45028030623040" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028030622752" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link external-destination="http://dpdk.org/doc/guides/nics/pcap_ring.html#libpcap-based-pmd" font-style="italic">pcap</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">35</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">35</fo:inline> <fo:basic-link external-destination="http://dpdk.org/doc/guides/nics/pcap_ring.html#libpcap-based-pmd">http://dpdk.org/doc/guides/nics/pcap_ring.html#libpcap-based-pmd</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> (file or kernel driver)</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  Cards have to be unassigned from their kernel driver and instead be assigned to uio_pci_generic of vfio-pci.
			  uio_pci_generic is older and usually getting to work more easily.
		  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  The newer vfio-pci requires that you activate the following kernel parameters to enable iommu.
		  </fo:block><fo:block id="idm45028030619904" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
iommu=pt intel_iommu=on
		  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  On top for vfio-pci you then have to configure and assign the iommu groups accordingly.
		  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  Note: In virtio based environment it is enough to "unassign" devices from the kernel driver.
			  Without that DPDK will reject to use the device to avoid issues with kernel and DPDK working on the device at the same time.
			  Since DPDK can work directly on virtio devices it is not required to assign e.g. uio_pci_generic to those devices.
		  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  Manual configuration and status checks can be done via sysfs or with the tool dpdk_nic_bind
		  </fo:block><fo:block id="idm45028030617248" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
dpdk_nic_bind --help

Usage:
------

     dpdk_nic_bind [options] DEVICE1 DEVICE2 ....

     where DEVICE1, DEVICE2 etc, are specified via PCI "domain:bus:slot.func" syntax
     or "bus:slot.func" syntax. For devices bound to Linux kernel drivers, they may
     also be referred to by Linux interface name e.g. eth0, eth1, em0, em1, etc.

     Options:
         --help, --usage:
         Display usage information and quit

     -s, --status:
             Print the current status of all known network interfaces.
             For each device, it displays the PCI domain, bus, slot and function,
             along with a text description of the device. Depending upon whether the
             device is being used by a kernel driver, the igb_uio driver, or no
             driver, other relevant information will be displayed:
             * the Linux interface name e.g. if=eth0
             * the driver being used e.g. drv=igb_uio
             * any suitable drivers not currently using that device
                 e.g. unused=igb_uio
         NOTE: if this flag is passed along with a bind/unbind option, the status
         display will always occur after the other operations have taken place.

     -b driver, --bind=driver:
             Select the driver to use or "none" to unbind the device

         -u, --unbind:
         Unbind a device (Equivalent to "-b none")

     --force:
             By default, devices which are used by Linux - as indicated by having
             routes in the routing table - cannot be modified. Using the --force
             flag overrides this behavior, allowing active links to be forcibly
             unbound.
             WARNING: This can lead to loss of network connection and should be used
             with caution.

     Examples:
     ---------

     To display current device status:
             dpdk_nic_bind --status

     To bind eth1 from the current driver and move to use igb_uio
             dpdk_nic_bind --bind=igb_uio eth1

     To unbind 0000:01:00.0 from using any driver
             dpdk_nic_bind -u 0000:01:00.0

     To bind 0000:02:00.0 and 0000:02:00.1 to the ixgbe kernel driver
             dpdk_nic_bind -b ixgbe 02:00.0 02:00.
</fo:block></fo:block><fo:block id="dpdk-config-dev"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">DPDK Device configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.2.DPDK Device configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              The package <fo:inline font-style="italic">dpdk</fo:inline> provides init scripts that ease configuration of device assignment and huge pages.
			  It also makes them persistent accross reboots.
		  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  The following is an example of the file /etc/dpdk/interfaces configuring two ports of a network card.
			  One with uio_pci_generic and the other one with vfio-pci
		  </fo:block><fo:block id="idm45028030611120" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
# &lt;bus&gt;         Currently only "pci" is supported
# &lt;id&gt;          Device ID on the specified bus
# &lt;driver&gt;      Driver to bind against (vfio-pci or uio_pci_generic)
#
# Be aware that the two DPDK compatible drivers uio_pci_generic and vfio-pci are
# part of linux-image-extra-&lt;VERSION&gt; package.
# This package is not always installed by default - for example in cloud-images.
# So please install it in case you run into missing module issues.
#
# &lt;bus&gt; &lt;id&gt;     &lt;driver&gt;
pci 0000:04:00.0 uio_pci_generic
pci 0000:04:00.1 vfio-pci
		  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  Cards are identified by their PCI-ID. If you are unsure you might use the tool dpdk_nic_bind to show the current available devices and the drivers they are assigned to.
		  </fo:block><fo:block id="idm45028030609184" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">dpdk_nic_bind --status</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">
Network devices using DPDK-compatible driver
============================================
0000:04:00.0 'Ethernet Controller 10-Gigabit X540-AT2' drv=uio_pci_generic unused=ixgbe

Network devices using kernel driver
===================================
0000:02:00.0 'NetXtreme BCM5719 Gigabit Ethernet PCIe' if=eth0 drv=tg3 unused=uio_pci_generic *Active*
0000:02:00.1 'NetXtreme BCM5719 Gigabit Ethernet PCIe' if=eth1 drv=tg3 unused=uio_pci_generic 
0000:02:00.2 'NetXtreme BCM5719 Gigabit Ethernet PCIe' if=eth2 drv=tg3 unused=uio_pci_generic 
0000:02:00.3 'NetXtreme BCM5719 Gigabit Ethernet PCIe' if=eth3 drv=tg3 unused=uio_pci_generic 
0000:04:00.1 'Ethernet Controller 10-Gigabit X540-AT2' if=eth5 drv=ixgbe unused=uio_pci_generic 

Other network devices
=====================
&lt;none&gt;
</fo:inline>
		  </fo:block></fo:block><fo:block id="dpdk-config-hp"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">DPDK HugePage configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.3.DPDK HugePage configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  DPDK makes heavy use of huge pages to eliminate pressure on the TLB.
			  Therefore hugepages have to be configured in your system.
		  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              The <fo:inline font-style="italic">dpdk</fo:inline> package has a config file and scripts that try to ease hugepage configuration for DPDK in the form of <fo:inline font-style="italic">/etc/dpdk/dpdk.conf</fo:inline>.
			  If you have more consumers of hugepages than just DPDK in your system or very special requirements how your hugepages are going to be set up you likely want to allocate/control them by yourself.
			  If not this can be a great simplification to get DPDK configured for your needs.
		  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  Here an example configuring 1024 Hugepages of 2M each and 4 1G pages.
		  </fo:block><fo:block id="idm45028030601840" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
NR_2M_PAGES=1024
NR_1G_PAGES=4
		  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  As shown this supports configuring 2M and the larger 1G hugepages (or a mix of both).
			  It will make sure there are proper hugetlbfs mountpoints for DPDK to find both sizes no matter what your default huge page size is.
			  The config file itself holds more details on certain corner cases and a few hints if you want to allocate hugepages manually via a kernel parameter.
		  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  It depends on your needs which size you want - 1G pages are certainly more effective regarding TLB pressure.
			  But there were reports of them fragmenting inside the DPDK memory alloactions.
			  Also it can be harder to grab enough free space to set up a certain amount of 1G pages later in the lifecycle of a system.
		  </fo:block></fo:block><fo:block id="dpdk-apps"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Compile DPDK Applications</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.4.Compile DPDK Applications</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  Currently there are not a lot consumers of the DPDK library that are stable and released.
			  OpenVswitch-DPDK being an exception to that (see below), but in general it is very likely that you might want / have to compile an app against the library.
		  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  You will often find guides that tell you to fetch the DPDK sources, build them to your needs and eventually build your application based on DPDK by setting values RTE_* for the build system.
			  Since Ubunutu provides an already compiled DPDK for you can can skip all that.
			  To simplify setting the proper variables you can source the file /usr/share/dpdk/dpdk-sdk-env.sh before building your application.
			  Here an excerpt building the l2fwd example application delivered with the dpdk-doc package.
		  </fo:block><fo:block id="idm45028030596320" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
sudo apt-get install dpdk-dev libdpdk-dev
. /usr/share/dpdk/dpdk-sdk-env.sh
make -C /usr/share/dpdk/examples/l2fwd
		  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  Depending on what you build it might be a good addition to install all of DPDK build dependencies before the make.
		  </fo:block><fo:block id="idm45028030594848" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
sudo apt-get install build-dep dpdk
		  </fo:block></fo:block><fo:block id="dpdk-openvswitch"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">OpenVswitch-DPDK</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.5.OpenVswitch-DPDK</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  Being a library it doesn't do a lot on its own, so it depends on emerging projects making use of it.
			  One consumer of the library that already is bundled in the Ubuntu 16.04 release is OpenVswitch with DPDK support in the package openvswitch-switch-dpdk.
		  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  Here an example how to install and configure a basic OpenVswitch using DPDK for later use via libvirt/qemu-kvm.
		  </fo:block><fo:block id="idm45028030591344" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
sudo apt-get install openvswitch-switch-dpdk
sudo update-alternatives --set ovs-vswitchd /usr/lib/openvswitch-switch-dpdk/ovs-vswitchd-dpdk
echo "DPDK_OPTS='--dpdk -c 0x1 -n 4 -m 2048 --vhost-owner libvirt-qemu:kvm --vhost-perm 0664'" | sudo tee -a /etc/default/openvswitch-switch
sudo service openvswitch-switch restart
		  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  Please remember that you have to assign devices to DPDK compatible drivers (see above) before restarting.
		  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  The section <fo:inline font-style="italic">--vhost-owner libvirt-qemu:kvm --vhost-perm 0664</fo:inline> will set vhost_user ports up with owner/permissions to be compatible with Ubuntus way of running qemu-kvm/libvirt with reduced privileges for more security.
		  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  Please note that the section <fo:inline font-style="italic">-m 2048</fo:inline> is the most basic numa setup for a single socket system.
			  If you have multiple sockets you might want to define how to split your memory among them, for example <fo:inline font-style="italic">-m 1024, 1024</fo:inline>.
			  Please be aware that DPDK will try to work only with local memory to the network cards it works with (for performance reasons).
			  That said if you have multiple nodes, but all network cards on one, you should consider spreading your cards.
			  If not at least allocate your memory to the node where the cards reside, for example in a two node all to node #2: <fo:inline font-style="italic">-m 0, 2048</fo:inline>.
			  You can use the tool <fo:inline font-style="italic">lstopo</fo:inline> from the package <fo:inline font-style="italic">hwloc-nox</fo:inline> to see on which socket your cards are located.
		  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  The OpenVswitch you now started supports all port types OpenVswitch usually does, plus DPDK port types.
			  Here an example how to create a bridge and - instead of a normal external port - add an external DPDK port to it.
		  </fo:block><fo:block id="idm45028030584832" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
ovs-vsctl add-br ovsdpdkbr0 -- set bridge ovsdpdkbr0 datapath_type=netdev
ovs-vsctl add-port ovsdpdkbr0 dpdk0 -- set Interface dpdk0 type=dpdk
		  </fo:block><fo:block id="idm45028030583904" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                The enablement of DPDK in Open vSwitch has changed in version 2.6.
                So for users of releases &gt;=16.10, but also for users of the <fo:basic-link external-destination="https://wiki.ubuntu.com/OpenStack/CloudArchive" font-style="italic">Ubuntu Cloud Archive</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">36</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">36</fo:inline> <fo:basic-link external-destination="https://wiki.ubuntu.com/OpenStack/CloudArchive">https://wiki.ubuntu.com/OpenStack/CloudArchive</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> &gt;=neutron the enablement has changed compared to that for users of Ubuntu 16.04.
                The options formerly passed via <fo:inline font-style="italic">DPDK_OPTS</fo:inline> are now configured via ovs-vsctl into the Open vSwitch configuration database.
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                The same example as above would in the new way look like:
            </fo:block><fo:block id="idm45028030581280" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
# Enable DPDK
ovs-vsctl set Open_vSwitch . "other_config:dpdk-init=true"
# run on core 0
ovs-vsctl set Open_vSwitch . "other_config:dpdk-lcore-mask=0x1"
# Allocate 2G huge pages (not Numa node aware)
ovs-vsctl set Open_vSwitch . "other_config:dpdk-alloc-mem=2048"
# group/permissions for vhost-user sockets (required to work with libvirt/qemu)
ovs-vsctl set Open_vSwitch . \
   "other_config:dpdk-extra=--vhost-owner libvirt-qemu:kvm --vhost-perm 0666"
		  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                Please see the associated upstream documentation and the man page of the
                vswitch configuration as provided by the package for more details:
                <fo:list-block id="idm45028030579568" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028030579280" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-size="8.800000000000001pt" font-family="monospace">/usr/share/doc/openvswitch-common/INSTALL.DPDK.md.gz</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030578256" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-size="8.800000000000001pt" font-family="monospace">/usr/share/doc/openvswitch-common/INSTALL.DPDK-ADVANCED.md.gz</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030577152" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-weight="bold">man ovs-vswitchd.conf.db</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block>
            </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="dpdk-openvswitch-guest"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">OpenVswitch DPDK to KVM Guests</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.6.OpenVswitch DPDK to KVM Guests</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  If you are not building some sort of SDN switch or NFV on top of DPDK it is very likely that you want to forward traffic to KVM guests.
			  The good news is, that with the new qemu/libvirt/dpdk/openvswitch versions in Ubuntu 16.04 this is no more about manually appending commandline string.
			  This chapter covers a basic configuration how to connect a KVM guest to a OpenVswitch-DPDK instance.
		  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  The Guest has to be backed by shared hugepages for DPDK/vhost_user to work.
			  To ensure in general that libvirt/qemu-kvm finds a proper hugepage mountpoint you can just enable KVM_HUGEPAGES in /etc/default/qemu-kvm.
			  Afterwards restart the service to pick up the changed configuration.
		  </fo:block><fo:block id="idm45028030572528" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
sed -ri -e 's,(KVM_HUGEPAGES=).*,\11,' /etc/default/qemu-kvm
service qemu-kvm restart
		  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  To let a guest be backed by hugepages is now also supported via recent libvirt, just add the following snippet to your virsh xml (or the equivalent libvirt interface you use).
			  Those xmls can also be used as templates to easily spawn guests with "uvt-kvm create".
		  </fo:block><fo:block id="idm45028030570944" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
&lt;numa&gt;
&lt;cell id='0' cpus='0' memory='6291456' unit='KiB' memAccess='shared'/&gt;
&lt;/numa&gt;
[...]
&lt;memoryBacking&gt;
&lt;hugepages&gt;
&lt;page size="2" unit="M" nodeset="0"/&gt;
&lt;/hugepages&gt;
&lt;/memoryBacking&gt;
		  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  The new and recommended way to get to a KVM guest is using vhost_user.
			  This will cause DPDK to create a socket that qemu will connect the guest to.
			  Here an example how to add such a port to the bridge you created (see above).
		  </fo:block><fo:block id="idm45028030569296" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
ovs-vsctl add-port ovsdpdkbr0 vhost-user-1 -- set Interface vhost-user-1 type=dpdkvhostuser
		  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  This will create a vhost_user socket at /var/run/openvswitch/vhost-user-1
		  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  To let libvirt/kvm consume this socket and create a guest virtio network device for it add a snippet like this to your guest definition as the network definition.
		  </fo:block><fo:block id="idm45028030567392" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
&lt;interface type='vhostuser'&gt;
&lt;source type='unix'
path='/var/run/openvswitch/vhost-user-1'
mode='client'/&gt;
&lt;model type='virtio'/&gt;
&lt;/interface&gt;
		  </fo:block></fo:block><fo:block id="dpdk-in-guest"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">DPDK in KVM Guests</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.7.DPDK in KVM Guests</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  If you have no access to DPDK supported network cards you can still work with DPDK by using its support for virtio.
			  To do so you have to create guests backed by hugepages (see above).
		  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  On top of that there it is required to have at least SSE3.
			  The default CPU model qemu/libvirt uses is only up to SSE2.
			  So you will have to define a model that passed the proper feature flag - and of course have a Host system that supportes it.
			  An example can be found in following snippet to your virsh xml (or the equivalent virsh interface you use).
		  </fo:block><fo:block id="idm45028030563552" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
&lt;cpu mode='host-passthrough'&gt;
		  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  This example is rather offensive and passes all host features.
			  That in turn makes the guest not very migratable as the target would need all the features as well.
			  A "softer" way is to just add sse3 to the default model like the following example.
		  </fo:block><fo:block id="idm45028030562032" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
&lt;cpu mode='custom' match='exact'&gt;
&lt;model fallback='allow'&gt;qemu64&lt;/model&gt;
&lt;feature policy='require' name='ssse3'/&gt;
&lt;/cpu&gt;
		  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  Also virtio nowadays supports multiqueue which DPDK in turn can exploit for better speed.
			  To modify a normal virtio definition to have multiple queues add the following to your interface definition.
			  This is about enhancing a normal virtio nic to have multiple queues, to later on be consumed e.g. by DPDK in the guest.
		  </fo:block><fo:block id="idm45028030560352" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
&lt;driver name="vhost" queues="4"/&gt;
		  </fo:block></fo:block><fo:block id="ovs-dpdk-tuning"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Tuning Openvswitch-DPDK</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.8.Tuning Openvswitch-DPDK</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  DPDK has plenty of options - in combination with Openvswitch-DPDK the two most commonly used are:
		  </fo:block><fo:block id="idm45028030557520" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
ovs-vsctl set Open_vSwitch . other_config:n-dpdk-rxqs=2
ovs-vsctl set Open_vSwitch . other_config:pmd-cpu-mask=0x6
		  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  The first select how many rx queues are to be used for each DPDK interface, while the second controls how many and where to run PMD threads.
			  The example above will utilize two rx queues and run PMD threads on CPU 1 and 2.
			  See the referred links to "EAL Command-line Options" and "OpenVswitch DPDK installation" at the end of this document for more.
		  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  As usual with tunings you have to know your system and workload really well - so please verify any tunings with workloads matching your real use case.
		  </fo:block></fo:block><fo:block id="dpdk-support"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Support and Troubleshooting</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.9.Support and Troubleshooting</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			  DPDK is a fast evolving project.
			  In any case of a search for support and further guides it is highly recommended to first check if they apply to the current version.
		  </fo:block><fo:list-block id="idm45028030553120" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028030552832" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
					  <fo:basic-link external-destination="http://dpdk.org/ml" font-style="italic">DPDK Mailing Lists</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">37</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">37</fo:inline> <fo:basic-link external-destination="http://dpdk.org/ml">http://dpdk.org/ml</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
				  </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030551216" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
					  For OpenVswitch-DPDK <fo:basic-link external-destination="http://openvswitch.org/mlists" font-style="italic">OpenStack Mailing Lists</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">38</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">38</fo:inline> <fo:basic-link external-destination="http://openvswitch.org/mlists">http://openvswitch.org/mlists</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
				  </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030549568" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
					  Known issues in <fo:basic-link external-destination="https://bugs.launchpad.net/ubuntu/+source/dpdk" font-style="italic">DPDK Launchpad Area</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">39</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">39</fo:inline> <fo:basic-link external-destination="https://bugs.launchpad.net/ubuntu/+source/dpdk">https://bugs.launchpad.net/ubuntu/+source/dpdk</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
				  </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030547968" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
					  Join the IRC channels #DPDK or #openvswitch on freenode.
				  </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Issues are often due to missing small details in the general setup. Later on,
		these missing details cause problems which can be hard to track down to their
		root cause.

		A common case seems to be the "could not open network device dpdk0 (No such device)" issue.
		This occurs rather late when setting up a port in Open vSwitch with DPDK.
		But the root cause most of the time is very early in the setup and initialization.
		Here an example how a proper initialization of a device looks - this can be found in
		the syslog/journal when starting Open vSwitch with DPDK enabled.
		  </fo:block><fo:block id="idm45028030545840" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
ovs-ctl[3560]: EAL: PCI device 0000:04:00.1 on NUMA socket 0
ovs-ctl[3560]: EAL:   probe driver: 8086:1528 rte_ixgbe_pmd
ovs-ctl[3560]: EAL:   PCI memory mapped at 0x7f2140000000
ovs-ctl[3560]: EAL:   PCI memory mapped at 0x7f2140200000
		  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		If this is missing, either by ignored cards, failed initialization
		or other reasons, later on there will be no DPDK device to refer to.
		Unfortunately the logging is spread across syslog/journal and the openvswitch log.
		To allow some cross checking here an example what can be found in these logs,
		relative to the entered command.
		  </fo:block><fo:block id="idm45028030544032" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
#Note: This log was taken with dpdk 2.2 and openvswitch 2.5
Captions:
CMD: that you enter
SYSLOG: (Inlcuding EAL and OVS Messages)
OVS-LOG: (Openvswitch messages)

#PREPARATION
Bind an interface to DPDK UIO drivers, make Hugepages available, enable DPDK on OVS

CMD: sudo service openvswitch-switch restart

SYSLOG:
2016-01-22T08:58:31.372Z|00003|daemon_unix(monitor)|INFO|pid 3329 died, killed (Terminated), exiting
2016-01-22T08:58:33.377Z|00002|vlog|INFO|opened log file /var/log/openvswitch/ovs-vswitchd.log
2016-01-22T08:58:33.381Z|00003|ovs_numa|INFO|Discovered 12 CPU cores on NUMA node 0
2016-01-22T08:58:33.381Z|00004|ovs_numa|INFO|Discovered 1 NUMA nodes and 12 CPU cores
2016-01-22T08:58:33.381Z|00005|reconnect|INFO|unix:/var/run/openvswitch/db.sock: connecting...
2016-01-22T08:58:33.383Z|00006|reconnect|INFO|unix:/var/run/openvswitch/db.sock: connected
2016-01-22T08:58:33.386Z|00007|bridge|INFO|ovs-vswitchd (Open vSwitch) 2.5.0

OVS-LOG:
systemd[1]: Stopping Open vSwitch...
systemd[1]: Stopped Open vSwitch.
systemd[1]: Stopping Open vSwitch Internal Unit...
ovs-ctl[3541]: * Killing ovs-vswitchd (3329)
ovs-ctl[3541]: * Killing ovsdb-server (3318)
systemd[1]: Stopped Open vSwitch Internal Unit.
systemd[1]: Starting Open vSwitch Internal Unit...
ovs-ctl[3560]: * Starting ovsdb-server
ovs-vsctl: ovs|00001|vsctl|INFO|Called as ovs-vsctl --no-wait -- init -- set Open_vSwitch . db-version=7.12.1
ovs-vsctl: ovs|00001|vsctl|INFO|Called as ovs-vsctl --no-wait set Open_vSwitch . ovs-version=2.5.0 "external-ids:system-id=\"e7c5ba80-bb14-45c1-b8eb-628f3ad03903\"" "system-type=\"Ubuntu\"" "system-version=\"16.04-xenial\""
ovs-ctl[3560]: * Configuring Open vSwitch system IDs
ovs-ctl[3560]: 2016-01-22T08:58:31Z|00001|dpdk|INFO|No -vhost_sock_dir provided - defaulting to /var/run/openvswitch
ovs-vswitchd: ovs|00001|dpdk|INFO|No -vhost_sock_dir provided - defaulting to /var/run/openvswitch
ovs-ctl[3560]: EAL: Detected lcore 0 as core 0 on socket 0
ovs-ctl[3560]: EAL: Detected lcore 1 as core 1 on socket 0
ovs-ctl[3560]: EAL: Detected lcore 2 as core 2 on socket 0
ovs-ctl[3560]: EAL: Detected lcore 3 as core 3 on socket 0
ovs-ctl[3560]: EAL: Detected lcore 4 as core 4 on socket 0
ovs-ctl[3560]: EAL: Detected lcore 5 as core 5 on socket 0
ovs-ctl[3560]: EAL: Detected lcore 6 as core 0 on socket 0
ovs-ctl[3560]: EAL: Detected lcore 7 as core 1 on socket 0
ovs-ctl[3560]: EAL: Detected lcore 8 as core 2 on socket 0
ovs-ctl[3560]: EAL: Detected lcore 9 as core 3 on socket 0
ovs-ctl[3560]: EAL: Detected lcore 10 as core 4 on socket 0
ovs-ctl[3560]: EAL: Detected lcore 11 as core 5 on socket 0
ovs-ctl[3560]: EAL: Support maximum 128 logical core(s) by configuration.
ovs-ctl[3560]: EAL: Detected 12 lcore(s)
ovs-ctl[3560]: EAL: VFIO modules not all loaded, skip VFIO support...
ovs-ctl[3560]: EAL: Setting up physically contiguous memory...
ovs-ctl[3560]: EAL: Ask a virtual area of 0x100000000 bytes
ovs-ctl[3560]: EAL: Virtual area found at 0x7f2040000000 (size = 0x100000000)
ovs-ctl[3560]: EAL: Requesting 4 pages of size 1024MB from socket 0
ovs-ctl[3560]: EAL: TSC frequency is ~2397202 KHz
ovs-vswitchd[3592]: EAL: TSC frequency is ~2397202 KHz
ovs-vswitchd[3592]: EAL: Master lcore 0 is ready (tid=fc6cbb00;cpuset=[0])
ovs-vswitchd[3592]: EAL: PCI device 0000:04:00.0 on NUMA socket 0
ovs-vswitchd[3592]: EAL:   probe driver: 8086:1528 rte_ixgbe_pmd
ovs-vswitchd[3592]: EAL:   Not managed by a supported kernel driver, skipped
ovs-vswitchd[3592]: EAL: PCI device 0000:04:00.1 on NUMA socket 0
ovs-vswitchd[3592]: EAL:   probe driver: 8086:1528 rte_ixgbe_pmd
ovs-vswitchd[3592]: EAL:   PCI memory mapped at 0x7f2140000000
ovs-vswitchd[3592]: EAL:   PCI memory mapped at 0x7f2140200000
ovs-ctl[3560]: EAL: Master lcore 0 is ready (tid=fc6cbb00;cpuset=[0])
ovs-ctl[3560]: EAL: PCI device 0000:04:00.0 on NUMA socket 0
ovs-ctl[3560]: EAL:   probe driver: 8086:1528 rte_ixgbe_pmd
ovs-ctl[3560]: EAL:   Not managed by a supported kernel driver, skipped
ovs-ctl[3560]: EAL: PCI device 0000:04:00.1 on NUMA socket 0
ovs-ctl[3560]: EAL:   probe driver: 8086:1528 rte_ixgbe_pmd
ovs-ctl[3560]: EAL:   PCI memory mapped at 0x7f2140000000
ovs-ctl[3560]: EAL:   PCI memory mapped at 0x7f2140200000
ovs-vswitchd[3592]: PMD: eth_ixgbe_dev_init(): MAC: 4, PHY: 3
ovs-vswitchd[3592]: PMD: eth_ixgbe_dev_init(): port 0 vendorID=0x8086 deviceID=0x1528
ovs-ctl[3560]: PMD: eth_ixgbe_dev_init(): MAC: 4, PHY: 3
ovs-ctl[3560]: PMD: eth_ixgbe_dev_init(): port 0 vendorID=0x8086 deviceID=0x1528
ovs-ctl[3560]: Zone 0: name:&lt;RG_MP_log_history&gt;, phys:0x83fffdec0, len:0x2080, virt:0x7f213fffdec0, socket_id:0, flags:0
ovs-ctl[3560]: Zone 1: name:&lt;MP_log_history&gt;, phys:0x83fd73d40, len:0x28a0c0, virt:0x7f213fd73d40, socket_id:0, flags:0
ovs-ctl[3560]: Zone 2: name:&lt;rte_eth_dev_data&gt;, phys:0x83fd43380, len:0x2f700, virt:0x7f213fd43380, socket_id:0, flags:0
ovs-ctl[3560]: * Starting ovs-vswitchd
ovs-ctl[3560]: * Enabling remote OVSDB managers
systemd[1]: Started Open vSwitch Internal Unit.
systemd[1]: Starting Open vSwitch...
systemd[1]: Started Open vSwitch.


CMD: sudo ovs-vsctl add-br ovsdpdkbr0 -- set bridge ovsdpdkbr0 datapath_type=netdev

SYSLOG:
2016-01-22T08:58:56.344Z|00008|memory|INFO|37256 kB peak resident set size after 24.5 seconds
2016-01-22T08:58:56.346Z|00009|ofproto_dpif|INFO|netdev@ovs-netdev: Datapath supports recirculation
2016-01-22T08:58:56.346Z|00010|ofproto_dpif|INFO|netdev@ovs-netdev: MPLS label stack length probed as 3
2016-01-22T08:58:56.346Z|00011|ofproto_dpif|INFO|netdev@ovs-netdev: Datapath supports unique flow ids
2016-01-22T08:58:56.346Z|00012|ofproto_dpif|INFO|netdev@ovs-netdev: Datapath does not support ct_state
2016-01-22T08:58:56.346Z|00013|ofproto_dpif|INFO|netdev@ovs-netdev: Datapath does not support ct_zone
2016-01-22T08:58:56.346Z|00014|ofproto_dpif|INFO|netdev@ovs-netdev: Datapath does not support ct_mark
2016-01-22T08:58:56.346Z|00015|ofproto_dpif|INFO|netdev@ovs-netdev: Datapath does not support ct_label
2016-01-22T08:58:56.360Z|00016|bridge|INFO|bridge ovsdpdkbr0: added interface ovsdpdkbr0 on port 65534
2016-01-22T08:58:56.361Z|00017|bridge|INFO|bridge ovsdpdkbr0: using datapath ID 00005a4a1ed0a14d
2016-01-22T08:58:56.361Z|00018|connmgr|INFO|ovsdpdkbr0: added service controller "punix:/var/run/openvswitch/ovsdpdkbr0.mgmt"

OVS-LOG:
ovs-vsctl: ovs|00001|vsctl|INFO|Called as ovs-vsctl add-br ovsdpdkbr0 -- set bridge ovsdpdkbr0 datapath_type=netdev
systemd-udevd[3607]: Could not generate persistent MAC address for ovs-netdev: No such file or directory
kernel: [50165.886554] device ovs-netdev entered promiscuous mode
kernel: [50165.901261] device ovsdpdkbr0 entered promiscuous mode


CMD: sudo ovs-vsctl add-port ovsdpdkbr0 dpdk0 -- set Interface dpdk0 type=dpdk

SYSLOG:
2016-01-22T08:59:06.369Z|00019|memory|INFO|peak resident set size grew 155% in last 10.0 seconds, from 37256 kB to 95008 kB
2016-01-22T08:59:06.369Z|00020|memory|INFO|handlers:4 ports:1 revalidators:2 rules:5
2016-01-22T08:59:30.989Z|00021|dpdk|INFO|Port 0: 8c:dc:d4:b3:6d:e9
2016-01-22T08:59:31.520Z|00022|dpdk|INFO|Port 0: 8c:dc:d4:b3:6d:e9
2016-01-22T08:59:31.521Z|00023|dpif_netdev|INFO|Created 1 pmd threads on numa node 0
2016-01-22T08:59:31.522Z|00001|dpif_netdev(pmd16)|INFO|Core 0 processing port 'dpdk0'
2016-01-22T08:59:31.522Z|00024|bridge|INFO|bridge ovsdpdkbr0: added interface dpdk0 on port 1
2016-01-22T08:59:31.522Z|00025|bridge|INFO|bridge ovsdpdkbr0: using datapath ID 00008cdcd4b36de9
2016-01-22T08:59:31.523Z|00002|dpif_netdev(pmd16)|INFO|Core 0 processing port 'dpdk0'

OVS-LOG:
ovs-vsctl: ovs|00001|vsctl|INFO|Called as ovs-vsctl add-port ovsdpdkbr0 dpdk0 -- set Interface dpdk0 type=dpdk
ovs-vswitchd[3595]: PMD: ixgbe_dev_tx_queue_setup(): sw_ring=0x7f211a79ebc0 hw_ring=0x7f211a7a6c00 dma_addr=0x81a7a6c00
ovs-vswitchd[3595]: PMD: ixgbe_set_tx_function(): Using simple tx code path
ovs-vswitchd[3595]: PMD: ixgbe_set_tx_function(): Vector tx enabled.
ovs-vswitchd[3595]: PMD: ixgbe_dev_rx_queue_setup(): sw_ring=0x7f211a78a6c0 sw_sc_ring=0x7f211a786580 hw_ring=0x7f211a78e800 dma_addr=0x81a78e800
ovs-vswitchd[3595]: PMD: ixgbe_set_rx_function(): Vector rx enabled, please make sure RX burst size no less than 4 (port=0).
ovs-vswitchd[3595]: PMD: ixgbe_dev_tx_queue_setup(): sw_ring=0x7f211a79ebc0 hw_ring=0x7f211a7a6c00 dma_addr=0x81a7a6c00
ovs-vswitchd[3595]: PMD: ixgbe_set_tx_function(): Using simple tx code path
ovs-vswitchd[3595]: PMD: ixgbe_set_tx_function(): Vector tx enabled.
ovs-vswitchd[3595]: PMD: ixgbe_dev_tx_queue_setup(): sw_ring=0x7f211a76e4c0 hw_ring=0x7f211a776500 dma_addr=0x81a776500
ovs-vswitchd[3595]: PMD: ixgbe_set_tx_function(): Using simple tx code path
ovs-vswitchd[3595]: PMD: ixgbe_set_tx_function(): Vector tx enabled.
ovs-vswitchd[3595]: PMD: ixgbe_dev_tx_queue_setup(): sw_ring=0x7f211a756440 hw_ring=0x7f211a75e480 dma_addr=0x81a75e480
ovs-vswitchd[3595]: PMD: ixgbe_set_tx_function(): Using simple tx code path
ovs-vswitchd[3595]: PMD: ixgbe_set_tx_function(): Vector tx enabled.
ovs-vswitchd[3595]: PMD: ixgbe_dev_tx_queue_setup(): sw_ring=0x7f211a73e3c0 hw_ring=0x7f211a746400 dma_addr=0x81a746400
ovs-vswitchd[3595]: PMD: ixgbe_set_tx_function(): Using simple tx code path
ovs-vswitchd[3595]: PMD: ixgbe_set_tx_function(): Vector tx enabled.
ovs-vswitchd[3595]: PMD: ixgbe_dev_tx_queue_setup(): sw_ring=0x7f211a726340 hw_ring=0x7f211a72e380 dma_addr=0x81a72e380
ovs-vswitchd[3595]: PMD: ixgbe_set_tx_function(): Using simple tx code path
ovs-vswitchd[3595]: PMD: ixgbe_set_tx_function(): Vector tx enabled.
ovs-vswitchd[3595]: PMD: ixgbe_dev_tx_queue_setup(): sw_ring=0x7f211a70e2c0 hw_ring=0x7f211a716300 dma_addr=0x81a716300
ovs-vswitchd[3595]: PMD: ixgbe_set_tx_function(): Using simple tx code path
ovs-vswitchd[3595]: PMD: ixgbe_set_tx_function(): Vector tx enabled.
ovs-vswitchd[3595]: PMD: ixgbe_dev_tx_queue_setup(): sw_ring=0x7f211a6f6240 hw_ring=0x7f211a6fe280 dma_addr=0x81a6fe280
ovs-vswitchd[3595]: PMD: ixgbe_set_tx_function(): Using simple tx code path
ovs-vswitchd[3595]: PMD: ixgbe_set_tx_function(): Vector tx enabled.
ovs-vswitchd[3595]: PMD: ixgbe_dev_tx_queue_setup(): sw_ring=0x7f211a6de1c0 hw_ring=0x7f211a6e6200 dma_addr=0x81a6e6200
ovs-vswitchd[3595]: PMD: ixgbe_set_tx_function(): Using simple tx code path
ovs-vswitchd[3595]: PMD: ixgbe_set_tx_function(): Vector tx enabled.
ovs-vswitchd[3595]: PMD: ixgbe_dev_tx_queue_setup(): sw_ring=0x7f211a6c6140 hw_ring=0x7f211a6ce180 dma_addr=0x81a6ce180
ovs-vswitchd[3595]: PMD: ixgbe_set_tx_function(): Using simple tx code path
ovs-vswitchd[3595]: PMD: ixgbe_set_tx_function(): Vector tx enabled.
ovs-vswitchd[3595]: PMD: ixgbe_dev_tx_queue_setup(): sw_ring=0x7f211a6ae0c0 hw_ring=0x7f211a6b6100 dma_addr=0x81a6b6100
ovs-vswitchd[3595]: PMD: ixgbe_set_tx_function(): Using simple tx code path
ovs-vswitchd[3595]: PMD: ixgbe_set_tx_function(): Vector tx enabled.
ovs-vswitchd[3595]: PMD: ixgbe_dev_tx_queue_setup(): sw_ring=0x7f211a696040 hw_ring=0x7f211a69e080 dma_addr=0x81a69e080
ovs-vswitchd[3595]: PMD: ixgbe_set_tx_function(): Using simple tx code path
ovs-vswitchd[3595]: PMD: ixgbe_set_tx_function(): Vector tx enabled.
ovs-vswitchd[3595]: PMD: ixgbe_dev_tx_queue_setup(): sw_ring=0x7f211a67dfc0 hw_ring=0x7f211a686000 dma_addr=0x81a686000
ovs-vswitchd[3595]: PMD: ixgbe_set_tx_function(): Using simple tx code path
ovs-vswitchd[3595]: PMD: ixgbe_set_tx_function(): Vector tx enabled.
ovs-vswitchd[3595]: PMD: ixgbe_dev_tx_queue_setup(): sw_ring=0x7f211a665e40 hw_ring=0x7f211a66de80 dma_addr=0x81a66de80
ovs-vswitchd[3595]: PMD: ixgbe_set_tx_function(): Using simple tx code path
ovs-vswitchd[3595]: PMD: ixgbe_set_tx_function(): Vector tx enabled.
ovs-vswitchd[3595]: PMD: ixgbe_dev_rx_queue_setup(): sw_ring=0x7f211a78a6c0 sw_sc_ring=0x7f211a786580 hw_ring=0x7f211a78e800 dma_addr=0x81a78e800
ovs-vswitchd[3595]: PMD: ixgbe_set_rx_function(): Vector rx enabled, please make sure RX burst size no less than 4 (port=0).


CMD: sudo ovs-vsctl add-port ovsdpdkbr0 vhost-user-1 -- set Interface vhost-user-1 type=dpdkvhostuser

OVS-LOG:
2016-01-22T09:00:35.145Z|00026|dpdk|INFO|Socket /var/run/openvswitch/vhost-user-1 created for vhost-user port vhost-user-1
2016-01-22T09:00:35.145Z|00003|dpif_netdev(pmd16)|INFO|Core 0 processing port 'dpdk0'
2016-01-22T09:00:35.145Z|00004|dpif_netdev(pmd16)|INFO|Core 0 processing port 'vhost-user-1'
2016-01-22T09:00:35.145Z|00027|bridge|INFO|bridge ovsdpdkbr0: added interface vhost-user-1 on port 2

SYSLOG:
ovs-vsctl: ovs|00001|vsctl|INFO|Called as ovs-vsctl add-port ovsdpdkbr0 vhost-user-1 -- set Interface vhost-user-1 type=dpdkvhostuser
ovs-vswitchd[3595]: VHOST_CONFIG: socket created, fd:46
ovs-vswitchd[3595]: VHOST_CONFIG: bind to /var/run/openvswitch/vhost-user-1

Eventually we can see the poll thread in top
  PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND
 3595 root      10 -10 4975344 103936   9916 S 100.0  0.3  33:13.56 ovs-vswitchd
		  </fo:block></fo:block><fo:block id="dpdk-references"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Resources</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.10.Resources</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028030528864" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028030528576" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
					  <fo:basic-link external-destination="http://dpdk.org/doc" font-style="italic">DPDK Documentation</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">40</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">40</fo:inline> <fo:basic-link external-destination="http://dpdk.org/doc">http://dpdk.org/doc</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
				  </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030526960" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
					  <fo:basic-link external-destination="http://dpdk.org/doc/guides/rel_notes/release_2_2.html" font-style="italic">Release Notes matching the version packages in Ubuntu 16.04</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">41</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">41</fo:inline> <fo:basic-link external-destination="http://dpdk.org/doc/guides/rel_notes/release_2_2.html">http://dpdk.org/doc/guides/rel_notes/release_2_2.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
				  </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030525328" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
					  <fo:basic-link external-destination="http://dpdk.org/doc/guides/linux_gsg/index.html" font-style="italic">Linux DPDK User Getting Started</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">42</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">42</fo:inline> <fo:basic-link external-destination="http://dpdk.org/doc/guides/linux_gsg/index.html">http://dpdk.org/doc/guides/linux_gsg/index.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
				  </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030523728" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
					  <fo:basic-link external-destination="http://dpdk.org/doc/guides/testpmd_app_ug/run_app.html" font-style="italic">EAL Command-line Options</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">43</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">43</fo:inline> <fo:basic-link external-destination="http://dpdk.org/doc/guides/testpmd_app_ug/run_app.html">http://dpdk.org/doc/guides/testpmd_app_ug/run_app.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
				  </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023522544" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
					  <fo:basic-link external-destination="http://dpdk.org/doc/api/" font-style="italic">DPDK Api Documentation</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">44</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">44</fo:inline> <fo:basic-link external-destination="http://dpdk.org/doc/api/">http://dpdk.org/doc/api/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
				  </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023521152" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
					  <fo:basic-link external-destination="https://github.com/openvswitch/ovs/blob/branch-2.5/INSTALL.DPDK.md" font-style="italic">OpenVswitch DPDK installation</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">45</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">45</fo:inline> <fo:basic-link external-destination="https://github.com/openvswitch/ovs/blob/branch-2.5/INSTALL.DPDK.md">https://github.com/openvswitch/ovs/blob/branch-2.5/INSTALL.DPDK.md</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
				  </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023519760" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
					  <fo:basic-link external-destination="https://en.wikipedia.org/wiki/Data_Plane_Development_Kit" font-style="italic">Wikipedias definition of DPDK</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">46</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">46</fo:inline> <fo:basic-link external-destination="https://en.wikipedia.org/wiki/Data_Plane_Development_Kit">https://en.wikipedia.org/wiki/Data_Plane_Development_Kit</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
				  </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>DM-Multipath</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>DM-Multipath</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-inner-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block id="dm-multipath-chapter"><fo:block font-family="serif,Symbol"><fo:block margin-left="0pc"><fo:block font-size="24.8832pt" font-weight="bold"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0pc" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">Chapter5.DM-Multipath</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="device-mapper-multipathing"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Device Mapper Multipathing</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">1.Device Mapper Multipathing</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Device mapper multipathing (DM-Multipath) allows you to configure
    multiple I/O paths between server nodes and storage arrays into a single
    device. These I/O paths are physical SAN connections that can include
    separate cables, switches, and controllers. Multipathing aggregates the
    I/O paths, creating a new device that consists of the aggregated paths.
    This chapter provides a summary of the features of DM-Multipath that are
    new for the initial release of Ubuntu Server 12.04. Following that, this
    chapter provides a high-level overview of DM Multipath and its components,
    as well as an overview of DM-Multipath setup.</fo:block><fo:block id="multipath-new-and-changed-features"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">New and Changed Features for Ubuntu Server 12.04</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.1.New and Changed Features for Ubuntu Server 12.04</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Migrated from multipath-0.4.8 to multipath-0.4.9</fo:block><fo:block id="multipath-migration-from-previous-release"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.1.1.Migration from 0.4.8</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The priority checkers are no longer run as standalone binaries,
        but as shared libraries. The key value name for this feature has also
        slightly changed. Copy the attribute named <fo:inline font-weight="bold">prio_callout</fo:inline> to <fo:inline font-weight="bold">prio</fo:inline>, also modify the argument the name of the
        priority checker, a system path is no longer necessary. Example
        conversion:<fo:block id="idm45028024302560" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">device {
        vendor "NEC"
        product "DISK ARRAY"
        prio_callout mpath_prio_alua /dev/%n
        prio    alua
}</fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">See Table <fo:basic-link internal-destination="priority-checker-conversion-table"><fo:inline font-style="italic">Priority Checker
          Conversion</fo:inline></fo:basic-link><fo:basic-link internal-destination="priority-checker-conversion-table" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="priority-checker-conversion-table"/>]</fo:inline></fo:basic-link> for a complete listing</fo:block><fo:block id="priority-checker-conversion-table" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:block font-weight="bold" font-size="13.2pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" keep-with-next.within-column="always">Table5.1.Priority Checker
          Conversion</fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.5pt" border-end-width="0.5pt" border-top-width="0.5pt" border-bottom-width="0.5pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black" table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(2.0)"/><fo:table-column column-number="2" column-width="proportional-column-width(1.0)"/><fo:table-header xmlns:rx="http://www.renderx.com/XSL/Extensions" start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always"><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="center"><fo:block font-weight="bold">v0.4.8</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" text-align="center"><fo:block font-weight="bold">v0.4.9</fo:block></fo:table-cell></fo:table-row></fo:table-header><fo:table-body xmlns:rx="http://www.renderx.com/XSL/Extensions" start-indent="0pt" end-indent="0pt"><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black"><fo:block><fo:inline font-weight="bold">prio_callout mpath_prio_emc
                /dev/%n</fo:inline></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:block><fo:inline font-weight="bold">prio emc</fo:inline></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black"><fo:block><fo:inline font-weight="bold">prio_callout mpath_prio_alua
                /dev/%n</fo:inline></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:block><fo:inline font-weight="bold">prio alua</fo:inline></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black"><fo:block><fo:inline font-weight="bold">prio_callout mpath_prio_netapp
                /dev/%n</fo:inline></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:block><fo:inline font-weight="bold">prio netapp</fo:inline></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black"><fo:block><fo:inline font-weight="bold">prio_callout mpath_prio_rdac
                /dev/%n</fo:inline></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:block><fo:inline font-weight="bold">prio rdac</fo:inline></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black"><fo:block><fo:inline font-weight="bold">prio_callout mpath_prio_hp_sw
                /dev/%n</fo:inline></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:block><fo:inline font-weight="bold">prio hp_sw</fo:inline></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-end-width="0.5pt" border-end-style="solid" border-end-color="black"><fo:block><fo:inline font-weight="bold">prio_callout
                mpath_prio_hds_modular %b</fo:inline></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt"><fo:block><fo:inline font-weight="bold">prio hds</fo:inline></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Since the multipath config file parser essentially parses all
        key/value pairs it finds and then makes use of them, it is safe for
        both <fo:inline font-weight="bold">prio_callout</fo:inline> and <fo:inline font-weight="bold">prio</fo:inline> to coexist and is recommended that the
        <fo:inline font-weight="bold">prio</fo:inline> attribute be inserted before
        beginning migration. After which you can safely delete the legacy
        <fo:inline font-weight="bold">prio_calliout</fo:inline> attribute without
        interrupting service.</fo:block></fo:block></fo:block><fo:block id="multipath-overview"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Overview</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.2.Overview</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">DM-Multipath can be used to provide:</fo:block><fo:list-block id="idm45028023539952" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028023539664" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic"> Redundancy </fo:inline> DM-Multipath can provide
          failover in an active/passive configuration. In an active/passive
          configuration, only half the paths are used at any time for I/O. If
          any element of an I/O path (the cable, switch, or controller) fails,
          DM-Multipath switches to an alternate path.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023538176" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic"> Improved Performance </fo:inline> Performance
          DM-Multipath can be configured in active/active mode, where I/O is
          spread over the paths in a round-robin fashion. In some
          configurations, DM-Multipath can detect loading on the I/O paths and
          dynamically re-balance the load.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="multipath-storage-array-support"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Storage Array Overview</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.3.Storage Array Overview</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">By default, DM-Multipath includes support for the most common
      storage arrays that support DM-Multipath. The supported devices can be
      found in the multipath.conf.defaults file. If your storage array
      supports DM-Multipath and is not configured by default in this file, you
      may need to add them to the DM-Multipath configuration file,
      multipath.conf. For information on the DM-Multipath configuration file,
      see Section, <fo:basic-link internal-destination="multipath-dm-multipath-config-file"><fo:inline font-style="italic">The
      DM-Multipath Configuration File</fo:inline></fo:basic-link>. Some storage arrays require
      special handling of I/O errors and path switching. These require
      separate hardware handler kernel modules.</fo:block></fo:block><fo:block id="multipath-dm-multipath-components"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">DM-Multipath components</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.4.DM-Multipath components</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Table <fo:basic-link internal-destination="multipath-components-table"><fo:inline font-style="italic">DM-Multipath
      Components</fo:inline></fo:basic-link> describes the components of the DM-Multipath package.</fo:block><fo:block id="multipath-components-table" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:block font-weight="bold" font-size="13.2pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" keep-with-next.within-column="always">Table5.2.DM-Multipath Components</fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.5pt" border-end-width="0.5pt" border-top-width="0.5pt" border-bottom-width="0.5pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black" table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1.3)"/><fo:table-column column-number="2" column-width="proportional-column-width(3.6)"/><fo:table-header xmlns:rx="http://www.renderx.com/XSL/Extensions" start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always"><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block font-weight="bold">Component</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block font-weight="bold">Description</fo:block></fo:table-cell></fo:table-row></fo:table-header><fo:table-body xmlns:rx="http://www.renderx.com/XSL/Extensions" start-indent="0pt" end-indent="0pt"><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>
          <fo:inline font-weight="bold">dm_multipath kernel module</fo:inline>
        </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>Reroutes I/O and supports <fo:inline font-weight="bold">failover</fo:inline> for paths and path groups.</fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>
          <fo:inline font-weight="bold">multipath command</fo:inline>
        </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>Lists and configures <fo:inline font-weight="bold">multipath</fo:inline>
        devices. Normally started up with <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/rc.sysinit</fo:inline>, it can also be
        started up by a udev program whenever a block device is added or it
        can be run by the initramfs file system.</fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>
          <fo:inline font-weight="bold">multipathd daemon</fo:inline>
        </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>Monitors paths; as paths fail and come back, it may initiate
        path group switches. Provides for interactive changes to <fo:inline font-weight="bold">multipath</fo:inline> devices. This daemon must be restarted for
        any changes to the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/multipath.conf</fo:inline> file to take effect.</fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>
          <fo:inline font-weight="bold">kpartx command</fo:inline>
        </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" text-align="left"><fo:block>Creates device mapper devices for the partitions on a device It
        is necessary to use this command for DOS-based partitions with DM-Multipath.
        The kpartx is provided in its own package, but the <fo:inline font-weight="bold">multipath-tools</fo:inline> package depends on it.</fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:block><fo:block id="multipath-dm-multipath-setup-overview"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">DM-Multipath Setup Overview</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.5.DM-Multipath Setup Overview</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">DM-Multipath includes compiled-in default settings that are
      suitable for common multipath configurations. Setting up DM-multipath is
      often a simple procedure. The basic procedure for configuring your
      system with DM-Multipath is as follows: <fo:list-block id="idm45028024272224" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-distance-between-starts="1.2em" provisional-label-separation="0.2em"><fo:list-item id="idm45028024271312" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Install the <fo:inline font-weight="bold">multipath-tools</fo:inline>
            and <fo:inline font-weight="bold">multipath-tools-boot</fo:inline>
            packages</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024268976" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Create an empty config file, <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/multipath.conf</fo:inline>, that
            re-defines the <fo:basic-link internal-destination="multipath-skel-config"><fo:inline font-style="italic">following</fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024266688" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If necessary, edit the <fo:inline font-weight="bold">multipath.conf</fo:inline> configuration file to modify
            default values and save the updated file.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024265104" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block>4.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Start the multipath daemon</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024264192" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block>5.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Update initial ramdisk</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block> For detailed setup instructions for multipath
      configuration see Section, <fo:basic-link internal-destination="multipath-setup-overview"><fo:inline font-style="italic">Setting Up
      DM-Multipath</fo:inline></fo:basic-link>.</fo:block></fo:block></fo:block><fo:block id="multipath-devices"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Multipath Devices</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">2.Multipath Devices</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Without DM-Multipath, each path from a server node to a storage
    controller is treated by the system as a separate device, even when the
    I/O path connects the same server node to the same storage controller.
    DM-Multipath provides a way of organizing the I/O paths logically, by
    creating a single multipath device on top of the underlying
    devices.</fo:block><fo:block id="multipath-device-identifiers"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Multipath Device Identifiers</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.1.Multipath Device Identifiers</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Each multipath device has a World Wide Identifier (WWID), which is
      guaranteed to be globally unique and unchanging. By default, the name of
      a multipath device is set to its WWID. Alternately, you can set the
      <fo:inline font-weight="bold"><fo:basic-link internal-destination="attribute-user_friendly_names"><fo:inline font-style="italic">user_friendly_names</fo:inline></fo:basic-link>
      </fo:inline>option in the multipath configuration file, which causes
      DM-Multipath to use a node-unique alias of the form <fo:inline font-weight="bold">mpathn</fo:inline> as the name. For example, a node with two
      HBAs attached to a storage controller with two ports via a single
      unzoned FC switch sees four devices: <fo:inline font-weight="bold">/dev/sda</fo:inline>, <fo:inline font-weight="bold">/dev/sdb</fo:inline>, <fo:inline font-weight="bold">/dev/sdc</fo:inline>, and <fo:inline font-weight="bold">/dev/sdd</fo:inline>. DM-Multipath creates a single device
      with a unique WWID that reroutes I/O to those four underlying devices
      according to the multipath configuration. When the <fo:inline font-weight="bold"><fo:basic-link internal-destination="attribute-user_friendly_names"><fo:inline font-style="italic">user_friendly_names</fo:inline></fo:basic-link></fo:inline>
      configuration option is set to <fo:inline font-weight="bold">yes</fo:inline>, the
      name of the multipath device is set to <fo:inline font-weight="bold">mpathn</fo:inline>. When new devices are brought under the
      control of DM-Multipath, the new devices may be seen in two different
      places under the <fo:inline font-weight="bold">/dev</fo:inline> directory:
      <fo:inline font-weight="bold">/dev/mapper/mpathn</fo:inline> and <fo:inline font-weight="bold">/dev/dm-n</fo:inline>. <fo:list-block id="idm45028024135280" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028024134992" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The devices in <fo:inline font-weight="bold">/dev/mapper</fo:inline>
            are created early in the boot process. Use these devices to access
            the multipathed devices, for example when creating logical
            volumes.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024133216" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Any devices of the form <fo:inline font-weight="bold">/dev/dm-n</fo:inline> are for internal use only and
            should never be used.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block>For information on the multipath configuration
      defaults, including the <fo:inline font-weight="bold"><fo:basic-link internal-destination="attribute-user_friendly_names"><fo:inline font-style="italic">user_friendly_names</fo:inline></fo:basic-link></fo:inline>
      configuration option, see Section , <fo:basic-link internal-destination="multipath-config-defaults"><fo:inline font-style="italic">Configuration File
      Defaults</fo:inline></fo:basic-link>. You can also set the name of a multipath device to a
      name of your choosing by using the <fo:inline font-weight="bold"><fo:basic-link internal-destination="attribute-alias"><fo:inline font-style="italic">alias</fo:inline></fo:basic-link></fo:inline> option in the
      <fo:inline font-weight="bold">multipaths</fo:inline> section of the multipath
      configuration file. For information on the <fo:inline font-weight="bold">multipaths</fo:inline> section of the multipath configuration
      file, see Section, <fo:basic-link internal-destination="multipath-config-multipath"><fo:inline font-style="italic">Multipaths Device Configuration
      Attributes</fo:inline></fo:basic-link>.</fo:block></fo:block><fo:block id="multipath-device-names-in-cluster"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Consistent Multipath Device Names in a Cluster</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.2.Consistent Multipath Device Names in a Cluster</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">When the <fo:inline font-weight="bold">user_friendly_names</fo:inline>
      configuration option is set to yes, the name of the multipath device is
      unique to a node, but it is not guaranteed to be the same on all nodes
      using the multipath device. Similarly, if you set the <fo:inline font-weight="bold">alias</fo:inline> option for a device in the <fo:inline font-weight="bold">multipaths</fo:inline> section of the <fo:inline font-size="8.800000000000001pt" font-family="monospace">multipath.conf</fo:inline>
      configuration file, the name is not automatically consistent across all
      nodes in the cluster. This should not cause any difficulties if you use
      LVM to create logical devices from the multipath device, but if you
      require that your multipath device names be consistent in every node it
      is recommended that you leave the <fo:inline font-weight="bold">user_friendly_names</fo:inline> option set to <fo:inline font-weight="bold">no</fo:inline> and that you not configure aliases for the
      devices. By default, if you do not set <fo:inline font-weight="bold">user_friendly_names</fo:inline> to yes or configure an alias
      for a device, a device name will be the WWID for the device, which is
      always the same. If you want the system-defined user-friendly names to
      be consistent across all nodes in the cluster, however, you can follow
      this procedure:</fo:block><fo:list-block id="idm45028024118512" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-distance-between-starts="1.2em" provisional-label-separation="0.2em"><fo:list-item id="idm45028024117600" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Set up all of the multipath devices on one machine.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024116736" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Disable all of your multipath devices on your other machines
          by running the following commands:</fo:block><fo:block id="idm45028024115904" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"># systemctl stop multipath-tools.service
# multipath -F
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024114976" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Copy the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/multipath/bindings</fo:inline> file
          from the first machine to all the other machines in the
          cluster.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024113200" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block>4.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Re-enable the multipathd daemon on all the other machines in
          the cluster by running the following command:</fo:block><fo:block id="idm45028024112368" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"># systemctl start multipath-tools.service</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you add a new device, you will need to repeat this
      process.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Similarly, if you configure an alias for a device that you would
      like to be consistent across the nodes in the cluster, you should ensure
      that the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/multipath.conf</fo:inline> file is the same for
      each node in the cluster by following the same procedure:</fo:block><fo:list-block id="idm45028024109504" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-distance-between-starts="1.2em" provisional-label-separation="0.2em"><fo:list-item id="idm45028024108592" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Configure the aliases for the multipath devices in the in the
          <fo:inline font-size="8.800000000000001pt" font-family="monospace">multipath.conf</fo:inline> file on one machine.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024106928" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Disable all of your multipath devices on your other machines
          by running the following commands:</fo:block><fo:block id="idm45028024106096" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"># systemctl stop multipath-tools.service
# multipath -F
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024105168" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Copy the <fo:inline font-size="8.800000000000001pt" font-family="monospace">multipath.conf</fo:inline> file from the first machine to all
          the other machines in the cluster.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024103504" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block>4.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Re-enable the multipathd daemon on all the other machines in
          the cluster by running the following command:</fo:block><fo:block id="idm45028024102672" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"># systemctl start multipath-tools.service</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">When you add a new device you will need to repeat this
      process.</fo:block></fo:block><fo:block id="multipath-devices-attributes"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Multipath Device attributes</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.3.Multipath Device attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In addition to the <fo:inline font-weight="bold">user_friendly_names</fo:inline> and <fo:inline font-weight="bold">alias</fo:inline> options, a multipath device has numerous
      attributes. You can modify these attributes for a specific multipath
      device by creating an entry for that device in the <fo:inline font-weight="bold">multipaths</fo:inline> section of the <fo:inline font-weight="bold">multipath</fo:inline> configuration file. For information on
      the <fo:inline font-weight="bold">multipaths</fo:inline> section of the multipath
      configuration file, see Section, "<fo:basic-link internal-destination="multipath-config-multipath"><fo:inline font-style="italic">Configuration File Multipath
      Attributes</fo:inline></fo:basic-link>".</fo:block></fo:block><fo:block id="multipath-devices-in-logical-volumes"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Multipath Devices in Logical Volumes</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.4.Multipath Devices in Logical Volumes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">After creating multipath devices, you can use the multipath device
      names just as you would use a physical device name when creating an LVM
      physical volume. For example, if /dev/mapper/mpatha is the name of a
      multipath device, the following command will mark /dev/mapper/mpatha as
      a physical volume. <fo:block id="idm45028024093088" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"># pvcreate /dev/mapper/mpatha</fo:block> You
      can use the resulting LVM physical device when you create an LVM volume
      group just as you would use any other LVM physical device.</fo:block><fo:block id="idm45028024091984" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you attempt to create an LVM physical volume on a whole
        device on which you have configured partitions, the pvcreate command
        will fail.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">When you create an LVM logical volume that uses active/passive
      multipath arrays as the underlying physical devices, you should include
      filters in the <fo:inline font-weight="bold">lvm.conf</fo:inline> to exclude the
      disks that underlie the multipath devices. This is because if the array
      automatically changes the active path to the passive path when it
      receives I/O, multipath will failover and failback whenever LVM scans
      the passive path if these devices are not filtered. For active/passive
      arrays that require a command to make the passive path active, LVM
      prints a warning message when this occurs. To filter all SCSI devices in
      the LVM configuration file (lvm.conf), include the following filter in
      the devices section of the file. <fo:block id="idm45028024089216" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">filter = [ "r/block/", "r/disk/", "r/sd.*/", "a/.*/" ]</fo:block>After
      updating <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/lvm.conf</fo:inline>, it's necessary to update
      the <fo:inline font-weight="bold">initrd</fo:inline> so that this file will be
      copied there, where the filter matters the most, during boot.
      Perform:<fo:block id="idm45028024086816" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">update-initramfs -u -k all</fo:block><fo:block id="idm45028024086160" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Every time either <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/lvm.conf</fo:inline> or
          <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/multipath.conf</fo:inline> is updated, the initrd
          should be rebuilt to reflect these changes. This is imperative when
          blacklists and filters are necessary to maintain a stable storage
          configuration.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:block></fo:block><fo:block id="multipath-setting-up-dm-multipath"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Setting up DM-Multipath Overview</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">3.Setting up DM-Multipath Overview</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This section provides step-by-step example procedures for
    configuring DM-Multipath. It includes the following procedures:</fo:block><fo:list-block id="idm45028024081504" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028024081216" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Basic DM-Multipath setup</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024080304" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Ignoring local disks</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024079408" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Adding more devices to the configuration file</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block id="multipath-setup-overview"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Setting Up DM-Multipath</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.1.Setting Up DM-Multipath</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Before setting up DM-Multipath on your system, ensure that your system
      has been updated and includes the <fo:inline font-weight="bold">multipath-tools</fo:inline> package. If
      boot from SAN is desired, then the <fo:inline font-weight="bold">multipath-tools-boot</fo:inline> package
      is also required.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A basic <fo:inline font-weight="bold">/etc/multipath.conf </fo:inline> need
      not even exist, when <fo:inline font-weight="bold">multpath</fo:inline> is run
      without an accompanying <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/multipath.conf</fo:inline>, it
      draws from it's internal database to find a suitable configuration, it
      also draws from it's internal blacklist. If after running <fo:inline font-weight="bold">multipath -ll</fo:inline> without a config file, no
      multipaths are discovered. One must proceed to increase the verbosity to
      discover why a multipath was not created. Consider referencing the SAN
      vendor's documentation, the multipath example config files found in
      <fo:inline font-size="8.800000000000001pt" font-family="monospace">/usr/share/doc/multipath-tools/examples</fo:inline>, and the
      live multipathd database:<fo:block id="multipath-skel-config" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"># echo 'show config' | multipathd -k &gt; multipath.conf-live</fo:block><fo:block id="idm45028024069040" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To work around a quirk in multipathd, when an
          <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/multipath.conf</fo:inline> doesn't exist, the previous
          command will return nothing, as it is the result of a
          <fo:inline font-style="italic">merge</fo:inline> between the
          <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/multipath.conf</fo:inline> and the database in memory.
          To remedy this, either define an empty
          <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/multipath.conf</fo:inline>, by using <fo:inline font-weight="bold">touch</fo:inline>, or create one that redefines a default
          value like:<fo:block id="idm45028024064800" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">defaults {
        user_friendly_names no
}
</fo:block>and restart multipathd:<fo:block id="idm45028024064032" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"># systemctl restart multipath-tools.service</fo:block>Now
          the "show config" command will return the live database.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:block><fo:block id="idm45028022730896"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installing with Multipath Support</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.2.Installing with Multipath Support</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To enable <fo:basic-link external-destination="http://wiki.debian.org/DebianInstaller/MultipathSupport" font-style="italic">multipath
      support during installation</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline> <fo:basic-link external-destination="http://wiki.debian.org/DebianInstaller/MultipathSupport">http://wiki.debian.org/DebianInstaller/MultipathSupport</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> use<fo:block id="idm45028022729376" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">install disk-detect/multipath/enable=true</fo:block>at
      the installer prompt. If multipath devices are found these will show up
      as <fo:inline font-weight="bold">/dev/mapper/mpath&lt;X&gt;</fo:inline> during
      installation.</fo:block></fo:block><fo:block id="multipath-ignore-local-disks"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Ignoring Local Disks When Generating Multipath Devices</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.3.Ignoring Local Disks When Generating Multipath Devices</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Some machines have local SCSI cards for their internal disks.
      DM-Multipath is not recommended for these devices. The following
      procedure shows how to modify the multipath configuration file to ignore
      the local disks when configuring multipath.</fo:block><fo:list-block id="idm45028022726224" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-distance-between-starts="1.2em" provisional-label-separation="0.2em"><fo:list-item id="idm45028022725488" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Determine which disks are the internal disks and mark them as
          the ones to blacklist. In this example, <fo:inline font-weight="bold"><fo:inline font-size="8.800000000000001pt" font-family="monospace">/dev/sda</fo:inline></fo:inline> is the internal
          disk. Note that as originally configured in the default multipath
          configuration file, executing the <fo:inline font-weight="bold">multipath
          -v2</fo:inline> shows the local disk, <fo:inline font-weight="bold">/dev/sda</fo:inline>, in the multipath map. For further
          information on the <fo:inline font-weight="bold">multipath</fo:inline>
          command output, see Section <fo:basic-link internal-destination="multipath-command-output"><fo:inline font-style="italic">Multipath Command
          Output</fo:inline></fo:basic-link>.</fo:block><fo:block id="idm45028022721072" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
# multipath -v2
create: SIBM-ESXSST336732LC____F3ET0EP0Q000072428BX1 undef WINSYS,SF2372
size=33 GB features="0" hwhandler="0" wp=undef
`-+- policy='round-robin 0' prio=1 status=undef
  |- 0:0:0:0 sda 8:0  [--------- 

device-mapper ioctl cmd 9 failed: Invalid argument
device-mapper ioctl cmd 14 failed: No such device or address
create: 3600a0b80001327d80000006d43621677 undef WINSYS,SF2372
size=12G features='0' hwhandler='0' wp=undef
`-+- policy='round-robin 0' prio=1 status=undef
  |- 2:0:0:0 sdb 8:16  undef ready  running
    `- 3:0:0:0 sdf 8:80 undef ready  running

create: 3600a0b80001327510000009a436215ec undef WINSYS,SF2372
size=12G features='0' hwhandler='0' wp=undef
`-+- policy='round-robin 0' prio=1 status=undef
  |- 2:0:0:1 sdc 8:32 undef ready  running
    `- 3:0:0:1 sdg 8:96 undef ready  running

create: 3600a0b80001327d800000070436216b3 undef WINSYS,SF2372
size=12G features='0' hwhandler='0' wp=undef
`-+- policy='round-robin 0' prio=1 status=undef
  |- 2:0:0:2 sdd 8:48 undef ready  running
    `- 3:0:0:2 sdg 8:112 undef ready  running

create: 3600a0b80001327510000009b4362163e undef WINSYS,SF2372
size=12G features='0' hwhandler='0' wp=undef
`-+- policy='round-robin 0' prio=1 status=undef
  |- 2:0:0:3 sdd 8:64 undef ready  running
    `- 3:0:0:3 sdg 8:128 undef ready  running
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022718992" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In order to prevent the device mapper from mapping <fo:inline font-weight="bold">/dev/sda</fo:inline> in its multipath maps, edit the
          blacklist section of the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/multipath.conf</fo:inline> file to include this
          device. Although you could blacklist the <fo:inline font-weight="bold">sda</fo:inline> device using a <fo:inline font-weight="bold">devnode</fo:inline> type, that would not be safe
          procedure since <fo:inline font-weight="bold">/dev/sda</fo:inline> is not
          guaranteed to be the same on reboot. To blacklist individual
          devices, you can blacklist using the WWID of that device. Note that
          in the output to the <fo:inline font-weight="bold">multipath -v2</fo:inline>
          command, the WWID of the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/dev/sda</fo:inline> device is
          SIBM-ESXSST336732LC____F3ET0EP0Q000072428BX1. To blacklist this
          device, include the following in the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/multipath.conf</fo:inline>
          file.</fo:block><fo:block id="idm45028022713008" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
blacklist {
      wwid SIBM-ESXSST336732LC____F3ET0EP0Q000072428BX1
}
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022712256" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">After you have updated the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/multipath.conf</fo:inline> file, you
          must manually tell the <fo:inline font-weight="bold">multipathd</fo:inline>
          daemon to reload the file. The following command reloads the updated
          <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/multipath.conf</fo:inline> file.</fo:block><fo:block id="idm45028022709632" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"># systemctl reload multipath-tools.service</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022708880" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block>4.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Run the following command to remove the multipath
          device:</fo:block><fo:block id="idm45028022708240" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
# multipath -f SIBM-ESXSST336732LC____F3ET0EP0Q000072428BX1
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022707488" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block>5.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To check whether the device removal worked, you can run the
          <fo:inline font-weight="bold">multipath -ll</fo:inline> command to display the current
          multipath configuration. For information on the <fo:inline font-weight="bold">multipath
          -ll</fo:inline> command, see Section <fo:basic-link internal-destination="multipath-queries-and-commands"><fo:inline font-style="italic">Multipath Queries with
          multipath Command</fo:inline></fo:basic-link>. To check that the blacklisted device was
          not added back, you can run the multipath command, as in the
          following example. The multipath command defaults to a verbosity
          level of <fo:inline font-weight="bold">v2</fo:inline> if you do not specify a
          <fo:inline font-weight="bold">-v</fo:inline> option.</fo:block><fo:block id="idm45028022703392" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
# multipath

create: 3600a0b80001327d80000006d43621677 undef WINSYS,SF2372
size=12G features='0' hwhandler='0' wp=undef
`-+- policy='round-robin 0' prio=1 status=undef
  |- 2:0:0:0 sdb 8:16  undef ready  running
    `- 3:0:0:0 sdf 8:80 undef ready  running

create: 3600a0b80001327510000009a436215ec undef WINSYS,SF2372
size=12G features='0' hwhandler='0' wp=undef
`-+- policy='round-robin 0' prio=1 status=undef
  |- 2:0:0:1 sdc 8:32 undef ready  running
    `- 3:0:0:1 sdg 8:96 undef ready  running

create: 3600a0b80001327d800000070436216b3 undef WINSYS,SF2372
size=12G features='0' hwhandler='0' wp=undef
`-+- policy='round-robin 0' prio=1 status=undef
  |- 2:0:0:2 sdd 8:48 undef ready  running
    `- 3:0:0:2 sdg 8:112 undef ready  running

create: 3600a0b80001327510000009b4362163e undef WINSYS,SF2372
size=12G features='0' hwhandler='0' wp=undef
`-+- policy='round-robin 0' prio=1 status=undef
  |- 2:0:0:3 sdd 8:64 undef ready  running
    `- 3:0:0:3 sdg 8:128 undef ready  running
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="multipath-config-storage-devices"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuring Storage Devices</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.4.Configuring Storage Devices</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">By default, DM-Multipath includes support for the most common
      storage arrays that support DM-Multipath. The default configuration
      values, including supported devices, can be found in the
      <fo:inline font-size="8.800000000000001pt" font-family="monospace">multipath.conf.defaults</fo:inline> file.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you need to add a storage device that is not supported by
      default as a known multipath device, edit the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/multipath.conf</fo:inline> file
      and insert the appropriate device information.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For example, to add information about the HP Open-V series the
      entry looks like this, where <fo:inline font-weight="bold">%n</fo:inline> is the
      device name:</fo:block><fo:block id="idm45028022697008" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">devices {
     device {
            vendor "HP"
            product "OPEN-V."
            getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
     }
}
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For more information on the devices section of the configuration
      file, see Section <fo:basic-link internal-destination="multipath-config-device"><fo:inline font-style="italic">Configuration File Devices</fo:inline></fo:basic-link><fo:basic-link internal-destination="multipath-config-device" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="multipath-config-device"/>]</fo:inline></fo:basic-link>.</fo:block></fo:block></fo:block><fo:block id="multipath-dm-multipath-config-file"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">The DM-Multipath Configuration File</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">4.The DM-Multipath Configuration File</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">By default, DM-Multipath provides configuration values for the most
    common uses of multipathing. In addition, DM-Multipath includes support
    for the most common storage arrays that support DM-Multipath. The default
    configuration values and the supported devices can be found in the
    <fo:inline font-size="8.800000000000001pt" font-family="monospace">multipath.conf.defaults</fo:inline> file.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can override the default configuration values for DM-Multipath
    by editing the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/multipath.conf</fo:inline> configuration file. If necessary, you
    can also add a storage array that is not supported by default to the
    configuration file. This chapter provides information on parsing and
    modifying the <fo:inline font-size="8.800000000000001pt" font-family="monospace">multipath.conf</fo:inline> file. It contains sections on the following
    topics: <fo:list-block id="idm45028022690688" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028022690432" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link internal-destination="multipath-config-overview"><fo:inline font-style="italic">Configuration File Overview</fo:inline></fo:basic-link><fo:basic-link internal-destination="multipath-config-overview" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="multipath-config-overview"/>]</fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022689184" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link internal-destination="multipath-config-blacklist"><fo:inline font-style="italic">Configuration File Blacklist</fo:inline></fo:basic-link><fo:basic-link internal-destination="multipath-config-blacklist" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="multipath-config-blacklist"/>]</fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022687936" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link internal-destination="multipath-config-defaults"><fo:inline font-style="italic">Configuration File Defaults</fo:inline></fo:basic-link><fo:basic-link internal-destination="multipath-config-defaults" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="multipath-config-defaults"/>]</fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022686688" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link internal-destination="multipath-config-multipath"><fo:inline font-style="italic">Configuration File Multipath
      Attributes</fo:inline></fo:basic-link><fo:basic-link internal-destination="multipath-config-multipath" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="multipath-config-multipath"/>]</fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022685440" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link internal-destination="multipath-config-device"><fo:inline font-style="italic">Configuration File Devices</fo:inline></fo:basic-link><fo:basic-link internal-destination="multipath-config-device" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="multipath-config-device"/>]</fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In the multipath configuration file, you need to specify only the
    sections that you need for your configuration, or that you wish to change
    from the default values specified in the
    <fo:inline font-size="8.800000000000001pt" font-family="monospace">multipath.conf.defaults</fo:inline> file. If there are sections
    of the file that are not relevant to your environment or for which you do
    not need to override the default values, you can leave them commented out,
    as they are in the initial file.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The configuration file allows regular expression description
    syntax.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">An annotated version of the configuration file can be found in
    <fo:inline font-size="8.800000000000001pt" font-family="monospace"><fo:inline font-size="8.800000000000001pt" font-family="monospace">/usr/share/doc/multipath-tools/examples/multipath.conf.annotated.gz</fo:inline></fo:inline>.</fo:block><fo:block id="multipath-config-overview"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration File Overview</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.1.Configuration File Overview</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The multipath configuration file is divided into the following
      sections:</fo:block><fo:block id="idm45028022679152" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em"><fo:block id="idm45028022678896" keep-together.within-column="always" keep-with-next.within-column="always" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:inline><fo:inline font-weight="bold">blacklist</fo:inline></fo:inline></fo:block><fo:block margin-left="0.25in"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Listing of specific devices that will not be considered for
            multipath.</fo:block></fo:block><fo:block id="idm45028022676896" keep-together.within-column="always" keep-with-next.within-column="always" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:inline><fo:inline font-weight="bold">blacklist_exceptions</fo:inline></fo:inline></fo:block><fo:block margin-left="0.25in"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Listing of multipath candidates that would otherwise be
            blacklisted according to the parameters of the blacklist
            section.</fo:block></fo:block><fo:block id="idm45028022674832" keep-together.within-column="always" keep-with-next.within-column="always" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:inline><fo:inline font-weight="bold">defaults</fo:inline></fo:inline></fo:block><fo:block margin-left="0.25in"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">General default settings for DM-Multipath.</fo:block></fo:block><fo:block id="idm45028022672928" keep-together.within-column="always" keep-with-next.within-column="always" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:inline><fo:inline font-weight="bold">multipath</fo:inline></fo:inline></fo:block><fo:block margin-left="0.25in"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Settings for the characteristics of individual multipath
            devices. These values overwrite what is specified in the <fo:inline font-weight="bold">defaults</fo:inline> and <fo:inline font-weight="bold">devices</fo:inline> sections of the configuration
            file.</fo:block></fo:block><fo:block id="idm45028022669632" keep-together.within-column="always" keep-with-next.within-column="always" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:inline><fo:inline font-weight="bold">devices</fo:inline></fo:inline></fo:block><fo:block margin-left="0.25in"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Settings for the individual storage controllers. These
            values overwrite what is specified in the <fo:inline font-weight="bold">defaults</fo:inline> section of the configuration file.
            If you are using a storage array that is not supported by default,
            you may need to create a devices subsection for your array.</fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">When the system determines the attributes of a multipath device,
      first it checks the multipath settings, then the per devices settings,
      then the multipath system defaults.</fo:block></fo:block><fo:block id="multipath-config-blacklist"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration File Blacklist</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.2.Configuration File Blacklist</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The blacklist section of the multipath configuration file
      specifies the devices that will not be used when the system configures
      multipath devices. Devices that are blacklisted will not be grouped into
      a multipath device.</fo:block><fo:list-block id="idm45028022664176" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028022663920" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you do need to blacklist devices, you can do so according
          to the following criteria:</fo:block><fo:list-block id="idm45028022663168" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028022662912" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">By WWID, as described <fo:basic-link internal-destination="multipath-config-blacklist-by-wwid"><fo:inline font-style="italic">Blacklisting By
        WWID</fo:inline></fo:basic-link><fo:basic-link internal-destination="multipath-config-blacklist-by-wwid" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="multipath-config-blacklist-by-wwid"/>]</fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022661536" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">By device name, as described in <fo:basic-link internal-destination="multipath-config-blacklist-by-device-name"><fo:inline font-style="italic">Blacklisting By
        Device Name</fo:inline></fo:basic-link><fo:basic-link internal-destination="multipath-config-blacklist-by-device-name" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="multipath-config-blacklist-by-device-name"/>]</fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022660160" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">By device type, as described in <fo:basic-link internal-destination="multipath-config-blacklist-by-device-type"><fo:inline font-style="italic">Blacklisting By
        Device Type</fo:inline></fo:basic-link><fo:basic-link internal-destination="multipath-config-blacklist-by-device-type" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="multipath-config-blacklist-by-device-type"/>]</fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">By default, a variety of device types are blacklisted, even
          after you comment out the initial blacklist section of the
          configuration file. For information, see <fo:basic-link internal-destination="multipath-config-blacklist-by-device-name"><fo:inline font-style="italic">Blacklisting By
        Device Name</fo:inline></fo:basic-link><fo:basic-link internal-destination="multipath-config-blacklist-by-device-name" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="multipath-config-blacklist-by-device-name"/>]</fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block id="multipath-config-blacklist-by-wwid"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.2.1.Blacklisting By
        WWID</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can specify individual devices to blacklist by their
        World-Wide IDentification with a <fo:inline font-weight="bold">wwid</fo:inline>
        entry in the <fo:inline font-weight="bold">blacklist</fo:inline> section of the
        configuration file.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The following example shows the lines in the configuration file
        that would blacklist a device with a WWID of 26353900f02796769.</fo:block><fo:block id="idm45028022653824" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
blacklist {
       wwid 26353900f02796769
}
</fo:block></fo:block><fo:block id="multipath-config-blacklist-by-device-name"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.2.2.Blacklisting By
        Device Name</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can blacklist device types by device name so that they will
        not be grouped into a multipath device by specifying a <fo:inline font-weight="bold">devnode</fo:inline> entry in the <fo:inline font-weight="bold">blacklist</fo:inline> section of the configuration
        file.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The following example shows the lines in the configuration file
        that would blacklist all SCSI devices, since it blacklists all sd*
        devices. <fo:block id="idm45028022649744" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
blacklist {
       devnode "^sd[a-z]"
}</fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can use a <fo:inline font-weight="bold">devnode</fo:inline> entry in
        the <fo:inline font-weight="bold">blacklist</fo:inline> section of the
        configuration file to specify individual devices to blacklist rather
        than all devices of a specific type. This is not recommended, however,
        since unless it is statically mapped by udev rules, there is no
        guarantee that a specific device will have the same name on reboot.
        For example, a device name could change from
        <fo:inline font-size="8.800000000000001pt" font-family="monospace">/dev/sda</fo:inline> to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/dev/sdb</fo:inline> on
        reboot.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">By default, the following <fo:inline font-weight="bold">devnode</fo:inline> entries are compiled in the default
        blacklist; the devices that these entries blacklist do not generally
        support DM-Multipath. To enable multipathing on any of these devices,
        you would need to specify them in the <fo:inline font-weight="bold">blacklist_exceptions</fo:inline> section of the
        configuration file, as described in <fo:basic-link internal-destination="multipath-config-blacklist-exceptions"><fo:inline font-style="italic">Blacklist
        Exceptions</fo:inline></fo:basic-link><fo:basic-link internal-destination="multipath-config-blacklist-exceptions" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="multipath-config-blacklist-exceptions"/>]</fo:inline></fo:basic-link> <fo:block id="idm45028022643344" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
blacklist {
       devnode "^(ram|raw|loop|fd|md|dm-|sr|scd|st)[0-9]*"
       devnode "^hd[a-z]"
}
</fo:block></fo:block></fo:block><fo:block id="multipath-config-blacklist-by-device-type"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.2.3.Blacklisting By
        Device Type</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can specify specific device types in the <fo:inline font-weight="bold">blacklist</fo:inline> section of the configuration file
        with a device section. The following example blacklists all IBM DS4200
        and HP devices. <fo:block id="idm45028022640320" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
blacklist {
       device {
               vendor  "IBM"
               product "3S42"       #DS4200 Product 10
       }
       device {
               vendor  "HP"
               product "*"
       }
}
</fo:block></fo:block></fo:block><fo:block id="multipath-config-blacklist-exceptions"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.2.4.Blacklist
        Exceptions</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can use the <fo:inline font-weight="bold">blacklist_exceptions</fo:inline> section of the
        configuration file to enable multipathing on devices that have been
        blacklisted by default.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For example, if you have a large number of devices and want to
        multipath only one of them (with the WWID of
        3600d0230000000000e13955cc3757803), instead of individually
        blacklisting each of the devices except the one you want, you could
        instead blacklist all of them, and then allow only the one you want by
        adding the following lines to the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/multipath.conf</fo:inline> file. <fo:block id="idm45028022635792" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
blacklist {
        wwid "*"
}

blacklist_exceptions {
        wwid "3600d0230000000000e13955cc3757803"
}
</fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">When specifying devices in the <fo:inline font-weight="bold">blacklist_exceptions</fo:inline> section of the
        configuration file, you must specify the exceptions in the same way
        they were specified in the <fo:inline font-weight="bold">blacklist</fo:inline>.
        For example, a WWID exception will not apply to devices specified by a
        <fo:inline font-weight="bold">devnode</fo:inline> blacklist entry, even if the
        blacklisted device is associated with that WWID. Similarly, devnode
        exceptions apply only to devnode entries, and device exceptions apply
        only to device entries.</fo:block></fo:block></fo:block><fo:block id="multipath-config-defaults"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration File Defaults</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.3.Configuration File Defaults</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/multipath.conf</fo:inline> configuration file includes a <fo:inline font-weight="bold">defaults</fo:inline> section that sets the <fo:inline font-weight="bold">user_friendly_names</fo:inline> parameter to <fo:inline font-weight="bold">yes</fo:inline>, as follows.</fo:block><fo:block id="idm45028022628048" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
defaults {
        user_friendly_names yes
}
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This overwrites the default value of the <fo:inline font-weight="bold">user_friendly_names</fo:inline> parameter.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The configuration file includes a template of configuration
      defaults. This section is commented out, as follows.</fo:block><fo:block id="idm45028022625904" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
#defaults {
#       udev_dir                /dev
#       polling_interval        5
#       selector                "round-robin 0"
#       path_grouping_policy    failover
#       getuid_callout          "/lib/dev/scsi_id --whitelisted --device=/dev/%n"
#	prio			const
#	path_checker		directio
#	rr_min_io		1000
#	rr_weight		uniform
#	failback		manual
#	no_path_retry		fail
#	user_friendly_names	no
#}
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To overwrite the default value for any of the configuration
      parameters, you can copy the relevant line from this template into the
      <fo:inline font-weight="bold">defaults</fo:inline> section and uncomment it. For
      example, to overwrite the <fo:inline font-weight="bold">path_grouping_policy</fo:inline> parameter so that it is
      <fo:inline font-weight="bold">multibus</fo:inline> rather than the default value
      of <fo:inline font-weight="bold">failover</fo:inline>, copy the appropriate line
      from the template to the initial <fo:inline font-weight="bold">defaults</fo:inline> section of the configuration file, and
      uncomment it, as follows.</fo:block><fo:block id="idm45028022621200" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
defaults {
        user_friendly_names     yes
        path_grouping_policy    multibus
}
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Table <fo:basic-link internal-destination="multipath-config-defaults-table"><fo:inline font-style="italic">Multipath Configuration
  Defaults</fo:inline></fo:basic-link><fo:basic-link internal-destination="multipath-config-defaults-table" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="multipath-config-defaults-table"/>]</fo:inline></fo:basic-link> describes the attributes
      that are set in the <fo:inline font-weight="bold">defaults</fo:inline> section of
      the <fo:inline font-size="8.800000000000001pt" font-family="monospace">multipath.conf</fo:inline> configuration file. These values
      are used by DM-Multipath unless they are overwritten by the attributes
      specified in the <fo:inline font-weight="bold">devices</fo:inline> and <fo:inline font-weight="bold">multipaths</fo:inline> sections of the <fo:inline font-size="8.800000000000001pt" font-family="monospace">multipath.conf</fo:inline>
      file.</fo:block><fo:block id="multipath-config-defaults-table" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:block font-weight="bold" font-size="13.2pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" keep-with-next.within-column="always">Table5.3.Multipath Configuration
  Defaults</fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.5pt" border-end-width="0.5pt" border-top-width="0.5pt" border-bottom-width="0.5pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black" table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1.0)"/><fo:table-column column-number="2" column-width="proportional-column-width(2.0)"/><fo:table-header xmlns:rx="http://www.renderx.com/XSL/Extensions" start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always"><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block font-weight="bold">Attribute</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block font-weight="bold">Description</fo:block></fo:table-cell></fo:table-row></fo:table-header><fo:table-body xmlns:rx="http://www.renderx.com/XSL/Extensions" start-indent="0pt" end-indent="0pt"><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left" id="attribute-polling-interval"><fo:block>
          <fo:inline font-weight="bold">polling_interval</fo:inline>
        </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>Specifies the interval between two path checks in seconds. For
        properly functioning paths, the interval between checks will gradually
        increase to (4 * <fo:inline font-weight="bold">polling_interval</fo:inline>).
        The default value is <fo:inline font-weight="bold">5</fo:inline>.</fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left" id="attribute-udev_dir"><fo:block>
          <fo:inline font-weight="bold">udev_dir</fo:inline>
        </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>The directory where udev device nodes are created. The default
        value is /dev.</fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left" id="attribute-multipath_dir"><fo:block>
          <fo:inline font-weight="bold">multipath_dir</fo:inline>
        </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>The directory where the dynamic shared objects are stored. The
        default value is system dependent, commonly
        <fo:inline font-size="8.800000000000001pt" font-family="monospace">/lib/multipath</fo:inline>.</fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left" id="attribute-verbosity"><fo:block>
          <fo:inline font-weight="bold">verbosity</fo:inline>
        </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>The default verbosity. Higher values increase the verbosity
        level. Valid levels are between 0 and 6. The default value is
        2.</fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left" id="attribute-path_selector"><fo:block>
          <fo:inline font-weight="bold">path_selector</fo:inline>
        </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>
          <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Specifies the default algorithm to use in determining what
          path to use for the next I/O operation. Possible values
          include:</fo:block>

          <fo:list-block id="idm45028022597296" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028022597040" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> <fo:inline font-weight="bold">round-robin 0</fo:inline>: Loop
              through every path in the path group, sending the same amount of
              I/O to each.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022595520" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> <fo:inline font-weight="bold">queue-length 0</fo:inline>: Send the
              next bunch of I/O down the path with the least number of
              outstanding I/O requests.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022593984" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> <fo:inline font-weight="bold">service-time 0</fo:inline>: Send the
              next bunch of I/O down the path with the shortest estimated
              service time, which is determined by dividing the total size of
              the outstanding I/O to each path by its relative
              throughput.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block>

          <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The default value is <fo:inline font-weight="bold">round-robin
          0</fo:inline>.</fo:block>
        </fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left" id="attribute-path_grouping_policy"><fo:block>
          <fo:inline font-weight="bold">path_grouping_policy</fo:inline>
        </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>
          <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Specifies the default path grouping policy to apply to
          unspecified multipaths. Possible values include:</fo:block>

          <fo:list-block id="idm45028022588656" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028022588400" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> <fo:inline font-weight="bold">failover</fo:inline> = 1 path per
              priority group</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022587008" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> <fo:inline font-weight="bold">multibus</fo:inline> = all valid
              paths in 1 priority group</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022585616" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> <fo:inline font-weight="bold">group_by_serial</fo:inline> = 1
              priority group per detected serial number</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022584224" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> <fo:inline font-weight="bold">group_by_prio</fo:inline> = 1
              priority group per path priority value</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022582832" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> <fo:inline font-weight="bold">group_by_node_name</fo:inline> = 1
              priority group per target node name.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block>

          <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The default value is <fo:inline font-weight="bold">failover.</fo:inline></fo:block>
        </fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left" id="attribute-getuid_callout"><fo:block>
          <fo:inline font-weight="bold">getuid_callout</fo:inline>
        </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>Specifies the default program and arguments to call out to
        obtain a unique path identifier. An absolute path is required.
        <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The default value is <fo:inline font-weight="bold">/lib/udev/scsi_id
        --whitelisted --device=/dev/%n.</fo:inline></fo:block></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left" id="attribute-prio"><fo:block>
          <fo:inline font-weight="bold">prio</fo:inline>
        </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>
          <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Specifies the default function to call to obtain a path
          priority value. For example, the ALUA bits in SPC-3 provide an
          exploitable prio value. Possible values include:</fo:block>

          <fo:list-block id="idm45028022574896" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028022574640" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> <fo:inline font-weight="bold">const</fo:inline>: Set a priority of
              1 to all paths.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022573248" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> <fo:inline font-weight="bold">emc</fo:inline>: Generate the path
              priority for EMC arrays.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022571856" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> <fo:inline font-weight="bold">alua</fo:inline>: Generate the path
              priority based on the SCSI-3 ALUA settings.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022570368" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> <fo:inline font-weight="bold">netapp</fo:inline>: Generate the path
              priority for NetApp arrays.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022568976" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> <fo:inline font-weight="bold">rdac</fo:inline>: Generate the path
              priority for LSI/Engenio RDAC controller.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022567488" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> <fo:inline font-weight="bold">hp_sw</fo:inline>: Generate the path
              priority for Compaq/HP controller in active/standby mode.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022565984" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> <fo:inline font-weight="bold">hds</fo:inline>: Generate the path
              priority for Hitachi HDS Modular storage arrays.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block>

          <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The default value is <fo:inline font-weight="bold">const</fo:inline>.</fo:block>
        </fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left" id="attribute-prio_args"><fo:block>
          <fo:inline font-weight="bold">prio_args</fo:inline>
        </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>
          <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The arguments string passed to the prio function Most prio
          functions do not need arguments. The datacore prioritizer need one.
          Example, <fo:inline font-weight="bold">"timeout=1000
          preferredsds=foo"</fo:inline>. The default value is (null) <fo:inline font-weight="bold">""</fo:inline>. </fo:block>
        </fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left" id="attribute-features"><fo:block>
          <fo:inline font-weight="bold">features</fo:inline>
        </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>The extra features of multipath devices. The only existing
        feature is <fo:inline font-weight="bold">queue_if_no_path</fo:inline>, which is
        the same as setting <fo:inline font-weight="bold">no_path_retry</fo:inline> to
        <fo:inline font-weight="bold">queue</fo:inline>. For information on issues that
        may arise when using this feature, see Section, <fo:basic-link internal-destination="multipath-issues-with-queue_if_no_path"><fo:inline font-style="italic">"Issues with queue_if_no_path feature"</fo:inline></fo:basic-link>.</fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left" id="attribute-path_checker"><fo:block>
          <fo:inline font-weight="bold">path_checker</fo:inline>
        </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>
          <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Specifies the default method used to determine the state of
          the paths. Possible values include:</fo:block>

          <fo:list-block id="idm45028022552288" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028022552032" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> <fo:inline font-weight="bold">readsector0</fo:inline>: Read the
              first sector of the device.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022550640" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> <fo:inline font-weight="bold">tur</fo:inline>: Issue a TEST UNIT
              READY to the device.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022549248" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> <fo:inline font-weight="bold">emc_clariion</fo:inline>: Query the
              EMC Clariion specific EVPD page 0xC0 to determine the
              path.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022547744" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> <fo:inline font-weight="bold">hp_sw</fo:inline>: Check the path
              state for HP storage arrays with Active/Standby firmware.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022546240" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> <fo:inline font-weight="bold">rdac</fo:inline>: Check the path
              status for LSI/Engenio RDAC storage controller.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022544752" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> <fo:inline font-weight="bold">directio</fo:inline>: Read the first
              sector with direct I/O.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block>

          <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The default value is <fo:inline font-weight="bold">directio</fo:inline>.</fo:block>
        </fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left" id="attribute-failback"><fo:block>
          <fo:inline font-weight="bold">failback</fo:inline>
        </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>
          <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Manages path group failback.</fo:block>

          <fo:list-block id="idm45028022539824" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028022539568" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A value of <fo:inline font-weight="bold">immediate</fo:inline>
              specifies immediate failback to the highest priority path group
              that contains active paths.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022538032" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A value of <fo:inline font-weight="bold">manual</fo:inline>
              specifies that there should not be immediate failback but that
              failback can happen only with operator intervention.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022536480" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A numeric value greater than zero specifies deferred
              failback, expressed in seconds.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block>

          <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The default value is <fo:inline font-weight="bold">manual</fo:inline>.</fo:block>
        </fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left" id="attribute-rr_min_io"><fo:block>
          <fo:inline font-weight="bold">rr_min_io</fo:inline>
        </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>Specifies the number of I/O requests to route to a path before
        switching to the next path in the current path group.<fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The default
        value is <fo:inline font-size="8.800000000000001pt" font-family="monospace">1000</fo:inline>.</fo:block></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left" id="attribute-rr_weight"><fo:block>
          <fo:inline font-weight="bold">rr_weight</fo:inline>
        </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>If set to <fo:inline font-weight="bold">priorities</fo:inline>, then
        instead of sending <fo:inline font-weight="bold">rr_min_io</fo:inline> requests
        to a path before calling <fo:inline font-weight="bold">path_selector</fo:inline> to choose the next path, the
        number of requests to send is determined by <fo:inline font-weight="bold">rr_min_io</fo:inline> times the path's priority, as
        determined by the prio function. If set to <fo:inline font-weight="bold">uniform</fo:inline>, all path weights are equal. <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The
        default value is <fo:inline font-weight="bold">uniform</fo:inline>.</fo:block></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left" id="attribute-no_path_retry"><fo:block>
          <fo:inline font-weight="bold">no_path_retry</fo:inline>
        </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>A numeric value for this attribute specifies the number of
        times the system should attempt to use a failed path before disabling
        queueing. A value of fail indicates <fo:inline font-weight="bold">immediate</fo:inline> failure, without queueing. A value of
        <fo:inline font-weight="bold">queue</fo:inline> indicates that queueing should
        not stop until the path is fixed. <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The default value is
        <fo:inline font-size="8.800000000000001pt" font-family="monospace">0</fo:inline>.</fo:block></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left" id="attribute-user_friendly_names"><fo:block>
          <fo:inline font-weight="bold">user_friendly_names</fo:inline>
        </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>If set to yes, specifies that the system should use the
	<fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/multipath/bindings</fo:inline> file to assign a
        persistent and unique <fo:inline font-weight="bold">alias</fo:inline> to the
        <fo:inline font-weight="bold">multipath</fo:inline>, in the form of mpathn. If
        set to no, specifies that the system should use the WWID as the
        <fo:inline font-weight="bold">alias</fo:inline> for the <fo:inline font-weight="bold">multipath</fo:inline>. In either case, what is specified
        here will be overridden by any device-specific aliases you specify in
        the multipaths section of the configuration file. <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The default
        value is <fo:inline font-weight="bold">no</fo:inline>.</fo:block></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left" id="attribute-queue_without_daemon"><fo:block>
          <fo:inline font-weight="bold">queue_without_daemon</fo:inline>
        </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>If set to no, the <fo:inline font-weight="bold">multipathd</fo:inline>
        daemon will disable queueing for all devices when it is shut down.
        <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The default value is <fo:inline font-weight="bold">yes</fo:inline>.</fo:block></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left" id="attribute-flush_on_last_del"><fo:block>
          <fo:inline font-weight="bold">flush_on_last_del</fo:inline>
        </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>If set to yes, then <fo:inline font-weight="bold">multipath</fo:inline>
        will disable queueing when the last path to a device has been deleted.
        <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The default value is <fo:inline font-weight="bold">no</fo:inline>.</fo:block></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left" id="attribute-max_fds"><fo:block>
          <fo:inline font-weight="bold">max_fds</fo:inline>
        </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>Sets the maximum number of open file descriptors that can be
        opened by <fo:inline font-weight="bold">multipath</fo:inline> and the <fo:inline font-weight="bold">multipathd</fo:inline> daemon. This is equivalent to the
        ulimit -n command. A value of max will set this to the system limit
        from <fo:inline font-size="8.800000000000001pt" font-family="monospace">/proc/sys/fs/nr_open</fo:inline>. If this is not set, the maximum number of
        open file descriptors is taken from the calling process; it is usually
        1024. To be safe, this should be set to the maximum number of paths
        plus 32, if that number is greater than 1024.</fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left" id="attribute-checker_timer"><fo:block>
          <fo:inline font-weight="bold">checker_timer</fo:inline>
        </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>The timeout to use for path checkers that issue SCSI commands
        with an explicit timeout, in seconds. <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The default value is taken
        from <fo:inline font-size="8.800000000000001pt" font-family="monospace">/sys/block/sdx/device/timeout</fo:inline>, which is
        <fo:inline font-size="8.800000000000001pt" font-family="monospace">30</fo:inline> seconds as of 12.04 LTS</fo:block></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left" id="attribute-fast_io_fail_tmo"><fo:block>
          <fo:inline font-weight="bold">fast_io_fail_tmo</fo:inline>
        </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>The number of seconds the SCSI layer will wait after a problem
        has been detected on an FC remote port before failing I/O to devices
        on that remote port. This value should be smaller than the value of
        dev_loss_tmo. Setting this to off will disable the timeout. <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The
        default value is determined by the OS.</fo:block></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left" id="attribute-dev_loss_tmo"><fo:block>
          <fo:inline font-weight="bold">dev_loss_tmo</fo:inline>
        </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" text-align="left"><fo:block>The number of seconds the SCSI layer will wait after a problem
        has been detected on an FC remote port before removing it from the
        system. Setting this to infinity will set this to 2147483647 seconds,
        or 68 years. The default value is determined by the OS.</fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:block><fo:block id="multipath-config-multipath"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration File Multipath
      Attributes</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.4.Configuration File Multipath
      Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Table <fo:basic-link internal-destination="multipath-attributes-table"><fo:inline font-style="italic">Multipath Attributes</fo:inline></fo:basic-link><fo:basic-link internal-destination="multipath-attributes-table" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="multipath-attributes-table"/>]</fo:inline></fo:basic-link> shows the attributes that you can
      set in the <fo:inline font-weight="bold">multipaths</fo:inline> section of the
      <fo:inline font-size="8.800000000000001pt" font-family="monospace">multipath.conf</fo:inline> configuration file for each specific
      multipath device. These attributes apply only to the one specified
      multipath. These defaults are used by DM-Multipath and override
      attributes set in the <fo:inline font-weight="bold">defaults</fo:inline> and
      <fo:inline font-weight="bold">devices</fo:inline> sections of the multipath.conf
      file.</fo:block><fo:block id="multipath-attributes-table" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:block font-weight="bold" font-size="13.2pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" keep-with-next.within-column="always">Table5.4.Multipath Attributes</fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.5pt" border-end-width="0.5pt" border-top-width="0.5pt" border-bottom-width="0.5pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black" table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1.3)"/><fo:table-column column-number="2" column-width="proportional-column-width(3.6)"/><fo:table-header xmlns:rx="http://www.renderx.com/XSL/Extensions" start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always"><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block font-weight="bold">Attribute</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block font-weight="bold">Description</fo:block></fo:table-cell></fo:table-row></fo:table-header><fo:table-body xmlns:rx="http://www.renderx.com/XSL/Extensions" start-indent="0pt" end-indent="0pt"><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left" id="attribute-wwid"><fo:block>
          <fo:inline font-weight="bold">wwid</fo:inline>
        </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>Specifies the WWID of the 
        <fo:inline font-weight="bold">multipath</fo:inline> device to which the 
        <fo:inline font-weight="bold">multipath</fo:inline> attributes apply. This parameter is mandatory for
        this section of the 
        <fo:inline font-size="8.800000000000001pt" font-family="monospace">multipath.conf</fo:inline> file.</fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left" id="attribute-alias"><fo:block>
          <fo:inline font-weight="bold">alias</fo:inline>
        </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" text-align="left"><fo:block>Specifies the symbolic name for the 
        <fo:inline font-weight="bold">multipath</fo:inline> device to which the 
        <fo:inline font-weight="bold">multipath</fo:inline> attributes apply. If you are using 
        <fo:inline font-weight="bold">user_friendly_names</fo:inline>, do not set this value to mpathn; this
        may conflict with an automatically assigned user friendly name and give you incorrect
        device node names.</fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In addition, the following parameters may be overridden in this
      <fo:inline font-weight="bold">multipath</fo:inline> section</fo:block><fo:list-block id="idm45028022474304" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028022474048" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link internal-destination="attribute-path_grouping_policy"><fo:inline font-style="italic">
          <fo:inline font-style="italic" font-size="8.800000000000001pt" font-family="monospace">path_grouping_policy</fo:inline> </fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022472288" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link internal-destination="attribute-path_selector"><fo:inline font-style="italic">
          <fo:inline font-style="italic" font-size="8.800000000000001pt" font-family="monospace">path_selector</fo:inline> </fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022470528" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link internal-destination="attribute-failback"><fo:inline font-style="italic">
          <fo:inline font-style="italic" font-size="8.800000000000001pt" font-family="monospace">failback</fo:inline> </fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022468768" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link internal-destination="attribute-prio"><fo:inline font-style="italic"> <fo:inline font-style="italic" font-size="8.800000000000001pt" font-family="monospace">prio</fo:inline>
          </fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022467008" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link internal-destination="attribute-prio_args"><fo:inline font-style="italic"><fo:inline font-style="italic" font-size="8.800000000000001pt" font-family="monospace">prio_args</fo:inline></fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022465504" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link internal-destination="attribute-no_path_retry"><fo:inline font-style="italic">
          <fo:inline font-style="italic" font-size="8.800000000000001pt" font-family="monospace">no_path_retry</fo:inline> </fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022463744" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link internal-destination="attribute-rr_min_io"><fo:inline font-style="italic">
          <fo:inline font-style="italic" font-size="8.800000000000001pt" font-family="monospace">rr_min_io</fo:inline> </fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022461984" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link internal-destination="attribute-rr_weight"><fo:inline font-style="italic">
          <fo:inline font-style="italic" font-size="8.800000000000001pt" font-family="monospace">rr_weight</fo:inline> </fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022460224" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link internal-destination="attribute-flush_on_last_del"><fo:inline font-style="italic">
          <fo:inline font-style="italic" font-size="8.800000000000001pt" font-family="monospace">flush_on_last_del</fo:inline> </fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The following example shows multipath attributes specified in the
      configuration file for two specific multipath devices. The first device
      has a WWID of 3600508b4000156d70001200000b0000 and a symbolic name of
      yellow.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The second multipath device in the example has a WWID of
      1DEC_____321816758474 and a symbolic name of red. In this example, the
      <fo:basic-link internal-destination="attribute-rr_weight"><fo:inline font-style="italic">rr_weight</fo:inline></fo:basic-link>
      attributes are set to priorities.</fo:block><fo:block id="idm45028022456288" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
multipaths {
       multipath {
              wwid                  3600508b4000156d70001200000b0000
              alias                 yellow
              path_grouping_policy  multibus
              path_selector         "round-robin 0"
              failback              manual
              rr_weight             priorities
              no_path_retry         5
       }
       multipath {
              wwid                  1DEC_____321816758474
              alias                 red
              rr_weight             priorities
        }
}
</fo:block></fo:block><fo:block id="multipath-config-device"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration File Devices</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.5.Configuration File Devices</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Table <fo:basic-link internal-destination="multipath-device-attributes-table"><fo:inline font-style="italic">Device Attributes</fo:inline></fo:basic-link><fo:basic-link internal-destination="multipath-device-attributes-table" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="multipath-device-attributes-table"/>]</fo:inline></fo:basic-link> shows the attributes that
      you can set for each individual storage device in the devices section of
      the multipath.conf configuration file. These attributes are used by
      DM-Multipath unless they are overwritten by the attributes specified in
      the <fo:inline font-weight="bold">multipaths</fo:inline> section of the
      <fo:inline font-size="8.800000000000001pt" font-family="monospace">multipath.conf</fo:inline> file for paths that contain the
      device. These attributes override the attributes set in the <fo:inline font-weight="bold">defaults</fo:inline> section of the
      <fo:inline font-size="8.800000000000001pt" font-family="monospace">multipath.conf</fo:inline> file.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Many devices that support multipathing are included by default in
      a multipath configuration. The values for the devices that are supported
      by default are listed in the
      <fo:inline font-size="8.800000000000001pt" font-family="monospace">multipath.conf.defaults</fo:inline> file. You probably will not
      need to modify the values for these devices, but if you do you can
      overwrite the default values by including an entry in the configuration
      file for the device that overwrites those values. You can copy the
      device configuration defaults from the
      <fo:inline font-size="8.800000000000001pt" font-family="monospace">multipath.conf.annotated.gz</fo:inline> or if you wish to have
      a brief config file, <fo:inline font-size="8.800000000000001pt" font-family="monospace">multipath.conf.synthetic</fo:inline> file
      for the device and override the values that you want to change.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To add a device to this section of the configuration file that is
      not configured automatically by default, you must set the <fo:inline font-weight="bold">vendor</fo:inline> and <fo:inline font-weight="bold">product</fo:inline> parameters. You can find these values by
      looking at <fo:inline font-weight="bold">/sys/block/device_name/device/vendor</fo:inline> and
      <fo:inline font-weight="bold">/sys/block/device_name/device/model</fo:inline>
      where device_name is the device to be multipathed, as in the following
      example:</fo:block><fo:block id="idm45028022443808" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
# cat /sys/block/sda/device/vendor
WINSYS  
# cat /sys/block/sda/device/model
SF2372
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The additional parameters to specify depend on your specific
      device. If the device is active/active, you will usually not need to set
      additional parameters. You may want to set <fo:basic-link internal-destination="attribute-path_grouping_policy"><fo:inline font-style="italic">path_grouping_policy</fo:inline></fo:basic-link> to
      <fo:inline font-weight="bold">multibus</fo:inline>. Other parameters you may need
      to set are <fo:basic-link internal-destination="attribute-no_path_retry"><fo:inline font-style="italic">no_path_retry</fo:inline></fo:basic-link>
      and <fo:basic-link internal-destination="attribute-rr_min_io"><fo:inline font-style="italic">rr_min_io</fo:inline></fo:basic-link>, as described
      in Table <fo:basic-link internal-destination="multipath-attributes-table"><fo:inline font-style="italic">Multipath Attributes</fo:inline></fo:basic-link><fo:basic-link internal-destination="multipath-attributes-table" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="multipath-attributes-table"/>]</fo:inline></fo:basic-link>.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If the device is active/passive, but it automatically switches
      paths with I/O to the passive path, you need to change the checker
      function to one that does not send I/O to the path to test if it is
      working (otherwise, your device will keep failing over). This almost
      always means that you set the <fo:basic-link internal-destination="attribute-path_checker"><fo:inline font-style="italic">path_checker</fo:inline></fo:basic-link> to <fo:inline font-weight="bold">tur</fo:inline>; this works for all SCSI devices that support
      the Test Unit Ready command, which most do.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If the device needs a special command to switch paths, then
      configuring this device for multipath requires a hardware handler kernel
      module. The current available hardware handler is emc. If this is not
      sufficient for your device, you may not be able to configure the device
      for multipath.</fo:block><fo:block id="multipath-device-attributes-table" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:block font-weight="bold" font-size="13.2pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" keep-with-next.within-column="always">Table5.5.Device Attributes</fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.5pt" border-end-width="0.5pt" border-top-width="0.5pt" border-bottom-width="0.5pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black" table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1.3)"/><fo:table-column column-number="2" column-width="proportional-column-width(3.6)"/><fo:table-header xmlns:rx="http://www.renderx.com/XSL/Extensions" start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always"><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block font-weight="bold">Attribute</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block font-weight="bold">Description</fo:block></fo:table-cell></fo:table-row></fo:table-header><fo:table-body xmlns:rx="http://www.renderx.com/XSL/Extensions" start-indent="0pt" end-indent="0pt"><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left" id="attribute-vendor"><fo:block>
          <fo:inline font-weight="bold">vendor</fo:inline>
        </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>Specifies the vendor name of the storage device to which the device attributes apply, for example <fo:inline font-weight="bold">COMPAQ</fo:inline>.</fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left" id="attribute-product"><fo:block>
          <fo:inline font-weight="bold">product</fo:inline>
        </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>Specifies the product name of the storage device to which the device attributes apply, for example <fo:inline font-weight="bold">HSV110 (C)COMPAQ</fo:inline>.</fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left" id="attribute-revision"><fo:block>
          <fo:inline font-weight="bold">revision</fo:inline>
        </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>Specifies the product revision identifier of the storage device.</fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left" id="attribute-product-blacklist"><fo:block>
          <fo:inline font-weight="bold">product_blacklist</fo:inline>
        </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>Specifies a regular expression used to blacklist devices by product.</fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left" id="attribute-hardware-handler"><fo:block>
          <fo:inline font-weight="bold">hardware_handler</fo:inline>
        </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" text-align="left"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Specifies a module that will be used to perform hardware specific actions when switching path groups or handling I/O errors. Possible values include:</fo:block>
<fo:list-block id="idm45028022418544" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028022418288" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-weight="bold">1 emc</fo:inline>: hardware handler for EMC storage arrays</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022417024" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-weight="bold">1 alua</fo:inline>: hardware handler for SCSI-3 ALUA arrays.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022415760" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
<fo:inline font-weight="bold">1 hp_sw</fo:inline>: hardware handler for Compaq/HP controllers.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022414496" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-weight="bold">1 rdac</fo:inline>: hardware handler for the LSI/Engenio RDAC controllers.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block>

</fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In addition, the following parameters may be overridden in this
      <fo:inline font-weight="bold">device</fo:inline> section</fo:block><fo:list-block id="idm45028022411328" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028022411072" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link internal-destination="attribute-path_grouping_policy"><fo:inline font-style="italic">
          <fo:inline font-style="italic" font-size="8.800000000000001pt" font-family="monospace">path_grouping_policy</fo:inline> </fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022409312" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link internal-destination="attribute-getuid_callout"><fo:inline font-style="italic">
          <fo:inline font-style="italic" font-size="8.800000000000001pt" font-family="monospace">getuid_callout</fo:inline> </fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022407552" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link internal-destination="attribute-path_selector"><fo:inline font-style="italic">
          <fo:inline font-style="italic" font-size="8.800000000000001pt" font-family="monospace">path_selector</fo:inline> </fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022405792" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link internal-destination="attribute-path_checker"><fo:inline font-style="italic">
          <fo:inline font-style="italic" font-size="8.800000000000001pt" font-family="monospace">path_checker</fo:inline> </fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022404032" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link internal-destination="attribute-features"><fo:inline font-style="italic">
          <fo:inline font-style="italic" font-size="8.800000000000001pt" font-family="monospace">features</fo:inline> </fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022402272" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link internal-destination="attribute-failback"><fo:inline font-style="italic">
          <fo:inline font-style="italic" font-size="8.800000000000001pt" font-family="monospace">failback</fo:inline> </fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022400512" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link internal-destination="attribute-prio"><fo:inline font-style="italic"> <fo:inline font-style="italic" font-size="8.800000000000001pt" font-family="monospace">prio</fo:inline>
          </fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022398752" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link internal-destination="attribute-prio_args"><fo:inline font-style="italic"><fo:inline font-style="italic" font-size="8.800000000000001pt" font-family="monospace">prio_args</fo:inline></fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022397248" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link internal-destination="attribute-no_path_retry"><fo:inline font-style="italic">
          <fo:inline font-style="italic" font-size="8.800000000000001pt" font-family="monospace">no_path_retry</fo:inline> </fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022395488" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link internal-destination="attribute-rr_min_io"><fo:inline font-style="italic">
          <fo:inline font-style="italic" font-size="8.800000000000001pt" font-family="monospace">rr_min_io</fo:inline> </fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022393728" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link internal-destination="attribute-rr_weight"><fo:inline font-style="italic">
          <fo:inline font-style="italic" font-size="8.800000000000001pt" font-family="monospace">rr_weight</fo:inline> </fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022391968" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link internal-destination="attribute-fast_io_fail_tmo"><fo:inline font-style="italic">
          <fo:inline font-style="italic" font-size="8.800000000000001pt" font-family="monospace">fast_io_fail_tmo</fo:inline> </fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022390208" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link internal-destination="attribute-dev_loss_tmo"><fo:inline font-style="italic">
          <fo:inline font-style="italic" font-size="8.800000000000001pt" font-family="monospace">dev_loss_tmo</fo:inline> </fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022388448" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link internal-destination="attribute-flush_on_last_del"><fo:inline font-style="italic">
          <fo:inline font-style="italic" font-size="8.800000000000001pt" font-family="monospace">flush_on_last_del</fo:inline> </fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block id="idm45028022386560" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Whenever a hardware_handler is specified, it is your
        responsibility to ensure that the appropriate kernel module is loaded
        to support the specified interface. These modules can be found in
        <fo:inline font-weight="bold"><fo:inline font-size="8.800000000000001pt" font-family="monospace">/lib/modules/`uname
        -r`/kernel/drivers/scsi/device_handler/ </fo:inline></fo:inline>. The
        requisite module should be integrated into the initrd to ensure the
        necessary discovery and failover-failback capacity is available during
        boot time. Example,<fo:block id="idm45028022384624" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"># echo scsi_dh_alua &gt;&gt; /etc/initramfs-tools/modules  ## append module to file
# update-initramfs -u -k all</fo:block></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The following example shows a device entry in the multipath
      configuration file.</fo:block><fo:block id="idm45028022383264" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
#devices {
#	device {
#		vendor			"COMPAQ  "
#		product			"MSA1000         "
#		path_grouping_policy	multibus
#		path_checker		tur
#		rr_weight		priorities
#	}
#}
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The spacing reserved in the <fo:inline font-weight="bold">vendor</fo:inline>, <fo:inline font-weight="bold">product</fo:inline>,
      and <fo:inline font-weight="bold">revision</fo:inline> fields are significant as
      multipath is performing a direct match against these attributes, whose
      format is defined by the SCSI specification, specifically the <fo:basic-link external-destination="http://en.wikipedia.org/wiki/SCSI_Inquiry_Command" font-style="italic">Standard
      INQUIRY</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline> <fo:basic-link external-destination="http://en.wikipedia.org/wiki/SCSI_Inquiry_Command">http://en.wikipedia.org/wiki/SCSI_Inquiry_Command</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> command. When quotes are used, the vendor, product, and
      revision fields will be interpreted strictly according to the spec.
      Regular expressions may be integrated into the quoted strings. Should a
      field be defined without the requisite spacing, multipath will copy the
      string into the properly sized buffer and pad with the appropriate
      number of spaces. The specification expects the entire field to be
      populated by printable characters or spaces, as seen in the example
      above</fo:block><fo:list-block id="idm45028022378864" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028022378608" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">vendor: 8 characters</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022377840" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">product: 16 characters</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022377072" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">revision: 4 characters</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To create a more robust configuration file, regular expressions
      can also be used. Operators include <fo:inline font-weight="bold">^ $ [ ] . * ?
      +</fo:inline>. Examples of functional regular expressions can be found by
      examining the live multipath database and <fo:inline font-size="8.800000000000001pt" font-family="monospace">multipath.conf
      </fo:inline>example files found in
      <fo:inline font-size="8.800000000000001pt" font-family="monospace">/usr/share/doc/multipath-tools/examples:</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:block id="idm45028022373664" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"># echo 'show config' | multipathd -k</fo:block></fo:block></fo:block></fo:block><fo:block id="multipath-admin-and-troubleshooting"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">DM-Multipath Administration and Troubleshooting</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">5.DM-Multipath Administration and Troubleshooting</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="multipath-resize-an-online-multipath-device"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Resizing an Online Multipath Device</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.1.Resizing an Online Multipath Device</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you need to resize an online multipath device, use the
      following procedure</fo:block><fo:block id="idm45028022370304" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:list-block provisional-distance-between-starts="2em" provisional-label-separation="0.2em" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em"><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028022370048">1.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Resize your physical device. This is storage platform
          specific.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028022368944">2.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Use the following command to find the paths to the LUN:</fo:block><fo:block id="idm45028022368064" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"># multipath -l</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028022367312">3.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Resize your paths. For SCSI devices, writing 1 to the
          <fo:inline font-size="8.800000000000001pt" font-family="monospace">rescan</fo:inline> file for the device causes the SCSI
          driver to rescan, as in the following command:</fo:block><fo:block id="idm45028022365696" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"># echo 1 &gt; /sys/block/device_name/device/rescan</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028022364944">4.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Resize your multipath device by running the multipathd resize
          command:</fo:block><fo:block id="idm45028022363968" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"># multipathd -k 'resize map mpatha'</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028022363216">5.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Resize the file system (assuming no LVM or DOS partitions are
          used):</fo:block><fo:block id="idm45028022362240" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"># resize2fs /dev/mapper/mpatha</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="multipath-moving-rootfs-from-single-path-to-multipath-device"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Moving root File Systems from a Single Path Device to a Multipath
      Device</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.2.Moving root File Systems from a Single Path Device to a Multipath
      Device</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This is dramatically simplified by the use of UUIDs to identify
      devices as an intrinsic label. Simply install <fo:inline font-weight="bold">multipath-tools-boot</fo:inline> and reboot. This will
      rebuild the initial ramdisk and afford multipath the opportunity to
      build it's paths before the root file system is mounted by UUID.</fo:block><fo:block id="idm45028022358944" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Whenever <fo:inline font-size="8.800000000000001pt" font-family="monospace">multipath.conf</fo:inline> is updated, so
        should the initrd by executing <fo:inline font-weight="bold">update-initramfs -u -k
        all</fo:inline>. The reason being is <fo:inline font-size="8.800000000000001pt" font-family="monospace">multipath.conf</fo:inline>
        is copied to the ramdisk and is integral to determining the available
        devices for grouping via it's blacklist and device sections.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="multipath-moving-swap-from-single-path-to-multipath-device"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Moving swap File Systems from a Single Path Device to a Multipath
      Device</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.3.Moving swap File Systems from a Single Path Device to a Multipath
      Device</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The procedure is exactly the same as illustrated in the previous
      section called <fo:basic-link internal-destination="multipath-moving-rootfs-from-single-path-to-multipath-device"><fo:inline font-style="italic">Moving
      root File Systems from a Single Path to a Multipath
      Device</fo:inline></fo:basic-link>.</fo:block></fo:block><fo:block id="multipath-daemon-multipathd"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">The Multipath Daemon</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.4.The Multipath Daemon</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you find you have trouble implementing a multipath
      configuration, you should ensure the multipath daemon is running as
      described in <fo:basic-link internal-destination="multipath-setting-up-dm-multipath"><fo:inline font-style="italic">"Setting
      up DM-Multipath"</fo:inline></fo:basic-link>. The <fo:inline font-weight="bold">multipathd</fo:inline> daemon must be running in
      order to use multipathd devices. Also see section <fo:basic-link internal-destination="multipath-interacting-with-multipathd"><fo:inline font-style="italic">Troubleshooting with the
      multipathd interactive console</fo:inline></fo:basic-link> concerning interacting with
      <fo:inline font-weight="bold">multipathd</fo:inline> as a debugging aid.</fo:block></fo:block><fo:block id="multipath-issues-with-queue_if_no_path"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Issues with queue_if_no_path</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.5.Issues with queue_if_no_path</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If <fo:inline font-weight="bold">features "1 queue_if_no_path"</fo:inline>
      is specified in the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/multipath.conf</fo:inline> file, then
      any process that uses I/O will hang until one or more paths are
      restored. To avoid this, set the <fo:inline font-weight="bold"><fo:basic-link internal-destination="attribute-no_path_retry"><fo:inline font-style="italic">no_path_retry</fo:inline></fo:basic-link> N</fo:inline>
      parameter in the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/multipath.conf</fo:inline>.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">When you set the <fo:inline font-weight="bold">no_path_retry</fo:inline>
      parameter, remove the <fo:inline font-weight="bold">features "1
      queue_if_no_path"</fo:inline> option from the
      <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/multipath.conf</fo:inline> file as well. If, however, you
      are using a multipathed device for which the <fo:inline font-size="8.800000000000001pt" font-family="monospace">features "1
      queue_if_no_path"</fo:inline> option is set as a compiled in default, as it
      is for many SAN devices, you must add <fo:inline font-size="8.800000000000001pt" font-family="monospace">features "0"</fo:inline> to
      override this default. You can do this by copying the existing <fo:inline font-weight="bold">devices</fo:inline> section, and just that section (not the
      entire file), from
      <fo:inline font-size="8.800000000000001pt" font-family="monospace">/usr/share/doc/multipath-tools/examples/multipath.conf.annotated.gz</fo:inline>
      into <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/multipath.conf</fo:inline> and editing to suit your
      needs.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you need to use the <fo:inline font-size="8.800000000000001pt" font-family="monospace">features "1
      queue_if_no_path"</fo:inline> option and you experience the issue noted
      here, use the <fo:inline font-weight="bold">dmsetup</fo:inline> command to edit the policy at
      runtime for a particular LUN (that is, for which all the paths are
      unavailable). For example, if you want to change the policy on the
      multipath device <fo:inline font-size="8.800000000000001pt" font-family="monospace">mpathc</fo:inline> from
      <fo:inline font-size="8.800000000000001pt" font-family="monospace">"queue_if_no_path"</fo:inline> to <fo:inline font-size="8.800000000000001pt" font-family="monospace">
      "fail_if_no_path"</fo:inline>, execute the following command.</fo:block><fo:block id="idm45028022334768" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"># dmsetup message mpathc 0 "fail_if_no_path"</fo:block><fo:block id="idm45028022334144" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You must specify the <fo:inline font-size="8.800000000000001pt" font-family="monospace">mpathN</fo:inline> alias rather
        than the path</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="multipath-command-output"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Multipath Command Output</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.6.Multipath Command Output</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">When you create, modify, or list a multipath device, you get a
      printout of the current device setup. The format is as follows. For each
      multipath device:</fo:block><fo:block id="idm45028022331184" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">   action_if_any: alias (wwid_if_different_from_alias) dm_device_name_if_known vendor,product
   size=size features='features' hwhandler='hardware_handler' wp=write_permission_if_known</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For each path group:</fo:block><fo:block id="idm45028022329968" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">  -+- policy='scheduling_policy' prio=prio_if_known
  status=path_group_status_if_known</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For each path:</fo:block><fo:block id="idm45028022328864" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">   `- host:channel:id:lun devnode major:minor dm_status_if_known path_status
  online_status</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For example, the output of a multipath command might appear as
      follows:</fo:block><fo:block id="idm45028022327648" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">  3600d0230000000000e13955cc3757800 dm-1 WINSYS,SF2372
  size=269G features='0' hwhandler='0' wp=rw
  |-+- policy='round-robin 0' prio=1 status=active
  | `- 6:0:0:0 sdb 8:16  active ready  running
  `-+- policy='round-robin 0' prio=1 status=enabled
    `- 7:0:0:0 sdf 8:80  active ready  running</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If the path is up and ready for I/O, the status of the path is
      <fo:inline font-weight="bold">ready</fo:inline> or <fo:inline font-style="italic">ghost</fo:inline>. If the path is down, the status is
      <fo:inline font-weight="bold">faulty</fo:inline> or <fo:inline font-weight="bold">shaky</fo:inline>. The path status is updated periodically by
      the <fo:inline font-weight="bold">multipathd</fo:inline> daemon based on the polling interval defined in the
      <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/multipath.conf</fo:inline> file.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The dm status is similar to the path status, but from the kernel's
      point of view. The dm status has two states: <fo:inline font-weight="bold">failed</fo:inline>, which is analogous to <fo:inline font-weight="bold">faulty</fo:inline>, and <fo:inline font-weight="bold">active</fo:inline> which covers all other path states.
      Occasionally, the path state and the dm state of a device will
      temporarily not agree.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The possible values for <fo:inline font-weight="bold">online_status</fo:inline> are <fo:inline font-weight="bold">running</fo:inline> and <fo:inline font-weight="bold">offline</fo:inline>. A status of <fo:inline font-style="italic">offline</fo:inline> means that the SCSI device has been
      disabled.</fo:block><fo:block id="idm45028022317168" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">When a multipath device is being created or modified , the path
        group status, the dm device name, the write permissions, and the dm
        status are not known. Also, the features are not always correct</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="multipath-queries-and-commands"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Multipath Queries with multipath Command</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.7.Multipath Queries with multipath Command</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can use the <fo:inline font-weight="bold">-l </fo:inline>and <fo:inline font-weight="bold">-ll</fo:inline> options of the <fo:inline font-weight="bold">multipath</fo:inline> command to display the current
      multipath configuration. The <fo:inline font-weight="bold">-l</fo:inline> option
      displays multipath topology gathered from information in sysfs and the
      device mapper. The <fo:inline font-weight="bold">-ll</fo:inline> option displays
      the information the <fo:inline font-weight="bold">-l</fo:inline> displays in
      addition to all other available components of the system.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">When displaying the multipath configuration, there are three
      verbosity levels you can specify with the <fo:inline font-weight="bold">-v</fo:inline> option of the multipath command. Specifying
      <fo:inline font-weight="bold">-v0</fo:inline> yields no output.
      Specifying<fo:inline font-weight="bold"> -v1</fo:inline> outputs the created or
      updated multipath names only, which you can then feed to other tools
      such as kpartx. Specifying <fo:inline font-weight="bold">-v2</fo:inline> prints
      all detected paths, multipaths, and device maps.</fo:block><fo:block id="idm45028022307664" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The default <fo:inline font-weight="bold">verbosity</fo:inline> level of
        multipath is <fo:inline font-weight="bold">2</fo:inline> and can be globally
        modified by defining the <fo:basic-link internal-destination="attribute-verbosity"><fo:inline font-style="italic">verbosity
        attribute</fo:inline></fo:basic-link> in the <fo:inline font-weight="bold">defaults</fo:inline>
        section of <fo:inline font-size="8.800000000000001pt" font-family="monospace">multipath.conf</fo:inline>.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The following example shows the output of a <fo:inline font-weight="bold">multipath -l</fo:inline> command.</fo:block><fo:block id="idm45028022302768" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"># multipath -l
  3600d0230000000000e13955cc3757800 dm-1 WINSYS,SF2372
  size=269G features='0' hwhandler='0' wp=rw
  |-+- policy='round-robin 0' prio=1 status=active
  | `- 6:0:0:0 sdb 8:16  active ready  running
  `-+- policy='round-robin 0' prio=1 status=enabled
    `- 7:0:0:0 sdf 8:80  active ready  running</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The following example shows the output of a <fo:inline font-weight="bold">multipath -ll</fo:inline> command.</fo:block><fo:block id="idm45028022300816" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"># multipath -ll
  3600d0230000000000e13955cc3757801 dm-10 WINSYS,SF2372
  size=269G features='0' hwhandler='0' wp=rw
  |-+- policy='round-robin 0' prio=1 status=enabled
  | `- 19:0:0:1 sdc 8:32  active ready  running
  `-+- policy='round-robin 0' prio=1 status=enabled
    `- 18:0:0:1 sdh 8:112 active ready  running
    3600d0230000000000e13955cc3757803 dm-2 WINSYS,SF2372
    size=125G features='0' hwhandler='0' wp=rw
    `-+- policy='round-robin 0' prio=1 status=active
      |- 19:0:0:3 sde 8:64  active ready  running
        `- 18:0:0:3 sdj 8:144 active ready  running</fo:block></fo:block><fo:block id="multipath-command-options"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Multipath Command Options</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.8.Multipath Command Options</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Table <fo:basic-link internal-destination="useful-multipath-command-options"><fo:inline font-style="italic">Useful multipath Command
        Options</fo:inline></fo:basic-link><fo:basic-link internal-destination="useful-multipath-command-options" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="useful-multipath-command-options"/>]</fo:inline></fo:basic-link> describes some options of the
      <fo:inline font-weight="bold">multipath</fo:inline> command that you might find
      useful.</fo:block><fo:block id="useful-multipath-command-options" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:block font-weight="bold" font-size="13.2pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" keep-with-next.within-column="always">Table5.6.Useful multipath Command
        Options</fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.5pt" border-end-width="0.5pt" border-top-width="0.5pt" border-bottom-width="0.5pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black" table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1.5)"/><fo:table-column column-number="2" column-width="proportional-column-width(3.6)"/><fo:table-header xmlns:rx="http://www.renderx.com/XSL/Extensions" start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always"><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block font-weight="bold">Option</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block font-weight="bold">Description</fo:block></fo:table-cell></fo:table-row></fo:table-header><fo:table-body xmlns:rx="http://www.renderx.com/XSL/Extensions" start-indent="0pt" end-indent="0pt"><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block><fo:inline font-weight="bold">-l</fo:inline></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:block>Display the current multipath configuration gathered from
              <fo:inline font-weight="bold">sysfs</fo:inline> and the device
              mapper.</fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block><fo:inline font-weight="bold">-ll</fo:inline></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:block>Display the current multipath configuration gathered from
              <fo:inline font-weight="bold">sysfs</fo:inline>, the device mapper, and
              all other available components on the system.</fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block><fo:inline font-weight="bold">-f device</fo:inline></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:block>Remove the named multipath device.</fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-end-width="0.5pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block><fo:inline font-weight="bold">-F</fo:inline></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt"><fo:block>Remove all unused multipath devices.</fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:block><fo:block id="device-mapper-entries-in-dmsetup"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Determining Device Mapper Entries with dmsetup Command</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.9.Determining Device Mapper Entries with dmsetup Command</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can use the <fo:inline font-weight="bold">dmsetup</fo:inline> command
      to find out which device mapper entries match the <fo:inline font-weight="bold">multipathed</fo:inline> devices.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The following command displays all the device mapper devices and
      their major and minor numbers. The minor numbers determine the name of
      the dm device. For example, a minor number of <fo:inline font-weight="bold">3</fo:inline> corresponds to the multipathed device <fo:inline font-weight="bold"><fo:inline font-size="8.800000000000001pt" font-family="monospace">/dev/dm-3</fo:inline></fo:inline>.</fo:block><fo:block id="idm45028022277680" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
# dmsetup ls
mpathd  (253, 4)
mpathep1        (253, 12)
mpathfp1        (253, 11)
mpathb  (253, 3)
mpathgp1        (253, 14)
mpathhp1        (253, 13)
mpatha  (253, 2)
mpathh  (253, 9)
mpathg  (253, 8)
VolGroup00-LogVol01     (253, 1)
mpathf  (253, 7)
VolGroup00-LogVol00     (253, 0)
mpathe  (253, 6)
mpathbp1        (253, 10)
mpathd  (253, 5)
  </fo:block></fo:block><fo:block id="multipath-interacting-with-multipathd"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Troubleshooting with the multipathd interactive console</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.10.Troubleshooting with the multipathd interactive console</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The <fo:inline font-weight="bold">multipathd -k</fo:inline> command is an
      interactive interface to the <fo:inline font-weight="bold">multipathd</fo:inline>
      daemon. Entering this command brings up an interactive multipath
      console. After entering this command, you can enter help to get a list
      of available commands, you can enter a interactive command, or you can
      enter <fo:inline font-weight="bold">CTRL-D</fo:inline> to quit.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The multipathd interactive console can be used to troubleshoot
      problems you may be having with your system. For example, the following
      command sequence displays the multipath configuration, including the
      defaults, before exiting the console. See the IBM article <fo:basic-link external-destination="http://www-01.ibm.com/support/docview.wss?uid=isg3T1011985" font-style="italic">"Tricks
      with Multipathd"</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline> <fo:basic-link external-destination="http://www-01.ibm.com/support/docview.wss?uid=isg3T1011985">http://www-01.ibm.com/support/docview.wss?uid=isg3T1011985</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> for more examples.</fo:block><fo:block id="idm45028022271856" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"># multipathd -k
  &gt; &gt; show config
  &gt; &gt; CTRL-D</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The following command sequence ensures that multipath has picked
      up any changes to the multipath.conf,</fo:block><fo:block id="idm45028022270720" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
# multipathd -k
&gt; &gt; reconfigure
&gt; &gt; CTRL-D
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Use the following command sequence to ensure that the path checker
      is working properly.</fo:block><fo:block id="idm45028022269600" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
# multipathd -k
&gt; &gt; show paths
&gt; &gt; CTRL-D
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Commands can also be streamed into multipathd using stdin like
      so:<fo:block id="idm45028022268624" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"># echo 'show config' | multipathd -k</fo:block></fo:block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Remote Administration</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Remote Administration</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-inner-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block id="remote-administration"><fo:block font-family="serif,Symbol"><fo:block margin-left="0pc"><fo:block font-size="24.8832pt" font-weight="bold"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0pc" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">Chapter6.Remote Administration</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	There are many ways to remotely administer a Linux server.  This chapter will cover three of the most popular applications OpenSSH, Puppet, and Zentyal.
  	</fo:block><fo:block id="openssh-server"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">OpenSSH Server</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">1.OpenSSH Server</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="openssh-introduction"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Introduction</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.1.Introduction</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            This section of the Ubuntu Server Guide introduces a powerful collection of tools
            for the remote control of, and transfer of data between, networked computers called <fo:inline font-style="italic">OpenSSH</fo:inline>. You will also learn
            about some of the configuration settings possible with the OpenSSH server application and how to change them on your Ubuntu system.
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            OpenSSH is a freely available version of the Secure Shell (SSH) protocol family of
            tools for remotely controlling, or transferring files between, computers.
            Traditional tools used to accomplish these functions, such as
	    telnet or rcp, are insecure
	    and transmit the user's password in cleartext when used. OpenSSH provides a server
	    daemon and client tools to facilitate secure, encrypted remote control and file
	    transfer operations, effectively replacing the legacy tools.
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            The OpenSSH server component, sshd, listens
	    continuously for client connections from any of the client tools. When a connection
	    request occurs, sshd sets up the correct connection
	    depending on the type of client tool connecting. For example, if the remote
	    computer is connecting with the ssh client application,
	    the OpenSSH server sets up a remote control session after authentication. If a
	    remote user connects to an OpenSSH server with scp, the
	    OpenSSH server daemon initiates a secure copy of files between the server and
	    client after authentication. OpenSSH can use many authentication methods, including             plain password, public key, and Kerberos tickets.
            </fo:block></fo:block><fo:block id="openssh-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.2.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Installation of the OpenSSH client and server applications is simple. To install the
	OpenSSH client applications on your Ubuntu system, use this command at a terminal
	prompt:
        </fo:block><fo:block id="idm45028029586256" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install openssh-client</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        To install the OpenSSH server application, and related support files, use this command
	at a terminal prompt:
        </fo:block><fo:block id="idm45028026198688" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install openssh-server</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	The openssh-server package can also be selected to
	install during the Server Edition installation process.
	</fo:block></fo:block><fo:block id="openssh-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.3.Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          You may configure the default behavior of the OpenSSH server application,
	  sshd, by editing the file
	  <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ssh/sshd_config</fo:inline>. For information about the configuration
	  directives used in this file, you may view the appropriate manual page with the
	  following command, issued at a terminal prompt:
          </fo:block><fo:block id="idm45028026091632" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">man sshd_config</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            There are many directives in the sshd configuration
	    file controlling such things as communication settings, and authentication modes.
	    The following are examples of configuration directives that can be changed by
	    editing the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ssh/sshd_config</fo:inline> file.
            </fo:block><fo:block id="idm45028026523856" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/tip.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Prior to editing the configuration file, you should make a copy of the
		original file and protect it from writing so you will have the original
		settings as a reference and to reuse as necessary.
                </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Copy the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ssh/sshd_config</fo:inline> file and protect it
		from writing with the following commands, issued at a terminal prompt:
                </fo:block><fo:block id="idm45028025067936" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo cp /etc/ssh/sshd_config /etc/ssh/sshd_config.original</fo:inline>
<fo:inline font-weight="bold">sudo chmod a-w /etc/ssh/sshd_config.original</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            The following are examples of configuration directives you may change:
            </fo:block><fo:list-block id="idm45028028510256" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028027134896" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
               To set your OpenSSH to listen on TCP port 2222 instead of the default TCP port
	       22, change the Port directive as such:
               </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
               Port 2222
               </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028028011824" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            To have sshd allow public key-based login credentials,
	    simply add or modify the line:
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
               PubkeyAuthentication yes
               </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            If the line is already present, then ensure it is not commented out.
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029874768" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
             To make your OpenSSH server display the contents of the
	     <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/issue.net</fo:inline> file as a pre-login
             banner, simply add or modify the line:
             </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
               Banner  /etc/issue.net
               </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
               In the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ssh/sshd_config</fo:inline> file.
               </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            After making changes to the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ssh/sshd_config</fo:inline> file, save
	    the file, and restart the sshd server application to
	    effect the changes using the following command at a terminal prompt:
            </fo:block><fo:block id="idm45028024730160" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart sshd.service</fo:inline>
</fo:block><fo:block id="idm45028027668304" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/warning.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  Many other configuration directives for sshd are
	          available to change the server application's behavior to fit your needs.
		  Be advised, however, if your only method of access to a server is
		  ssh, and you make a mistake in configuring
		  sshd via the
		  <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ssh/sshd_config</fo:inline> file, you may find you
                  are locked out of the server upon restarting it. Additionally, if an incorrect configuration directive is supplied,
        	  the sshd server may refuse to start, so be extra careful when editing this file on a
		  remote server.
                  </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="openssh-keys"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">SSH Keys</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.4.SSH Keys</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
     SSH <fo:inline font-style="italic">keys</fo:inline> allow authentication between two hosts without the need of a password.  SSH key authentication
     uses two keys, a <fo:inline font-style="italic">private</fo:inline> key and a <fo:inline font-style="italic">public</fo:inline> key.
     </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
     To generate the keys, from a terminal prompt enter:
     </fo:block><fo:block id="idm45028028280896" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">ssh-keygen -t rsa</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
     This will generate the keys using the <fo:inline font-style="italic">RSA Algorithm</fo:inline>.  During the process you
     will be prompted for a password.  Simply hit <fo:inline font-style="italic">Enter</fo:inline> when prompted to create the key.
     </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
     By default the <fo:inline font-style="italic">public</fo:inline> key is saved in the file <fo:inline font-size="8.800000000000001pt" font-family="monospace">~/.ssh/id_rsa.pub</fo:inline>, while
     <fo:inline font-size="8.800000000000001pt" font-family="monospace">~/.ssh/id_rsa</fo:inline> is the <fo:inline font-style="italic">private</fo:inline> key.  Now copy the <fo:inline font-size="8.800000000000001pt" font-family="monospace">id_rsa.pub</fo:inline> file
     to the remote host and append it to <fo:inline font-size="8.800000000000001pt" font-family="monospace">~/.ssh/authorized_keys</fo:inline> by entering:
     </fo:block><fo:block id="idm45028026631712" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">ssh-copy-id username@remotehost</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
     Finally, double check the permissions on the <fo:inline font-size="8.800000000000001pt" font-family="monospace">authorized_keys</fo:inline> file, only the authenticated user should have read and write permissions.
     If the permissions are not correct change them by:
     </fo:block><fo:block id="idm45028029643840" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">chmod 600 .ssh/authorized_keys</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
     You should now be able to SSH to the host without being prompted for a password.
     </fo:block></fo:block><fo:block id="openssh-references"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">References</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.5.References</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028025664624" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028029639872" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:basic-link external-destination="https://help.ubuntu.com/community/SSH" font-style="italic">Ubuntu Wiki SSH</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/SSH">https://help.ubuntu.com/community/SSH</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> page.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025126672" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:basic-link external-destination="http://www.openssh.org/" font-style="italic">OpenSSH Website</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline> <fo:basic-link external-destination="http://www.openssh.org/">http://www.openssh.org/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024861712" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:basic-link external-destination="https://wiki.ubuntu.com/AdvancedOpenSSH" font-style="italic">Advanced OpenSSH Wiki Page</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline> <fo:basic-link external-destination="https://wiki.ubuntu.com/AdvancedOpenSSH">https://wiki.ubuntu.com/AdvancedOpenSSH</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="puppet"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Puppet</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">2.Puppet</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Puppet is a cross platform framework enabling system administrators to perform common tasks using code.
      The code can do a variety of tasks from installing new software, to checking file permissions, or updating user accounts.  Puppet is
      great not only during the initial installation of a system, but also throughout the system's entire life cycle.  In most circumstances
      puppet will be used in a client/server configuration.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      This section will cover installing and configuring Puppet in a client/server configuration.  This simple example
      will demonstrate how to install Apache using Puppet.
      </fo:block><fo:block id="puppet-preconfiguration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Preconfiguration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.1.Preconfiguration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Prior to configuring puppet you may want to add a DNS <fo:inline font-style="italic">CNAME</fo:inline> record for
      <fo:inline font-style="italic">puppet.example.com</fo:inline>, where <fo:inline font-style="italic">example.com</fo:inline> is your domain.  By default
      Puppet clients check DNS for puppet.example.com as the puppet server name, or
      <fo:inline font-style="italic">Puppet Master</fo:inline>.  See <fo:basic-link internal-destination="dns"><fo:inline font-style="italic">Chapter8, <fo:inline font-style="italic">Domain Name Service (DNS)</fo:inline></fo:inline></fo:basic-link><fo:basic-link internal-destination="dns" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="dns"/>]</fo:inline></fo:basic-link> for more DNS details.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      If you do not wish to use DNS, you can add entries to the server and client <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/hosts</fo:inline> file.  For example, in the
      Puppet server's <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/hosts</fo:inline> file add:
      </fo:block><fo:block id="idm45028024810160" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
127.0.0.1 localhost.localdomain localhost puppet
192.168.1.17 puppetclient.example.com puppetclient
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      On each Puppet client, add an entry for the server:
      </fo:block><fo:block id="idm45028030003456" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
192.168.1.16 puppetmaster.example.com puppetmaster puppet
</fo:block><fo:block id="idm45028029598400" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Replace the example IP addresses and domain names above with your actual server and client addresses and domain names.
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="puppet-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.2.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      To install Puppet, in a terminal on the <fo:inline font-style="italic">server</fo:inline> enter:
      </fo:block><fo:block id="idm45028026318720" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install puppetmaster</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      On the <fo:inline font-style="italic">client</fo:inline> machine, or machines, enter:
      </fo:block><fo:block id="idm45028027253504" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install puppet</fo:inline>
</fo:block></fo:block><fo:block id="puppet-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.3.Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Create a folder path for the apache2 class:
      </fo:block><fo:block id="idm45028023815840" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
  <fo:inline font-weight="bold">sudo mkdir -p /etc/puppet/modules/apache2/manifests</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Now setup some resources for apache2.  Create a file <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/puppet/modules/apache2/manifests/init.pp</fo:inline>
      containing the following:
      </fo:block><fo:block id="idm45028030237264" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
class apache2 {
  package { 'apache2':
    ensure =&gt; installed,
  }

  service { 'apache2':
    ensure  =&gt; true,
    enable  =&gt; true,
    require =&gt; Package['apache2'],
  }
}
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Next, create a node file <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/puppet/manifests/site.pp</fo:inline> with:
      </fo:block><fo:block id="idm45028024829520" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
node 'puppetclient.example.com' {
   include apache2
}
</fo:block><fo:block id="idm45028027623248" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Replace <fo:inline font-style="italic">puppetclient.example.com</fo:inline> with your actual Puppet client's host name.
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      The final step for this simple Puppet server is to restart the daemon:
      </fo:block><fo:block id="idm45028028937696" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart puppetmaster.service</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Now everything is configured on the Puppet server, it is time to configure the client.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      First, configure the Puppet agent daemon to start. Edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/default/puppet</fo:inline>, changing
      <fo:inline font-style="italic">START</fo:inline> to yes:
      </fo:block><fo:block id="idm45028023905792" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
START=yes
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Then start the service:
      </fo:block><fo:block id="idm45028023904528" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl start puppet.service</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      View the client cert fingerprint
      </fo:block><fo:block id="idm45028024573840" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo puppet agent --fingerprint</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Back on the Puppet server, view pending certificate signing requests:
      </fo:block><fo:block id="idm45028024571056" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo puppet cert list</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      On the Puppet server, verify the fingerprint of the client and sign puppetclient's cert:
      </fo:block><fo:block id="idm45028024568240" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo puppet cert sign puppetclient.example.com</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        On the Puppet client, run the puppet agent manually in the foreground. This step isn't strictly speaking necessary, but it
        is the best way to test and debug the puppet service.
      </fo:block><fo:block id="idm45028036343216" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo puppet agent --test</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Check <fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/log/syslog</fo:inline> on both hosts for any errors with the configuration.  If all goes well the apache2
      package and it's dependencies will be installed on the Puppet client.
      </fo:block><fo:block id="idm45028036338816" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        This example is <fo:inline font-style="italic">very</fo:inline> simple, and does not highlight many of Puppet's features and
        benefits.  For more information see <fo:basic-link internal-destination="puppet-resources"><fo:inline font-style="italic">Section2.4, Resources</fo:inline></fo:basic-link><fo:basic-link internal-destination="puppet-resources" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="puppet-resources"/>]</fo:inline></fo:basic-link>.
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="puppet-resources"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Resources</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.4.Resources</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028025181040" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028025180752" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          See the <fo:basic-link external-destination="http://docs.puppetlabs.com/" font-style="italic">Official Puppet Documentation</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline> <fo:basic-link external-destination="http://docs.puppetlabs.com/">http://docs.puppetlabs.com/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> web site.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025179104" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          See the <fo:basic-link external-destination="http://forge.puppetlabs.com/" font-style="italic">Puppet forge</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline> <fo:basic-link external-destination="http://forge.puppetlabs.com/">http://forge.puppetlabs.com/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>, online repository of puppet modules.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025177504" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Also see <fo:basic-link external-destination="http://www.apress.com/9781430230571" font-style="italic">Pro Puppet</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline> <fo:basic-link external-destination="http://www.apress.com/9781430230571">http://www.apress.com/9781430230571</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="zentyal"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Zentyal</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">3.Zentyal</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Zentyal is a Linux small business server that
		can be configured as a gateway, infrastructure manager, unified threat manager,
		office server, unified communication server or a combination of them.
		All network services managed by Zentyal are tightly
		integrated, automating most tasks. This saves time and helps to avoid errors
		in network configuration and administration.
		Zentyal is open source, released under the GNU
		General Public License (GPL) and runs on top of Ubuntu GNU/Linux.
		</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Zentyal consists of a series of packages
		(usually one for each module) that provide a web interface to configure
		the different servers or services. The configuration is stored on a
		key-value Redis database, but users, groups,
		and domains-related configuration is on OpenLDAP
		. When you configure any of the available parameters
		through the web interface, final configuration files are overwritten
		using the configuration templates provided by the modules.
		The main advantage of using Zentyal is a
		unified, graphical user interface to configure all network services and
		high, out-of-the-box integration between them.
		</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Zentyal publishes one major stable release
		once a year based on the latest Ubuntu LTS release.
		</fo:block><fo:block id="zentyal-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.1.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		If you would like to create a new user to access the Zentyal
		web interface, run:
<fo:block id="idm45028024242176" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo adduser username sudo</fo:inline>
</fo:block>
		</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			Add the Zentyal repository to your repository list:
<fo:block id="idm45028024239296" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo add-apt-repository "deb http://archive.zentyal.org/zentyal 3.5 main extra"</fo:inline>
</fo:block>
		</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			Import the public keys from Zentyal:
<fo:block id="idm45028025850672" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 10E239FF</fo:inline>
<fo:inline font-weight="bold">wget -q http://keys.zentyal.org/zentyal-4.2-archive.asc -O- | sudo apt-key add -</fo:inline>
</fo:block>
		</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			Update your packages and install Zentyal:
<fo:block id="idm45028025847072" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt update</fo:inline>
<fo:inline font-weight="bold">sudo apt install zentyal</fo:inline>
</fo:block>
			During installation you will be asked to set a root MySQL password and
			confirm port 443.
		</fo:block></fo:block><fo:block id="zentyal-firststeps"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">First steps</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.2.First steps</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Any system account belonging to the sudo group is allowed to log into the
		Zentyal web interface. The user created while
		installing Ubuntu Server will belong to the sudo group by default.
		</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		To access the Zentyal web interface, point a browser
		to https://localhost/ or to the IP address of your remote server. As
		Zentyal creates
		its own self-signed SSL certificate, you will have to accept a security
		exception on your browser. Log in with the same username and password used
		to log in to your server.
		</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Once logged in you will see an overview of your
		server. Individual modules, such as Antivirus or Firewall, can be installed
		by simply clicking them and then clicking Install.
		Selecting server roles like Gateway or Infrastructure can be used to install
		multiple modules at once.
		</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			Modules can also be installed via the command line:
<fo:block id="idm45028025838336" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install &lt;zentyal-module&gt;</fo:inline>
</fo:block>
		See the list of available modules below.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			To enable a module, go to the Dashboard, then click Module Status. Click
			the check box for the module, then Save changes.
		</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			To configure any of the features of your installed modules, click the
			different sections on the left menu. When you make any changes, a red "Save
			changes" button appears in the upper right corner.
		</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		If you need to customize any configuration file or run certain actions
		(scripts or commands) to configure features not available on
		Zentyal, place the custom configuration file
		templates on /etc/zentyal/stubs/&lt;module&gt;/ and the hooks on
		/etc/zentyal/hooks/&lt;module&gt;.&lt;action&gt;. Read more about stubs and
		hooks <fo:basic-link external-destination="https://wiki.zentyal.org/wiki/En/4.0/Appendix_B:_Development_and_advanced_configuration#Advanced_Service_Customization" font-style="italic">here</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">7</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">7</fo:inline> <fo:basic-link external-destination="https://wiki.zentyal.org/wiki/En/4.0/Appendix_B:_Development_and_advanced_configuration#Advanced_Service_Customization">https://wiki.zentyal.org/wiki/En/4.0/Appendix_B:_Development_and_advanced_configuration#Advanced_Service_Customization</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
	</fo:block></fo:block><fo:block id="zentyal-modules"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Modules</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.3.Modules</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Zentyal 2.3 is available on Ubuntu 16.04
		Universe repository. The modules available are:
				<fo:list-block id="idm45028025830400" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028025830112" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
						zentyal-core &amp; zentyal-common: the core of the
						Zentyal interface and the common libraries
						of the framework. Also includes the logs and events modules that
						give the administrator an interface to view the logs and generate
						events from them.
						</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023964400" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
						zentyal-network: manages the configuration of the network. From the
						interfaces (supporting static IP, DHCP, VLAN, bridges or PPPoE),
						to multiple gateways when having more than one Internet connection,
						load balancing and advanced routing, static routes or dynamic DNS.
						</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023963216" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
						zentyal-objects &amp; zentyal-services: provide an abstraction level
						for network addresses (e.g. LAN instead of 192.168.1.0/24) and ports
						named as services (e.g. HTTP instead of 80/TCP).
						</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023962128" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
						zentyal-firewall: configures the iptables
						rules to block forbiden connections, NAT and port redirections.
						</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023960544" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
						zentyal-ntp: installs the NTP daemon to keep server on time and allow
						network clients to synchronize their clocks against the server.
						</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023959504" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
						zentyal-dhcp: configures ISC DHCP server
						supporting network ranges, static leases and other advanced options
						like NTP, WINS, dynamic DNS updates and network boot with PXE.
						</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023957648" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
						zentyal-dns: brings ISC Bind9 DNS server
						into your server for caching local queries as a forwarder or as an
						authoritative server for the configured domains. Allows to configure
						A, CNAME, MX, NS, TXT and SRV records.
						</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023955744" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
						zentyal-ca: integrates the management of a Certification Authority
						within Zentyal so users can use certificates to authenticate against
						the services, like with OpenVPN.
						</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023953888" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
						zentyal-openvpn: allows to configure multiple VPN servers and clients
						using OpenVPN with dynamic routing
						configuration using Quagga.
						</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023951344" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
						zentyal-users: provides an interface to configure and manage users
						and groups on OpenLDAP. Other services
						on Zentyal are authenticated against LDAP having a centralized
						users and groups management. It is also possible to synchronize
						users, passwords and groups from a Microsoft Active
						Directory domain.
						</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023948576" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
						zentyal-squid: configures Squid and
						Dansguardian for speeding up browsing
						thanks to the caching capabilities and content filtering.
						</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023945984" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
						zentyal-samba: allows Samba configuration
						and integration with existing LDAP. From the same interface you can
						define password policies, create shared resources and assign
						permissions.
						</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023944112" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
						zentyal-printers: integrates CUPS with
						Samba and allows not only to configure
						the printers but also give them permissions based on LDAP users
						and groups.
						</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block>

			</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
				Not present on Ubuntu Universe repositories, but on
				<fo:basic-link external-destination="https://launchpad.net/~zentyal/" font-style="italic">Zentyal Team PPA</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">8</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">8</fo:inline> <fo:basic-link external-destination="https://launchpad.net/~zentyal/">https://launchpad.net/~zentyal/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
				you will find these other modules:
				</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
				<fo:list-block id="idm45028024525424" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028024525136" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
						zentyal-antivirus: integrates ClamAV
						antivirus with other modules like the proxy, file sharing or
						mailfilter.
						</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024523344" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
						zentyal-asterisk: configures Asterisk
						to provide a simple PBX with LDAP based authentication.
						</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024521664" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
						zentyal-bwmonitor: allows to monitor bandwith usage of your LAN
						clients.
						</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024520688" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
						zentyal-captiveportal: integrates a captive portal with the firewall
						and LDAP users and groups.
						</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024519696" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
						zentyal-ebackup: allows to make scheduled backups of your server using
						the popular duplicity backup tool.
						</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024517920" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
						zentyal-ftp: configures a FTP server with LDAP based authentication.
						</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024517056" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
						zentyal-ids: integrates a network intrusion detection system.
						</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024516192" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
						zentyal-ipsec: allows to configure IPsec tunnels using
						OpenSwan.
						</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024514528" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
						zentyal-jabber: integrates ejabberd
						XMPP server with LDAP users and groups.
						</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024512848" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
						zentyal-thinclients: a LTSP based
						thin clients solution.
						</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024511168" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
						zentyal-mail: a full mail stack including Postfix
						 and Dovecot with LDAP
						backend.
						</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024508688" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
						zentyal-mailfilter: configures amavisd with
						mail stack to filter spam and attached virus.
						</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024507008" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
						zentyal-monitor: integrates collectd
						to monitor server performance and running services.
						</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024505328" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
						zentyal-pptp: configures a PPTP VPN server.
						</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024503616" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
						zentyal-radius: integrates FreeRADIUS with
						LDAP users and groups.
						</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024501936" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
						zentyal-software: simple interface to manage installed
						Zentyal modules and system updates.
						</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025805216" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
						zentyal-trafficshaping: configures traffic limiting rules to do
						bandwidth throttling and improve latency.
						</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025804208" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
						zentyal-usercorner: allows users to edit their own LDAP attributes
						using a web browser.
						</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025803216" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
						zentyal-virt: simple interface to create and manage virtual machines
						based on libvirt.
						</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025801440" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
						zentyal-webmail: allows to access your mail using the popular
						Roundcube webmail.
						</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025799776" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
						zentyal-webserver: configures Apache
						webserver to host different sites on your machine.
						</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025798096" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
						zentyal-zarafa: integrates Zarafa
						groupware suite with Zentyal mail stack
						and LDAP.
						</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block>

			</fo:block></fo:block><fo:block id="zentyal-references"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">References</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.4.References</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		<fo:basic-link external-destination="http://doc.zentyal.org/" font-style="italic">Zentyal Official Documentation
		</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">9</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">9</fo:inline> <fo:basic-link external-destination="http://doc.zentyal.org/">http://doc.zentyal.org/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> page.
		</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		<fo:basic-link external-destination="http://trac.zentyal.org/wiki/Documentation" font-style="italic">Zentyal
		Community Wiki</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">10</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">10</fo:inline> <fo:basic-link external-destination="http://trac.zentyal.org/wiki/Documentation">http://trac.zentyal.org/wiki/Documentation</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
		</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Visit the <fo:basic-link external-destination="http://forum.zentyal.org/" font-style="italic">Zentyal forum
		</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">11</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">11</fo:inline> <fo:basic-link external-destination="http://forum.zentyal.org/">http://forum.zentyal.org/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> for community support, feedback, feature requests, etc.
		</fo:block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Network Authentication</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Network Authentication</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-inner-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block id="network-authentication"><fo:block font-family="serif,Symbol"><fo:block margin-left="0pc"><fo:block font-size="24.8832pt" font-weight="bold"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0pc" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">Chapter7.Network Authentication</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        This section applies LDAP to network authentication and authorization.
        </fo:block><fo:block id="openldap-server"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">OpenLDAP Server</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">1.OpenLDAP Server</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	The Lightweight Directory Access Protocol, or LDAP, is a protocol for 
    querying and modifying a X.500-based directory service running over TCP/IP. 
	The current LDAP version is LDAPv3, as defined in <fo:basic-link external-destination="http://tools.ietf.org/html/rfc4510" font-style="italic">RFC4510</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline> <fo:basic-link external-destination="http://tools.ietf.org/html/rfc4510">http://tools.ietf.org/html/rfc4510</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>, and the 
    implementation in Ubuntu is OpenLDAP."
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	So the LDAP protocol accesses LDAP directories. Here are some key concepts and terms:
	</fo:block><fo:list-block id="idm45028024932528" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028028676736" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		A LDAP directory is a tree of data <fo:inline font-style="italic">entries</fo:inline> that is hierarchical in nature and is called
		the Directory Information Tree (DIT).
		</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030419648" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		An entry consists of a set of <fo:inline font-style="italic">attributes</fo:inline>.
		</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026360144" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		An attribute has a <fo:inline font-style="italic">type</fo:inline> (a name/description) and one or more <fo:inline font-style="italic">values</fo:inline>.
		</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026662688" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Every attribute must be defined in at least one <fo:inline font-style="italic">objectClass</fo:inline>.
		</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024845536" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Attributes and objectclasses are defined in <fo:inline font-style="italic">schemas</fo:inline> (an objectclass is actually
		considered as a special kind of attribute).
		</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025698928" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Each entry has a unique identifier: its <fo:inline font-style="italic">Distinguished Name</fo:inline> (DN or dn). This, in turn, consists
		of a <fo:inline font-style="italic">Relative Distinguished Name</fo:inline> (RDN) followed by the parent entry's DN.
		</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028028193888" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		The entry's DN is not an attribute. It is not considered part of the entry itself.
		</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block id="idm45028025808272" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		The terms <fo:inline font-style="italic">object</fo:inline>, <fo:inline font-style="italic">container</fo:inline>, and <fo:inline font-style="italic">node</fo:inline> have certain
		connotations but they all essentially mean the same thing as <fo:inline font-style="italic">entry</fo:inline>, the technically correct term.
		</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	For example, below we have a single entry consisting of 11 attributes where the following is true:
	</fo:block><fo:list-block id="idm45028029853712" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028027228496" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		DN is "cn=John Doe,dc=example,dc=com"
		</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028027025872" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		RDN is "cn=John Doe"
		</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029896352" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		parent DN is "dc=example,dc=com"
		</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block id="idm45028027072320" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
 dn: cn=John Doe,dc=example,dc=com
 cn: John Doe
 givenName: John
 sn: Doe
 telephoneNumber: +1 888 555 6789
 telephoneNumber: +1 888 555 1232
 mail: john@example.com
 manager: cn=Larry Smith,dc=example,dc=com
 objectClass: inetOrgPerson
 objectClass: organizationalPerson
 objectClass: person
 objectClass: top
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	The above entry is in <fo:inline font-style="italic">LDIF</fo:inline> format (LDAP Data Interchange Format). Any information that you feed
	into your DIT must also be in such a format. It is defined in <fo:basic-link external-destination="http://tools.ietf.org/html/rfc2849" font-style="italic">RFC2849</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline> <fo:basic-link external-destination="http://tools.ietf.org/html/rfc2849">http://tools.ietf.org/html/rfc2849</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Although this guide will describe how to use it for central authentication, LDAP is good for anything that involves a large number
	of access requests to a mostly-read, attribute-based (name:value) backend. Examples include an address book, a list of email addresses,
	and a mail server's configuration.
        </fo:block><fo:block id="openldap-server-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.1.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Install the OpenLDAP server daemon and the traditional LDAP management utilities. These are found in packages slapd
	and ldap-utils respectively. 
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The installation of slapd will create a working configuration. In particular, it will create a database instance that you
	can use to store your data.  However, the suffix (or base DN) of this instance will be determined from the domain name of the host.
	If you want something different, you can change it right after the installation when you still don't have any useful data.
	</fo:block><fo:block id="idm45028024409504" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		This guide will use a database suffix of <fo:inline font-style="italic">dc=example,dc=com</fo:inline>.
		</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Proceed with the install:
	</fo:block><fo:block id="idm45028028530224" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install slapd ldap-utils</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        If you want to change your DIT suffix, now would be a good time, because changing it discards your existing one. To change the suffix,
        run the following command:
        </fo:block><fo:block id="idm45028027474176" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo dpkg-reconfigure slapd</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        To switch your DIT suffix to <fo:inline font-style="italic">dc=example,dc=com</fo:inline>, for example, so you can follow this guide more closely,
        answer <fo:inline font-style="italic">example.com</fo:inline> when asked about the DNS domain name.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Since Ubuntu 8.10 slapd is designed to be configured within slapd itself by dedicating a separate DIT for that purpose. This allows one
	to dynamically configure slapd without the need to restart the service. This configuration database consists of a collection of text-based
	LDIF files located under <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ldap/slapd.d</fo:inline>. This way of working is known by several names: the slapd-config method,
	the RTC method (Real Time Configuration), or the cn=config method. You can still use the traditional flat-file method (slapd.conf) but it's
	not recommended; the functionality will be eventually phased out.
        </fo:block><fo:block id="idm45028027879600" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Ubuntu now uses the <fo:inline font-style="italic">slapd-config</fo:inline> method for slapd configuration and this
		guide reflects that.
		</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
 	During the install you were prompted to define administrative credentials. These are LDAP-based credentials for the <fo:inline font-style="italic">rootDN</fo:inline>
	of your database instance. By default, this user's DN is <fo:inline font-style="italic">cn=admin,dc=example,dc=com</fo:inline>. Also by default, there is no
	administrative account created for the slapd-config database and you will therefore need to authenticate externally to LDAP in order to access it.
	We will see how to do this later on.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Some classical schemas (cosine, nis, inetorgperson) come built-in with slapd nowadays. There is also an included "core" schema, a pre-requisite
	for any schema to work.
	</fo:block></fo:block><fo:block id="openldap-server-postinstall"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Post-install Inspection</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.2.Post-install Inspection</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	The installation process set up 2 DITs. One for slapd-config and one for your own data (dc=example,dc=com). Let's take a look.
	</fo:block><fo:list-block id="idm45028027148592" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028029649536" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		This is what the slapd-config database/DIT looks like.  Recall that this database is
		LDIF-based and lives under <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ldap/slapd.d</fo:inline>:
		</fo:block><fo:block id="idm45028025888608" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-size="8.800000000000001pt" font-family="monospace">
    /etc/ldap/slapd.d/
    /etc/ldap/slapd.d/cn=config.ldif
    /etc/ldap/slapd.d/cn=config
    /etc/ldap/slapd.d/cn=config/cn=schema
    /etc/ldap/slapd.d/cn=config/cn=schema/cn={1}cosine.ldif
    /etc/ldap/slapd.d/cn=config/cn=schema/cn={0}core.ldif
    /etc/ldap/slapd.d/cn=config/cn=schema/cn={2}nis.ldif
    /etc/ldap/slapd.d/cn=config/cn=schema/cn={3}inetorgperson.ldif
    /etc/ldap/slapd.d/cn=config/cn=module{0}.ldif
    /etc/ldap/slapd.d/cn=config/olcDatabase={0}config.ldif
    /etc/ldap/slapd.d/cn=config/olcDatabase={-1}frontend.ldif
    /etc/ldap/slapd.d/cn=config/olcDatabase={1}mdb.ldif
    /etc/ldap/slapd.d/cn=config/olcBackend={0}mdb.ldif
    /etc/ldap/slapd.d/cn=config/cn=schema.ldif
</fo:inline>
</fo:block><fo:block id="idm45028027614128" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Do not edit the slapd-config database directly. Make changes via the LDAP protocol (utilities).
		</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026886944" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		This is what the slapd-config DIT looks like via the LDAP protocol:
		</fo:block><fo:block id="idm45028028861504" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ldapsearch -Q -LLL -Y EXTERNAL -H ldapi:/// -b cn=config dn</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">
dn: cn=config

dn: cn=module{0},cn=config

dn: cn=schema,cn=config

dn: cn={0}core,cn=schema,cn=config

dn: cn={1}cosine,cn=schema,cn=config

dn: cn={2}nis,cn=schema,cn=config

dn: cn={3}inetorgperson,cn=schema,cn=config

dn: olcBackend={0}mdb,cn=config

dn: olcDatabase={-1}frontend,cn=config

dn: olcDatabase={0}config,cn=config

dn: olcDatabase={1}mdb,cn=config
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Explanation of entries:
		</fo:block><fo:list-block id="idm45028026701360" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028027470880" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			<fo:inline font-style="italic">cn=config</fo:inline>: global settings
			</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028027831648" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			<fo:inline font-style="italic">cn=module{0},cn=config</fo:inline>: a dynamically loaded module
			</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028028648672" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			<fo:inline font-style="italic">cn=schema,cn=config</fo:inline>: contains hard-coded system-level schema
			</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028027631616" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			<fo:inline font-style="italic">cn={0}core,cn=schema,cn=config</fo:inline>: the hard-coded core schema
			</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030282528" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			<fo:inline font-style="italic">cn={1}cosine,cn=schema,cn=config</fo:inline>: the cosine schema
			</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025478848" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			<fo:inline font-style="italic">cn={2}nis,cn=schema,cn=config</fo:inline>: the nis schema
			</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028028002496" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			<fo:inline font-style="italic">cn={3}inetorgperson,cn=schema,cn=config</fo:inline>: the inetorgperson schema
			</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028027097552" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			<fo:inline font-style="italic">olcBackend={0}mdb,cn=config</fo:inline>: the 'mdb' backend storage type
			</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029066272" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			<fo:inline font-style="italic">olcDatabase={-1}frontend,cn=config</fo:inline>: frontend database, default settings for other databases
			</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028027214464" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			<fo:inline font-style="italic">olcDatabase={0}config,cn=config</fo:inline>: slapd configuration database (cn=config)
			</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030241536" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			<fo:inline font-style="italic">olcDatabase={1}mdb,cn=config</fo:inline>: your database instance (dc=example,dc=com)
			</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025119808" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		This is what the dc=example,dc=com DIT looks like:
		</fo:block><fo:block id="idm45028024378608" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">ldapsearch -x -LLL -H ldap:/// -b dc=example,dc=com dn</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">
dn: dc=example,dc=com

dn: cn=admin,dc=example,dc=com
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Explanation of entries:
		</fo:block><fo:list-block id="idm45028028046704" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028025598016" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			<fo:inline font-style="italic">dc=example,dc=com</fo:inline>: base of the DIT
			</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025216464" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			<fo:inline font-style="italic">cn=admin,dc=example,dc=com</fo:inline>: administrator (rootDN) for this DIT (set up during package install)
			</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="openldap-server-populate"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Modifying/Populating your Database</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.3.Modifying/Populating your Database</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Let's introduce some content to our database.  We will add the following:
	</fo:block><fo:list-block id="idm45028026236016" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028029856768" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	a node called <fo:inline font-style="italic">People</fo:inline> (to store users)
	</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024687200" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	a node called <fo:inline font-style="italic">Groups</fo:inline> (to store groups)
	</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025978144" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	a group called <fo:inline font-style="italic">miners</fo:inline>
	</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026394464" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	a user called <fo:inline font-style="italic">john</fo:inline>
	</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Create the following LDIF file and call it <fo:inline font-size="8.800000000000001pt" font-family="monospace">add_content.ldif</fo:inline>:
	</fo:block><fo:block id="idm45028025495712" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
dn: ou=People,dc=example,dc=com
objectClass: organizationalUnit
ou: People

dn: ou=Groups,dc=example,dc=com
objectClass: organizationalUnit
ou: Groups

dn: cn=miners,ou=Groups,dc=example,dc=com
objectClass: posixGroup
cn: miners
gidNumber: 5000

dn: uid=john,ou=People,dc=example,dc=com
objectClass: inetOrgPerson
objectClass: posixAccount
objectClass: shadowAccount
uid: john
sn: Doe
givenName: John
cn: John Doe
displayName: John Doe
uidNumber: 10000
gidNumber: 5000
userPassword: johnldap
gecos: John Doe
loginShell: /bin/bash
homeDirectory: /home/john
</fo:block><fo:block id="idm45028027520800" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		It's important that uid and gid values in your directory do not collide with local values.  Use high number ranges, such as starting at 5000. 
		By setting the uid and gid values in ldap high, you also allow 
		for easier control of what can be done with a local user vs a 
		ldap one. More on that later.
		</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Add the content:
	</fo:block><fo:block id="idm45028027519168" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">ldapadd -x -D cn=admin,dc=example,dc=com -W -f add_content.ldif</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">
Enter LDAP Password: ********
adding new entry "ou=People,dc=example,dc=com"

adding new entry "ou=Groups,dc=example,dc=com"

adding new entry "cn=miners,ou=Groups,dc=example,dc=com"

adding new entry "uid=john,ou=People,dc=example,dc=com"
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	We can check that the information has been correctly added with the ldapsearch utility:
	</fo:block><fo:block id="idm45028027515264" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">ldapsearch -x -LLL -b dc=example,dc=com 'uid=john' cn gidNumber</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">
dn: uid=john,ou=People,dc=example,dc=com
cn: John Doe
gidNumber: 5000
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Explanation of switches:
	</fo:block><fo:list-block id="idm45028023720512" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028027069504" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	<fo:inline font-style="italic">-x:</fo:inline> "simple" binding; will not use the default SASL method
	</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028027272608" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	<fo:inline font-style="italic">-LLL:</fo:inline> disable printing extraneous information
	</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025391632" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	<fo:inline font-style="italic">uid=john:</fo:inline> a "filter" to find the john user
	</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028028334416" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	<fo:inline font-style="italic">cn gidNumber:</fo:inline> requests certain attributes to be displayed (the default is to show all attributes)
	</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="openldap-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Modifying the slapd Configuration Database</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.4.Modifying the slapd Configuration Database</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
       	The slapd-config DIT can also be queried and modified. Here are a few examples.
	</fo:block><fo:list-block id="idm45028028959664" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028026999120" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Use ldapmodify to add an "Index" (DbIndex attribute) to your {1}mdb,cn=config
	database (dc=example,dc=com). Create a file, call it <fo:inline font-size="8.800000000000001pt" font-family="monospace">uid_index.ldif</fo:inline>, with the following contents:              
	</fo:block><fo:block id="idm45028028208032" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
dn: olcDatabase={1}mdb,cn=config
add: olcDbIndex
olcDbIndex: mail eq,sub
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Then issue the command:
	</fo:block><fo:block id="idm45028025885296" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ldapmodify -Q -Y EXTERNAL -H ldapi:/// -f uid_index.ldif</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">
modifying entry "olcDatabase={1}mdb,cn=config"
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	You can confirm the change in this way:
	</fo:block><fo:block id="idm45028027171104" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ldapsearch -Q -LLL -Y EXTERNAL -H ldapi:/// -b \
cn=config '(olcDatabase={1}mdb)' olcDbIndex</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">
dn: olcDatabase={1}mdb,cn=config
olcDbIndex: objectClass eq
olcDbIndex: cn,uid eq
olcDbIndex: uidNumber,gidNumber eq
olcDbIndex: member,memberUid eq
olcDbIndex: mail eq,sub
</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026915600" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Let's add a schema. It will first need to be converted to LDIF format. You can find unconverted
	schemas in addition to converted ones in the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ldap/schema</fo:inline> directory.
	</fo:block><fo:block id="idm45028026120176" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:list-block id="idm45028026119888" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028027739120" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		It is not trivial to remove a schema from the slapd-config database. Practice adding schemas on a test system.
	  	</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028027738128" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Before adding any schema, you should check which schemas are
		already installed (shown is a default, out-of-the-box output):
	  	</fo:block><fo:block id="idm45028027737280" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ldapsearch -Q -LLL -Y EXTERNAL -H ldapi:/// -b \
cn=schema,cn=config dn</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">
dn: cn=schema,cn=config

dn: cn={0}core,cn=schema,cn=config

dn: cn={1}cosine,cn=schema,cn=config

dn: cn={2}nis,cn=schema,cn=config

dn: cn={3}inetorgperson,cn=schema,cn=config
</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	In the following example we'll add the CORBA schema.
	</fo:block><fo:block id="idm45028027733856" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:list-block provisional-distance-between-starts="2em" provisional-label-separation="0.2em" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em"><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028027733568">1.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">                  
		Create the conversion configuration file <fo:inline font-size="8.800000000000001pt" font-family="monospace">schema_convert.conf</fo:inline> containing the 
		following lines:
		</fo:block><fo:block id="idm45028027731696" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
include /etc/ldap/schema/core.schema
include /etc/ldap/schema/collective.schema
include /etc/ldap/schema/corba.schema
include /etc/ldap/schema/cosine.schema
include /etc/ldap/schema/duaconf.schema
include /etc/ldap/schema/dyngroup.schema
include /etc/ldap/schema/inetorgperson.schema
include /etc/ldap/schema/java.schema
include /etc/ldap/schema/misc.schema
include /etc/ldap/schema/nis.schema
include /etc/ldap/schema/openldap.schema
include /etc/ldap/schema/ppolicy.schema
include /etc/ldap/schema/ldapns.schema
include /etc/ldap/schema/pmi.schema
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028027888320">2.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Create the output directory <fo:inline font-size="8.800000000000001pt" font-family="monospace">ldif_output</fo:inline>.
		</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028027886256">3.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Determine the index of the schema:
		</fo:block><fo:block id="idm45028027885200" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">slapcat -f schema_convert.conf -F ldif_output -n 0 | grep corba,cn=schema</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">
cn={2}corba,cn=schema,cn=config
</fo:inline>
</fo:block><fo:block id="idm45028027882816" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			When slapd ingests objects with the same parent DN it will create an <fo:inline font-style="italic">index</fo:inline> for that object.
			An index is contained within braces: {X}.
			</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028023876864">4.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Use slapcat to perform the conversion:
		</fo:block><fo:block id="idm45028023874960" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">slapcat -f schema_convert.conf -F ldif_output -n0 -H \
ldap:///cn={2}corba,cn=schema,cn=config -l cn=corba.ldif</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		The converted schema is now in <fo:inline font-size="8.800000000000001pt" font-family="monospace">cn=corba.ldif</fo:inline>
		</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028023871840">5.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">cn=corba.ldif</fo:inline> to arrive at the following attributes:
		</fo:block><fo:block id="idm45028023869984" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
dn: cn=corba,cn=schema,cn=config
...
cn: corba
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Also remove the following lines from the bottom:
		</fo:block><fo:block id="idm45028023868800" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
structuralObjectClass: olcSchemaConfig
entryUUID: 52109a02-66ab-1030-8be2-bbf166230478
creatorsName: cn=config
createTimestamp: 20110829165435Z
entryCSN: 20110829165435.935248Z#000000#000#000000
modifiersName: cn=config
modifyTimestamp: 20110829165435Z
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Your attribute values will vary.
		</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028023867136">6.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Finally, use ldapadd to add the new schema to the slapd-config DIT:
		</fo:block><fo:block id="idm45028023865280" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ldapadd -Q -Y EXTERNAL -H ldapi:/// -f cn\=corba.ldif</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">
adding new entry "cn=corba,cn=schema,cn=config"
</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028023862784">7.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Confirm currently loaded schemas:
		</fo:block><fo:block id="idm45028023861680" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ldapsearch -Q -LLL -Y EXTERNAL -H ldapi:/// -b cn=schema,cn=config dn</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">
dn: cn=schema,cn=config

dn: cn={0}core,cn=schema,cn=config

dn: cn={1}cosine,cn=schema,cn=config

dn: cn={2}nis,cn=schema,cn=config

dn: cn={3}inetorgperson,cn=schema,cn=config

dn: cn={4}corba,cn=schema,cn=config
</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block id="idm45028023417088" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  	For external applications and clients to authenticate using LDAP they will each need to be specifically
		configured to do so.  Refer to the appropriate client-side documentation for details.	 
	  	</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="openldap-server-logging"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Logging</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.5.Logging</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Activity logging for slapd is indispensible when implementing an OpenLDAP-based solution yet it must be manually enabled after
	software installation. Otherwise, only rudimentary messages will appear in the logs. Logging, like any other slapd configuration,
	is enabled via the slapd-config database.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	OpenLDAP comes with multiple logging subsystems (levels) with each one containing the lower one (additive). A good level to
	try is <fo:inline font-style="italic">stats</fo:inline>. The <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man5/slapd-config.5.html" font-style="italic">slapd-config</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man5/slapd-config.5.html">http://manpages.ubuntu.com/manpages/en/man5/slapd-config.5.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
	man page has more to say on the different subsystems.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Create the file <fo:inline font-size="8.800000000000001pt" font-family="monospace">logging.ldif</fo:inline> with the following contents:
	</fo:block><fo:block id="idm45028023410864" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
dn: cn=config
changetype: modify
replace: olcLogLevel
olcLogLevel: stats
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Implement the change:
	</fo:block><fo:block id="idm45028023409632" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ldapmodify -Q -Y EXTERNAL -H ldapi:/// -f logging.ldif</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	This will produce a significant amount of logging and you will want to throttle back to a less verbose level once your system
	is in production. While in this verbose mode your host's syslog engine (rsyslog) may have a hard time keeping up and may drop
	messages:
	</fo:block><fo:block id="idm45028023407360" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
rsyslogd-2177: imuxsock lost 228 messages from pid 2547 due to rate-limiting
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	You may consider a change to rsyslog's configuration. In <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/rsyslog.conf</fo:inline>, put:
	</fo:block><fo:block id="idm45028023405376" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
# Disable rate limiting
# (default is 200 messages in 5 seconds; below we make the 5 become 0)
$SystemLogRateLimitInterval 0
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	And then restart the rsyslog daemon:
	</fo:block><fo:block id="idm45028023404048" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart syslog.service</fo:inline>
</fo:block></fo:block><fo:block id="openldap-server-replication"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Replication</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.6.Replication</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	The LDAP service becomes increasingly important as more networked systems begin to depend on it. In such an environment,
	it is standard practice to build redundancy (high availability) into LDAP to prevent havoc should the LDAP server become
	unresponsive. This is done through <fo:inline font-style="italic">LDAP replication</fo:inline>. 
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Replication is achieved via the <fo:inline font-style="italic">Syncrepl</fo:inline> engine. This allows changes to be synchronized using a
	<fo:inline font-style="italic">Consumer</fo:inline> - <fo:inline font-style="italic">Provider</fo:inline> model. The specific kind of replication we will implement
	in this guide is a combination of the following modes: <fo:inline font-style="italic">refreshAndPersist</fo:inline> and <fo:inline font-style="italic">delta-syncrepl</fo:inline>.
	This has the Provider push changed entries to the Consumer as soon as they're made but, in addition, only actual changes will
	be sent, not entire entries.
	</fo:block><fo:block id="openldap-provider-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.6.1.Provider Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Begin by configuring the <fo:inline font-style="italic">Provider</fo:inline>.
	</fo:block><fo:block id="idm45028023394592" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:list-block provisional-distance-between-starts="2em" provisional-label-separation="0.2em" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em"><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028023394304">1.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Create an LDIF file with the following contents and name it <fo:inline font-size="8.800000000000001pt" font-family="monospace">provider_sync.ldif</fo:inline>:
		</fo:block><fo:block id="idm45028023392368" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
# Add indexes to the frontend db.
dn: olcDatabase={1}mdb,cn=config
changetype: modify
add: olcDbIndex
olcDbIndex: entryCSN eq
-
add: olcDbIndex
olcDbIndex: entryUUID eq

#Load the syncprov and accesslog modules.
dn: cn=module{0},cn=config
changetype: modify
add: olcModuleLoad
olcModuleLoad: syncprov
-
add: olcModuleLoad
olcModuleLoad: accesslog

# Accesslog database definitions
dn: olcDatabase={2}mdb,cn=config
objectClass: olcDatabaseConfig
objectClass: olcMdbConfig
olcDatabase: {2}mdb
olcDbDirectory: /var/lib/ldap/accesslog
olcSuffix: cn=accesslog
olcRootDN: cn=admin,dc=example,dc=com
olcDbIndex: default eq
olcDbIndex: entryCSN,objectClass,reqEnd,reqResult,reqStart

# Accesslog db syncprov.
dn: olcOverlay=syncprov,olcDatabase={2}mdb,cn=config
changetype: add
objectClass: olcOverlayConfig
objectClass: olcSyncProvConfig
olcOverlay: syncprov
olcSpNoPresent: TRUE
olcSpReloadHint: TRUE

# syncrepl Provider for primary db
dn: olcOverlay=syncprov,olcDatabase={1}mdb,cn=config
changetype: add
objectClass: olcOverlayConfig
objectClass: olcSyncProvConfig
olcOverlay: syncprov
olcSpNoPresent: TRUE

# accesslog overlay definitions for primary db
dn: olcOverlay=accesslog,olcDatabase={1}mdb,cn=config
objectClass: olcOverlayConfig
objectClass: olcAccessLogConfig
olcOverlay: accesslog
olcAccessLogDB: cn=accesslog
olcAccessLogOps: writes
olcAccessLogSuccess: TRUE
# scan the accesslog DB every day, and purge entries older than 7 days
olcAccessLogPurge: 07+00:00 01+00:00
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Change the rootDN in the LDIF file to match the one you have for your directory.
	</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028023389536">2.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Create a directory:
		</fo:block><fo:block id="idm45028023388432" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo -u openldap mkdir /var/lib/ldap/accesslog</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028023386704">3.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Add the new content:
		</fo:block><fo:block id="idm45028023385600" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ldapadd -Q -Y EXTERNAL -H ldapi:/// -f provider_sync.ldif</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The Provider is now configured.
        </fo:block></fo:block><fo:block id="openldap-consumer-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.6.2.Consumer Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	And now configure the <fo:inline font-style="italic">Consumer</fo:inline>.
	</fo:block><fo:block id="idm45028023380800" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:list-block provisional-distance-between-starts="2em" provisional-label-separation="0.2em" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em"><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028023380512">1.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Install the software by going through <fo:basic-link internal-destination="openldap-server-installation"><fo:inline font-style="italic">Section1.1, Installation</fo:inline></fo:basic-link><fo:basic-link internal-destination="openldap-server-installation" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="openldap-server-installation"/>]</fo:inline></fo:basic-link>. Make sure the slapd-config
		database is identical to the Provider's. In particular, make sure schemas and the databse suffix are the same.
		</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028023378592">2.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Create an LDIF file with the following contents and name it <fo:inline font-size="8.800000000000001pt" font-family="monospace">consumer_sync.ldif</fo:inline>:
		</fo:block><fo:block id="idm45028023376656" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
dn: cn=module{0},cn=config
changetype: modify
add: olcModuleLoad
olcModuleLoad: syncprov

dn: olcDatabase={1}mdb,cn=config
changetype: modify
add: olcDbIndex
olcDbIndex: entryUUID eq
-
add: olcSyncRepl
olcSyncRepl: rid=0 provider=ldap://ldap01.example.com bindmethod=simple binddn="cn=admin,dc=example,dc=com"
  credentials=secret searchbase="dc=example,dc=com" logbase="cn=accesslog"
  logfilter="(&amp;(objectClass=auditWriteObject)(reqResult=0))" schemachecking=on
  type=refreshAndPersist retry="60 +" syncdata=accesslog
-
add: olcUpdateRef
olcUpdateRef: ldap://ldap01.example.com
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Ensure the following attributes have the correct values:
	</fo:block><fo:list-block id="idm45028023374800" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028023374512" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">provider</fo:inline> (Provider server's hostname -- ldap01.example.com in this example -- or IP address)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023373680" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">binddn</fo:inline> (the admin DN you're using)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023372800" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">credentials</fo:inline> (the admin DN password you're using)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023371920" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">searchbase</fo:inline> (the database suffix you're using)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023371040" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">olcUpdateRef</fo:inline> (Provider server's hostname or IP address)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023370208" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">rid</fo:inline> (Replica ID, an unique 
	3-digit that identifies the replica. Each consumer should have at 
	least one rid)</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028023368928">3.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Add the new content:
	</fo:block><fo:block id="idm45028023367824" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ldapadd -Q -Y EXTERNAL -H ldapi:/// -f consumer_sync.ldif</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        You're done. The two databases (suffix: dc=example,dc=com) should now be synchronizing.
        </fo:block></fo:block><fo:block id="openldap-testing"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.6.3.Testing</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Once replication starts, you can monitor it by running
	</fo:block><fo:block id="idm45028023363344" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">ldapsearch -z1 -LLLQY EXTERNAL -H ldapi:/// -s base -b dc=example,dc=com contextCSN</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">
dn: dc=example,dc=com
contextCSN: 20120201193408.178454Z#000000#000#000000
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	on both the provider and the consumer. 
	Once the output 
	(<fo:inline font-size="8.800000000000001pt" font-family="monospace">20120201193408.178454Z#000000#000#000000</fo:inline> 
	in the above example) for both machines match, you have replication. 
	Every time a change is done in the provider, this value will 
	change and so should the one in the consumer(s). 
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	If your connection is slow and/or your ldap database large, it might 
	take a while for the consumer's  <fo:inline font-style="italic">contextCSN</fo:inline>
	match the provider's. But, you will know it is progressing since the
	consumer's  <fo:inline font-style="italic">contextCSN</fo:inline> will be steadly 
	increasing.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	If the consumer's  <fo:inline font-style="italic">contextCSN</fo:inline> is missing or does not
	match the provider, you should stop and figure out the issue before continuing.
	Try checking the slapd (syslog) and the auth log files in the provider
	to see if the consumer's authentication requests were successful or 
	its requests to retrieve data (they look like a lot of ldapsearch
	statements) return no errors.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	To test if it worked simply query, on the Consumer, the DNs in the database:
	</fo:block><fo:block id="idm45028023356496" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ldapsearch -Q -LLL -Y EXTERNAL -H ldapi:/// -b dc=example,dc=com dn</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	You should see the user 'john' and the group 'miners' as well as the nodes 'People' and 'Groups'.
	</fo:block></fo:block></fo:block><fo:block id="openldap-server-acl"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Access Control</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.7.Access Control</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	The management of what type of access (read, write, etc) users should be granted to resources is known as
	<fo:inline font-style="italic">access control</fo:inline>. The configuration directives involved are called <fo:inline font-style="italic">access control lists</fo:inline> or ACL.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	When we installed the slapd package various ACL were set up automatically. We will look at a few important consequences of those
	defaults and, in so doing, we'll get an idea of how ACLs work and how they're configured.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	To get the effective ACL for an LDAP query we need to look at the ACL entries of the database being queried as well as those of the
	special frontend database instance. The ACLs belonging to the latter act as defaults in case those of the former do not match. The
	frontend database is the second to be consulted and the ACL to be applied is the first to match ("first match wins") among these 2
	ACL sources. The following commands will give, respectively, the ACLs of the mdb database ("dc=example,dc=com") and those of the
	frontend database:
	</fo:block><fo:block id="idm45028023349728" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ldapsearch -Q -LLL -Y EXTERNAL -H ldapi:/// -b \
cn=config '(olcDatabase={1}mdb)' olcAccess</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">
dn: olcDatabase={1}mdb,cn=config
olcAccess: {0}to attrs=userPassword by self write by anonymous auth by * none
olcAccess: {1}to attrs=shadowLastChange by self write by * read
olcAccess: {2}to * by * read
</fo:inline>
</fo:block><fo:block id="idm45028023347056" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		The rootDN always has full rights to its database and does not need to be included in any ACL.
	  	</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="idm45028023346080" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ldapsearch -Q -LLL -Y EXTERNAL -H ldapi:/// -b \
cn=config '(olcDatabase={-1}frontend)' olcAccess</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">
dn: olcDatabase={-1}frontend,cn=config
olcAccess: {0}to * by dn.exact=gidNumber=0+uidNumber=0,cn=peercred,cn=external
 ,cn=auth manage by * break
olcAccess: {1}to dn.exact="" by * read
olcAccess: {2}to dn.base="cn=Subschema" by * read
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	The very first two ACLs are crucial:
	</fo:block><fo:block id="idm45028023342960" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
olcAccess: {0}to attrs=userPassword by self write by anonymous auth by * none
olcAccess: {1}to attrs=shadowLastChange by self write by * read
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	This can be represented differently for easier digestion:
	</fo:block><fo:block id="idm45028023341536" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
to attrs=userPassword
	by self write
	by anonymous auth
	by * none

to attrs=shadowLastChange
	by self write
	by * read
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	These ACLs enforce the following:
	</fo:block><fo:list-block id="idm45028023340160" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028023339872" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Anonymous 'auth' access is provided to the <fo:inline font-style="italic">userPassword</fo:inline> attribute so that users can
	authenticate, or <fo:inline font-style="italic">bind</fo:inline>. Perhaps counter-intuitively, 'by anonymous auth' is needed
	even when anonymous access to the DIT is unwanted, otherwise this would be a chicken and egg problem:
	before authentication, all users are anonymous.
	</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023337952" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	The <fo:inline font-style="italic">by self write</fo:inline> ACL grants write access to the <fo:inline font-style="italic">userPassword</fo:inline>
	attribute to users who authenticated as the <fo:inline font-style="italic">dn</fo:inline> where the attribute lives. In other
	words, users can update the <fo:inline font-style="italic">userPassword</fo:inline> attribute of their own entries.
	</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023335216" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	The <fo:inline font-style="italic">userPassword</fo:inline> attribute is otherwise unaccessible by all other users, with the exception of the rootDN, who
	always has access and doesn't need to be mentioned explicitly.
	</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023333728" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	In order for users to change their own password, using <fo:inline font-weight="bold">passwd</fo:inline> or other utilities, the
	user's own <fo:inline font-style="italic">shadowLastChange</fo:inline> attribute needs to be writable. All other directory users get
	to read this attribute's contents.
	</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	This DIT can be searched anonymously because of 'to * by * read' in this ACL, which grants read access to
	everything else, by anyone (including anonymous):
	</fo:block><fo:block id="idm45028023330688" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
to *
	by * read
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	If this is unwanted then you need to change the ACLs. To force authentication during a bind request you can alternatively (or
	in combination with the modified ACL) use the 'olcRequire: authc' directive.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	As previously mentioned, there is no administrative account ("rootDN") created for the slapd-config database. There is, however, a SASL
	identity that is granted full access to it. It represents the localhost's superuser (root/sudo). Here it is:
	</fo:block><fo:block id="idm45028023328560" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
dn.exact=gidNumber=0+uidNumber=0,cn=peercred,cn=external,cn=auth 
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The following command will display the ACLs of the slapd-config database:
        </fo:block><fo:block id="idm45028023327184" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ldapsearch -Q -LLL -Y EXTERNAL -H ldapi:/// -b \
cn=config '(olcDatabase={0}config)' olcAccess</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">
dn: olcDatabase={0}config,cn=config
olcAccess: {0}to * by dn.exact=gidNumber=0+uidNumber=0,cn=peercred,
              cn=external,cn=auth manage by * break
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Since this is a SASL identity we need to use a SASL <fo:inline font-style="italic">mechanism</fo:inline> when invoking the LDAP utility in question and
	we have seen it plenty of times in this guide. It is the EXTERNAL mechanism. See the previous command for an example. Note that:
	</fo:block><fo:block id="idm45028023323536" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:list-block provisional-distance-between-starts="2em" provisional-label-separation="0.2em" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em"><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028023323248">1.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		You must use <fo:inline font-style="italic">sudo</fo:inline> to become the root identity in order for the ACL to match.
		</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028023321504">2.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		The EXTERNAL mechanism works via <fo:inline font-style="italic">IPC</fo:inline> (UNIX domain sockets). This means you must use the <fo:inline font-style="italic">ldapi</fo:inline>
		URI format.
		</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	A succinct way to get all the ACLs is like this:
	</fo:block><fo:block id="idm45028023318800" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ldapsearch -Q -LLL -Y EXTERNAL -H ldapi:/// -b \
cn=config '(olcAccess=*)' olcAccess olcSuffix</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        There is much to say on the topic of access control. See the man page for
	<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man5/slapd.access.5.html" font-style="italic">slapd.access</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man5/slapd.access.5.html">http://manpages.ubuntu.com/manpages/en/man5/slapd.access.5.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
        </fo:block></fo:block><fo:block id="openldap-tls"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">TLS</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.8.TLS</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	When authenticating to an OpenLDAP server it is best to do so using an encrypted session. This can be accomplished using Transport
	Layer Security (TLS).
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Here, we will be our own <fo:inline font-style="italic">Certificate Authority</fo:inline> and then create and sign our LDAP server certificate as that CA.
	Since slapd is compiled using the gnutls library, we will use the
	certtool utility to complete these tasks.
	</fo:block><fo:block id="idm45028023310560" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:list-block provisional-distance-between-starts="2em" provisional-label-separation="0.2em" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em"><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028023310272">1.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Install the gnutls-bin and ssl-cert packages:
		</fo:block><fo:block id="idm45028023307584" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install gnutls-bin ssl-cert</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028023305808">2.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Create a private key for the Certificate Authority:
		</fo:block><fo:block id="idm45028023304672" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo sh -c "certtool --generate-privkey &gt; /etc/ssl/private/cakey.pem"</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028023302864">3.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Create the template/file <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ssl/ca.info</fo:inline> to define the CA:
		</fo:block><fo:block id="idm45028023300960" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
cn = Example Company
ca
cert_signing_key
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028023300032">4.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Create the self-signed CA certificate:
		</fo:block><fo:block id="idm45028023298976" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo certtool --generate-self-signed \
--load-privkey /etc/ssl/private/cakey.pem \ 
--template /etc/ssl/ca.info \
--outfile /etc/ssl/certs/cacert.pem</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028023297088">5.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Make a private key for the server:
		</fo:block><fo:block id="idm45028023296032" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo certtool --generate-privkey \
--bits 1024 \
--outfile /etc/ssl/private/ldap01_slapd_key.pem</fo:inline>
</fo:block><fo:block id="idm45028023294352" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			Replace <fo:inline font-style="italic">ldap01</fo:inline> in the filename with your server's hostname. Naming the certificate and
			key for the host and service that will be using them will help keep things clear.
			</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028023292704">6.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Create the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ssl/ldap01.info</fo:inline> info file containing:
		</fo:block><fo:block id="idm45028023290800" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
organization = Example Company
cn = ldap01.example.com
tls_www_server
encryption_key
signing_key
expiration_days = 3650
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		The above certificate is good for 10 years. Adjust accordingly.
		</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028023289232">7.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Create the server's certificate:
		</fo:block><fo:block id="idm45028023288128" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo certtool --generate-certificate \
--load-privkey /etc/ssl/private/ldap01_slapd_key.pem \
--load-ca-certificate /etc/ssl/certs/cacert.pem \
--load-ca-privkey /etc/ssl/private/cakey.pem \
--template /etc/ssl/ldap01.info \
--outfile /etc/ssl/certs/ldap01_slapd_cert.pem</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028023286112">8.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Adjust permissions and ownership:
		</fo:block><fo:block id="idm45028023285008" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo chgrp openldap /etc/ssl/private/ldap01_slapd_key.pem</fo:inline>
<fo:inline font-weight="bold">sudo chmod 0640 /etc/ssl/private/ldap01_slapd_key.pem</fo:inline>
<fo:inline font-weight="bold">sudo gpasswd -a openldap ssl-cert</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028023281616">9.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Now restart slapd, since we added the 'openldap'
		 user to the 'ssl-cert' group:
		</fo:block><fo:block id="idm45028023279680" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart slapd.service</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Your server is now ready to accept the new TLS configuration.
		</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Create the file <fo:inline font-size="8.800000000000001pt" font-family="monospace">certinfo.ldif</fo:inline> with the following contents (adjust accordingly, our example assumes we created certs using https://www.cacert.org):
	</fo:block><fo:block id="idm45028023275904" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
dn: cn=config
add: olcTLSCACertificateFile
olcTLSCACertificateFile: /etc/ssl/certs/cacert.pem
-
add: olcTLSCertificateFile
olcTLSCertificateFile: /etc/ssl/certs/ldap01_slapd_cert.pem
-
add: olcTLSCertificateKeyFile
olcTLSCertificateKeyFile: /etc/ssl/private/ldap01_slapd_key.pem
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Use the ldapmodify command to tell slapd about our TLS work via the slapd-config database:
        </fo:block><fo:block id="idm45028023273616" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ldapmodify -Y EXTERNAL -H ldapi:/// -f certinfo.ldif</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Contratry to popular belief, you do not need <fo:inline font-style="italic">ldaps://</fo:inline> in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/default/slapd</fo:inline>
	in order to use encryption. You should have just:
        </fo:block><fo:block id="idm45028023270256" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
SLAPD_SERVICES="ldap:/// ldapi:///"
</fo:block><fo:block id="idm45028023269440" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		LDAP over TLS/SSL (ldaps://) is deprecated in favour of <fo:inline font-style="italic">StartTLS</fo:inline>. The latter refers to an
		existing LDAP session (listening on TCP port 389) becoming protected by TLS/SSL whereas LDAPS, like HTTPS, is a
		distinct encrypted-from-the-start protocol that operates over TCP port 636.
		</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="openldap-tls-replication"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Replication and TLS</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.9.Replication and TLS</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	If you have set up replication between servers, it is common practice to encrypt (StartTLS) the replication traffic to prevent
	evesdropping. This is distinct from using encryption with authentication as we did above. In this section we will build on that
	TLS-authentication work.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	The assumption here is that you have set up replication between Provider and Consumer according to <fo:basic-link internal-destination="openldap-server-replication"><fo:inline font-style="italic">Section1.6, Replication</fo:inline></fo:basic-link><fo:basic-link internal-destination="openldap-server-replication" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="openldap-server-replication"/>]</fo:inline></fo:basic-link>
	and have configured TLS for authentication on the Provider by following <fo:basic-link internal-destination="openldap-tls"><fo:inline font-style="italic">Section1.8, TLS</fo:inline></fo:basic-link><fo:basic-link internal-destination="openldap-tls" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="openldap-tls"/>]</fo:inline></fo:basic-link>.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	As previously stated, the objective (for us) with replication is high availablity for the LDAP service. Since we have TLS for
	authentication on the Provider we will require the same on the Consumer. In addition to this, however, we want to encrypt
	replication traffic. What remains to be done is to create a key and certificate for the Consumer and then configure accordingly.
	We will generate the key/certificate on the Provider, to avoid having to create another CA certificate, and then transfer the
	necessary material over to the Consumer.
	</fo:block><fo:block id="idm45028023263008" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:list-block provisional-distance-between-starts="2em" provisional-label-separation="0.2em" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em"><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028023262720">1.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                On the Provider,
                </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Create a holding directory (which will be used for the eventual transfer) and then the Consumer's private key:
                </fo:block><fo:block id="idm45028023261104" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">mkdir ldap02-ssl</fo:inline>
<fo:inline font-weight="bold">cd ldap02-ssl</fo:inline>
<fo:inline font-weight="bold">sudo certtool --generate-privkey \
--bits 1024 \
--outfile ldap02_slapd_key.pem</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                Create an info file, <fo:inline font-size="8.800000000000001pt" font-family="monospace">ldap02.info</fo:inline>, for the Consumer server, adjusting its values accordingly:
                </fo:block><fo:block id="idm45028023256704" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
organization = Example Company
cn = ldap02.example.com
tls_www_server
encryption_key
signing_key
expiration_days = 3650
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                Create the Consumer's certificate:
                </fo:block><fo:block id="idm45028023255296" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo certtool --generate-certificate \
--load-privkey ldap02_slapd_key.pem \
--load-ca-certificate /etc/ssl/certs/cacert.pem \
--load-ca-privkey /etc/ssl/private/cakey.pem \
--template ldap02.info \
--outfile ldap02_slapd_cert.pem</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                Get a copy of the CA certificate:
                </fo:block><fo:block id="idm45028023252992" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">cp /etc/ssl/certs/cacert.pem .</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		We're done. Now transfer the <fo:inline font-size="8.800000000000001pt" font-family="monospace">ldap02-ssl</fo:inline> directory to the Consumer.  Here we use scp (adjust accordingly):
		</fo:block><fo:block id="idm45028023250064" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">cd ..</fo:inline>
<fo:inline font-weight="bold">scp -r ldap02-ssl user@consumer:</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028023247488">2.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		On the Consumer,
		</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Configure TLS authentication:
		</fo:block><fo:block id="idm45028023245936" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install ssl-cert</fo:inline>
<fo:inline font-weight="bold">sudo gpasswd -a openldap ssl-cert</fo:inline>
<fo:inline font-weight="bold">sudo cp ldap02_slapd_cert.pem cacert.pem /etc/ssl/certs</fo:inline>
<fo:inline font-weight="bold">sudo cp ldap02_slapd_key.pem /etc/ssl/private</fo:inline>
<fo:inline font-weight="bold">sudo chgrp openldap /etc/ssl/private/ldap02_slapd_key.pem</fo:inline>
<fo:inline font-weight="bold">sudo chmod 0640 /etc/ssl/private/ldap02_slapd_key.pem</fo:inline>
<fo:inline font-weight="bold">sudo systemctl restart slapd.service</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Create the file <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ssl/certinfo.ldif</fo:inline> with the following contents (adjust accordingly):
		</fo:block><fo:block id="idm45028023238320" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
dn: cn=config
add: olcTLSCACertificateFile
olcTLSCACertificateFile: /etc/ssl/certs/cacert.pem
-
add: olcTLSCertificateFile
olcTLSCertificateFile: /etc/ssl/certs/ldap02_slapd_cert.pem
-
add: olcTLSCertificateKeyFile
olcTLSCertificateKeyFile: /etc/ssl/private/ldap02_slapd_key.pem
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Configure the slapd-config database:
		</fo:block><fo:block id="idm45028023236832" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ldapmodify -Y EXTERNAL -H ldapi:/// -f certinfo.ldif</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Configure <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/default/slapd</fo:inline> as on the Provider (SLAPD_SERVICES).
		</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028023233808">3.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		On the Consumer,
		</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Configure TLS for Consumer-side replication. Modify the existing <fo:inline font-style="italic">olcSyncrepl</fo:inline> attribute by tacking
		on some TLS options. In so doing, we will see, for the first time, how to change an attribute's value(s).
		</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Create the file <fo:inline font-size="8.800000000000001pt" font-family="monospace">consumer_sync_tls.ldif</fo:inline> with the following contents:
		</fo:block><fo:block id="idm45028023230400" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
dn: olcDatabase={1}mdb,cn=config
replace: olcSyncRepl
olcSyncRepl: rid=0 provider=ldap://ldap01.example.com bindmethod=simple
 binddn="cn=admin,dc=example,dc=com" credentials=secret searchbase="dc=example,dc=com"
 logbase="cn=accesslog" logfilter="(&amp;(objectClass=auditWriteObject)(reqResult=0))"
 schemachecking=on type=refreshAndPersist retry="60 +" syncdata=accesslog
 starttls=critical tls_reqcert=demand
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		The extra options specify, respectively, that the consumer must use StartTLS and that the CA certificate is required to verify the
		Provider's identity. Also note the LDIF syntax for changing the values of an attribute ('replace').
		</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Implement these changes:
		</fo:block><fo:block id="idm45028023228064" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ldapmodify -Y EXTERNAL -H ldapi:/// -f consumer_sync_tls.ldif</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		And restart slapd:
		</fo:block><fo:block id="idm45028023225952" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart slapd.service</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028023224176">4.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		On the Provider,
		</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Check to see that a TLS session has been established. In <fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/log/syslog</fo:inline>, providing you have
		'conns'-level logging set up, you should see messages similar to:		      
		</fo:block><fo:block id="idm45028023221712" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
slapd[3620]: conn=1047 fd=20 ACCEPT from IP=10.153.107.229:57922 (IP=0.0.0.0:389)
slapd[3620]: conn=1047 op=0 EXT oid=1.3.6.1.4.1.1466.20037
slapd[3620]: conn=1047 op=0 STARTTLS
slapd[3620]: conn=1047 op=0 RESULT oid= err=0 text=
slapd[3620]: conn=1047 fd=20 TLS established tls_ssf=128 ssf=128
slapd[3620]: conn=1047 op=1 BIND dn="cn=admin,dc=example,dc=com" method=128
slapd[3620]: conn=1047 op=1 BIND dn="cn=admin,dc=example,dc=com" mech=SIMPLE ssf=0
slapd[3620]: conn=1047 op=1 RESULT tag=97 err=0 text
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="openldap-auth-config"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">LDAP Authentication</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.10.LDAP Authentication</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Once you have a working LDAP server, you will need to install libraries on the client that will know how and when to contact it.
	On Ubuntu, this has been traditionally accomplished by installing the libnss-ldap package. This package
	will bring in other tools that will assist you in the configuration step. Install this package now:
	</fo:block><fo:block id="idm45028023217072" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install libnss-ldap</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        You will be prompted for details of your LDAP server. If you make a mistake you can try again using:
        </fo:block><fo:block id="idm45028023214912" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo dpkg-reconfigure ldap-auth-config</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	The results of the dialog can be seen in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ldap.conf</fo:inline>. If your server requires options not covered in the menu 
	edit this file accordingly.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Now configure the LDAP profile for NSS:
	</fo:block><fo:block id="idm45028023211584" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo auth-client-config -t nss -p lac_ldap</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Configure the system to use LDAP for authentication:
	</fo:block><fo:block id="idm45028023209520" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo pam-auth-update</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	From the menu, choose LDAP and any other authentication mechanisms you need.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	You should now be able to log in using LDAP-based credentials.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	LDAP clients will need to refer to multiple servers if replication is in use. In <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ldap.conf</fo:inline> you would
	have something like:
	</fo:block><fo:block id="idm45028023205776" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
uri ldap://ldap01.example.com ldap://ldap02.example.com
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	The request will time out and the Consumer (ldap02) will attempt to be reached if the Provider (ldap01) becomes unresponsive.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	If you are going to use LDAP to store Samba users you will need to configure the Samba server to authenticate using LDAP. See
	<fo:basic-link internal-destination="samba-ldap"><fo:inline font-style="italic">Section2, Samba and LDAP</fo:inline></fo:basic-link><fo:basic-link internal-destination="samba-ldap" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="samba-ldap"/>]</fo:inline></fo:basic-link> for details.
	</fo:block><fo:block id="idm45028023203248" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		An alternative to the libnss-ldap package is the libnss-ldapd
		package. This, however, will bring in the nscd package which is problably not wanted. Simply
		remove it afterwards.
		</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="ldap-usergroup-management"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">User and Group Management</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.11.User and Group Management</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	The ldap-utils package comes with enough utilities to manage the directory but the long string of
	options needed can make them a burden to use. The ldapscripts package contains wrapper scripts to these
	utilities that some people find easier to use.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Install the package:
	</fo:block><fo:block id="idm45028023195776" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install ldapscripts</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> 
	Then edit the file <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ldapscripts/ldapscripts.conf</fo:inline> to arrive at something similar to the following:
	</fo:block><fo:block id="idm45028023192928" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
SERVER=localhost
BINDDN='cn=admin,dc=example,dc=com'
BINDPWDFILE="/etc/ldapscripts/ldapscripts.passwd"
SUFFIX='dc=example,dc=com'
GSUFFIX='ou=Groups'
USUFFIX='ou=People'
MSUFFIX='ou=Computers'
GIDSTART=10000
UIDSTART=10000
MIDSTART=10000
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Now, create the <fo:inline font-size="8.800000000000001pt" font-family="monospace">ldapscripts.passwd</fo:inline> file to allow rootDN access to the directory:
	</fo:block><fo:block id="idm45028023190688" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo sh -c "echo -n 'secret' &gt; /etc/ldapscripts/ldapscripts.passwd"</fo:inline>
<fo:inline font-weight="bold">sudo chmod 400 /etc/ldapscripts/ldapscripts.passwd</fo:inline>
</fo:block><fo:block id="idm45028023188272" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Replace <fo:inline>secret</fo:inline> with the actual password for your database's rootDN user.
		</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	The scripts are now ready to help manage your directory. Here are some examples of how to use them:
	</fo:block><fo:list-block id="idm45028023186352" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028023186064" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Create a new user:
		</fo:block><fo:block id="idm45028023185312" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ldapadduser george example</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		This will create a user with uid <fo:inline font-style="italic">george</fo:inline> and set the user's primary group (gid) to
		<fo:inline font-style="italic">example</fo:inline>
		</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023181664" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Change a user's password:
		</fo:block><fo:block id="idm45028023180912" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ldapsetpasswd george</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">Changing password for user uid=george,ou=People,dc=example,dc=com</fo:inline>
<fo:inline font-weight="bold" font-size="8.800000000000001pt" font-family="monospace">New Password: </fo:inline>
<fo:inline font-weight="bold" font-size="8.800000000000001pt" font-family="monospace">New Password (verify): </fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023176688" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Delete a user:
		</fo:block><fo:block id="idm45028023175952" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ldapdeleteuser george</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023174176" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Add a group:
		</fo:block><fo:block id="idm45028021253408" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ldapaddgroup qa</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021252032" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Delete a group:
		</fo:block><fo:block id="idm45028021251392" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ldapdeletegroup qa</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021250016" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Add a user to a group:
		</fo:block><fo:block id="idm45028021249376" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ldapaddusertogroup george qa</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		You should now see a <fo:inline font-style="italic">memberUid</fo:inline> attribute for the <fo:inline font-style="italic">qa</fo:inline> group with 
		a value of <fo:inline font-style="italic">george</fo:inline>.
		</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021245984" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Remove a user from a group:
		</fo:block><fo:block id="idm45028021245344" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ldapdeleteuserfromgroup george qa</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		The <fo:inline font-style="italic">memberUid</fo:inline> attribute should now be removed from the <fo:inline font-style="italic">qa</fo:inline>
		group.
		</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021242576" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		The ldapmodifyuser script allows you to add, remove, or replace a user's attributes.  
		The script uses the same syntax as the ldapmodify utility.  For example:
		</fo:block><fo:block id="idm45028021240560" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ldapmodifyuser george</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace"># About to modify the following entry :
dn: uid=george,ou=People,dc=example,dc=com
objectClass: account
objectClass: posixAccount
cn: george
uid: george
uidNumber: 1001
gidNumber: 1001
homeDirectory: /home/george
loginShell: /bin/bash
gecos: george
description: User account
userPassword:: e1NTSEF9eXFsTFcyWlhwWkF1eGUybVdFWHZKRzJVMjFTSG9vcHk=

# Enter your modifications here, end with CTRL-D.
dn: uid=george,ou=People,dc=example,dc=com</fo:inline>
<fo:inline font-weight="bold" font-size="8.800000000000001pt" font-family="monospace">replace: gecos
gecos: George Carlin</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		The user's <fo:inline font-style="italic">gecos</fo:inline> should now be <fo:inline>George Carlin</fo:inline>.
		</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021236336" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		A nice feature of ldapscripts is the template system. Templates allow you to customize the
		attributes of user, group, and machine objects. For example, to enable the <fo:inline font-style="italic">user</fo:inline> template edit
		<fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ldapscripts/ldapscripts.conf</fo:inline> changing:
		</fo:block><fo:block id="idm45028021233904" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
UTEMPLATE="/etc/ldapscripts/ldapadduser.template"
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		There are <fo:inline font-style="italic">sample</fo:inline> templates in the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/usr/share/doc/ldapscripts/examples</fo:inline> directory.
		Copy or rename the <fo:inline font-size="8.800000000000001pt" font-family="monospace">ldapadduser.template.sample</fo:inline> file to
		<fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ldapscripts/ldapadduser.template</fo:inline>:
		</fo:block><fo:block id="idm45028021230400" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo cp /usr/share/doc/ldapscripts/examples/ldapadduser.template.sample \
/etc/ldapscripts/ldapadduser.template</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Edit the new template to add the desired attributes. The following will create new users with an objectClass of
		inetOrgPerson:
		</fo:block><fo:block id="idm45028021228496" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
dn: uid=&lt;user&gt;,&lt;usuffix&gt;,&lt;suffix&gt;
objectClass: inetOrgPerson
objectClass: posixAccount
cn: &lt;user&gt;
sn: &lt;ask&gt;
uid: &lt;user&gt;
uidNumber: &lt;uid&gt;
gidNumber: &lt;gid&gt;
homeDirectory: &lt;home&gt;
loginShell: &lt;shell&gt;
gecos: &lt;user&gt;
description: User account
title: Employee
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Notice the <fo:inline font-style="italic">&lt;ask&gt;</fo:inline> option used for the <fo:inline font-style="italic">sn</fo:inline> attribute. This 
		will make ldapadduser prompt you for its value.
		</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        There are utilities in the package that were not covered here. Here is a complete list:
        </fo:block><fo:block id="idm45028021225056" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldaprenamemachine.1.html" font-style="italic">ldaprenamemachine</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldaprenamemachine.1.html">http://manpages.ubuntu.com/manpages/en/man1/ldaprenamemachine.1.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldapadduser.1.html" font-style="italic">ldapadduser</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldapadduser.1.html">http://manpages.ubuntu.com/manpages/en/man1/ldapadduser.1.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldapdeleteuserfromgroup.1.html" font-style="italic">ldapdeleteuserfromgroup</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">7</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">7</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldapdeleteuserfromgroup.1.html">http://manpages.ubuntu.com/manpages/en/man1/ldapdeleteuserfromgroup.1.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldapfinger.1.html" font-style="italic">ldapfinger</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">8</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">8</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldapfinger.1.html">http://manpages.ubuntu.com/manpages/en/man1/ldapfinger.1.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldapid.1.html" font-style="italic">ldapid</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">9</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">9</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldapid.1.html">http://manpages.ubuntu.com/manpages/en/man1/ldapid.1.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldapgid.1.html" font-style="italic">ldapgid</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">10</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">10</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldapgid.1.html">http://manpages.ubuntu.com/manpages/en/man1/ldapgid.1.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldapmodifyuser.1.html" font-style="italic">ldapmodifyuser</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">11</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">11</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldapmodifyuser.1.html">http://manpages.ubuntu.com/manpages/en/man1/ldapmodifyuser.1.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldaprenameuser.1.html" font-style="italic">ldaprenameuser</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">12</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">12</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldaprenameuser.1.html">http://manpages.ubuntu.com/manpages/en/man1/ldaprenameuser.1.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/lsldap.1.html" font-style="italic">lsldap</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">13</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">13</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/lsldap.1.html">http://manpages.ubuntu.com/manpages/en/man1/lsldap.1.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldapaddusertogroup.1.html" font-style="italic">ldapaddusertogroup</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">14</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">14</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldapaddusertogroup.1.html">http://manpages.ubuntu.com/manpages/en/man1/ldapaddusertogroup.1.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldapsetpasswd.1.html" font-style="italic">ldapsetpasswd</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">15</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">15</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldapsetpasswd.1.html">http://manpages.ubuntu.com/manpages/en/man1/ldapsetpasswd.1.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldapinit.1.html" font-style="italic">ldapinit</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">16</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">16</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldapinit.1.html">http://manpages.ubuntu.com/manpages/en/man1/ldapinit.1.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldapaddgroup.1.html" font-style="italic">ldapaddgroup</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">17</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">17</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldapaddgroup.1.html">http://manpages.ubuntu.com/manpages/en/man1/ldapaddgroup.1.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldapdeletegroup.1.html" font-style="italic">ldapdeletegroup</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">18</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">18</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldapdeletegroup.1.html">http://manpages.ubuntu.com/manpages/en/man1/ldapdeletegroup.1.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldapmodifygroup.1.html" font-style="italic">ldapmodifygroup</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">19</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">19</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldapmodifygroup.1.html">http://manpages.ubuntu.com/manpages/en/man1/ldapmodifygroup.1.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldapdeletemachine.1.html" font-style="italic">ldapdeletemachine</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">20</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">20</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldapdeletemachine.1.html">http://manpages.ubuntu.com/manpages/en/man1/ldapdeletemachine.1.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldaprenamegroup.1.html" font-style="italic">ldaprenamegroup</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">21</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">21</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldaprenamegroup.1.html">http://manpages.ubuntu.com/manpages/en/man1/ldaprenamegroup.1.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldapaddmachine.1.html" font-style="italic">ldapaddmachine</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">22</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">22</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldapaddmachine.1.html">http://manpages.ubuntu.com/manpages/en/man1/ldapaddmachine.1.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldapmodifymachine.1.html" font-style="italic">ldapmodifymachine</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">23</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">23</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldapmodifymachine.1.html">http://manpages.ubuntu.com/manpages/en/man1/ldapmodifymachine.1.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldapsetprimarygroup.1.html" font-style="italic">ldapsetprimarygroup</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">24</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">24</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldapsetprimarygroup.1.html">http://manpages.ubuntu.com/manpages/en/man1/ldapsetprimarygroup.1.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldapdeleteuser.1.html" font-style="italic">ldapdeleteuser</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">25</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">25</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man1/ldapdeleteuser.1.html">http://manpages.ubuntu.com/manpages/en/man1/ldapdeleteuser.1.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
</fo:block></fo:block><fo:block id="ldap-backup"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Backup and Restore</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.12.Backup and Restore</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Now we have ldap running just the way we want, it is time to 
	ensure we can save all of our work and restore it as needed.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	What we need is a way to backup the ldap database(s), specifically
	the backend (cn=config) and frontend (dc=example,dc=com). 
	If we are going to backup those databases into, say, 
	<fo:inline font-size="8.800000000000001pt" font-family="monospace">/export/backup</fo:inline>, we could use 
	slapcat
	as shown in the following script,
	called <fo:inline font-size="8.800000000000001pt" font-family="monospace">/usr/local/bin/ldapbackup</fo:inline>:
	</fo:block><fo:block id="idm45028021207088" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
#!/bin/bash

BACKUP_PATH=/export/backup
SLAPCAT=/usr/sbin/slapcat

nice ${SLAPCAT} -n 0 &gt; ${BACKUP_PATH}/config.ldif
nice ${SLAPCAT} -n 1 &gt; ${BACKUP_PATH}/example.com.ldif
nice ${SLAPCAT} -n 2 &gt; ${BACKUP_PATH}/access.ldif
chmod 640 ${BACKUP_PATH}/*.ldif
</fo:block><fo:block id="idm45028021206192" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		These files are uncompressed text files containing
		everything in your ldap databases including the tree 
		layout, usernames, and every password. So, you might
		want to consider making <fo:inline font-size="8.800000000000001pt" font-family="monospace">/export/backup</fo:inline>
		an encrypted partition and even having the script encrypt 
		those files as it creates them. Ideally you should do both,
		but that depends on your security requirements.
		</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Then, it is just a matter of having a cron script to run this
	program as often as we feel comfortable with. For many, once a day 
	suffices. For others, more often is required. Here is an example
	of a cron script called <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/cron.d/ldapbackup</fo:inline>
	that is run every night at 22:45h:
	</fo:block><fo:block id="idm45028021203152" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
MAILTO=backup-emails@domain.com
45 22 * * *  root    /usr/local/bin/ldapbackup
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Now the files are created, they should be copied to a backup
	server. 
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Assuming we did a fresh reinstall of ldap, the restore process 
	could be something like this:
	</fo:block><fo:block id="idm45028021201648" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl stop slapd.service</fo:inline>
<fo:inline font-weight="bold">sudo mkdir /var/lib/ldap/accesslog</fo:inline>
<fo:inline font-weight="bold">sudo slapadd -F /etc/ldap/slapd.d -n 0 -l /export/backup/config.ldif</fo:inline>
<fo:inline font-weight="bold">sudo slapadd -F /etc/ldap/slapd.d -n 1 -l /export/backup/domain.com.ldif</fo:inline>
<fo:inline font-weight="bold">sudo slapadd -F /etc/ldap/slapd.d -n 2 -l /export/backup/access.ldif</fo:inline>
<fo:inline font-weight="bold">sudo chown -R openldap:openldap /etc/ldap/slapd.d/</fo:inline>
<fo:inline font-weight="bold">sudo chown -R openldap:openldap /var/lib/ldap/</fo:inline>
<fo:inline font-weight="bold">sudo systemctl start slapd.service</fo:inline>
</fo:block></fo:block><fo:block id="openldap-server-resources"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Resources</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.13.Resources</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028021194784" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028021194528" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	The primary resource is the upstream documentation: <fo:basic-link external-destination="http://www.openldap.org/" font-style="italic">www.openldap.org</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">26</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">26</fo:inline> <fo:basic-link external-destination="http://www.openldap.org/">http://www.openldap.org/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
	</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021193136" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	There are many man pages that come with the slapd package. Here are some important ones, especially considering the material
	presented in this guide:
	</fo:block><fo:block id="idm45028021192320" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/slapd.8.html" font-style="italic">slapd</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">27</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">27</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/slapd.8.html">http://manpages.ubuntu.com/manpages/en/man8/slapd.8.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man5/slapd-config.5.html" font-style="italic">slapd-config</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">28</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">28</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man5/slapd-config.5.html">http://manpages.ubuntu.com/manpages/en/man5/slapd-config.5.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man5/slapd.access.5.html" font-style="italic">slapd.access</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">29</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">29</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man5/slapd.access.5.html">http://manpages.ubuntu.com/manpages/en/man5/slapd.access.5.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man5/slapo-syncprov.5.html" font-style="italic">slapo-syncprov</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">30</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">30</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man5/slapo-syncprov.5.html">http://manpages.ubuntu.com/manpages/en/man5/slapo-syncprov.5.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021189072" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Other man pages:
	</fo:block><fo:block id="idm45028021188432" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/auth-client-config.8.html" font-style="italic">auth-client-config</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">31</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">31</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/auth-client-config.8.html">http://manpages.ubuntu.com/manpages/en/man8/auth-client-config.8.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/pam-auth-update.8.html" font-style="italic">pam-auth-update</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">32</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">32</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/pam-auth-update.8.html">http://manpages.ubuntu.com/manpages/en/man8/pam-auth-update.8.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021186432" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Zytrax's <fo:basic-link external-destination="http://www.zytrax.com/books/ldap/" font-style="italic">LDAP for Rocket Scientists</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">33</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">33</fo:inline> <fo:basic-link external-destination="http://www.zytrax.com/books/ldap/">http://www.zytrax.com/books/ldap/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>; a less pedantic but comprehensive treatment of LDAP
	</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021185040" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	A Ubuntu community <fo:basic-link external-destination="https://help.ubuntu.com/community/OpenLDAPServer" font-style="italic">OpenLDAP wiki</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">34</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">34</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/OpenLDAPServer">https://help.ubuntu.com/community/OpenLDAPServer</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> page has a collection of notes
	</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021183648" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	O'Reilly's <fo:basic-link external-destination="http://www.oreilly.com/catalog/ldapsa/" font-style="italic">LDAP System Administration</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">35</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">35</fo:inline> <fo:basic-link external-destination="http://www.oreilly.com/catalog/ldapsa/">http://www.oreilly.com/catalog/ldapsa/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> (textbook; 2003)
	</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021182256" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Packt's <fo:basic-link external-destination="http://www.packtpub.com/OpenLDAP-Developers-Server-Open-Source-Linux/book" font-style="italic">Mastering OpenLDAP</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">36</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">36</fo:inline> <fo:basic-link external-destination="http://www.packtpub.com/OpenLDAP-Developers-Server-Open-Source-Linux/book">http://www.packtpub.com/OpenLDAP-Developers-Server-Open-Source-Linux/book</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> (textbook; 2007)
	</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="samba-ldap"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Samba and LDAP</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">2.Samba and LDAP</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	This section covers the integration of Samba with LDAP. The Samba server's role will be that of a "standalone" server and the LDAP
	directory will provide the authentication layer in addition to containing the user, group, and machine account information that Samba
	requires in order to function (in any of its 3 possible roles). The pre-requisite is an OpenLDAP server configured with a directory
	that can accept authentication requests. See <fo:basic-link internal-destination="openldap-server"><fo:inline font-style="italic">Section1, OpenLDAP Server</fo:inline></fo:basic-link><fo:basic-link internal-destination="openldap-server" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="openldap-server"/>]</fo:inline></fo:basic-link> for details on fulfilling this requirement. Once this
	section is completed, you will need to decide what specifically you want Samba to do for you and then configure it accordingly.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	This guide will assume that the LDAP and Samba services are running on the same server and therefore use SASL EXTERNAL authentication
	whenever changing something under <fo:inline font-style="italic">cn=config</fo:inline>. If that is not your scenario, you will have to run those ldap
	commands on the LDAP server.</fo:block><fo:block id="samba-ldap-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Software Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.1.Software Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	There are two packages needed when integrating Samba with LDAP: samba
	and smbldap-tools.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Strictly speaking, the smbldap-tools package isn't needed, but unless you have some other way to manage the various
	Samba entities (users, groups, computers) in an LDAP context then you should install it.  
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Install these packages now:
	</fo:block><fo:block id="idm45028021172400" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install samba smbldap-tools</fo:inline>
</fo:block></fo:block><fo:block id="samba-ldap-openldap-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">LDAP Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.2.LDAP Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	We will now configure the LDAP server so that it can accomodate Samba data. We will perform three tasks in this section:
	</fo:block><fo:block id="idm45028021169376" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:list-block provisional-distance-between-starts="2em" provisional-label-separation="0.2em" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em"><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028021169120">1.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Import a schema</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028021168112">2.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Index some entries</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028021167104">3.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Add objects</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="samba-ldap-openldap-configuration-samba-schema"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">2.2.1.Samba schema</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      	In order for OpenLDAP to be used as a backend for Samba, logically, the DIT will need to use attributes that can properly describe
	Samba data. Such attributes can be obtained by introducing a Samba LDAP schema. Let's do this now.
      	</fo:block><fo:block id="idm45028021164208" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		For more information on schemas and their installation see <fo:basic-link internal-destination="openldap-configuration"><fo:inline font-style="italic">Section1.4, Modifying the slapd Configuration Database</fo:inline></fo:basic-link><fo:basic-link internal-destination="openldap-configuration" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="openldap-configuration"/>]</fo:inline></fo:basic-link>.
		</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="idm45028021162944" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:list-block provisional-distance-between-starts="2em" provisional-label-separation="0.2em" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em"><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028021162688">1.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		The schema is found in the now-installed samba package and is already in the ldif format.
		We can import it with one simple command:
		</fo:block><fo:block id="idm45028021161072" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">zcat /usr/share/doc/samba/examples/LDAP/samba.ldif.gz | sudo ldapadd -Q -Y EXTERNAL -H ldapi:///</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028021159584">2.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		To query and view this new schema:
		</fo:block><fo:block id="idm45028021158704" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ldapsearch -Q -LLL -Y EXTERNAL -H ldapi:/// -b cn=schema,cn=config 'cn=*samba*'</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="samba-ldap-openldap-configuration-samba-indices"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">2.2.2.Samba indices</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Now that slapd knows about the Samba attributes, we can set up some indices based on them. Indexing entries is a way to improve
	performance when a client performs a filtered search on the DIT.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Create the file <fo:inline font-size="8.800000000000001pt" font-family="monospace">samba_indices.ldif</fo:inline> with the following contents:
	</fo:block><fo:block id="idm45028021154352" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
dn: olcDatabase={1}mdb,cn=config
changetype: modify
replace: olcDbIndex
olcDbIndex: objectClass eq
olcDbIndex: uidNumber,gidNumber eq
olcDbIndex: loginShell eq
olcDbIndex: uid,cn eq,sub
olcDbIndex: memberUid eq,sub
olcDbIndex: member,uniqueMember eq
olcDbIndex: sambaSID eq
olcDbIndex: sambaPrimaryGroupSID eq
olcDbIndex: sambaGroupType eq
olcDbIndex: sambaSIDList eq
olcDbIndex: sambaDomainName eq
olcDbIndex: default sub,eq
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Using the ldapmodify utility load the new indices:
	</fo:block><fo:block id="idm45028021152272" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ldapmodify -Q -Y EXTERNAL -H ldapi:/// -f samba_indices.ldif</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	If all went well you should see the new indices using ldapsearch:
	</fo:block><fo:block id="idm45028021150016" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ldapsearch -Q -LLL -Y EXTERNAL -H \
ldapi:/// -b cn=config olcDatabase={1}mdb olcDbIndex</fo:inline>
</fo:block></fo:block><fo:block id="samba-ldap-openldap-configuration-populating"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">2.2.3.Adding Samba LDAP objects</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Next, configure the smbldap-tools package to match your environment.  The package 
	comes with a configuration helper script called smbldap-config. Before running it,
	though, you should decide on two important configuration settings in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/samba/smb.conf</fo:inline>:
	</fo:block><fo:list-block id="idm45028021144928" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028021144432" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">netbios name</fo:inline>: how this server will be known. The default value is derived
		from the server's hostname, but truncated at 15 characters.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021143264" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">workgroup</fo:inline>: the workgroup name for this server, or, if you later decide to make it
		a domain controller, this will be the domain.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">It's important to make these choices now because smbldap-config will use them
	to generate the config that will be later stored in the LDAP directory. If you run
	smbldap-config now and later change these values in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/samba/smb.conf</fo:inline>
	there will be an inconsistency.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Once you are happy with <fo:inline font-style="italic">netbios name</fo:inline> and <fo:inline font-style="italic">workgroup</fo:inline>, proceed to generat
	the smbldap-tools configuration by running the configuration script which will ask you
	some questions:
	</fo:block><fo:block id="idm45028021137712" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo smbldap-config</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Some of the more important ones:</fo:block><fo:list-block id="idm45028021136080" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028021135824" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">workgroup name</fo:inline>: has to match what you will configure in
			<fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/samba/smb.conf</fo:inline> later on.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021134176" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">ldap suffix</fo:inline>: has to match the ldap suffix you chose when you configured the LDAP server.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021133152" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">other ldap suffixes: they are all relative to <fo:inline font-style="italic">ldap suffix</fo:inline> above. For example, for
			<fo:inline font-style="italic">ldap user suffix</fo:inline> you should use <fo:inline font-style="italic">ou=People</fo:inline>.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021131232" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">ldap master bind dn</fo:inline> and <fo:inline font-style="italic">bind password</fo:inline>: use the rootDN credentials.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	The smbldap-populate script will then add the LDAP objects required for Samba. It is a good idea to first
	make a backup of your DIT using slapcat:
	</fo:block><fo:block id="idm45028021127936" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo slapcat -l backup.ldif</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Once you have a backup proceed to populate your directory. It will ask you for a password for the "domain root"
	user, which is also the "root" user stored in LDAP:
	</fo:block><fo:block id="idm45028021126112" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo smbldap-populate -g 10000 -u 10000 -r 10000</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The <fo:inline font-style="italic">-g</fo:inline>, <fo:inline font-style="italic">-u</fo:inline> and <fo:inline font-style="italic">-r</fo:inline> parameters tell
	smbldap-tools where to start the numeric uid and gid allocation for the LDAP
	users. You should pick a range start that does not overlap with your local
	<fo:inline font-style="italic">/etc/passwd</fo:inline> users.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	You can create a LDIF file containing the new Samba objects by executing <fo:inline font-weight="bold">sudo smbldap-populate -e samba.ldif</fo:inline>.
	This allows you to look over the changes making sure everything is correct. If it is, rerun the script without the '-e'
	switch. Alternatively, you can take the LDIF file and import its data per usual.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Your LDAP directory now has the necessary information to authenticate Samba users.
	</fo:block></fo:block></fo:block><fo:block id="samba-ldap-samba-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Samba Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.3.Samba Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	There are multiple ways to configure Samba. For details on some common configurations see <fo:basic-link internal-destination="samba"><fo:inline font-style="italic">Chapter18, <fo:inline font-style="italic">Samba</fo:inline></fo:inline></fo:basic-link><fo:basic-link internal-destination="samba" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="samba"/>]</fo:inline></fo:basic-link>.      
	To configure Samba to use LDAP, edit its configuration file <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/samba/smb.conf</fo:inline> commenting out
	the default <fo:inline font-style="italic">passdb backend</fo:inline> parameter and adding some ldap-related ones. Make sure to use the
	same values you used when running smbldap-populate:
	</fo:block><fo:block id="idm45028021116592" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
#  passdb backend = tdbsam
   workgroup = EXAMPLE

# LDAP Settings
   passdb backend = ldapsam:ldap://hostname
   ldap suffix = dc=example,dc=com
   ldap user suffix = ou=People
   ldap group suffix = ou=Groups
   ldap machine suffix = ou=Computers
   ldap idmap suffix = ou=Idmap
   ldap admin dn = cn=admin,dc=example,dc=com
   # or off if TLS/SSL is not configured
   ldap ssl = start tls
   ldap passwd sync = yes
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Change the values to match your environment.
	</fo:block><fo:block id="idm45028021115152" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The <fo:inline font-size="8.800000000000001pt" font-family="monospace">smb.conf</fo:inline> as shipped by the package is quite long and has many configuration
		examples. An easy way to visualize it without any comments is to run testparm -s.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Now inform Samba about the rootDN user's password (the one set during the installation of the slapd package):
	</fo:block><fo:block id="idm45028021112464" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo smbpasswd -W</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	As a final step to have your LDAP users be able to connect to samba and authenticate, we need these users to also show up
	in the system as "unix" users. One way to do this is to use libnss-ldap. Detailed instructions
	can be found in the <fo:basic-link internal-destination="openldap-auth-config"><fo:inline font-style="italic">Section1.10, LDAP Authentication</fo:inline></fo:basic-link><fo:basic-link internal-destination="openldap-auth-config" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="openldap-auth-config"/>]</fo:inline></fo:basic-link> section, but we only need the NSS part.
	</fo:block><fo:block id="idm45028021109504" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:list-block provisional-distance-between-starts="2em" provisional-label-separation="0.2em" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em"><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028021109248">1.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Install libnss-ldap</fo:block><fo:block id="idm45028021107872" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">sudo apt install libnss-ldap</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">There is no need to use the LDAP rootDN login credentials, so you can skip that step.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028021106640">2.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Configure the LDAP profile for NSS:</fo:block><fo:block id="idm45028021105760" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">sudo auth-client-config -t nss -p lac_ldap</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028021105008">3.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Restart the Samba services:</fo:block><fo:block id="idm45028021104128" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">sudo systemctl restart smbd.service nmbd.service</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028021103376">4.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To quickly test the setup, see if getent can list the Samba groups:</fo:block><fo:block id="idm45028021101872" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">getent group</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">
...
Account Operators:*:548:
Print Operators:*:550:
Backup Operators:*:551:
Replicators:*:552:
</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	If you have existing LDAP users that you want to include in your new LDAP-backed Samba they will, of course, also need to be given
	some of the extra Samba specific attributes. The smbpasswd utility can do this for you:
	</fo:block><fo:block id="idm45028021098432" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo smbpasswd -a username</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	You will prompted to enter a password. It will be considered as the new password for that user. Making it the same as before is reasonable.
	Note that this command cannot be used to create a new user from scratch in LDAP (unless you are using <fo:inline font-style="italic">ldapsam:trusted</fo:inline>
	and <fo:inline font-style="italic">ldapsam:editposix</fo:inline>, not covered in this guide).
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	To manage user, group, and machine accounts use the utilities provided by the smbldap-tools package.
	Here are some examples:
	</fo:block><fo:list-block id="idm45028021094672" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028021094176" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		To add a new user with a home directory:
		</fo:block><fo:block id="idm45028021093536" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo smbldap-useradd -a -P -m username</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		The <fo:inline font-style="italic">-a</fo:inline> option adds the Samba attributes, and the <fo:inline font-style="italic">-P</fo:inline> option calls the 
		smbldap-passwd utility after the user is created allowing you to enter a password for the user.
		Finally, <fo:inline font-style="italic">-m</fo:inline> creates a local home directory.
		Test with the getent command:
		</fo:block><fo:block id="idm45028021089392" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">getent passwd username</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you don't get a response, then your libnss-ldap configuration is incorrect.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021087632" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		To remove a user:
		</fo:block><fo:block id="idm45028021086992" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo smbldap-userdel username</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		In the above command, use the <fo:inline font-style="italic">-r</fo:inline> option to remove the user's home directory.
		</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021084848" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		To add a group:
		</fo:block><fo:block id="idm45028021084208" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo smbldap-groupadd -a groupname</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		As for smbldap-useradd, the <fo:inline font-style="italic">-a</fo:inline> adds the Samba attributes.
		</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021081440" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		To make an existing user a member of a group:
		</fo:block><fo:block id="idm45028021080800" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo smbldap-groupmod -m username groupname</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		The <fo:inline font-style="italic">-m</fo:inline> option can add more than one user at a time by listing them in comma-separated format.
		</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021078544" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		To remove a user from a group:
		</fo:block><fo:block id="idm45028021077904" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo smbldap-groupmod -x username groupname</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021076528" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		To add a Samba machine account:
		</fo:block><fo:block id="idm45028021075888" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo smbldap-useradd -t 0 -w username</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Replace <fo:inline font-style="italic">username</fo:inline> with the name of the workstation.  The <fo:inline font-style="italic">-t 0</fo:inline> option creates the machine account
		without a delay, while the <fo:inline font-style="italic">-w</fo:inline> option specifies the user as a machine account.  Also, note the 
		<fo:inline font-style="italic">add machine script</fo:inline> parameter in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/samba/smb.conf</fo:inline> was changed to use smbldap-useradd.
		</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	There are utilities in the smbldap-tools package that were not covered here. Here is a complete list:
	</fo:block><fo:block id="idm45028021069968" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/smbldap-groupadd.8.html" font-style="italic">smbldap-groupadd</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">37</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">37</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/smbldap-groupadd.8.html">http://manpages.ubuntu.com/manpages/en/man8/smbldap-groupadd.8.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/smbldap-groupdel.8.html" font-style="italic">smbldap-groupdel</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">38</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">38</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/smbldap-groupdel.8.html">http://manpages.ubuntu.com/manpages/en/man8/smbldap-groupdel.8.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/smbldap-groupmod.8.html" font-style="italic">smbldap-groupmod</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">39</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">39</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/smbldap-groupmod.8.html">http://manpages.ubuntu.com/manpages/en/man8/smbldap-groupmod.8.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/smbldap-groupshow.8.html" font-style="italic">smbldap-groupshow</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">40</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">40</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/smbldap-groupshow.8.html">http://manpages.ubuntu.com/manpages/en/man8/smbldap-groupshow.8.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/smbldap-passwd.8.html" font-style="italic">smbldap-passwd</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">41</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">41</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/smbldap-passwd.8.html">http://manpages.ubuntu.com/manpages/en/man8/smbldap-passwd.8.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/smbldap-populate.8.html" font-style="italic">smbldap-populate</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">42</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">42</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/smbldap-populate.8.html">http://manpages.ubuntu.com/manpages/en/man8/smbldap-populate.8.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/smbldap-useradd.8.html" font-style="italic">smbldap-useradd</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">43</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">43</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/smbldap-useradd.8.html">http://manpages.ubuntu.com/manpages/en/man8/smbldap-useradd.8.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/smbldap-userdel.8.html" font-style="italic">smbldap-userdel</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">44</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">44</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/smbldap-userdel.8.html">http://manpages.ubuntu.com/manpages/en/man8/smbldap-userdel.8.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/smbldap-userinfo.8.html" font-style="italic">smbldap-userinfo</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">45</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">45</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/smbldap-userinfo.8.html">http://manpages.ubuntu.com/manpages/en/man8/smbldap-userinfo.8.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/smbldap-userlist.8.html" font-style="italic">smbldap-userlist</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">46</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">46</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/smbldap-userlist.8.html">http://manpages.ubuntu.com/manpages/en/man8/smbldap-userlist.8.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/smbldap-usermod.8.html" font-style="italic">smbldap-usermod</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">47</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">47</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/smbldap-usermod.8.html">http://manpages.ubuntu.com/manpages/en/man8/smbldap-usermod.8.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/smbldap-usershow.8.html" font-style="italic">smbldap-usershow</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">48</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">48</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/smbldap-usershow.8.html">http://manpages.ubuntu.com/manpages/en/man8/smbldap-usershow.8.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
</fo:block></fo:block><fo:block id="samba-ldap-resources"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Resources</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.4.Resources</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028021059648" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028021059392" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		For more information on installing and configuring Samba see <fo:basic-link internal-destination="samba"><fo:inline font-style="italic">Chapter18, <fo:inline font-style="italic">Samba</fo:inline></fo:inline></fo:basic-link><fo:basic-link internal-destination="samba" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="samba"/>]</fo:inline></fo:basic-link> of this Ubuntu Server Guide.
		</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021058048" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		There are multiple places where LDAP and Samba is documented in the upstream
		<fo:basic-link external-destination="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/" font-style="italic">Samba HOWTO Collection</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">49</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">49</fo:inline> <fo:basic-link external-destination="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/">http://samba.org/samba/docs/man/Samba-HOWTO-Collection/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
		</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021056560" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Regarding the above, see specifically the <fo:basic-link external-destination="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/passdb.html" font-style="italic">passdb section</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">50</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">50</fo:inline> <fo:basic-link external-destination="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/passdb.html">http://samba.org/samba/docs/man/Samba-HOWTO-Collection/passdb.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
		</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021055088" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Although dated (2007), the <fo:basic-link external-destination="http://download.gna.org/smbldap-tools/docs/samba-ldap-howto/" font-style="italic">Linux Samba-OpenLDAP HOWTO</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">51</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">51</fo:inline> <fo:basic-link external-destination="http://download.gna.org/smbldap-tools/docs/samba-ldap-howto/">http://download.gna.org/smbldap-tools/docs/samba-ldap-howto/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> contains valuable notes.
		</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021053616" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		The main page of the <fo:basic-link external-destination="https://help.ubuntu.com/community/Samba#samba-ldap" font-style="italic">Samba Ubuntu community documentation</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">52</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">52</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/Samba#samba-ldap">https://help.ubuntu.com/community/Samba#samba-ldap</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> has a plethora of links to
		articles that may prove useful.
		</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="kerberos"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Kerberos</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">3.Kerberos</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    Kerberos is a network authentication system based on the principal of a trusted third party.
    The other two parties being the user and the service the user wishes to authenticate to.  Not all services and applications
    can use Kerberos, but for those that can, it brings the network environment one step closer to being Single Sign On (SSO).
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    This section covers installation and configuration of a Kerberos server, and some example client configurations.
    </fo:block><fo:block id="kerberos-overview"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Overview</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.1.Overview</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      If you are new to Kerberos there are a few terms that are good to understand before setting up a Kerberos server.  Most of the terms
      will relate to things you may be familiar with in other environments:
      </fo:block><fo:list-block id="idm45028021046992" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028021046736" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:inline font-style="italic">Principal:</fo:inline> any users, computers, and services provided by servers need to be defined as Kerberos Principals.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021045456" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:inline font-style="italic">Instances:</fo:inline> are used for service principals and special administrative principals.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021044208" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:inline font-style="italic">Realms:</fo:inline> the unique realm of control provided by the Kerberos installation.  
	  Think of it as the domain or group your hosts and users belong to.
	  Convention dictates the realm should be in uppercase.
	  By default, ubuntu will use the DNS domain converted to 
          uppercase (EXAMPLE.COM) as the realm.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021042720" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:inline font-style="italic">Key Distribution Center:</fo:inline> (KDC) consist of three parts, a database of all principals, the authentication server,
          and the ticket granting server.  For each realm there must be at least one KDC.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021041360" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:inline font-style="italic">Ticket Granting Ticket:</fo:inline> issued by the Authentication Server (AS), the Ticket Granting Ticket (TGT) is encrypted in 
          the user's password which is known only to the user and the KDC.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021040016" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:inline font-style="italic">Ticket Granting Server:</fo:inline> (TGS) issues service tickets to clients upon request.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021038784" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:inline font-style="italic">Tickets:</fo:inline> confirm the identity of the two principals.  One principal being a user and the other a service requested by 
          the user.  Tickets establish an encryption key used for secure communication during the authenticated session.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021037376" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:inline font-style="italic">Keytab Files:</fo:inline> are files extracted from the KDC principal database and contain the encryption key for a service or
          host.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      To put the pieces together, a Realm has at least one KDC, preferably more for redundancy, which contains a database of Principals.  When a 
      user principal logs into a workstation that is configured for Kerberos authentication, the KDC issues a Ticket Granting Ticket (TGT).  If the user
      supplied credentials match, the user is authenticated and can then request tickets for Kerberized services from the Ticket Granting Server
      (TGS).  The service tickets allow the user to authenticate to the service without entering another username and password.
      </fo:block></fo:block><fo:block id="kerberos-server"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Kerberos Server</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.2.Kerberos Server</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="kerberos-server-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">3.2.1.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	For this discussion, we will create a MIT Kerberos domain with the 
	following features (edit them to fit your needs):
        </fo:block><fo:list-block id="idm45028021032080" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028021031824" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:inline font-style="italic">Realm:</fo:inline> EXAMPLE.COM 
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021030672" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:inline font-style="italic">Primary KDC:</fo:inline> kdc01.example.com (192.168.0.1)
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021029520" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:inline font-style="italic">Secondary KDC:</fo:inline> kdc02.example.com (192.168.0.2)
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021028368" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:inline font-style="italic">User principal:</fo:inline> steve 
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021027216" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:inline font-style="italic">Admin principal:</fo:inline> steve/admin 
            </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block id="idm45028021025936" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          It is <fo:inline font-style="italic">strongly</fo:inline> recommended that your
	  network-authenticated users have their uid in a different range 
	  (say, starting at 5000) than that of your local users. 
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> 
        Before installing the Kerberos server a properly configured DNS server is needed for your domain.  Since the Kerberos Realm by 
        convention matches the domain name, this section uses the <fo:inline font-style="italic">EXAMPLE.COM</fo:inline> domain configured in 
        <fo:basic-link internal-destination="dns-primarymaster-configuration"><fo:inline font-style="italic">Section2.3, Primary Master</fo:inline></fo:basic-link><fo:basic-link internal-destination="dns-primarymaster-configuration" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="dns-primarymaster-configuration"/>]</fo:inline></fo:basic-link> of the DNS documentation.  
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Also, Kerberos is a time sensitive protocol.  So if the local system time between a client machine and the server differs by
        more than five minutes (by default), the workstation will not be able to authenticate.  To correct the problem all hosts 
        should have their time synchronized using the same
	<fo:inline font-style="italic">Network Time Protocol (NTP)</fo:inline> server.  For details
        on setting up NTP see <fo:basic-link internal-destination="NTP"><fo:inline font-style="italic">Section4, Time Synchronisation</fo:inline></fo:basic-link><fo:basic-link internal-destination="NTP" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="NTP"/>]</fo:inline></fo:basic-link>.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The first step in creating a Kerberos Realm is to install the krb5-kdc  and 
        krb5-admin-server packages.  From a terminal enter:
        </fo:block><fo:block id="idm45028021019808" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install krb5-kdc krb5-admin-server</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        You will be asked at the end of the install to supply the hostname 
	for the Kerberos and Admin servers, which may or may not be the 
        same server, for the realm.
        </fo:block><fo:block id="idm45028021017968" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          By default the realm is created from the KDC's domain name.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Next, create the new realm with the kdb5_newrealm utility:
        </fo:block><fo:block id="idm45028021016096" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo krb5_newrealm</fo:inline>
</fo:block></fo:block><fo:block id="kerberos-server-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">3.2.2.Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The questions asked during installation are used to configure the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/krb5.conf</fo:inline> file.  If you need to adjust 
        the Key Distribution Center (KDC) settings simply edit the file and restart the krb5-kdc daemon.
	If you need to reconfigure Kerberos from scratch, perhaps to change the realm name, you can do so by typing
        </fo:block><fo:block id="idm45028021011600" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo dpkg-reconfigure krb5-kdc</fo:inline>
</fo:block><fo:block id="idm45028021010352" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:list-block provisional-distance-between-starts="2em" provisional-label-separation="0.2em" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em"><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028021010096">1.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Once the KDC is properly running, an admin user -- the
	    <fo:inline font-style="italic">admin principal</fo:inline> -- is needed.  
	    It is recommended to use a different username from your everyday username.  
            Using the kadmin.local utility in a terminal prompt enter:
            </fo:block><fo:block id="idm45028021007968" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo kadmin.local</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">Authenticating as principal root/admin@EXAMPLE.COM with password.
kadmin.local:</fo:inline><fo:inline font-weight="bold" font-size="8.800000000000001pt" font-family="monospace"> addprinc steve/admin</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">WARNING: no policy specified for steve/admin@EXAMPLE.COM; defaulting to no policy
Enter password for principal "steve/admin@EXAMPLE.COM": 
Re-enter password for principal "steve/admin@EXAMPLE.COM": 
Principal "steve/admin@EXAMPLE.COM" created.
kadmin.local:</fo:inline><fo:inline font-weight="bold" font-size="8.800000000000001pt" font-family="monospace"> quit</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            In the above example <fo:inline font-style="italic">steve</fo:inline> is the <fo:inline font-style="italic">Principal</fo:inline>, 
            <fo:inline font-style="italic">/admin</fo:inline> is an <fo:inline font-style="italic">Instance</fo:inline>, and 
            <fo:inline font-style="italic">@EXAMPLE.COM</fo:inline> signifies the realm.  The <fo:inline font-style="italic">"every day"</fo:inline>
            Principal, 
	    a.k.a. the <fo:inline font-style="italic">user principal</fo:inline>,
	    would be <fo:inline font-style="italic">steve@EXAMPLE.COM</fo:inline>, and should have only normal user rights.            
            </fo:block><fo:block id="idm45028020999376" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Replace <fo:inline font-style="italic">EXAMPLE.COM</fo:inline> and <fo:inline font-style="italic">steve</fo:inline> with your Realm and admin username.
              </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028020997712">2.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Next, the new admin user needs to have the appropriate Access Control List (ACL) permissions.
            The permissions are configured in the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/krb5kdc/kadm5.acl</fo:inline> file:
            </fo:block><fo:block id="idm45028020996032" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
steve/admin@EXAMPLE.COM        *
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            This entry grants <fo:inline font-style="italic">steve/admin</fo:inline> the ability to perform any operation on all principals in the realm.
	    You can configure principals with more restrictive privileges,
	    which is convenient if you need an admin principal that junior 
	    staff can use
	    in Kerberos clients. Please see the 
	    <fo:inline font-style="italic">kadm5.acl</fo:inline> man page for details.
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028020993840">3.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Now restart the krb5-admin-server for the new ACL to take affect:
            </fo:block><fo:block id="idm45028020992336" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart krb5-admin-server.service</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028020990960">4.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            The new user principal can be tested using the kinit utility:
            </fo:block><fo:block id="idm45028020989376" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">kinit steve/admin</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">steve/admin@EXAMPLE.COM's Password:</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            After entering the password, use the klist utility to view information about the 
            Ticket Granting Ticket (TGT):
            </fo:block><fo:block id="idm45028020986384" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">klist</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">Credentials cache: FILE:/tmp/krb5cc_1000
        Principal: steve/admin@EXAMPLE.COM

  Issued           Expires          Principal
Jul 13 17:53:34  Jul 14 03:53:34  krbtgt/EXAMPLE.COM@EXAMPLE.COM</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    Where the cache filename <fo:inline font-size="8.800000000000001pt" font-family="monospace">krb5cc_1000</fo:inline> is 
	    composed of the prefix <fo:inline font-size="8.800000000000001pt" font-family="monospace">krb5cc_</fo:inline> and the user
	    id (uid), which in this case is <fo:inline font-size="8.800000000000001pt" font-family="monospace">1000</fo:inline>.
            You may need to add an entry into the 
	    <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/hosts</fo:inline> for the KDC so the client can
	    find the KDC.  For example:
            </fo:block><fo:block id="idm45028020981248" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
192.168.0.1   kdc01.example.com       kdc01
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Replacing <fo:inline font-style="italic">192.168.0.1</fo:inline> with the IP address of your KDC.  
	    This usually happens when you have a Kerberos realm encompassing 
	    different networks separated by routers.
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028020979552">5.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    The best way to allow clients to automatically
            determine the KDC for the Realm is using DNS SRV records.  Add the following to 
            <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/named/db.example.com</fo:inline>:
            </fo:block><fo:block id="idm45028020977872" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
_kerberos._udp.EXAMPLE.COM.     IN SRV 1  0 88  kdc01.example.com.
_kerberos._tcp.EXAMPLE.COM.     IN SRV 1  0 88  kdc01.example.com.
_kerberos._udp.EXAMPLE.COM.     IN SRV 10 0 88  kdc02.example.com. 
_kerberos._tcp.EXAMPLE.COM.     IN SRV 10 0 88  kdc02.example.com. 
_kerberos-adm._tcp.EXAMPLE.COM. IN SRV 1  0 749 kdc01.example.com.
_kpasswd._udp.EXAMPLE.COM.      IN SRV 1  0 464 kdc01.example.com.
</fo:block><fo:block id="idm45028020976832" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Replace <fo:inline font-style="italic">EXAMPLE.COM</fo:inline>, <fo:inline font-style="italic">kdc01</fo:inline>, and <fo:inline font-style="italic">kdc02</fo:inline> with your 
              domain name, primary KDC, and secondary KDC.
              </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            See <fo:basic-link internal-destination="dns"><fo:inline font-style="italic">Chapter8, <fo:inline font-style="italic">Domain Name Service (DNS)</fo:inline></fo:inline></fo:basic-link><fo:basic-link internal-destination="dns" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="dns"/>]</fo:inline></fo:basic-link> for detailed instructions on setting up DNS.
            </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Your new Kerberos Realm is now ready to authenticate clients.
        </fo:block></fo:block></fo:block><fo:block id="kerberos-secondary-kdc"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Secondary KDC</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.3.Secondary KDC</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Once you have one Key Distribution Center (KDC) on your network, it is good practice to have a Secondary KDC in case the
      primary becomes unavailable. 
      Also, if you have Kerberos clients that are in different networks 
      (possibly separated by routers using NAT), it is wise to place a 
      secondary KDC in each of those networks.
      </fo:block><fo:block id="idm45028020970976" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:list-block provisional-distance-between-starts="2em" provisional-label-separation="0.2em" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em"><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028020970720">1.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        First, install the packages, and when asked for the Kerberos and Admin server names enter the name of the Primary KDC:        
        </fo:block><fo:block id="idm45028020969680" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install krb5-kdc krb5-admin-server</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028020968304">2.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Once you have the packages installed, create the Secondary KDC's host principal.  From a terminal prompt, enter:
        </fo:block><fo:block id="idm45028020967280" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">kadmin -q "addprinc -randkey host/kdc02.example.com"</fo:inline>
</fo:block><fo:block id="idm45028020966032" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          After, issuing any kadmin commands you will be prompted for your 
          <fo:inline font-style="italic">username/admin@EXAMPLE.COM</fo:inline> principal password.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028020964128">3.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Extract the <fo:inline font-style="italic">keytab</fo:inline> file:
          </fo:block><fo:block id="idm45028020962864" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">kadmin -q "ktadd -norandkey -k keytab.kdc02 host/kdc02.example.com"</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028020961408">4.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          There should now be a <fo:inline font-size="8.800000000000001pt" font-family="monospace">keytab.kdc02</fo:inline> in the current directory, move the file to 
          <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/krb5.keytab</fo:inline>:
          </fo:block><fo:block id="idm45028020959280" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo mv keytab.kdc02 /etc/krb5.keytab</fo:inline>
</fo:block><fo:block id="idm45028020958032" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            If the path to the <fo:inline font-size="8.800000000000001pt" font-family="monospace">keytab.kdc02</fo:inline> file is different adjust accordingly. 
            </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Also, you can list the principals in a Keytab file, which can be useful when troubleshooting, using the 
          klist utility:
          </fo:block><fo:block id="idm45028020955488" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo klist -k /etc/krb5.keytab</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            The -k option indicates the file is a keytab file.
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028020953024">5.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Next, there needs to be a <fo:inline font-size="8.800000000000001pt" font-family="monospace">kpropd.acl</fo:inline> file on each KDC that lists all KDCs for the Realm.  For example, 
          on both primary and secondary KDC, create <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/krb5kdc/kpropd.acl</fo:inline>:
          </fo:block><fo:block id="idm45028020950752" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
host/kdc01.example.com@EXAMPLE.COM
host/kdc02.example.com@EXAMPLE.COM
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028020949920">6.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Create an empty database on the <fo:inline font-style="italic">Secondary KDC</fo:inline>:
          </fo:block><fo:block id="idm45028020948656" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo kdb5_util -s create</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028020947280">7.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Now start the kpropd daemon, which listens for connections from the 
          kprop utility.  kprop is used to transfer 
          dump files:
          </fo:block><fo:block id="idm45028020944448" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo kpropd -S</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028020943072">8.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          From a terminal on the <fo:inline font-style="italic">Primary KDC</fo:inline>, create a dump file of the principal database:
          </fo:block><fo:block id="idm45028020941728" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo kdb5_util dump /var/lib/krb5kdc/dump</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028020940352">9.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Extract the Primary KDC's <fo:inline font-style="italic">keytab</fo:inline> file and copy it to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/krb5.keytab</fo:inline>:
          </fo:block><fo:block id="idm45028020938464" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">kadmin -q "ktadd -k keytab.kdc01 host/kdc01.example.com"</fo:inline>
<fo:inline font-weight="bold">sudo mv keytab.kdc01 /etc/krb5.keytab</fo:inline>
</fo:block><fo:block id="idm45028020936512" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Make sure there is a <fo:inline font-style="italic">host</fo:inline> for <fo:inline font-style="italic">kdc01.example.com</fo:inline> before extracting the Keytab.
            </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028020934848">10.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Using the kprop utility push the database to the Secondary KDC:
          </fo:block><fo:block id="idm45028020933264" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo kprop -r EXAMPLE.COM -f /var/lib/krb5kdc/dump kdc02.example.com</fo:inline>
</fo:block><fo:block id="idm45028020931936" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            There should be a <fo:inline font-style="italic">SUCCEEDED</fo:inline> message if the propagation worked.  If there is an error 
            message check <fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/log/syslog</fo:inline> on the secondary KDC for more information.
            </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          You may also want to create a cron job to periodically update the database on the Secondary KDC.  For 
          example, the following will push the database every hour (note the long line has been split to fit the format of this document):
          </fo:block><fo:block id="idm45028020928736" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
# m h  dom mon dow   command
0 * * * * /usr/sbin/kdb5_util dump /var/lib/krb5kdc/dump &amp;&amp; 
/usr/sbin/kprop -r EXAMPLE.COM -f /var/lib/krb5kdc/dump kdc02.example.com
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028020927808">11.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Back on the <fo:inline font-style="italic">Secondary KDC</fo:inline>, create a <fo:inline font-style="italic">stash</fo:inline> file to hold the Kerberos 
          master key:
          </fo:block><fo:block id="idm45028020926080" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo kdb5_util stash</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028020924704">12.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Finally, start the krb5-kdc daemon on the Secondary KDC:
          </fo:block><fo:block id="idm45028020923200" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl start krb5-kdc.service</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      The <fo:inline font-style="italic">Secondary KDC</fo:inline> should now be able to issue tickets for the Realm.  You can test this by stopping 
      the krb5-kdc daemon on the Primary KDC, then 
      by using kinit to request a ticket.
      If all goes well you should receive a ticket from the Secondary KDC.
      Otherwise, check <fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/log/syslog</fo:inline> and
      <fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/log/auth.log</fo:inline> in the Secondary KDC.
      </fo:block></fo:block><fo:block id="kerberos-linux-client"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Kerberos Linux Client</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.4.Kerberos Linux Client</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      This section covers configuring a Linux system as a Kerberos client.  This will allow access
      to any kerberized services once a user has successfully logged into the system.
      </fo:block><fo:block id="kerberos-client-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">3.4.1.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        In order to authenticate to a Kerberos Realm, the krb5-user and libpam-krb5
        packages are needed, along with a few others that are not strictly necessary but make life easier.  To install the packages 
        enter the following in a terminal prompt:
        </fo:block><fo:block id="idm45028020912656" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install krb5-user libpam-krb5 libpam-ccreds auth-client-config</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The auth-client-config package allows simple configuration of PAM for authentication from multiple 
        sources, and the libpam-ccreds will cache authentication credentials allowing you to login in case the 
        Key Distribution Center (KDC) is unavailable.  This package is also useful for laptops that may authenticate using Kerberos while 
        on the corporate network, but will need to be accessed off the network as well.
        </fo:block></fo:block><fo:block id="kerberos-client-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">3.4.2.Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        To configure the client in a terminal enter:
        </fo:block><fo:block id="idm45028020907552" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo dpkg-reconfigure krb5-config</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        You will then be prompted to enter the name of the Kerberos Realm.  Also, if you don't have DNS configured with Kerberos 
        <fo:inline font-style="italic">SRV</fo:inline> records, the menu will prompt you for the hostname of the Key Distribution Center (KDC) and 
        Realm Administration server.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The dpkg-reconfigure adds entries to the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/krb5.conf</fo:inline> file for your Realm.
        You should have entries similar to the following:
        </fo:block><fo:block id="idm45028020903472" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
[libdefaults]
        default_realm = EXAMPLE.COM
...
[realms]
        EXAMPLE.COM = {
                kdc = 192.168.0.1
                admin_server = 192.168.0.1
        }
</fo:block><fo:block id="idm45028020902656" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  If you set the uid of each of your network-authenticated users to 
	  start at 5000, as suggested in 
	  <fo:basic-link internal-destination="kerberos-server-installation"><fo:inline font-style="italic">Section3.2.1, Installation</fo:inline></fo:basic-link><fo:basic-link internal-destination="kerberos-server-installation" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="kerberos-server-installation"/>]</fo:inline></fo:basic-link>, you 
	  can then tell pam to only try to authenticate using Kerberos 
	  users with uid &gt; 5000:
	  </fo:block><fo:block id="idm45028020901280" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold"># Kerberos should only be applied to ldap/kerberos users, not local ones.
for i in common-auth common-session common-account common-password; do
 sudo sed -i -r \ 
 -e 's/pam_krb5.so minimum_uid=1000/pam_krb5.so minimum_uid=5000/' \ 
 /etc/pam.d/$i 
done </fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  This will avoid being asked for the (non-existent) Kerberos 
	  password of a locally authenticated user when changing its 
	  password using <fo:inline font-weight="bold">passwd</fo:inline>.
	  </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        You can test the configuration by requesting a ticket using the kinit utility.  For example:
        </fo:block><fo:block id="idm45028020897360" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">kinit steve@EXAMPLE.COM</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">Password for steve@EXAMPLE.COM:</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        When a ticket has been granted, the details can be viewed using klist:
        </fo:block><fo:block id="idm45028020894384" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">klist</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">Ticket cache: FILE:/tmp/krb5cc_1000
Default principal: steve@EXAMPLE.COM

Valid starting     Expires            Service principal
07/24/08 05:18:56  07/24/08 15:18:56  krbtgt/EXAMPLE.COM@EXAMPLE.COM
        renew until 07/25/08 05:18:57


Kerberos 4 ticket cache: /tmp/tkt1000
klist: You have no tickets cached</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Next, use the auth-client-config to configure the libpam-krb5 module
        to request a ticket during login:
        </fo:block><fo:block id="idm45028020890480" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo auth-client-config -a -p kerberos_example</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        You will should now receive a ticket upon successful login authentication. 
        </fo:block></fo:block></fo:block><fo:block id="kerberos-resources"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Resources</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.5.Resources</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028020887360" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028020887104" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          For more information on MIT's version of Kerberos, see the <fo:basic-link external-destination="http://web.mit.edu/Kerberos/" font-style="italic">MIT Kerberos</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">53</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">53</fo:inline> <fo:basic-link external-destination="http://web.mit.edu/Kerberos/">http://web.mit.edu/Kerberos/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> site.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020885632" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The <fo:basic-link external-destination="https://help.ubuntu.com/community/Kerberos" font-style="italic">Ubuntu Wiki Kerberos</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">54</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">54</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/Kerberos">https://help.ubuntu.com/community/Kerberos</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> page has more details.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020884240" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          O'Reilly's <fo:basic-link external-destination="http://oreilly.com/catalog/9780596004033/" font-style="italic">Kerberos: The Definitive Guide</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">55</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">55</fo:inline> <fo:basic-link external-destination="http://oreilly.com/catalog/9780596004033/">http://oreilly.com/catalog/9780596004033/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> is a great reference when
          setting up Kerberos.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020882768" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Also, feel free to stop by the <fo:inline font-style="italic">#ubuntu-server</fo:inline> 
	  and <fo:inline font-style="italic">#kerberos</fo:inline>
	  IRC channels on <fo:basic-link external-destination="http://freenode.net/" font-style="italic">Freenode</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">56</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">56</fo:inline> <fo:basic-link external-destination="http://freenode.net/">http://freenode.net/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>  
          if you have Kerberos questions.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="kerberos-ldap"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Kerberos and LDAP</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">4.Kerberos and LDAP</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    Most people will not use Kerberos by itself; once an user is authenticated
    (Kerberos), we need to figure out what this user can do (authorization).
    And that would be the job of programs such as
    LDAP.
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    Replicating a Kerberos principal database between two servers can be complicated, and adds an additional user
    database to your network.  Fortunately, MIT Kerberos can be configured to use an LDAP
    directory as a principal database.  This section covers configuring a primary and secondary kerberos server to use
    OpenLDAP for the principal database.
    </fo:block><fo:block id="idm45028020875872" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
       The examples presented here assume 
       MIT Kerberos and 
       OpenLDAP.
       </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="kerberos-ldap-openldap"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuring OpenLDAP</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.1.Configuring OpenLDAP</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      First, the necessary <fo:inline font-style="italic">schema</fo:inline> needs to be loaded on an OpenLDAP server that has
      network connectivity to the Primary and Secondary KDCs.  The rest of this section assumes that you also have LDAP replication
      configured between at least two servers.  For information on setting up OpenLDAP see <fo:basic-link internal-destination="openldap-server"><fo:inline font-style="italic">Section1, OpenLDAP Server</fo:inline></fo:basic-link><fo:basic-link internal-destination="openldap-server" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="openldap-server"/>]</fo:inline></fo:basic-link>.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      It is also required to configure OpenLDAP for TLS and SSL connections, so that traffic between the KDC and LDAP server is encrypted.
      See <fo:basic-link internal-destination="openldap-tls"><fo:inline font-style="italic">Section1.8, TLS</fo:inline></fo:basic-link><fo:basic-link internal-destination="openldap-tls" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="openldap-tls"/>]</fo:inline></fo:basic-link> for details.
      </fo:block><fo:block id="idm45028020868496" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
         <fo:inline font-size="8.800000000000001pt" font-family="monospace">cn=admin,cn=config</fo:inline> is a user we created with 
rights to edit the ldap database. Many times it is the RootDN. Change its 
value to reflect your setup.
         </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:list-block id="idm45028020866608" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028020866320" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          To load the schema into LDAP, on the LDAP server install the krb5-kdc-ldap package.
          From a terminal enter:
          </fo:block><fo:block id="idm45028020864624" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install krb5-kdc-ldap</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020862720" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Next, extract the <fo:inline font-size="8.800000000000001pt" font-family="monospace">kerberos.schema.gz</fo:inline> file:
          </fo:block><fo:block id="idm45028020861104" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo gzip -d /usr/share/doc/krb5-kdc-ldap/kerberos.schema.gz</fo:inline>
<fo:inline font-weight="bold">sudo cp /usr/share/doc/krb5-kdc-ldap/kerberos.schema /etc/ldap/schema/</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020858256" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
           The <fo:inline font-style="italic">kerberos</fo:inline> schema needs to be added to the <fo:inline font-style="italic">cn=config</fo:inline> tree.
           The procedure to add a new schema to slapd is also detailed in 
           <fo:basic-link internal-destination="openldap-configuration"><fo:inline font-style="italic">Section1.4, Modifying the slapd Configuration Database</fo:inline></fo:basic-link><fo:basic-link internal-destination="openldap-configuration" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="openldap-configuration"/>]</fo:inline></fo:basic-link>.
           </fo:block><fo:block id="idm45028020855136" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:list-block provisional-distance-between-starts="2em" provisional-label-separation="0.2em" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em"><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028020854848">1.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">                  
                First, create a configuration file named <fo:inline font-size="8.800000000000001pt" font-family="monospace">schema_convert.conf</fo:inline>, or a similar 
                descriptive name, containing the following lines:
                </fo:block><fo:block id="idm45028020852688" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
include /etc/ldap/schema/core.schema
include /etc/ldap/schema/collective.schema
include /etc/ldap/schema/corba.schema
include /etc/ldap/schema/cosine.schema
include /etc/ldap/schema/duaconf.schema
include /etc/ldap/schema/dyngroup.schema
include /etc/ldap/schema/inetorgperson.schema
include /etc/ldap/schema/java.schema
include /etc/ldap/schema/misc.schema
include /etc/ldap/schema/nis.schema
include /etc/ldap/schema/openldap.schema
include /etc/ldap/schema/ppolicy.schema
include /etc/ldap/schema/kerberos.schema
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028020851168">2.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                   Create a temporary directory to hold the LDIF files:
                  </fo:block><fo:block id="idm45028020849936" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">mkdir /tmp/ldif_output</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028020848048">3.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  Now use slapcat to convert the schema files: 
                  </fo:block><fo:block id="idm45028020845984" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">slapcat -f schema_convert.conf -F /tmp/ldif_output -n0 -s \
"cn={12}kerberos,cn=schema,cn=config" &gt; /tmp/cn=kerberos.ldif</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  Change the above file and path names to match your own if they are different.
                  </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028020843424">4.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  Edit the generated <fo:inline font-size="8.800000000000001pt" font-family="monospace">/tmp/cn\=kerberos.ldif</fo:inline> file, changing the following attributes: 
                  </fo:block><fo:block id="idm45028020841344" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
dn: cn=kerberos,cn=schema,cn=config
...
cn: kerberos
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  And remove the following lines from the end of the file:
                  </fo:block><fo:block id="idm45028020839920" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
structuralObjectClass: olcSchemaConfig
entryUUID: 18ccd010-746b-102d-9fbe-3760cca765dc
creatorsName: cn=config
createTimestamp: 20090111203515Z
entryCSN: 20090111203515.326445Z#000000#000#000000
modifiersName: cn=config
modifyTimestamp: 20090111203515Z
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                    The attribute values will vary, just be sure the attributes are removed. 
                    </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028020838112">5.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  Load the new schema with ldapadd:
                  </fo:block><fo:block id="idm45028020836064" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ldapadd -Q -Y EXTERNAL -H ldapi:/// -f /tmp/cn\=kerberos.ldif</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028020834128">6.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  Add an index for the <fo:inline font-style="italic">krb5principalname</fo:inline> attribute:
                  </fo:block><fo:block id="idm45028020832464" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ldapmodify -Q -Y EXTERNAL -H ldapi:///</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold" font-size="8.800000000000001pt" font-family="monospace">dn: olcDatabase={1}mdb,cn=config
add: olcDbIndex
olcDbIndex: krbPrincipalName eq,pres,sub</fo:inline>

modifying entry "olcDatabase={1}mdb,cn=config"</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028020828688">7.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  Finally, update the Access Control Lists (ACL):
                  </fo:block><fo:block id="idm45028020827456" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ldapmodify -Q -Y EXTERNAL -H ldapi:///</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold" font-size="8.800000000000001pt" font-family="monospace">dn: olcDatabase={1}mdb,cn=config
replace: olcAccess
olcAccess: to attrs=userPassword,shadowLastChange,krbPrincipalKey by
 dn="cn=admin,dc=example,dc=com" write by anonymous auth by self write by * none
-
add: olcAccess
olcAccess: to dn.base="" by * read
-
add: olcAccess
olcAccess: to * by dn="cn=admin,dc=example,dc=com" write by * read</fo:inline>

modifying entry "olcDatabase={1}mdb,cn=config"
</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      That's it, your LDAP directory is now ready to serve as a Kerberos principal database.
      </fo:block></fo:block><fo:block id="kerberos-ldap-primary-kdc"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Primary KDC Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.2.Primary KDC Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      With OpenLDAP configured it is time to configure the KDC.
      </fo:block><fo:list-block id="idm45028020819440" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028020819152" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          First, install the necessary packages, from a terminal enter:
          </fo:block><fo:block id="idm45028020818352" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install krb5-kdc krb5-admin-server krb5-kdc-ldap</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020816416" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Now edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/krb5.conf</fo:inline> adding the following options to under the appropriate sections:
          </fo:block><fo:block id="idm45028020814752" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
[libdefaults]
        default_realm = EXAMPLE.COM

...

[realms]
        EXAMPLE.COM = {
                kdc = kdc01.example.com
                kdc = kdc02.example.com
                admin_server = kdc01.example.com
                admin_server = kdc02.example.com
                default_domain = example.com
                database_module = openldap_ldapconf
        }

...

[domain_realm]
        .example.com = EXAMPLE.COM


...

[dbdefaults]
        ldap_kerberos_container_dn = cn=krbContainer,dc=example,dc=com

[dbmodules]
        openldap_ldapconf = {
                db_library = kldap
                ldap_kdc_dn = "cn=admin,dc=example,dc=com"

                # this object needs to have read rights on
                # the realm container, principal container and realm sub-trees
                ldap_kadmind_dn = "cn=admin,dc=example,dc=com"

                # this object needs to have read and write rights on
                # the realm container, principal container and realm sub-trees
                ldap_service_password_file = /etc/krb5kdc/service.keyfile
                ldap_servers = ldaps://ldap01.example.com ldaps://ldap02.example.com
                ldap_conns_per_server = 5
        }
</fo:block><fo:block id="idm45028020812688" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Change <fo:inline font-style="italic">example.com</fo:inline>, <fo:inline font-style="italic">dc=example,dc=com</fo:inline>, <fo:inline font-style="italic">cn=admin,dc=example,dc=com</fo:inline>,
            and <fo:inline font-style="italic">ldap01.example.com</fo:inline> to the appropriate domain, LDAP object, and LDAP server for your network.
            </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020809760" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Next, use the kdb5_ldap_util utility to create the realm:
          </fo:block><fo:block id="idm45028020808112" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo kdb5_ldap_util -D  cn=admin,dc=example,dc=com create -subtrees \
dc=example,dc=com -r EXAMPLE.COM -s -H ldap://ldap01.example.com</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020806112" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Create a stash of the password used to bind to the LDAP server.  This password is used by the <fo:inline font-style="italic">ldap_kdc_dn</fo:inline> and        
          <fo:inline font-style="italic">ldap_kadmin_dn</fo:inline> options in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/krb5.conf</fo:inline>:
          </fo:block><fo:block id="idm45028020803520" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo kdb5_ldap_util -D  cn=admin,dc=example,dc=com stashsrvpw -f \
/etc/krb5kdc/service.keyfile cn=admin,dc=example,dc=com</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020801520" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Copy the CA certificate from the LDAP server:
          </fo:block><fo:block id="idm45028020800736" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">scp ldap01:/etc/ssl/certs/cacert.pem .</fo:inline>
<fo:inline font-weight="bold">sudo cp cacert.pem /etc/ssl/certs</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> 
          And edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ldap/ldap.conf</fo:inline> to use the certificate:
          </fo:block><fo:block id="idm45028020796784" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
TLS_CACERT /etc/ssl/certs/cacert.pem
</fo:block><fo:block id="idm45028020795904" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            The certificate will also need to be copied to the Secondary KDC, to allow the connection to the LDAP servers using
            LDAPS.
            </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020794704" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> 
          Start the Kerberos KDC and admin server:
          </fo:block><fo:block id="idm45028020793920" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl start krb5-kdc.service</fo:inline>
<fo:inline font-weight="bold">sudo systemctl start krb5-admin-server.service</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      You can now add Kerberos principals to the LDAP database, and they will be copied to any other LDAP servers configured for replication.
      To add a principal using the kadmin.local utility enter:
      </fo:block><fo:block id="idm45028020789488" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo kadmin.local</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">Authenticating as principal root/admin@EXAMPLE.COM with password.
kadmin.local:  <fo:inline font-weight="bold" font-size="8.800000000000001pt" font-family="monospace">addprinc -x dn="uid=steve,ou=people,dc=example,dc=com" steve</fo:inline>
WARNING: no policy specified for steve@EXAMPLE.COM; defaulting to no policy
Enter password for principal "steve@EXAMPLE.COM": 
Re-enter password for principal "steve@EXAMPLE.COM": 
Principal "steve@EXAMPLE.COM" created.</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      There should now be krbPrincipalName, krbPrincipalKey, krbLastPwdChange, and krbExtraData attributes added to the 
      <fo:inline font-style="italic">uid=steve,ou=people,dc=example,dc=com</fo:inline> user object.  Use the kinit and 
      klist utilities to test that the user is indeed issued a ticket.
      </fo:block><fo:block id="idm45028020782912" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        If the user object is already created the <fo:inline font-style="italic">-x dn="..."</fo:inline> option is needed to add the Kerberos attributes.
        Otherwise a new <fo:inline font-style="italic">principal</fo:inline> object will be created in the realm subtree.
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="kerberos-ldap-secondary-kdc"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Secondary KDC Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.3.Secondary KDC Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Configuring a Secondary KDC using the LDAP backend is similar to configuring one using the normal Kerberos database.
      </fo:block><fo:block id="idm45028020778848" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:list-block provisional-distance-between-starts="2em" provisional-label-separation="0.2em" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em"><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028020778560">1.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          First, install the necessary packages.  In a terminal enter:
          </fo:block><fo:block id="idm45028020777344" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install krb5-kdc krb5-admin-server krb5-kdc-ldap</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028020775408">2.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Next, edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/krb5.conf</fo:inline> to use the LDAP backend:
          </fo:block><fo:block id="idm45028020773376" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
[libdefaults]
        default_realm = EXAMPLE.COM

...

[realms]
        EXAMPLE.COM = {
                kdc = kdc01.example.com
                kdc = kdc02.example.com
                admin_server = kdc01.example.com
                admin_server = kdc02.example.com
                default_domain = example.com
                database_module = openldap_ldapconf
        }

...

[domain_realm]
        .example.com = EXAMPLE.COM

...

[dbdefaults]
        ldap_kerberos_container_dn = dc=example,dc=com

[dbmodules]
        openldap_ldapconf = {
                db_library = kldap
                ldap_kdc_dn = "cn=admin,dc=example,dc=com"

                # this object needs to have read rights on
                # the realm container, principal container and realm sub-trees
                ldap_kadmind_dn = "cn=admin,dc=example,dc=com"

                # this object needs to have read and write rights on
                # the realm container, principal container and realm sub-trees
                ldap_service_password_file = /etc/krb5kdc/service.keyfile
                ldap_servers = ldaps://ldap01.example.com ldaps://ldap02.example.com
                ldap_conns_per_server = 5
        }
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028020771168">3.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Create the stash for the LDAP bind password:
      </fo:block><fo:block id="idm45028020769968" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo kdb5_ldap_util -D  cn=admin,dc=example,dc=com stashsrvpw -f \
/etc/krb5kdc/service.keyfile cn=admin,dc=example,dc=com</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028020767968">4.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Now, on the <fo:inline font-style="italic">Primary KDC</fo:inline> copy the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/krb5kdc/.k5.EXAMPLE.COM</fo:inline> 
          <fo:inline font-style="italic">Master Key</fo:inline> stash to the Secondary KDC.  Be sure to copy the file over an encrypted 
          connection such as scp, or on physical media.
          </fo:block><fo:block id="idm45028020764080" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo scp /etc/krb5kdc/.k5.EXAMPLE.COM steve@kdc02.example.com:~</fo:inline>
<fo:inline font-weight="bold">sudo mv .k5.EXAMPLE.COM /etc/krb5kdc/</fo:inline>
</fo:block><fo:block id="idm45028020761424" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Again, replace <fo:inline font-style="italic">EXAMPLE.COM</fo:inline> with your actual realm.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028020759888">5.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Back on the <fo:inline font-style="italic">Secondary KDC</fo:inline>, (re)start the ldap
	  server only,
          </fo:block><fo:block id="idm45028020758256" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart slapd.service</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028020756352">6.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Finally, start the krb5-kdc daemon:
          </fo:block><fo:block id="idm45028020754320" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl start krb5-kdc.service</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028020752416">7.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Verify the two ldap servers (and kerberos by extension) are in sync.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      You now have redundant KDCs on your network, and with redundant LDAP servers you should be able to 
      continue to authenticate users if one LDAP server, one Kerberos server, or one LDAP and one Kerberos 
      server become unavailable. 
      </fo:block></fo:block><fo:block id="kerberos-ldap-resources"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Resources</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.4.Resources</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028020748576" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028020748288" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The <fo:basic-link external-destination="http://web.mit.edu/Kerberos/krb5-1.6/krb5-1.6.3/doc/krb5-admin.html#Configuring-Kerberos-with-OpenLDAP-back_002dend" font-style="italic">
          Kerberos Admin Guide</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">57</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">57</fo:inline> <fo:basic-link external-destination="http://web.mit.edu/Kerberos/krb5-1.6/krb5-1.6.3/doc/krb5-admin.html#Configuring-Kerberos-with-OpenLDAP-back_002dend">http://web.mit.edu/Kerberos/krb5-1.6/krb5-1.6.3/doc/krb5-admin.html#Configuring-Kerberos-with-OpenLDAP-back_002dend</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> has some additional details.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020746528" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          For more information on kdb5_ldap_util see 
          <fo:basic-link external-destination="http://web.mit.edu/Kerberos/krb5-1.6/krb5-1.6.3/doc/krb5-admin.html#Global-Operations-on-the-Kerberos-LDAP-Database" font-style="italic">
          Section 5.6</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">58</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">58</fo:inline> <fo:basic-link external-destination="http://web.mit.edu/Kerberos/krb5-1.6/krb5-1.6.3/doc/krb5-admin.html#Global-Operations-on-the-Kerberos-LDAP-Database">http://web.mit.edu/Kerberos/krb5-1.6/krb5-1.6.3/doc/krb5-admin.html#Global-Operations-on-the-Kerberos-LDAP-Database</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> and the 
          <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/xenial/en/man8/kdb5_ldap_util.8.html" font-style="italic">kdb5_ldap_util man page</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">59</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">59</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/xenial/en/man8/kdb5_ldap_util.8.html">http://manpages.ubuntu.com/manpages/xenial/en/man8/kdb5_ldap_util.8.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020743152" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Another useful link is the <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/xenial/en/man5/krb5.conf.5.html" font-style="italic">krb5.conf man page</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">60</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">60</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/xenial/en/man5/krb5.conf.5.html">http://manpages.ubuntu.com/manpages/xenial/en/man5/krb5.conf.5.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020741472" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Also, see the <fo:basic-link external-destination="https://help.ubuntu.com/community/Kerberos#kerberos-ldap" font-style="italic">Kerberos and LDAP</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">61</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">61</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/Kerberos#kerberos-ldap">https://help.ubuntu.com/community/Kerberos#kerberos-ldap</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> Ubuntu wiki page.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="sssd-ad"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">SSSD and Active Directory</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">5.SSSD and Active Directory</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    	This section describes the use of sssd to authenticate user logins against an Active Directory via using sssd's "ad" provider.  In previous versions of sssd, it was possible to authenticate using the "ldap" provider.  However, when authenticating against a Microsoft Windows AD Domain Controller, it was generally necessary to install the POSIX AD extensions on the Domain Controller.  The "ad" provider simplifies the configuration and requires no modifications to the AD structure.
    </fo:block><fo:block id="sssd-ad-requirements"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Prerequisites, Assumptions, and Requirements</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.1.Prerequisites, Assumptions, and Requirements</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028020735504" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028020735216" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This guide does not explain Active Directory, how it works, how to set one up, or how to maintain it.  It may not provide <fo:inline>best practices</fo:inline> for your environment.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020733920" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This guide assumes that a working Active Directory domain is already configured.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020733120" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The domain controller is acting as an authoritative DNS server for the domain.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020732320" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The domain controller is the primary DNS resolver as specified in  <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/resolv.conf</fo:inline>.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020730512" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The appropriate <fo:inline font-style="italic">_kerberos</fo:inline>, <fo:inline font-style="italic">_ldap</fo:inline>, <fo:inline font-style="italic">_kpasswd</fo:inline>, etc. entries are configured in the DNS zone (see Resources section for external links).</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020728352" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">System time is synchronized on the domain controller (necessary for Kerberos).</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020727552" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The domain used in this example is <fo:inline font-style="italic">myubuntu.example.com</fo:inline> .</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="sssd-ad-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Software Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.2.Software Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The following packages are needed: <fo:inline font-style="italic">krb5-user</fo:inline>, <fo:inline font-style="italic">samba</fo:inline>, <fo:inline font-style="italic">sssd</fo:inline>, and <fo:inline font-style="italic">ntp</fo:inline>.  Samba needs to be installed, even if the system is not exporting shares. The Kerberos realm and FQDN or IP of the domain controllers are needed for this step.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Install these packages now.
		</fo:block><fo:block id="idm45028020721792" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"><fo:inline font-weight="bold">sudo apt install krb5-user samba sssd ntp</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">See the next section for the answers to the questions asked by the <fo:inline font-style="italic">krb5-user</fo:inline> postinstall script.</fo:block></fo:block><fo:block id="sssd-ad-kerberos"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Kerberos Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.3.Kerberos Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The installation of <fo:inline font-style="italic">krb5-user</fo:inline> will prompt for the realm name (in ALL UPPERCASE), the kdc server (i.e. domain controller) and admin server (also the domain controller in this example.)  This will write the [realm] and [domain_realm] sections in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/krb5.conf</fo:inline>.  These sections may not be necessary if domain autodiscovery is working.  If not, then both are needed.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If the domain is <fo:inline font-style="italic">myubuntu.example.com</fo:inline>, enter the realm as <fo:inline font-style="italic">MYUBUNTU.EXAMPLE.COM</fo:inline>
		</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Optionally, edit <fo:inline font-style="italic">/etc/krb5.conf</fo:inline> with a few additional settings to specify Kerberos ticket lifetime (these values are safe to use as defaults):</fo:block><fo:block id="idm45028020713424" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
[libdefaults]

default_realm = MYUBUNTU.EXAMPLE.COM
ticket_lifetime = 24h #
renew_lifetime = 7d
		</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If default_realm is not specified, it may be necessary to log in with <fo:inline>username@domain</fo:inline> instead of <fo:inline>username</fo:inline>.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The system time on the Active Directory member needs to be consistent with that of the domain controller, or Kerberos authentication may fail.  Ideally, the domain controller server itself will provide the NTP service. Edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ntp.conf</fo:inline>:</fo:block><fo:block id="idm45028020709568" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
server dc.myubuntu.example.com
</fo:block></fo:block><fo:block id="sssd-ad-samba"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Samba Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.4.Samba Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Samba will be used to perform netbios/nmbd services related to Active Directory authentication, even if no file shares are exported.  Edit the file /etc/samba/smb.conf and add the following to the <fo:inline font-style="italic">[global]</fo:inline> section:</fo:block><fo:block id="idm45028020706080" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
[global]

workgroup = MYUBUNTU
client signing = yes
client use spnego = yes
kerberos method = secrets and keytab
realm = MYUBUNTU.EXAMPLE.COM
security = ads
</fo:block><fo:block id="idm45028020705072" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Some guides specify that "password server" should be specified and pointed to the domain controller.  This is only necessary if DNS is not properly set up to find the DC.  By default, Samba will display a warning if "password server" is specified with "security = ads".</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="sssd-ad-sssdconfig"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">SSSD Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.5.SSSD Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">There is no default/example config file for <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/sssd/sssd.conf</fo:inline> included in the sssd package.  It is necessary to create one.  This is a minimal working config file:</fo:block><fo:block id="idm45028020701216" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
[sssd]
services = nss, pam
config_file_version = 2
domains = MYUBUNTU.EXAMPLE.COM

[domain/MYUBUNTU.EXAMPLE.COM]
id_provider = ad
access_provider = ad

# Use this if users are being logged in at /.
# This example specifies /home/DOMAIN-FQDN/user as $HOME.  Use with pam_mkhomedir.so
override_homedir = /home/%d/%u

# Uncomment if the client machine hostname doesn't match the computer object on the DC.
# ad_hostname = mymachine.myubuntu.example.com

# Uncomment if DNS SRV resolution is not working
# ad_server = dc.mydomain.example.com

# Uncomment if the AD domain is named differently than the Samba domain
# ad_domain = MYUBUNTU.EXAMPLE.COM

# Enumeration is discouraged for performance reasons.
# enumerate = true
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">After saving this file, set the ownership to root and the file permissions to 600:</fo:block><fo:block id="idm45028020699136" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"><fo:inline font-weight="bold">sudo chown root:root /etc/sssd/sssd.conf</fo:inline></fo:block><fo:block id="idm45028020697696" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"><fo:inline font-weight="bold">sudo chmod 600 /etc/sssd/sssd.conf</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If the ownership or permissions are not correct, sssd will refuse to start.</fo:block></fo:block><fo:block id="sssd-ad-nsswitch"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Verify nsswitch.conf Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.6.Verify nsswitch.conf Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The post-install script for the sssd package makes some modifications to /etc/nsswitch.conf automatically.  It should look something like this:</fo:block><fo:block id="idm45028020693632" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
passwd:         compat sss
group:          compat sss
...
netgroup:       nis sss
sudoers:        files sss
</fo:block></fo:block><fo:block id="sssd-ad-hosts"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Modify /etc/hosts</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.7.Modify /etc/hosts</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Add an alias to the localhost entry in /etc/hosts specifying the FQDN.  For example:</fo:block><fo:block id="idm45028020690560" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">192.168.1.10 myserver myserver.myubuntu.example.com</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This is useful in conjunction with dynamic DNS updates.</fo:block></fo:block><fo:block id="sssd-ad-join"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Join the Active Directory</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.8.Join the Active Directory</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Now, restart ntp and samba and start sssd.</fo:block><fo:block id="idm45028020687088" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"><fo:inline font-weight="bold">sudo systemctl restart ntp.service</fo:inline>
<fo:inline font-weight="bold">sudo systemctl restart smbd.service nmbd.service</fo:inline> 
<fo:inline font-weight="bold">sudo systemctl start sssd.service</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Test the configuration by obtaining a Kerberos ticket:</fo:block><fo:block id="idm45028020683408" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"><fo:inline font-weight="bold">sudo kinit Administrator</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Verify the ticket with:</fo:block><fo:block id="idm45028020681536" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"><fo:inline font-weight="bold">sudo klist</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If there is a ticket with an expiration date listed, then it is time to join the domain:</fo:block><fo:block id="idm45028020679600" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"><fo:inline font-weight="bold">sudo net ads join -k</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A warning about "No DNS domain configured. Unable to perform DNS Update." probably means that there is no (correct) alias in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/hosts</fo:inline>, and the system could not provide its own FQDN as part of the Active Directory update.  This is needed for dynamic DNS updates.  Verify the alias in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/hosts</fo:inline> described in "Modify /etc/hosts" above.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">(The message "NT_STATUS_UNSUCCESSFUL" indicates the domain join failed and something is incorrect.  Review the prior steps before proceeding).</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Here are a couple of (optional) checks to verify that the domain join was successful. Note that if the domain was successfully joined but one or both of these steps fail, it may be necessary to wait 1-2 minutes and try again.  Some of the changes appear to be asynchronous.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Verification option #1:</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Check the default Organizational Unit for computer accounts in the Active Directory to verify that the computer account was created.  (Organizational Units in Active Directory is a topic outside the scope of this guide).</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Verification option #2</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Execute this command for a specific AD user (e.g. administrator)</fo:block><fo:block id="idm45028020672416" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"><fo:inline font-weight="bold">getent passwd username</fo:inline></fo:block><fo:block id="idm45028020671008" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If <fo:inline font-style="italic">enumerate = true</fo:inline> is set in <fo:inline font-size="8.800000000000001pt" font-family="monospace">sssd.conf</fo:inline>, <fo:inline font-style="italic">getent passwd</fo:inline> with no username argument will list all domain users.  This may be useful for testing, but is slow and not recommended for production.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="sssd-ad-test"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Test Authentication</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.9.Test Authentication</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">It should now be possible to authenticate using an Active Directory User's credentials:</fo:block><fo:block id="idm45028020666448" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"><fo:inline font-weight="bold">su - username</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If this works, then other login methods (getty, ssh) should also work.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If the computer account was created, indicating that the system was "joined" to the domain, but authentication is unsuccessful, it may be helpful to review <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/pam.d</fo:inline> and <fo:inline font-size="8.800000000000001pt" font-family="monospace">nssswitch.conf</fo:inline> as well as the file changes described earlier in this guide.</fo:block></fo:block><fo:block id="sssd-ad-mkhomedir"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Home directories with pam_mkhomedir (optional)</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.10.Home directories with pam_mkhomedir (optional)</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">When logging in using an Active Directory user account, it is likely that user has no home directory.  This can be fixed with pam_mkdhomedir.so, which will create the user's home directory on login.  Edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/pam.d/common-session</fo:inline>, and add this line directly after <fo:inline font-style="italic">session required pam_unix.so:</fo:inline></fo:block><fo:block id="idm45028020658704" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
session    required    pam_mkhomedir.so skel=/etc/skel/ umask=0022
</fo:block><fo:block id="idm45028020657792" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This may also need <fo:inline font-style="italic">override_homedir</fo:inline> in <fo:inline font-size="8.800000000000001pt" font-family="monospace">sssd.conf</fo:inline> to function correctly, so make sure that's set.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="sssd-ad-desktop"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Desktop Ubuntu Authentication</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.11.Desktop Ubuntu Authentication</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">It is possible to also authenticate logins to Ubuntu Desktop using Active Directory accounts.  The AD accounts will not show up in the pick list with local users, so lightdm will need to be modified.  Edit the file <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/lightdm/lightdm.conf.d/50-unity-greeter.conf</fo:inline> and append the following two lines:</fo:block><fo:block id="idm45028020652704" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
greeter-show-manual-login=true
greeter-hide-users=true
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Reboot to restart lightdm.  It should now be possible to log in using a domain account using either <fo:inline font-style="italic">username</fo:inline> or <fo:inline font-style="italic">username/username@domain</fo:inline> format.</fo:block></fo:block><fo:block id="sssd-ad-resources"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Resources</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.12.Resources</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028020648816" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028020648528" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link external-destination="https://fedorahosted.org/sssd" font-style="italic">SSSD Project</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">62</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">62</fo:inline> <fo:basic-link external-destination="https://fedorahosted.org/sssd">https://fedorahosted.org/sssd</fo:basic-link></fo:block></fo:footnote-body></fo:footnote></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020647536" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link external-destination="http://www.ucs.cam.ac.uk/support/windows-support/winsuptech/activedir/dnsconfig" font-style="italic">DNS Server Configuration guidelines</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">63</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">63</fo:inline> <fo:basic-link external-destination="http://www.ucs.cam.ac.uk/support/windows-support/winsuptech/activedir/dnsconfig">http://www.ucs.cam.ac.uk/support/windows-support/winsuptech/activedir/dnsconfig</fo:basic-link></fo:block></fo:footnote-body></fo:footnote></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020646480" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link external-destination="https://technet.microsoft.com/en-us/library/cc759550%28v=ws.10%29.aspx" font-style="italic">Active Directory DNS Zone Entries</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">64</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">64</fo:inline> <fo:basic-link external-destination="https://technet.microsoft.com/en-us/library/cc759550%28v=ws.10%29.aspx">https://technet.microsoft.com/en-us/library/cc759550%28v=ws.10%29.aspx</fo:basic-link></fo:block></fo:footnote-body></fo:footnote></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020645440" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link external-destination="http://web.mit.edu/kerberos/krb5-1.12/doc/admin/conf_files/krb5_conf.html" font-style="italic">Kerberos config options</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">65</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">65</fo:inline> <fo:basic-link external-destination="http://web.mit.edu/kerberos/krb5-1.12/doc/admin/conf_files/krb5_conf.html">http://web.mit.edu/kerberos/krb5-1.12/doc/admin/conf_files/krb5_conf.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Domain Name Service (DNS)</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Domain Name Service (DNS)</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-inner-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block id="dns"><fo:block font-family="serif,Symbol"><fo:block margin-left="0pc"><fo:block font-size="24.8832pt" font-weight="bold"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0pc" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">Chapter8.Domain Name Service (DNS)</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Domain Name Service (DNS) is an Internet service that maps IP addresses and fully
                qualified domain names (FQDN) to one another. In this way, DNS alleviates the need to
                remember IP addresses. Computers that run DNS are called
                <fo:inline font-style="italic">name
                servers</fo:inline>. Ubuntu ships with BIND (Berkley
                Internet Naming Daemon), the most common program used for maintaining a name
                server on Linux.</fo:block><fo:block id="dns-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">1.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">At a terminal prompt, enter the following command to install
                  dns:
	  </fo:block><fo:block id="idm45028025992864" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install bind9</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  A very useful package for testing and troubleshooting DNS issues is the dnsutils package. Very often these
          tools will be installed already, but to check and/or install dnsutils enter the following:
          </fo:block><fo:block id="idm45028026231184" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install dnsutils</fo:inline>
</fo:block></fo:block><fo:block id="dns-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">2.Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  There are many ways to configure BIND9.  Some of the most common configurations are a caching nameserver, 
	  primary master, and as a secondary master.
	  </fo:block><fo:list-block id="idm45028026986048" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028027713408" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      When configured as a caching nameserver BIND9 will find the answer to name queries and remember the answer when the domain
	      is queried again.
	      </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028027273264" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      As a primary master server BIND9 reads the data for a zone from a file on it's host and is authoritative for that zone.
	      </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023530448" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      In a secondary master configuration BIND9 gets the zone data from another nameserver authoritative for the zone.
	      </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block id="dns-configuration-overview"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Overview</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.1.Overview</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            The DNS configuration files are stored in the
            <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/bind</fo:inline> directory. The
            primary configuration file is
            <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/bind/named.conf</fo:inline>.
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            The <fo:inline font-style="italic">include</fo:inline> line specifies the
            filename which contains the DNS options. The
            <fo:inline font-style="italic">directory</fo:inline> line in the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/bind/named.conf.options</fo:inline> file tells
            DNS where to look for files. All files BIND uses will be
            relative to this directory.
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            The file named <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/bind/db.root</fo:inline> 
            describes the root nameservers in the world. The servers
            change over time, so the
            <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/bind/db.root</fo:inline> file must be maintained
            now and then.  This is usually done as updates to the bind9 package.
            The <fo:inline font-style="italic">zone</fo:inline> section defines a master
            server, and it is stored in a file mentioned in the <fo:inline font-style="italic">file</fo:inline> option.
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    It is possible to configure the same server to be a caching name server, primary master, and secondary master.
	    A server can be the Start of Authority (SOA) for one zone, while providing secondary service for another zone.
	    All the while providing caching services for hosts on the local LAN.
	    </fo:block></fo:block><fo:block id="dns-caching-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Caching Nameserver</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.2.Caching Nameserver</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    The default configuration is setup to act as a caching server.  All that is required is simply adding the IP Addresses 
	    of your ISP's DNS servers.  Simply uncomment and edit the following in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/bind/named.conf.options</fo:inline>: 
	    </fo:block><fo:block id="idm45028025963440" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
forwarders {
                1.2.3.4;
                5.6.7.8;
           };
</fo:block><fo:block id="idm45028030506672" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    Replace <fo:inline font-style="italic">1.2.3.4</fo:inline> and <fo:inline font-style="italic">5.6.7.8</fo:inline> with the IP Adresses of actual nameservers.
	    </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  Now restart the DNS server, to enable the new configuration.  From a terminal prompt: 
          </fo:block><fo:block id="idm45028030305120" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart bind9.service</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  See <fo:basic-link internal-destination="dns-testing-dig"><fo:inline font-style="italic">Section3.1.2, dig</fo:inline></fo:basic-link><fo:basic-link internal-destination="dns-testing-dig" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="dns-testing-dig"/>]</fo:inline></fo:basic-link> for information on testing a caching DNS server.
          </fo:block></fo:block><fo:block id="dns-primarymaster-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Primary Master</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.3.Primary Master</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    In this section BIND9 will be configured as the Primary Master for the domain 
	    <fo:inline font-style="italic">example.com</fo:inline>.  Simply replace <fo:inline font-style="italic">example.com</fo:inline> with your
	    FQDN (Fully Qualified Domain Name).
	    </fo:block><fo:block id="dns-forward-zone-file"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">2.3.1.Forward Zone File</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      To add a DNS zone to BIND9, turning BIND9 into a Primary Master server, the first step is to edit
	      <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/bind/named.conf.local</fo:inline>:
	      </fo:block><fo:block id="idm45028028327184" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
zone "example.com" {
	type master;
        file "/etc/bind/db.example.com";
};
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      (Note, if bind will be receiving automatic updates to the file as with DDNS, then use <fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/lib/bind/db.example.com</fo:inline>
	      rather than <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/bind/db.example.com</fo:inline> both here and in the copy command below.)
	      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      Now use an existing zone file as a template to create the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/bind/db.example.com</fo:inline> file:
	      </fo:block><fo:block id="idm45028029672208" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo cp /etc/bind/db.local /etc/bind/db.example.com</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      Edit the new zone file <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/bind/db.example.com</fo:inline> change <fo:inline font-style="italic">localhost.</fo:inline>
	      to the FQDN of your server, leaving the additional "." at the end. Change <fo:inline font-style="italic">127.0.0.1</fo:inline> to the 
	      nameserver's IP Address and <fo:inline font-style="italic">root.localhost</fo:inline> to a valid email address, but with a "." instead 
	      of the usual "@" symbol, again leaving the "." at the end. Change the comment to indicate the domain that this
	      file is for.
	      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      Create an <fo:inline font-style="italic">A record</fo:inline> for the base domain, <fo:inline font-style="italic">example.com</fo:inline>.
	      Also, create an <fo:inline font-style="italic">A record</fo:inline> for <fo:inline font-style="italic">ns.example.com</fo:inline>, the name 
	      server in this example: 
	      </fo:block><fo:block id="idm45028025203296" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
;
; BIND data file for example.com
;
$TTL    604800
@       IN      SOA     example.com. root.example.com. (
                              2         ; Serial
                         604800         ; Refresh
                          86400         ; Retry
                        2419200         ; Expire
                         604800 )       ; Negative Cache TTL
        IN      A       192.168.1.10
;
@       IN      NS      ns.example.com.
@       IN      A       192.168.1.10
@       IN      AAAA    ::1
ns      IN      A       192.168.1.10
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
  	       You must increment the <fo:inline font-style="italic">Serial Number</fo:inline> every time you make changes to the zone file. 
	       If you make multiple changes before restarting BIND9, simply increment the Serial once.
	       </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	       Now, you can add DNS records to the bottom of the zone file.  See <fo:basic-link internal-destination="dns-record-types"><fo:inline font-style="italic">Section4.1, Common Record Types</fo:inline></fo:basic-link><fo:basic-link internal-destination="dns-record-types" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="dns-record-types"/>]</fo:inline></fo:basic-link> for details.
	       </fo:block><fo:block id="idm45028023762656" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	         Many admins like to use the last date edited as the serial of a zone, such as  <fo:inline font-style="italic">2012010100</fo:inline>
	         which is yyyymmddss (where <fo:inline font-style="italic">ss</fo:inline> is the Serial Number)
		 </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	       Once you have made changes to the zone file BIND9 needs to be restarted for 
	       the changes to take effect: 
	       </fo:block><fo:block id="idm45028023747872" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart bind9.service</fo:inline>
</fo:block></fo:block><fo:block id="dns-reverse-zone-file"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">2.3.2.Reverse Zone File</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      Now that the zone is setup and resolving names to IP Adresses a <fo:inline font-style="italic">Reverse zone</fo:inline> is also required. 
	      A Reverse zone allows DNS to resolve an address to a name.
	      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      Edit /etc/bind/named.conf.local and add the following: 			
	      </fo:block><fo:block id="idm45028027339120" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
zone "1.168.192.in-addr.arpa" {
        type master;
        file "/etc/bind/db.192";
};
</fo:block><fo:block id="idm45028028219952" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">	      
	      	Replace <fo:inline font-style="italic">1.168.192</fo:inline> with the first three octets of whatever network you are using. 
	        Also, name the zone file <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/bind/db.192</fo:inline> appropriately.  It should match the first octet of your network.
	      	</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      Now create the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/bind/db.192</fo:inline> file: 
	      </fo:block><fo:block id="idm45028027054016" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo cp /etc/bind/db.127 /etc/bind/db.192</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      Next edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/bind/db.192</fo:inline> changing the basically the same options as 
	      <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/bind/db.example.com</fo:inline>:
	      </fo:block><fo:block id="idm45028025983616" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
;
; BIND reverse data file for local 192.168.1.XXX net
;
$TTL    604800
@       IN      SOA     ns.example.com. root.example.com. (
                              2         ; Serial
                         604800         ; Refresh
                          86400         ; Retry
                        2419200         ; Expire
                         604800 )       ; Negative Cache TTL
;
@       IN      NS      ns.
10      IN      PTR     ns.example.com.
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      The <fo:inline font-style="italic">Serial Number</fo:inline> in the Reverse zone needs to be incremented on each change as well. 
	      For each <fo:inline font-style="italic">A record</fo:inline> you configure in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/bind/db.example.com</fo:inline>, that is for a different
	      address, you need to create a <fo:inline font-style="italic">PTR record</fo:inline> in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/bind/db.192</fo:inline>.
	      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      After creating the reverse zone file restart BIND9: 
	      </fo:block><fo:block id="idm45028027049296" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart bind9.service</fo:inline>
</fo:block></fo:block></fo:block><fo:block id="dns-secondarymaster-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Secondary Master</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.4.Secondary Master</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    Once a <fo:inline font-style="italic">Primary Master</fo:inline> has been configured a <fo:inline font-style="italic">Secondary Master</fo:inline> is needed in 
	    order to maintain the availability of the domain should the Primary become unavailable.
	    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            First, on the Primary Master server, the zone transfer needs to be allowed. Add the <fo:inline font-style="italic">allow-transfer</fo:inline> 
	    option to the example Forward and Reverse zone definitions in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/bind/named.conf.local</fo:inline>: 
	    </fo:block><fo:block id="idm45028025397632" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
zone "example.com" {
        type master;
	file "/etc/bind/db.example.com";
        allow-transfer { 192.168.1.11; };
};

zone "1.168.192.in-addr.arpa" {
        type master;
        file "/etc/bind/db.192";
	allow-transfer { 192.168.1.11; };
};
</fo:block><fo:block id="idm45028024608624" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      Replace <fo:inline font-style="italic">192.168.1.11</fo:inline> with the IP Address of your Secondary nameserver.
	      </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Restart BIND9 on the Primary Master:
	    </fo:block><fo:block id="idm45028027000896" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart bind9.service</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Next, on the Secondary Master, install the bind9 package the same way as on the Primary. 
	    Then edit the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/bind/named.conf.local</fo:inline> and add the following declarations for the Forward and Reverse zones:
	    </fo:block><fo:block id="idm45028026841008" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
zone "example.com" {
	type slave;
        file "db.example.com";
        masters { 192.168.1.10; };
};        
      
zone "1.168.192.in-addr.arpa" {
	type slave;
        file "db.192";
        masters { 192.168.1.10; };
};
</fo:block><fo:block id="idm45028024401440" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      Replace <fo:inline font-style="italic">192.168.1.10</fo:inline> with the IP Address of your Primary nameserver.
	      </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Restart BIND9 on the Secondary Master:
	    </fo:block><fo:block id="idm45028027853248" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart bind9.service</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    In <fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/log/syslog</fo:inline> you should see something similar to (some lines have been split to fit the format of this document):
	    </fo:block><fo:block id="idm45028027764448" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
client 192.168.1.10#39448: received notify for zone '1.168.192.in-addr.arpa'
zone 1.168.192.in-addr.arpa/IN: Transfer started.
transfer of '100.18.172.in-addr.arpa/IN' from 192.168.1.10#53:
 connected using 192.168.1.11#37531
zone 1.168.192.in-addr.arpa/IN: transferred serial 5
transfer of '100.18.172.in-addr.arpa/IN' from 192.168.1.10#53:
 Transfer completed: 1 messages, 
6 records, 212 bytes, 0.002 secs (106000 bytes/sec)
zone 1.168.192.in-addr.arpa/IN: sending notifies (serial 5)

client 192.168.1.10#20329: received notify for zone 'example.com'
zone example.com/IN: Transfer started.
transfer of 'example.com/IN' from 192.168.1.10#53: connected using 192.168.1.11#38577
zone example.com/IN: transferred serial 5
transfer of 'example.com/IN' from 192.168.1.10#53: Transfer completed: 1 messages, 
8 records, 225 bytes, 0.002 secs (112500 bytes/sec)
</fo:block><fo:block id="idm45028023556704" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Note: A zone is only transferred if the <fo:inline font-style="italic">Serial Number</fo:inline> on the Primary is larger than the one on the Secondary. If you want to have your Primary Master DNS notifying Secondary DNS Servers of zone changes, you can add <fo:inline font-style="italic">also-notify { ipaddress; };</fo:inline> in to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/bind/named.conf.local</fo:inline> as shown in the example below:
	      </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="idm45028023553952" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
zone "example.com" {
	type master;
	file "/etc/bind/db.example.com";
	allow-transfer { 192.168.1.11; };
	also-notify { 192.168.1.11; }; 
	};

zone "1.168.192.in-addr.arpa" {
	type master;
	file "/etc/bind/db.192";
	allow-transfer { 192.168.1.11; };
	also-notify { 192.168.1.11; }; 
	};
	</fo:block><fo:block id="idm45028023552880" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              The default directory for non-authoritative zone files is <fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/cache/bind/</fo:inline>. This directory is also configured
              in AppArmor to allow the named daemon to write to it.  For more information on
              AppArmor see <fo:basic-link internal-destination="apparmor"><fo:inline font-style="italic">Section4, AppArmor</fo:inline></fo:basic-link><fo:basic-link internal-destination="apparmor" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="apparmor"/>]</fo:inline></fo:basic-link>.
	      </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:block><fo:block id="dns-troubleshooting"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Troubleshooting</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">3.Troubleshooting</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	This section covers ways to help determine the cause when problems happen with DNS and BIND9. 
	</fo:block><fo:block id="dns-testing"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Testing</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.1.Testing</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="dns-resolv.conf"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">3.1.1.resolv.conf</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    The first step in testing BIND9 is to add the nameserver's IP Address to a hosts resolver.
	    The Primary nameserver should be configured as well as another host to double check things.
	    Refer to <fo:basic-link internal-destination="dns-client-configuration"><fo:inline font-style="italic">Section1.3.1, DNS Client Configuration</fo:inline></fo:basic-link><fo:basic-link internal-destination="dns-client-configuration" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="dns-client-configuration"/>]</fo:inline></fo:basic-link> for details on adding nameserver addresses to your network clients, and afterwards check
	    that the file <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/resolv.conf</fo:inline> contains (for this example):
	    </fo:block><fo:block id="idm45028028320432" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
nameserver	192.168.1.10
nameserver	192.168.1.11
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Nameservers that listen at 127.* are responsible for adding their own IP addresses to resolv.conf (using resolvconf).
            This is done via the file <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/default/bind9</fo:inline> by changing the line RESOLVCONF=no to RESOLVCONF=yes.
            </fo:block><fo:block id="idm45028025469120" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      You should also add the IP Address of the Secondary nameserver in case the Primary becomes unavailable.
	      </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="dns-testing-dig"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">3.1.2.dig</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    If you installed the dnsutils package you can test your setup using the DNS lookup utility
	    dig: 
	    </fo:block><fo:list-block id="idm45028025763920" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028025763632" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	        After installing BIND9 use dig against the
	        loopback interface to make sure it is listening on port 53.  From a terminal prompt:
	        </fo:block><fo:block id="idm45028025761184" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">dig -x 127.0.0.1</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	        You should see lines similar to the following in the command output:
	        </fo:block><fo:block id="idm45028023069440" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
;; Query time: 1 msec
;; SERVER: 192.168.1.10#53(192.168.1.10)
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023068512" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		If you have configured BIND9 as a <fo:inline font-style="italic">Caching</fo:inline> nameserver "dig" an outside
	        domain to check the query time:
	        </fo:block><fo:block id="idm45028023066544" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">dig ubuntu.com</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	        Note the query time toward the end of the command output:
	        </fo:block><fo:block id="idm45028023064528" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
;; Query time: 49 msec
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	        After a second dig there should be improvement:
	        </fo:block><fo:block id="idm45028023063296" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
;; Query time: 1 msec
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="dns-testing-ping"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">3.1.3.ping</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Now to demonstrate how applications make use of DNS to resolve a host name use the
 	    ping utility to send an ICMP echo request.  From a terminal prompt enter:
	    </fo:block><fo:block id="idm45028023059408" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">ping example.com</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    This tests if the nameserver can resolve the name <fo:inline font-style="italic">ns.example.com</fo:inline> to an IP Address.
	    The command output should resemble:
	    </fo:block><fo:block id="idm45028023056976" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
PING ns.example.com (192.168.1.10) 56(84) bytes of data.
64 bytes from 192.168.1.10: icmp_seq=1 ttl=64 time=0.800 ms
64 bytes from 192.168.1.10: icmp_seq=2 ttl=64 time=0.813 ms
</fo:block></fo:block><fo:block id="dns-testing-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">3.1.4.named-checkzone</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    A great way to test your zone files is by using the named-checkzone utility installed with the 
	    bind9 package.  This utility allows you to make sure the configuration is correct
	    before restarting BIND9 and making the changes live.
	    </fo:block><fo:list-block id="idm45028023572608" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028023572320" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	        To test our example Forward zone file enter the following from a command prompt:
	        </fo:block><fo:block id="idm45028023571504" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">named-checkzone example.com /etc/bind/db.example.com</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	        If everything is configured correctly you should see output similar to:
	        </fo:block><fo:block id="idm45028023569408" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
zone example.com/IN: loaded serial 6
OK
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023568480" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	        Similarly, to test the Reverse zone file enter the following:
	        </fo:block><fo:block id="idm45028023567776" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">named-checkzone 1.168.192.in-addr.arpa /etc/bind/db.192</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	        The output should be similar to:
	        </fo:block><fo:block id="idm45028023565792" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
zone 1.168.192.in-addr.arpa/IN: loaded serial 3
OK
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block id="idm45028023564704" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	     The <fo:inline font-style="italic">Serial Number</fo:inline> of your zone file will probably be different.
	     </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:block><fo:block id="dns-logging"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Logging</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.2.Logging</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  BIND9 has a wide variety of logging configuration options available. There are two main options.  The 
	  <fo:inline font-style="italic">channel</fo:inline> option configures where logs go, and the <fo:inline font-style="italic">category</fo:inline> option determines what information to log.
	  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  If no logging option is configured the default option is: 
	  </fo:block><fo:block id="idm45028023559184" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
logging {
     category default { default_syslog; default_debug; };
     category unmatched { null; };
};
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  This section covers configuring BIND9 to send <fo:inline font-style="italic">debug</fo:inline> messages related to DNS queries to a separate file. 
	  </fo:block><fo:list-block id="idm45028023454944" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028023454656" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      First, we need to configure a channel to specify which file to send the messages to. Edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/bind/named.conf.local</fo:inline>
	      and add the following: 
	      </fo:block><fo:block id="idm45028023453008" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
logging {
    channel query.log {      
        file "/var/log/query.log";
        severity debug 3; 
    }; 
};
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023451952" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      Next, configure a category to send all DNS queries to the query file:
	      </fo:block><fo:block id="idm45028023451248" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
logging {
    channel query.log {      
        file "/var/log/query.log"; 
        severity debug 3; 
    }; 
    <fo:inline font-style="italic">category queries { query.log; };</fo:inline> 
};
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block id="idm45028023449568" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    Note: the <fo:inline font-style="italic">debug</fo:inline> option can be set from 1 to 3. If a level isn't specified level 1 is the default.
	    </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:list-block id="idm45028023448144" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028023447856" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      Since the <fo:inline font-style="italic">named daemon</fo:inline> runs as the <fo:inline font-style="italic">bind</fo:inline> user the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/log/query.log</fo:inline>
	      file must be created and the ownership changed:
	      </fo:block><fo:block id="idm45028023445456" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo touch /var/log/query.log</fo:inline>
<fo:inline font-weight="bold">sudo chown bind /var/log/query.log</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023442864" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      Before named daemon can write to the new log file the AppArmor
	      profile must be updated.  First, edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apparmor.d/usr.sbin.named</fo:inline> and add:
	      </fo:block><fo:block id="idm45028023439776" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
/var/log/query.log w,
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      Next, reload the profile:
	      </fo:block><fo:block id="idm45028023438560" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">cat /etc/apparmor.d/usr.sbin.named | sudo apparmor_parser -r</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
               For more information on AppArmor see <fo:basic-link internal-destination="apparmor"><fo:inline font-style="italic">Section4, AppArmor</fo:inline></fo:basic-link><fo:basic-link internal-destination="apparmor" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="apparmor"/>]</fo:inline></fo:basic-link>
	      </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023435056" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      Now restart BIND9 for the changes to take effect:
	      </fo:block><fo:block id="idm45028023433552" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart bind9.service</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  You should see the file <fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/log/query.log</fo:inline> fill with query information. This is a simple example of the 
	  BIND9 logging options.  For coverage of advanced options see <fo:basic-link internal-destination="dns-more-info"><fo:inline font-style="italic">Section4.2, More Information</fo:inline></fo:basic-link><fo:basic-link internal-destination="dns-more-info" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="dns-more-info"/>]</fo:inline></fo:basic-link>.
	  </fo:block></fo:block></fo:block><fo:block id="dns-references"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">References</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">4.References</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="dns-record-types"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Common Record Types</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.1.Common Record Types</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  This section covers some of the most common DNS record types.
	  </fo:block><fo:list-block id="idm45028023425696" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028023425408" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      <fo:inline font-style="italic">A</fo:inline> record: This record maps an IP Address to a hostname.
	      </fo:block><fo:block id="idm45028023424256" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
www      IN    A      192.168.1.12
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023423280" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      <fo:inline font-style="italic">CNAME</fo:inline> record: Used to create an alias to an existing A record. You cannot create a CNAME record pointing to another CNAME record.
	      </fo:block><fo:block id="idm45028023421984" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
web     IN    CNAME  www
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023421008" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      <fo:inline font-style="italic">MX</fo:inline> record: Used to define where email should be sent to. Must point to an A record, not a CNAME.
	      </fo:block><fo:block id="idm45028023007312" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
        IN    MX  1   mail.example.com.
mail    IN    A       192.168.1.13
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023006384" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      <fo:inline font-style="italic">NS</fo:inline> record: Used to define which servers serve copies of a zone. It must point to an A record, not a CNAME.
	      This is where Primary and Secondary servers are defined.
	      </fo:block><fo:block id="idm45028023005040" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
        IN    NS     ns.example.com.
        IN    NS     ns2.example.com.
ns      IN    A      192.168.1.10
ns2     IN    A      192.168.1.11
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="dns-more-info"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">More Information</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.2.More Information</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028023002320" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028023002032" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The <fo:basic-link external-destination="https://help.ubuntu.com/community/BIND9ServerHowto" font-style="italic">BIND9 Server HOWTO</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/BIND9ServerHowto">https://help.ubuntu.com/community/BIND9ServerHowto</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> in the Ubuntu Wiki has a lot of useful information.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023000480" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The <fo:basic-link external-destination="http://www.tldp.org/HOWTO/DNS-HOWTO.html" font-style="italic">DNS HOWTO</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline> <fo:basic-link external-destination="http://www.tldp.org/HOWTO/DNS-HOWTO.html">http://www.tldp.org/HOWTO/DNS-HOWTO.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> at The Linux Documentation Project also has lots of information about configuring BIND9.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022998816" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
             <fo:basic-link external-destination="http://www.bind9.net/" font-style="italic">Bind9.net</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline> <fo:basic-link external-destination="http://www.bind9.net/">http://www.bind9.net/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> has links to a large collection of DNS and BIND9 resources.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022996432" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:basic-link external-destination="http://shop.oreilly.com/product/9780596100575.do" font-style="italic">DNS and BIND</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline> <fo:basic-link external-destination="http://shop.oreilly.com/product/9780596100575.do">http://shop.oreilly.com/product/9780596100575.do</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> is a popular book now in it's fifth edition. There is now also a <fo:basic-link external-destination="http://shop.oreilly.com/product/0636920020158.do" font-style="italic">DNS and BIND on IPv6</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline> <fo:basic-link external-destination="http://shop.oreilly.com/product/0636920020158.do">http://shop.oreilly.com/product/0636920020158.do</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> book.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022994192" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
  	      A great place to ask for BIND9 assistance, and get involved with the Ubuntu Server community, is the <fo:inline font-style="italic">#ubuntu-server</fo:inline> IRC channel on <fo:basic-link external-destination="http://freenode.net" font-style="italic">freenode</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline> <fo:basic-link external-destination="http://freenode.net">http://freenode.net</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
  	      </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Security</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Security</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-inner-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block id="security"><fo:block font-family="serif,Symbol"><fo:block margin-left="0pc"><fo:block font-size="24.8832pt" font-weight="bold"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0pc" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">Chapter9.Security</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Security should always be considered when installing, deploying, and using any type of computer system. Although a fresh installation of Ubuntu is relatively safe for immediate use on the Internet, it is important to have a balanced understanding of your system's security posture based on how it will be used after deployment.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	This chapter provides an overview of security-related topics as they pertain to Ubuntu 16.04 LTS Server Edition, and outlines simple measures you may use to protect your server and network from any number of potential security threats.
	</fo:block><fo:block id="user-management"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">User Management</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">1.User Management</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	User management is a critical part of maintaining a secure system.  Ineffective user and privilege management often lead many systems into being compromised. Therefore, it is important that you understand how you can protect your server through simple and effective user account management techniques.
	</fo:block><fo:block id="where-is-root"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Where is root?</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.1.Where is root?</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Ubuntu developers made a conscientious decision to disable the administrative root account by default in all Ubuntu installations. This does not mean that the root account has been deleted or that it may not be accessed. It merely has been given a password which matches no possible encrypted value, therefore may not log in directly by itself.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Instead, users are encouraged to make use of a tool by the name of sudo to carry out system administrative duties.  Sudo allows an authorized user to  temporarily elevate their privileges using their own password instead of having to know the password belonging to the root account. This simple yet effective methodology provides accountability for all user actions, and gives the administrator granular control over which actions a user can perform with said privileges.   
	</fo:block><fo:list-block id="idm45028025364112" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028032702352" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		If for some reason you wish to enable the root account, simply give it a password:
		</fo:block><fo:block id="idm45028026265632" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Configurations with root passwords are not supported.
		</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="idm45028023608048" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo passwd</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Sudo will prompt you for your password, and then ask you to supply a new password for root as shown below:
		</fo:block><fo:block id="idm45028026073232" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-size="8.800000000000001pt" font-family="monospace">[sudo] password for username:</fo:inline> <fo:inline font-weight="bold" font-size="8.800000000000001pt" font-family="monospace">(enter your own password)</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">Enter new UNIX password:</fo:inline> <fo:inline font-weight="bold" font-size="8.800000000000001pt" font-family="monospace">(enter a new password for root)</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">Retype new UNIX password:</fo:inline> <fo:inline font-weight="bold" font-size="8.800000000000001pt" font-family="monospace">(repeat new password for root)</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">passwd: password updated successfully</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022742640" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		To disable the root account password, use the following passwd syntax:
		</fo:block><fo:block id="idm45028030016128" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo passwd -l root</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        However, to disable the root account itself, use the following command:
		</fo:block><fo:block id="idm45028025961456" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">usermod --expiredate 1</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030322064" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		You should read more on Sudo by reading the man page:
		</fo:block><fo:block id="idm45028028841408" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">man sudo</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			By default, the initial user created by the Ubuntu installer is a member of the group "<fo:inline font-style="italic">sudo</fo:inline>" which is added to the file <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/sudoers</fo:inline> as an authorized sudo user. If you wish to give any other account full root access through sudo, simply add them to the <fo:inline font-style="italic">sudo</fo:inline> group.
		</fo:block></fo:block><fo:block id="adding-deleting-users"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Adding and Deleting Users</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.2.Adding and Deleting Users</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	The process for managing local users and groups is straightforward and differs very little from most other GNU/Linux operating systems. Ubuntu and other Debian based distributions encourage the use of the "adduser" package for account management.
	</fo:block><fo:list-block id="idm45028028158240" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028028717504" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		To add a user account, use the following syntax, and follow the prompts to give the account a password and identifiable characteristics, such as a full name, phone number, etc.
		</fo:block><fo:block id="idm45028025699392" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo adduser username</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028028070080" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		To delete a user account and its primary group, use the following syntax:
		</fo:block><fo:block id="idm45028029104528" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo deluser username</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Deleting an account does not remove their respective home folder. It is up to you whether or not you wish to delete the folder manually or keep it according to your desired retention policies.  
		</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Remember, any user added later on with the same UID/GID as the previous owner will now have access to this folder if you have not taken the necessary precautions.
		</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		You may want to change these UID/GID values to something more appropriate, such as the root account, and perhaps even relocate the folder to avoid future conflicts:
		</fo:block><fo:block id="idm45028027877184" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo chown -R root:root /home/username/</fo:inline>
<fo:inline font-weight="bold">sudo mkdir /home/archived_users/</fo:inline>
<fo:inline font-weight="bold">sudo mv /home/username /home/archived_users/</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028027353904" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		To temporarily lock or unlock a user account, use the following syntax, respectively:
		</fo:block><fo:block id="idm45028027153728" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo passwd -l username</fo:inline>
<fo:inline font-weight="bold">sudo passwd -u username</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030430544" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		To add or delete a personalized group, use the following syntax, respectively:
		</fo:block><fo:block id="idm45028027757856" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo addgroup groupname</fo:inline>
<fo:inline font-weight="bold">sudo delgroup groupname</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030300256" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		To add a user to a group, use the following syntax:
		</fo:block><fo:block id="idm45028027178016" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo adduser username groupname</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="user-profile-security"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">User Profile Security</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.3.User Profile Security</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	When a new user is created, the adduser utility creates a brand new home directory named <fo:inline font-size="8.800000000000001pt" font-family="monospace">/home/username</fo:inline>. The default profile is modeled after the contents found in the directory of <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/skel</fo:inline>, which includes all profile basics.  
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	If your server will be home to multiple users, you should pay close attention to the user home directory permissions to ensure confidentiality. By default, user home directories in Ubuntu are created with world read/execute permissions. This means that all users can browse and access the contents of other users home directories. This may not be suitable for your environment.
	</fo:block><fo:list-block id="idm45028028977312" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028026703536" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		To verify your current user home directory permissions, use the following syntax:
		</fo:block><fo:block id="idm45028026074640" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">ls -ld /home/username</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The following output shows that the directory <fo:inline font-size="8.800000000000001pt" font-family="monospace">/home/username</fo:inline> has world-readable permissions:
		</fo:block><fo:block id="idm45028024759120" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-size="8.800000000000001pt" font-family="monospace">drwxr-xr-x  2 username username    4096 2007-10-02 20:03 username</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026491472" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		You can remove the world readable-permissions using the following syntax:
		</fo:block><fo:block id="idm45028025211744" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo chmod 0750 /home/username</fo:inline>
</fo:block><fo:block id="idm45028024668272" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Some people tend to use the recursive option (-R) indiscriminately which modifies all child folders and files, but this is not necessary, and may yield other undesirable results. The parent directory alone is sufficient for preventing unauthorized access to anything below the parent.
		</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		A much more efficient approach to the matter would be to modify the adduser global default permissions when creating user home folders. Simply edit the file <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/adduser.conf</fo:inline> and modify the <fo:inline font-size="8.800000000000001pt" font-family="monospace">DIR_MODE</fo:inline> variable to something appropriate, so that all new home directories will receive the correct permissions.
		</fo:block><fo:block id="idm45028029248496" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
DIR_MODE=0750
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026525440" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		After correcting the directory permissions using any of the previously mentioned techniques, verify the results using the following syntax:
		</fo:block><fo:block id="idm45028026271456" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">ls -ld /home/username</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The results below show that world-readable permissions have been removed:
		</fo:block><fo:block id="idm45028024913552" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-size="8.800000000000001pt" font-family="monospace">drwxr-x---   2 username username    4096 2007-10-02 20:03 username</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="password-policy"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Password Policy</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.4.Password Policy</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	A strong password policy is one of the most important aspects of your security posture. Many successful security breaches involve simple brute force and dictionary attacks against weak passwords. If you intend to offer any form of remote access involving your local password system, make sure you adequately address minimum password complexity requirements, maximum password lifetimes, and frequent audits of your authentication systems.
	</fo:block><fo:block id="minimum-password-length"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.4.1.Minimum Password Length</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	By default, Ubuntu requires a minimum password length of 6 characters, as well as some basic entropy checks. These values are controlled in the file <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/pam.d/common-password</fo:inline>, which is outlined below.
	</fo:block><fo:block id="idm45028023741136" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
password        [success=1 default=ignore]      pam_unix.so obscure sha512
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
If you would like to adjust the minimum length to 8 characters, change the appropriate variable to min=8. The modification is outlined below.
	</fo:block><fo:block id="idm45028030484880" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
password        [success=1 default=ignore]      pam_unix.so obscure sha512 minlen=8
</fo:block><fo:block id="idm45028028836608" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                Basic password entropy checks and minimum length rules do not apply to the administrator using sudo level commands to setup a new user.
                </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="password-expiration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.4.2.Password Expiration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	When creating user accounts, you should make it a policy to have a minimum and maximum password age forcing users to change their passwords when they expire.
	</fo:block><fo:list-block id="idm45028023075040" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028026929168" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		To easily view the current status of a user account, use the following syntax:
		</fo:block><fo:block id="idm45028026780272" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo chage -l username</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The output below shows interesting facts about the user account, namely that there are no policies applied:
		</fo:block><fo:block id="idm45028024863904" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-size="8.800000000000001pt" font-family="monospace">Last password change                                    : Jan 20, 2015
Password expires                                        : never
Password inactive                                       : never
Account expires                                         : never
Minimum number of days between password change          : 0
Maximum number of days between password change          : 99999
Number of days of warning before password expires       : 7</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028036065056" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		To set any of these values, simply use the following syntax, and follow the interactive prompts:
		</fo:block><fo:block id="idm45028022807984" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo chage username</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		The following is also an example of how you can manually change the explicit expiration date (-E) to 01/31/2015, minimum password age (-m) of 5 days, maximum password  age (-M) of 90 days, inactivity period (-I) of 5 days after password expiration, and a warning time period (-W) of 14 days before password expiration:
		</fo:block><fo:block id="idm45028023765792" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo chage -E 01/31/2015 -m 5 -M 90 -I 30 -W 14 username</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026992160" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		To verify changes, use the same syntax as mentioned previously:
		</fo:block><fo:block id="idm45028030038976" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo chage -l username</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The output below shows the new policies that have been established for the account:
		</fo:block><fo:block id="idm45028025935872" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-size="8.800000000000001pt" font-family="monospace">Last password change                                    : Jan 20, 2015
Password expires                                        : Apr 19, 2015
Password inactive                                       : May 19, 2015
Account expires                                         : Jan 31, 2015
Minimum number of days between password change          : 5
Maximum number of days between password change          : 90
Number of days of warning before password expires       : 14</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="other-security-considerations"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Other Security Considerations</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.5.Other Security Considerations</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Many applications use alternate authentication mechanisms that can be easily overlooked by even experienced system administrators.  Therefore, it is important to understand and control how users authenticate and gain access to services and applications on your server.
	</fo:block><fo:block id="ssh-access-by-disabled-users"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.5.1.SSH Access by Disabled Users</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Simply disabling/locking a user account will not prevent a user from logging into your server remotely if they have previously set up RSA public key authentication. They will still be able to gain shell access to the server, without the need for any password. Remember to check the users home directory for files that will allow for this type of authenticated SSH access, e.g. <fo:inline font-size="8.800000000000001pt" font-family="monospace">/home/username/.ssh/authorized_keys</fo:inline>.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Remove or rename the directory <fo:inline font-size="8.800000000000001pt" font-family="monospace">.ssh/</fo:inline> in the user's home folder to prevent further SSH authentication capabilities.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Be sure to check for any established SSH connections by the disabled user, as it is possible they may have existing inbound or outbound connections. Kill any that are found.
	</fo:block><fo:block id="idm45028025270400" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">who | grep username</fo:inline>  (to get the pts/# terminal)
<fo:inline font-weight="bold">sudo pkill -f pts/#</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Restrict SSH access to only user accounts that should have it. For example, you may create a group called "sshlogin" and add the group name as the value associated with the <fo:inline font-size="8.800000000000001pt" font-family="monospace">AllowGroups</fo:inline> variable located in the file <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ssh/sshd_config</fo:inline>.
	</fo:block><fo:block id="idm45028024633824" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
AllowGroups sshlogin
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Then add your permitted SSH users to the group "sshlogin", and restart the SSH service.
	</fo:block><fo:block id="idm45028025091936" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo adduser username sshlogin</fo:inline>
<fo:inline font-weight="bold">sudo systemctl restart sshd.service</fo:inline>
</fo:block></fo:block><fo:block id="external-db-auth"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.5.2.External User Database Authentication</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Most enterprise networks require centralized authentication and access controls for all system resources. If you have configured your server to authenticate users against external databases, be sure to disable the user accounts both externally and locally. This way you ensure that local fallback authentication is not possible.
	</fo:block></fo:block></fo:block></fo:block><fo:block id="console-security"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Console Security</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">2.Console Security</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	As with any other security barrier you put in place to protect your server, it is pretty tough to defend against untold damage caused by someone with physical access to your environment, for example, theft of hard drives, power or service disruption, and so on. Therefore, console security should be addressed merely as one component of your overall physical security strategy. A locked "screen door" may deter a casual criminal, or at the very least slow down a determined one, so it is still advisable to perform basic precautions with regard to console security.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	The following instructions will help defend your server against issues that could otherwise yield very serious consequences.
	</fo:block><fo:block id="disable-ctrl-alt-delete"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Disable Ctrl+Alt+Delete</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.1.Disable Ctrl+Alt+Delete</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Anyone that has physical access to the keyboard can simply use the <fo:inline font-weight="bold">Ctrl</fo:inline>+<fo:inline font-weight="bold">Alt</fo:inline>+<fo:inline font-weight="bold">Delete</fo:inline> key combination to reboot the server without having to log on. While someone could simply unplug the power source, you should still prevent the use of this key combination on a production server. This forces an attacker to take more drastic measures to reboot the server, and will prevent accidental reboots at the same time.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		To disable the reboot action taken by pressing the
<fo:inline font-weight="bold">Ctrl</fo:inline>+<fo:inline font-weight="bold">Alt</fo:inline>+<fo:inline font-weight="bold">Delete</fo:inline>
key combination, run the following two commands:
<fo:block id="idm45028028079328" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
sudo systemctl mask ctrl-alt-del.target
sudo systemctl daemon-reload
</fo:block>
		</fo:block></fo:block></fo:block><fo:block id="firewall"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Firewall</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">3.Firewall</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="firewall-introduction"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Introduction</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.1.Introduction</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
             The Linux kernel includes the <fo:inline font-style="italic">Netfilter</fo:inline> subsystem,
			 which is used to manipulate or decide the fate of network traffic headed into or through
			 your server. All modern Linux firewall solutions use this system for packet filtering.
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              The kernel's packet filtering system would be of little use to administrators without
			  a userspace interface to manage it. This is the purpose of iptables: When a packet
			  reaches your server, it will be handed off to the Netfilter subsystem for acceptance,
			  manipulation, or rejection based on the rules supplied to it from userspace via
			  iptables. Thus, iptables is all you need to manage your firewall, if you're familiar
			  with it, but many frontends are available to simplify the task.
            </fo:block></fo:block><fo:block id="firewall-ufw"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">ufw - Uncomplicated Firewall</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.2.ufw - Uncomplicated Firewall</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    The default firewall configuration tool for Ubuntu is ufw. Developed to ease iptables firewall configuration,
	    ufw provides a user-friendly way to create an IPv4 or IPv6 host-based firewall.
	    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            ufw by default is initially disabled. From the ufw man page: 
	    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
<fo:inline>
       ufw is not intended to provide complete firewall functionality via its command interface, but instead provides an easy way to add or remove simple rules. It is currently mainly used for host-based firewalls.
</fo:inline>
	    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    The following are some examples of how to use ufw:
	    </fo:block><fo:list-block id="idm45028022925456" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028022925168" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                First, ufw needs to be enabled. From a terminal prompt enter:
	        </fo:block><fo:block id="idm45028022923648" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ufw enable</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022921888" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                To open a port (SSH in this example):
	        </fo:block><fo:block id="idm45028022921184" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ufw allow 22</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022919424" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                Rules can also be added using a <fo:inline font-style="italic">numbered</fo:inline> format:
	        </fo:block><fo:block id="idm45028022918272" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ufw insert 1 allow 80</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022916496" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                Similarly, to close an opened port:
	        </fo:block><fo:block id="idm45028022915792" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ufw deny 22</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022267200" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                To remove a rule, use delete followed by the rule:
	        </fo:block><fo:block id="idm45028022266496" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ufw delete deny 22</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022264736" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		It is also possible to allow access from specific hosts or networks to a port. The following example allows SSH access
		from host 192.168.0.2 to any IP address on this host:
	        </fo:block><fo:block id="idm45028022263824" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ufw allow proto tcp from 192.168.0.2 to any port 22</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Replace 192.168.0.2 with 192.168.0.0/24 to allow SSH access from the entire subnet.
		</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022261568" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                Adding the <fo:inline font-style="italic">--dry-run</fo:inline> option to a <fo:inline font-style="italic">ufw</fo:inline> command will output the resulting
                rules, but not apply them. For example, the following is what would be applied if opening the HTTP port:
                </fo:block><fo:block id="idm45028022259760" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold"> sudo ufw --dry-run allow http</fo:inline>
</fo:block><fo:block id="idm45028022258144" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-size="8.800000000000001pt" font-family="monospace">*filter
:ufw-user-input - [0:0]
:ufw-user-output - [0:0]
:ufw-user-forward - [0:0]
:ufw-user-limit - [0:0]
:ufw-user-limit-accept - [0:0]
### RULES ###

### tuple ### allow tcp 80 0.0.0.0/0 any 0.0.0.0/0
-A ufw-user-input -p tcp --dport 80 -j ACCEPT

### END RULES ###
-A ufw-user-input -j RETURN
-A ufw-user-output -j RETURN
-A ufw-user-forward -j RETURN
-A ufw-user-limit -m limit --limit 3/minute -j LOG --log-prefix "[UFW LIMIT]: "
-A ufw-user-limit -j REJECT
-A ufw-user-limit-accept -j ACCEPT
COMMIT
Rules updated</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022255888" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                ufw can be disabled by:
	        </fo:block><fo:block id="idm45028022254336" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ufw disable</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022252576" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                To see the firewall status, enter:
	        </fo:block><fo:block id="idm45028022251872" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ufw status</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022250112" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                And for more verbose status information use:
	        </fo:block><fo:block id="idm45028022249408" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ufw status verbose</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022247648" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                To view the <fo:inline font-style="italic">numbered</fo:inline> format:
	        </fo:block><fo:block id="idm45028022246448" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ufw status numbered</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block id="idm45028022244512" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      If the port you want to open or close is defined in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/services</fo:inline>, you can use the port name instead of the number.
	      In the above examples, replace <fo:inline font-style="italic">22</fo:inline> with <fo:inline font-style="italic">ssh</fo:inline>. 
              </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    This is a quick introduction to using ufw. Please refer to the ufw man page for 
            more information.
	    </fo:block><fo:block id="ufw-application-integration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">3.2.1.ufw Application Integration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Applications that open ports can include an ufw profile, which details the ports needed for the 
              application to function properly. The profiles are kept in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ufw/applications.d</fo:inline>,
              and can be edited if the default ports have been changed.
              </fo:block><fo:list-block id="idm45028022236048" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028022235760" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  To view which applications have installed a profile, enter the following in a terminal:
                  </fo:block><fo:block id="idm45028022234912" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ufw app list</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022233152" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  Similar to allowing traffic to a port, using an application profile is accomplished by entering:
                  </fo:block><fo:block id="idm45028022232304" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ufw allow Samba</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022230544" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  An extended syntax is available as well:
                  </fo:block><fo:block id="idm45028022229840" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">ufw allow from 192.168.0.0/24 to any app Samba</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  Replace <fo:inline font-style="italic">Samba</fo:inline> and <fo:inline font-style="italic">192.168.0.0/24</fo:inline> with the application profile you are 
                  using and the IP range for your network. 
                  </fo:block><fo:block id="idm45028022226816" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                    There is no need to specify the <fo:inline font-style="italic">protocol</fo:inline> for the application, because that information is detailed in
                    the profile. Also, note that the <fo:inline font-style="italic">app</fo:inline> name replaces the <fo:inline font-style="italic">port</fo:inline> number.
                    </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022224336" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  To view details about which ports, protocols, etc., are defined for an application, enter:
                  </fo:block><fo:block id="idm45028022223488" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ufw app info Samba</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Not all applications that require opening a network port come with ufw profiles, but if 
              you have profiled an application and want the file to be included with the package, please file a bug against the 
              package in Launchpad.
              </fo:block><fo:block id="idm45028022220176" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">ubuntu-bug nameofpackage</fo:inline>
</fo:block></fo:block></fo:block><fo:block id="ip-masquerading"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">IP Masquerading</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.3.IP Masquerading</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              The purpose of IP Masquerading is to allow machines with private, non-routable IP
			  addresses on your network to access the Internet through the machine doing the
			  masquerading. Traffic from your private network destined for the Internet must be
			  manipulated for replies to be routable back to the machine that made the request.
			  To do this, the kernel must modify the <fo:inline font-style="italic">source</fo:inline>
			  IP address of each packet so that replies will be routed back to it, rather than
			  to the private IP address that made the request, which is impossible over the 
			  Internet. Linux uses <fo:inline font-style="italic">Connection Tracking</fo:inline>
			  (conntrack) to keep track of which connections belong to which machines and reroute
			  each return packet accordingly. Traffic leaving your private network is thus
			  "masqueraded" as having originated from your Ubuntu gateway machine.
			  This process is referred to in Microsoft documentation as Internet
			  Connection Sharing.
            </fo:block><fo:block id="ip-masquerade-ufw"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">3.3.1.ufw Masquerading</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      IP Masquerading can be achieved using custom ufw rules. This is possible because the current
	      back-end for ufw is iptables-restore with the rules files located in 
	      <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ufw/*.rules</fo:inline>. These files are a great place to add legacy iptables rules used 
              without ufw, and rules that are more network gateway or bridge related.
	      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      The rules are split into two different files, rules that should be executed before
	      ufw command line rules, and rules that are executed after ufw command line rules.
	      </fo:block><fo:list-block id="idm45028022206864" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028022206576" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		  First, packet forwarding needs to be enabled in ufw. Two configuration files will need to be adjusted, in
		  <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/default/ufw</fo:inline> change the <fo:inline font-style="italic">DEFAULT_FORWARD_POLICY</fo:inline> to <fo:inline>ACCEPT</fo:inline>:
		  </fo:block><fo:block id="idm45028022203408" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
DEFAULT_FORWARD_POLICY="ACCEPT"
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		  Then edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ufw/sysctl.conf</fo:inline> and uncomment:
		  </fo:block><fo:block id="idm45028022201344" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
net/ipv4/ip_forward=1
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		  Similarly, for IPv6 forwarding uncomment:
		  </fo:block><fo:block id="idm45028022200128" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
net/ipv6/conf/default/forwarding=1
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022199152" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		  Now add rules to the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ufw/before.rules</fo:inline> file. The default rules only configure the <fo:inline font-style="italic">filter</fo:inline>
	          table, and to enable masquerading the <fo:inline font-style="italic">nat</fo:inline> table will need to be configured. Add the following to the top of the file
		  just after the header comments:	          
		  </fo:block><fo:block id="idm45028022196656" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
# nat Table rules
*nat
:POSTROUTING ACCEPT [0:0]

# Forward traffic from eth1 through eth0.
-A POSTROUTING -s 192.168.0.0/24 -o eth0 -j MASQUERADE

# don't delete the 'COMMIT' line or these nat table rules won't be processed
COMMIT
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	          The comments are not strictly necessary, but it is considered good practice to document your configuration. Also, when modifying 
		  any of the <fo:inline font-style="italic">rules</fo:inline> files in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ufw</fo:inline>, make sure these lines are the last
		  line for each table modified:
	          </fo:block><fo:block id="idm45028022193552" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
# don't delete the 'COMMIT' line or these rules won't be processed
COMMIT
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  For each <fo:inline font-style="italic">Table</fo:inline> a corresponding <fo:inline font-style="italic">COMMIT</fo:inline> statement is required. In these examples 
                  only the <fo:inline font-style="italic">nat</fo:inline> and <fo:inline font-style="italic">filter</fo:inline> tables are shown, but you can also add rules for the 
                  <fo:inline font-style="italic">raw</fo:inline> and <fo:inline font-style="italic">mangle</fo:inline> tables.
                  </fo:block><fo:block id="idm45028022189680" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                   In the above example replace <fo:inline font-style="italic">eth0</fo:inline>, <fo:inline font-style="italic">eth1</fo:inline>, and <fo:inline font-style="italic">192.168.0.0/24</fo:inline> 
                   with the appropriate interfaces and IP range for your network.
                   </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022187232" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		  Finally, disable and re-enable ufw to apply the changes:
		  </fo:block><fo:block id="idm45028022185664" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ufw disable &amp;&amp; sudo ufw enable</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      IP Masquerading should now be enabled. You can also add any additional FORWARD rules
              to the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ufw/before.rules</fo:inline>. It is recommended that these additional
              rules be added to the <fo:inline font-style="italic">ufw-before-forward</fo:inline> chain.
	      </fo:block></fo:block><fo:block id="ip-masquerading-iptables"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">3.3.2.iptables Masquerading</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    iptables can also be used to enable Masquerading.  
	    </fo:block><fo:list-block id="idm45028022179248" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028022178960" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
 	        Similar to ufw, the first step is to enable IPv4 packet forwarding by editing 
		<fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/sysctl.conf</fo:inline> and uncomment the following line:
	        </fo:block><fo:block id="idm45028022176608" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
net.ipv4.ip_forward=1
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	        If you wish to enable IPv6 forwarding also uncomment: 
	        </fo:block><fo:block id="idm45028022175392" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
net.ipv6.conf.default.forwarding=1
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022174416" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		  Next, execute the sysctl command to enable the new settings in the configuration file:
		  </fo:block><fo:block id="idm45028022172832" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo sysctl -p</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022171072" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                IP Masquerading can now be accomplished with a single iptables rule, which may differ slightly based on your network configuration:
	        </fo:block><fo:block id="idm45028022170192" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
sudo iptables -t nat -A POSTROUTING -s 192.168.0.0/16 -o ppp0 -j MASQUERADE
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	        The above command assumes that your private address space is 192.168.0.0/16 and
	        that your Internet-facing device is ppp0. The syntax is broken down as follows:
		</fo:block><fo:list-block id="idm45028022168816" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028022168528" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> -t nat -- the rule is to go into the nat table</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022167984" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> -A POSTROUTING -- the rule is to be appended (-A) to the POSTROUTING chain</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022167440" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> -s 192.168.0.0/16 -- the rule applies to traffic originating from the specified address space</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022166784" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> -o ppp0 -- the rule applies to traffic scheduled to be routed through the specified network device</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022166128" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                    -j MASQUERADE -- traffic matching this rule is to "jump"
		    (-j) to the MASQUERADE target to be manipulated as described above
                    </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022164752" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	        Also, each chain in the filter table (the default table, and where most or all packet
		filtering occurs) has a default <fo:inline font-style="italic">policy</fo:inline> of
		ACCEPT, but if you are creating a firewall in addition to a gateway device, you
		may have set the policies to DROP or REJECT, in which case your masqueraded
		traffic needs to be allowed through the FORWARD chain for the above rule to work:
		</fo:block><fo:block id="idm45028022163216" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
sudo iptables -A FORWARD -s 192.168.0.0/16 -o ppp0 -j ACCEPT
sudo iptables -A FORWARD -d 192.168.0.0/16 -m state \
--state ESTABLISHED,RELATED -i ppp0 -j ACCEPT
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		The above commands will allow all connections from your local network to the
		Internet and all traffic related to those connections to return to the machine
		that initiated them.
		</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022161488" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	        If you want masquerading to be enabled on reboot, which you probably do, edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/rc.local</fo:inline> and add any 
		commands used above.  For example add the first command with no filtering:
		</fo:block><fo:block id="idm45028022159792" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
iptables -t nat -A POSTROUTING -s 192.168.0.0/16 -o ppp0 -j MASQUERADE
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="firewall-logs"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Logs</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.4.Logs</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Firewall logs are essential for recognizing attacks, troubleshooting your
            firewall rules, and noticing unusual activity on your network. You must include
	    logging rules in your firewall for them to be generated, though, and logging
	    rules must come before any applicable terminating rule (a rule with a target
	    that decides the fate of the packet, such as ACCEPT, DROP, or REJECT).  
	     </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	     If you are using ufw, you can turn on logging by entering the following in a terminal:
	     </fo:block><fo:block id="idm45028022154976" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ufw logging on</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	     To turn logging off in ufw, simply replace <fo:inline font-style="italic">on</fo:inline> with <fo:inline font-style="italic">off</fo:inline> in the above command.
	     </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	     If using iptables instead of ufw, enter:
	     </fo:block><fo:block id="idm45028022148608" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
sudo iptables -A INPUT -m state --state NEW -p tcp --dport 80 \
-j LOG --log-prefix "NEW_HTTP_CONN: "
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	     A request on port 80 from the local machine, then, would generate a log in dmesg
	     that looks like this (single line split into 3 to fit this document):
	     </fo:block><fo:block id="idm45028022147120" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">[4304885.870000] NEW_HTTP_CONN: IN=lo OUT= MAC=00:00:00:00:00:00:00:00:00:00:00:00:08:00
SRC=127.0.0.1 DST=127.0.0.1 LEN=60 TOS=0x00 PREC=0x00 TTL=64 ID=58288 DF PROTO=TCP
SPT=53981 DPT=80 WINDOW=32767 RES=0x00 SYN URGP=0
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              The above log will also appear in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/log/messages</fo:inline>,
			  <fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/log/syslog</fo:inline>, and <fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/log/kern.log</fo:inline>.
			  This behavior can be modified by editing <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/syslog.conf</fo:inline>
			  appropriately or by installing and configuring ulogd
			  and using the ULOG target instead of LOG. The ulogd
			  daemon is a userspace server that listens for logging instructions from the kernel
			  specifically for firewalls, and can log to any file you like, or even to a
			  PostgreSQL or MySQL
			  database.  Making sense of your firewall logs can be simplified by using a log
			  analyzing tool such as logwatch, fwanalog,
			  fwlogwatch, or lire.
            </fo:block></fo:block><fo:block id="other-firewall-tools"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Other Tools</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.5.Other Tools</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            There are many tools available to help you construct a complete firewall without
	    intimate knowledge of iptables. For the GUI-inclined:
	    </fo:block><fo:list-block id="idm45028022133872" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028022133584" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		<fo:basic-link external-destination="http://www.fwbuilder.org/" font-style="italic">fwbuilder</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline> <fo:basic-link external-destination="http://www.fwbuilder.org/">http://www.fwbuilder.org/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> is very powerful and will look familiar 
	        to an administrator who has used a commercial firewall utility such as Checkpoint FireWall-1.  
		</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    If you prefer a command-line tool with plain-text configuration files: 
	    </fo:block><fo:list-block id="idm45028022130464" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028022130176" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		<fo:basic-link external-destination="http://www.shorewall.net/" font-style="italic">Shorewall</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline> <fo:basic-link external-destination="http://www.shorewall.net/">http://www.shorewall.net/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> is a very powerful solution to help you 
		configure an advanced firewall for any network.  
		</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="firewall-references"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">References</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.6.References</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028022126832" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028022126544" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      The <fo:basic-link external-destination="https://wiki.ubuntu.com/UncomplicatedFirewall" font-style="italic">Ubuntu Firewall</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline> <fo:basic-link external-destination="https://wiki.ubuntu.com/UncomplicatedFirewall">https://wiki.ubuntu.com/UncomplicatedFirewall</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> wiki page contains information on the development
	      of ufw.
	      </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022124112" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Also, the ufw manual page contains some very useful information: <fo:inline font-weight="bold">man ufw</fo:inline>.
	      </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022121648" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      See the <fo:basic-link external-destination="http://www.netfilter.org/documentation/HOWTO/packet-filtering-HOWTO.html" font-style="italic">packet-filtering-HOWTO</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline> <fo:basic-link external-destination="http://www.netfilter.org/documentation/HOWTO/packet-filtering-HOWTO.html">http://www.netfilter.org/documentation/HOWTO/packet-filtering-HOWTO.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
	      for more information on using iptables.
	      </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022119248" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      The <fo:basic-link external-destination="http://www.netfilter.org/documentation/HOWTO/NAT-HOWTO.html" font-style="italic">nat-HOWTO</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline> <fo:basic-link external-destination="http://www.netfilter.org/documentation/HOWTO/NAT-HOWTO.html">http://www.netfilter.org/documentation/HOWTO/NAT-HOWTO.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> contains further details on
	      masquerading.
	      </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022117536" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      The <fo:basic-link external-destination="https://help.ubuntu.com/community/IptablesHowTo" font-style="italic">IPTables HowTo</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/IptablesHowTo">https://help.ubuntu.com/community/IptablesHowTo</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> in the Ubuntu wiki is a great resource.
	      </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="apparmor"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">AppArmor</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">4.AppArmor</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  AppArmor is a Linux Security Module implementation of name-based mandatory access controls.   
	  AppArmor confines individual programs to a set of listed files and posix 1003.1e draft capabilities.
	  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  AppArmor is installed and loaded by default. It uses <fo:inline font-style="italic">profiles</fo:inline> of 
	  an application to determine what files and permissions the application requires. Some packages will install their own profiles,  
          and additional profiles can be found in the apparmor-profiles package.
	  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  To install the apparmor-profiles package from a terminal prompt:
	  </fo:block><fo:block id="idm45028022108864" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install apparmor-profiles</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  AppArmor profiles have two modes of execution:
	  </fo:block><fo:list-block id="idm45028022106832" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028022106544" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      Complaining/Learning: profile violations are permitted and logged. Useful for testing and developing new profiles.
	      </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022105536" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      Enforced/Confined: enforces profile policy as well as logging the violation.
	      </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block id="apparmor-usage"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Using AppArmor</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.1.Using AppArmor</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="idm45028022103088" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/caution.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
   		  This section is plagued by a bug (<fo:basic-link external-destination="https://bugs.launchpad.net/ubuntu/+source/apparmor/+bug/1304134" font-style="italic">LP #1304134</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">7</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">7</fo:inline> <fo:basic-link external-destination="https://bugs.launchpad.net/ubuntu/+source/apparmor/+bug/1304134">https://bugs.launchpad.net/ubuntu/+source/apparmor/+bug/1304134</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>) 
		  and instructions will not work as advertised.
   		  </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    The apparmor-utils package contains command line utilities that you can use to change the
	    AppArmor execution mode, find the status of a profile, create new profiles, etc.
	    </fo:block><fo:list-block id="idm45028022099424" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028022099136" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    	apparmor_status is used to view the current status of AppArmor profiles.
	    	</fo:block><fo:block id="idm45028022097552" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apparmor_status</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022095792" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		aa-complain places a profile into <fo:inline font-style="italic">complain</fo:inline> mode.
		</fo:block><fo:block id="idm45028022093808" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo aa-complain /path/to/bin</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022092032" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		aa-enforce places a profile into <fo:inline font-style="italic">enforce</fo:inline> mode.
		</fo:block><fo:block id="idm45028022090048" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo aa-enforce /path/to/bin</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022088272" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	   	The <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apparmor.d</fo:inline> directory is where the AppArmor profiles are located. It can be used to 
	    	manipulate the <fo:inline font-style="italic">mode</fo:inline> of all profiles.
	    	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    	Enter the following to place all profiles into complain mode:
	    	</fo:block><fo:block id="idm45028022085776" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo aa-complain /etc/apparmor.d/*</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    To place all profiles in enforce mode:
	    </fo:block><fo:block id="idm45028022083744" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo aa-enforce /etc/apparmor.d/*</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022081968" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		apparmor_parser is used to load a profile into the kernel. It can also be used to 
	        reload a currently loaded profile using the <fo:inline font-style="italic">-r</fo:inline> option. To load a profile:
		</fo:block><fo:block id="idm45028022079856" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">cat /etc/apparmor.d/profile.name | sudo apparmor_parser -a</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		To reload a profile:
		</fo:block><fo:block id="idm45028022077744" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">cat /etc/apparmor.d/profile.name | sudo apparmor_parser -r</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022075936" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	   	<fo:inline font-size="8.800000000000001pt" font-family="monospace">systemctl</fo:inline> can be used to <fo:inline font-style="italic">reload</fo:inline> all profiles:
	   	</fo:block><fo:block id="idm45028022073952" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl reload apparmor.service</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022072176" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    	The <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apparmor.d/disable</fo:inline> directory can be used along with the apparmor_parser -R 
		option to <fo:inline font-style="italic">disable</fo:inline> a profile.
	    	</fo:block><fo:block id="idm45028022069376" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ln -s /etc/apparmor.d/profile.name /etc/apparmor.d/disable/</fo:inline>
<fo:inline font-weight="bold">sudo apparmor_parser -R /etc/apparmor.d/profile.name</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		To <fo:inline font-style="italic">re-enable</fo:inline> a disabled profile remove the symbolic link to the profile in 
		<fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apparmor.d/disable/</fo:inline>. Then load the profile using the <fo:inline font-style="italic">-a</fo:inline> option.
		</fo:block><fo:block id="idm45028022064736" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo rm /etc/apparmor.d/disable/profile.name</fo:inline>
<fo:inline font-weight="bold">cat /etc/apparmor.d/profile.name | sudo apparmor_parser -a</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022062160" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    	AppArmor can be disabled, and the kernel module unloaded by entering the following:
	    	</fo:block><fo:block id="idm45028022060656" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl stop apparmor.service</fo:inline>
<fo:inline font-weight="bold">sudo update-rc.d -f apparmor remove</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022058064" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	   	To re-enable AppArmor enter:
		</fo:block><fo:block id="idm45028022056528" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl start apparmor.service</fo:inline>
<fo:inline font-weight="bold">sudo update-rc.d apparmor defaults</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block id="idm45028022053776" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      Replace <fo:inline font-style="italic">profile.name</fo:inline> with the name of the profile you want to manipulate. Also, replace 
	      <fo:inline font-size="8.800000000000001pt" font-family="monospace">/path/to/bin/</fo:inline> with the actual executable file path. For example for the ping 
	      command use <fo:inline font-size="8.800000000000001pt" font-family="monospace">/bin/ping</fo:inline>
	      </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="apparmor-profiles"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Profiles</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.2.Profiles</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    AppArmor profiles are simple text files located in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apparmor.d/</fo:inline>. The 
	    files are named after the full path to the executable they profile replacing the "/" with ".".
	    For example <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apparmor.d/bin.ping</fo:inline> is the AppArmor profile for the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/bin/ping</fo:inline>
	    command.  
	    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
 	    There are two main type of rules used in profiles:
	    </fo:block><fo:list-block id="idm45028022044288" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028022044000" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	        <fo:inline font-style="italic">Path entries:</fo:inline> detail which files an application can access in the file system.
	        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022042688" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	        <fo:inline font-style="italic">Capability entries:</fo:inline> determine what privileges a confined process is allowed to use.
	        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    As an example, take a look at <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apparmor.d/bin.ping</fo:inline>:
	    </fo:block><fo:block id="idm45028022039936" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
#include &lt;tunables/global&gt;
/bin/ping flags=(complain) {
  #include &lt;abstractions/base&gt;
  #include &lt;abstractions/consoles&gt;
  #include &lt;abstractions/nameservice&gt;

  capability net_raw,
  capability setuid,
  network inet raw,
  
  /bin/ping mixr,
  /etc/modules.conf r,
}
</fo:block><fo:list-block id="idm45028022038880" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028022038592" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		<fo:inline font-style="italic">#include &lt;tunables/global&gt;:</fo:inline> include statements from other files. This allows statements pertaining to 
	        multiple applications to be placed in a common file.
	        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022037104" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		<fo:inline font-style="italic">/bin/ping flags=(complain):</fo:inline> path to the profiled program, also setting the mode to 
	        <fo:inline font-style="italic">complain</fo:inline>.
	        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022035248" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		<fo:inline font-style="italic">capability net_raw,:</fo:inline> allows the application access to the CAP_NET_RAW Posix.1e capability.
	        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022033936" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		<fo:inline font-style="italic">/bin/ping mixr,:</fo:inline> allows the application read and execute access to the file.
	        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block id="idm45028022032384" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      After editing a profile file the profile must be reloaded. See <fo:basic-link internal-destination="apparmor-usage"><fo:inline font-style="italic">Section4.1, Using AppArmor</fo:inline></fo:basic-link><fo:basic-link internal-destination="apparmor-usage" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="apparmor-usage"/>]</fo:inline></fo:basic-link> for details.
	      </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="apparmor-profiles-new"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.2.1.Creating a Profile</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028022029568" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028022029280" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	       	  <fo:inline font-style="italic">Design a test plan:</fo:inline> Try to think about how the application should be exercised. The test plan should be divided 
	          into small test cases. Each test case should have a small description and list the steps to follow.
	          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		  Some standard test cases are:
	          </fo:block><fo:list-block id="idm45028022027472" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028022027184" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	              Starting the program.
    		      </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022026320" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      		      Stopping the program.
    		      </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022025456" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      		      Reloading the program.
    		      </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022024592" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      	              Testing all the commands supported by the init script.
    		      </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022023296" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		  <fo:inline font-style="italic">Generate the new profile:</fo:inline> Use aa-genprof to generate a new profile.
		  From a terminal:
		  </fo:block><fo:block id="idm45028021755680" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo aa-genprof executable</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		    For example:
		    </fo:block><fo:block id="idm45028021753600" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo aa-genprof slapd</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021751840" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		  To get your new profile included in the apparmor-profiles package, file a bug in 
		  <fo:inline font-style="italic">Launchpad</fo:inline> against the <fo:basic-link external-destination="https://bugs.launchpad.net/ubuntu/+source/apparmor/+filebug" font-style="italic">AppArmor</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">8</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">8</fo:inline> <fo:basic-link external-destination="https://bugs.launchpad.net/ubuntu/+source/apparmor/+filebug">https://bugs.launchpad.net/ubuntu/+source/apparmor/+filebug</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> 
		  package:
		  </fo:block><fo:list-block id="idm45028021749104" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028021748816" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		      Include your test plan and test cases.
  		      </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021747872" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		      Attach your new profile to the bug.
		      </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="apparmor-profiles-update"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.2.2.Updating Profiles</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      When the program is misbehaving, audit messages are sent to the log files. The program aa-logprof can be used 
	      to scan log files for AppArmor audit messages, review them and update the profiles. From a terminal:
	      </fo:block><fo:block id="idm45028021742960" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo aa-logprof</fo:inline>
</fo:block></fo:block></fo:block><fo:block id="apparmor-references"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">References</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.3.References</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028021739728" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028021739440" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		See the <fo:basic-link external-destination="http://www.novell.com/documentation/apparmor/apparmor201_sp10_admin/index.html?page=/documentation/apparmor/apparmor201_sp10_admin/data/book_apparmor_admin.html" font-style="italic">AppArmor Administration Guide</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">9</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">9</fo:inline> <fo:basic-link external-destination="http://www.novell.com/documentation/apparmor/apparmor201_sp10_admin/index.html?page=/documentation/apparmor/apparmor201_sp10_admin/data/book_apparmor_admin.html">http://www.novell.com/documentation/apparmor/apparmor201_sp10_admin/index.html?page=/documentation/apparmor/apparmor201_sp10_admin/data/book_apparmor_admin.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> for advanced configuration options.
  	        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:list-block id="idm45028021737536" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028021737248" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	        For details using AppArmor with other Ubuntu releases see the <fo:basic-link external-destination="https://help.ubuntu.com/community/AppArmor" font-style="italic">
		AppArmor Community Wiki</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">10</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">10</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/AppArmor">https://help.ubuntu.com/community/AppArmor</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> page.
  	        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:list-block id="idm45028021735520" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028021735232" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		The <fo:basic-link external-destination="http://en.opensuse.org/SDB:AppArmor_geeks" font-style="italic">OpenSUSE AppArmor</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">11</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">11</fo:inline> <fo:basic-link external-destination="http://en.opensuse.org/SDB:AppArmor_geeks">http://en.opensuse.org/SDB:AppArmor_geeks</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> page is another introduction to AppArmor.
  	        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:list-block id="idm45028021733520" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028021733232" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		A great place to ask for AppArmor assistance, and get involved with the Ubuntu Server community, 
	  	is the <fo:inline font-style="italic">#ubuntu-server</fo:inline> IRC channel on <fo:basic-link external-destination="http://freenode.net" font-style="italic">freenode</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">12</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">12</fo:inline> <fo:basic-link external-destination="http://freenode.net">http://freenode.net</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
          	</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="certificates-and-security"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Certificates</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">5.Certificates</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            One of the most common forms of cryptography today is <fo:inline font-style="italic">public-key</fo:inline> cryptography.
            Public-key cryptography utilizes a <fo:inline font-style="italic">public key</fo:inline> and a <fo:inline font-style="italic">private key</fo:inline>.
            The system works by <fo:inline font-style="italic">encrypting</fo:inline> information using the public key. The information can  
            then only be <fo:inline font-style="italic">decrypted</fo:inline> using the private key.
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            A common use for public-key cryptography is encrypting application traffic using a Secure Socket Layer (SSL) or 
            Transport Layer Security (TLS) connection. One example: configuring Apache to provide <fo:inline font-style="italic">HTTPS</fo:inline>, the
            HTTP protocol over SSL. This allows a way to encrypt traffic using a protocol that does not itself provide encryption.
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            A <fo:inline font-style="italic">Certificate</fo:inline> is a method used to distribute a <fo:inline font-style="italic">public key</fo:inline> and other information
            about a server and the organization who is responsible for it. Certificates can be digitally signed by a 
            <fo:inline font-style="italic">Certification Authority</fo:inline>, or CA. A CA is a trusted third party that has confirmed that the information
            contained in the certificate is accurate.
            </fo:block><fo:block id="types-of-certificates"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Types of Certificates</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.1.Types of Certificates</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              To set up a secure server using public-key cryptography, in most cases, you
              send your certificate request (including your public key),
              proof of your company's identity, and payment to a CA. The
              CA verifies the certificate request and your identity, and
              then sends back a certificate for your secure server.  
             Alternatively, you can create your own <fo:inline font-style="italic">self-signed</fo:inline>
             certificate. 
            </fo:block><fo:block id="idm45028021719872" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Note that self-signed certificates should not be used in most production environments.
              </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    Continuing the HTTPS example, a CA-signed certificate provides two important
            capabilities that a self-signed certificate does not:
            </fo:block><fo:list-block id="idm45028021718288" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028021718000" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Browsers (usually) automatically recognize the certificate
            and allow a secure connection to be made without prompting
            the user.
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021716944" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
             When a CA issues a signed certificate, it is
             guaranteeing the identity of the organization that is
             providing the web pages to the browser.
            </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
             Most Web browsers, and computers, that support SSL have a list of CAs whose
             certificates they automatically accept. If a browser
             encounters a certificate whose authorizing CA is not in the
             list, the browser asks the user to either accept or decline
             the connection. Also, other applications may generate an error message when using
             a self-signed certificate.
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            The process of getting a certificate from a CA is fairly
            easy. A quick overview is as follows:
            </fo:block><fo:list-block id="idm45028021714272" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-distance-between-starts="1.2em" provisional-label-separation="0.2em"><fo:list-item id="idm45028021713360" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Create a private and public encryption key pair.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021712496" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Create a certificate request based on the public key. The
              certificate request contains information about your server and the
              company hosting it.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021711440" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Send the certificate request, along with documents proving your
              identity, to a CA. We cannot tell you which certificate authority to
              choose. Your decision may be based on your past experiences, or on the
              experiences of your friends or colleagues, or purely on monetary
              factors.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Once you have decided upon a CA, you need to follow the
              instructions they provide on how to obtain a certificate
              from them.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021709648" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block>4.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">When the CA is satisfied that you are indeed who you claim to be,
            they send you a digital certificate.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021708656" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block>5.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Install this certificate on your secure server, and configure the appropriate applications
              to use the certificate.
              </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="generating-a-csr"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Generating a Certificate Signing Request (CSR)</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.2.Generating a Certificate Signing Request (CSR)</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Whether you are getting a certificate from a CA or generating your own
          self-signed certificate, the first step is to generate a key.
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">       
          If the certificate will be used by service daemons, such as Apache, Postfix, Dovecot, etc., 
          a key without a passphrase is often appropriate. Not having a passphrase allows the services
          to start without manual intervention, usually the preferred way to start a daemon.
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">                  
          This section will cover generating a key with a passphrase, and one without. The non-passphrase 
          key will then be used to generate a certificate that can be used with various service daemons. 
          </fo:block><fo:block id="idm45028021704000" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/warning.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Running your secure service without a passphrase is convenient because you will not 
            need to enter the passphrase every time you start your secure service. But it is 
            insecure and a compromise of the key means a compromise of the server as well.
            </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          To generate the <fo:inline font-style="italic">keys</fo:inline> for the Certificate Signing Request (CSR) run the 
          following command from a terminal prompt:
          </fo:block><fo:block id="idm45028021701824" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">openssl genrsa -des3 -out server.key 2048</fo:inline>
</fo:block><fo:block id="idm45028021700256" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
Generating RSA private key, 2048 bit long modulus
..........................++++++
.......++++++
e is 65537 (0x10001)
Enter pass phrase for server.key:
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        You can now enter your passphrase. For best security, it should
        at least contain eight characters. The minimum length when
        specifying -des3 is four characters. It should include numbers
        and/or punctuation and not be a word in a dictionary. Also
        remember that your passphrase is case-sensitive. 
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Re-type the passphrase to verify. Once you have re-typed it
        correctly, the server key is generated and stored in the
        <fo:inline font-size="8.800000000000001pt" font-family="monospace">server.key</fo:inline> file.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Now create the insecure key, the one without a passphrase, and shuffle 
        the key names:
        </fo:block><fo:block id="idm45028021696608" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">openssl rsa -in server.key -out server.key.insecure</fo:inline>
<fo:inline font-weight="bold">mv server.key server.key.secure</fo:inline>
<fo:inline font-weight="bold">mv server.key.insecure server.key</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The insecure key is now named <fo:inline font-size="8.800000000000001pt" font-family="monospace">server.key</fo:inline>, and you can use this
        file to generate the CSR without passphrase.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        To create the CSR, run the following command at a terminal prompt:
        </fo:block><fo:block id="idm45028021691760" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">openssl req -new -key server.key -out server.csr</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        It will prompt you enter the passphrase. If you enter the
        correct passphrase, it will prompt you to enter Company Name,
        Site Name, Email Id, etc.
        Once you enter all these details, your
        CSR will be created and it will be stored in the
        <fo:inline font-size="8.800000000000001pt" font-family="monospace">server.csr</fo:inline> file.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
 	You can now submit this CSR file
        to a CA for processing. The CA will use this CSR file and issue
        the certificate. On the other hand, you can create self-signed
        certificate using this CSR.</fo:block></fo:block><fo:block id="creating-a-self-signed-certificate"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Creating a Self-Signed Certificate</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.3.Creating a Self-Signed Certificate</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            To create the self-signed certificate, run the
            following command at a terminal prompt:
            </fo:block><fo:block id="idm45028021685952" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">openssl x509 -req -days 365 -in server.csr -signkey server.key -out server.crt</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The above command will prompt you to enter the
            passphrase. Once you enter the correct passphrase, your
            certificate will be created and it will be stored in the
            <fo:inline font-size="8.800000000000001pt" font-family="monospace">server.crt</fo:inline> file.  </fo:block><fo:block id="idm45028021682960" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/warning.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            If your secure server is to be used in a production environment, you
            probably need a CA-signed certificate.  It is not
            recommended to use self-signed certificate.
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="installing-the-certificate"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installing the Certificate</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.4.Installing the Certificate</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can install the key file
            <fo:inline font-size="8.800000000000001pt" font-family="monospace">server.key</fo:inline> and certificate file
            <fo:inline font-size="8.800000000000001pt" font-family="monospace">server.crt</fo:inline>, or the certificate file issued
            by your CA, by running following commands at a terminal prompt:
            </fo:block><fo:block id="idm45028021678208" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo cp server.crt /etc/ssl/certs</fo:inline>
<fo:inline font-weight="bold">sudo cp server.key /etc/ssl/private</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Now simply configure any applications, with the ability to use public-key cryptography, to use
        the <fo:inline font-style="italic">certificate</fo:inline> and <fo:inline font-style="italic">key</fo:inline> files. For example, Apache can 
        provide HTTPS, Dovecot can provide IMAPS and POP3S, etc. 
        </fo:block></fo:block><fo:block id="certificate-authority"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Certification Authority</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.5.Certification Authority</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          If the services on your network require more than a few self-signed certificates it may be worth the 
          additional effort to setup your own internal <fo:inline font-style="italic">Certification Authority (CA)</fo:inline>. Using 
          certificates signed by your own CA, allows the various services using the certificates to easily
          trust other services using certificates issued from the same CA.
          </fo:block><fo:block id="idm45028021670016" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:list-block provisional-distance-between-starts="2em" provisional-label-separation="0.2em" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em"><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028021669728">1.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              First, create the directories to hold the CA certificate and related files:
              </fo:block><fo:block id="idm45028021668544" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo mkdir /etc/ssl/CA</fo:inline>
<fo:inline font-weight="bold">sudo mkdir /etc/ssl/newcerts</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028021665968">2.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              The CA needs a few additional files to operate, one to keep track of the last serial number used by the CA, each 
              certificate must have a unique serial number, and another file to record which certificates have been
              issued:
              </fo:block><fo:block id="idm45028021664608" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo sh -c "echo '01' &gt; /etc/ssl/CA/serial"</fo:inline>
<fo:inline font-weight="bold">sudo touch /etc/ssl/CA/index.txt</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028021662064">3.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              The third file is a CA configuration file. Though not strictly necessary, it is very convenient when
              issuing multiple certificates. Edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ssl/openssl.cnf</fo:inline>, and in the 
              <fo:inline font-style="italic">[ CA_default ]</fo:inline> change:
              </fo:block><fo:block id="idm45028021659568" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
dir             = /etc/ssl              # Where everything is kept
database        = $dir/CA/index.txt     # database index file.
certificate     = $dir/certs/cacert.pem # The CA certificate
serial          = $dir/CA/serial        # The current serial number
private_key     = $dir/private/cakey.pem# The private key
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028021658304">4.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Next, create the self-signed root certificate:
              </fo:block><fo:block id="idm45028021657248" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">openssl req -new -x509 -extensions v3_ca -keyout cakey.pem -out cacert.pem -days 3650</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              You will then be asked to enter the details about the certificate.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028021654992">5.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Now install the root certificate and key:
              </fo:block><fo:block id="idm45028021653856" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo mv cakey.pem /etc/ssl/private/</fo:inline>
<fo:inline font-weight="bold">sudo mv cacert.pem /etc/ssl/certs/</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028021651264">6.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              You are now ready to start signing certificates. The first item needed is a Certificate Signing 
              Request (CSR), see <fo:basic-link internal-destination="generating-a-csr"><fo:inline font-style="italic">Section5.2, Generating a Certificate Signing Request (CSR)</fo:inline></fo:basic-link><fo:basic-link internal-destination="generating-a-csr" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="generating-a-csr"/>]</fo:inline></fo:basic-link> for details. Once
              you have a CSR, enter the following to generate a certificate signed by the CA:
              </fo:block><fo:block id="idm45028021649376" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo openssl ca -in server.csr -config /etc/ssl/openssl.cnf</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              After entering the password for the CA key, you will be prompted to sign the certificate, and again
              to commit the new certificate. You should then see a somewhat large amount of output related to the 
              certificate creation.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028021646848">7.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              There should now be a new file, <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ssl/newcerts/01.pem</fo:inline>, containing the same output. 
              Copy and paste everything beginning with the line: <fo:inline font-style="italic">-----BEGIN CERTIFICATE-----</fo:inline> and 
              continuing through the line: <fo:inline font-style="italic">----END CERTIFICATE-----</fo:inline> lines to a file named after the hostname 
              of the server where the certificate will be installed. For example <fo:inline font-size="8.800000000000001pt" font-family="monospace">mail.example.com.crt</fo:inline>,
              is a nice descriptive name.
              </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Subsequent certificates will be named <fo:inline font-size="8.800000000000001pt" font-family="monospace">02.pem</fo:inline>, <fo:inline font-size="8.800000000000001pt" font-family="monospace">03.pem</fo:inline>, etc.
              </fo:block><fo:block id="idm45028021641024" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                Replace <fo:inline font-style="italic">mail.example.com.crt</fo:inline> with your own descriptive name.
                </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028021639536">8.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Finally, copy the new certificate to the host that needs it, and configure the appropriate applications to use it.
              The default location to install certificates is <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ssl/certs</fo:inline>. This
              enables multiple services to use the same certificate without overly complicated file permissions.
              </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              For applications that can be configured to use a CA certificate, you should also copy the 
              <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ssl/certs/cacert.pem</fo:inline> file to the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ssl/certs/</fo:inline>
              directory on each server.
              </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="certificate-references"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">References</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.6.References</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028021632880" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028021632592" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              For more detailed instructions on using cryptography see the
              <fo:basic-link external-destination="http://tldp.org/HOWTO/SSL-Certificates-HOWTO/index.html" font-style="italic">SSL Certificates HOWTO</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">13</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">13</fo:inline> <fo:basic-link external-destination="http://tldp.org/HOWTO/SSL-Certificates-HOWTO/index.html">http://tldp.org/HOWTO/SSL-Certificates-HOWTO/index.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> by tldp.org:
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021630912" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              The Wikipedia <fo:basic-link external-destination="http://en.wikipedia.org/wiki/HTTPS" font-style="italic">HTTPS</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">14</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">14</fo:inline> <fo:basic-link external-destination="http://en.wikipedia.org/wiki/HTTPS">http://en.wikipedia.org/wiki/HTTPS</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> page has more information regarding HTTPS.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021629216" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              For more information on <fo:inline font-style="italic">OpenSSL</fo:inline> see the <fo:basic-link external-destination="http://www.openssl.org/" font-style="italic">OpenSSL Home Page</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">15</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">15</fo:inline> <fo:basic-link external-destination="http://www.openssl.org/">http://www.openssl.org/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021627136" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Also, O'Reilly's <fo:basic-link external-destination="http://oreilly.com/catalog/9780596002701/" font-style="italic">Network Security with OpenSSL</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">16</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">16</fo:inline> <fo:basic-link external-destination="http://oreilly.com/catalog/9780596002701/">http://oreilly.com/catalog/9780596002701/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> is a good
              in-depth reference.
              </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="ecryptfs"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">eCryptfs</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">6.eCryptfs</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:inline font-style="italic">eCryptfs</fo:inline> is a POSIX-compliant enterprise-class stacked cryptographic filesystem for Linux. Layering on
          top of the filesystem layer <fo:inline font-style="italic">eCryptfs</fo:inline> protects files no matter the underlying filesystem, partition 
          type, etc.
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          During installation there is an option to encrypt the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/home</fo:inline> partition.  This will automatically
          configure everything needed to encrypt and mount the partition.
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          As an example, this section will cover configuring <fo:inline font-size="8.800000000000001pt" font-family="monospace">/srv</fo:inline> to be encrypted using <fo:inline font-style="italic">eCryptfs</fo:inline>.
          </fo:block><fo:block id="ecryptfs-usage"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Using eCryptfs</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">6.1.Using eCryptfs</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            First, install the necessary packages. From a terminal prompt enter:
            </fo:block><fo:block id="idm45028021616608" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install ecryptfs-utils</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Now mount the partition to be encrypted:
            </fo:block><fo:block id="idm45028021614496" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo mount -t ecryptfs /srv /srv</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            You will then be prompted for some details on how ecryptfs should encrypt the data.
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            To test that files placed in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/srv</fo:inline> are indeed encrypted copy the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/default</fo:inline>
            folder to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/srv</fo:inline>:
            </fo:block><fo:block id="idm45028021608736" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo cp -r /etc/default /srv</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Now unmount <fo:inline font-size="8.800000000000001pt" font-family="monospace">/srv</fo:inline>, and try to view a file:
            </fo:block><fo:block id="idm45028021605840" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo umount /srv</fo:inline>
<fo:inline font-weight="bold">cat /srv/default/cron</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Remounting <fo:inline font-size="8.800000000000001pt" font-family="monospace">/srv</fo:inline> using ecryptfs will make the data viewable once again.
            </fo:block></fo:block><fo:block id="ecryptfs-automount"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Automatically Mounting Encrypted Partitions</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">6.2.Automatically Mounting Encrypted Partitions</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            There are a couple of ways to automatically mount an ecryptfs encrypted filesystem 
            at boot. This example will use a <fo:inline font-size="8.800000000000001pt" font-family="monospace">/root/.ecryptfsrc</fo:inline> file containing mount options, along with
            a passphrase file residing on a USB key.
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            First, create <fo:inline font-size="8.800000000000001pt" font-family="monospace">/root/.ecryptfsrc</fo:inline> containing:
            </fo:block><fo:block id="idm45028021596432" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
key=passphrase:passphrase_passwd_file=/mnt/usb/passwd_file.txt
ecryptfs_sig=5826dd62cf81c615
ecryptfs_cipher=aes
ecryptfs_key_bytes=16
ecryptfs_passthrough=n
ecryptfs_enable_filename_crypto=n
</fo:block><fo:block id="idm45028021595456" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Adjust the <fo:inline font-style="italic">ecryptfs_sig</fo:inline> to the signature in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/root/.ecryptfs/sig-cache.txt</fo:inline>.
              </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Next, create the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/mnt/usb/passwd_file.txt</fo:inline> passphrase file:
            </fo:block><fo:block id="idm45028021591984" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
passphrase_passwd=[secrets]
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Now add the necessary lines to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/fstab</fo:inline>:
            </fo:block><fo:block id="idm45028021589952" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
/dev/sdb1       /mnt/usb        ext3    ro      0 0
/srv /srv ecryptfs defaults 0 0
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Make sure the USB drive is mounted before the encrypted partition.  
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Finally, reboot and the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/srv</fo:inline> should be mounted using <fo:inline font-style="italic">eCryptfs</fo:inline>.  
            </fo:block></fo:block><fo:block id="ecryptfs-other-utils"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Other Utilities</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">6.3.Other Utilities</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            The ecryptfs-utils package includes several other useful utilities:
            </fo:block><fo:list-block id="idm45028021584144" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028021583856" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                <fo:inline font-style="italic">ecryptfs-setup-private:</fo:inline> creates a <fo:inline font-size="8.800000000000001pt" font-family="monospace">~/Private</fo:inline> directory 
                to contain encrypted information.  This utility can be run by unprivileged users to keep 
                data private from other users on the system.
                </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021581536" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                <fo:inline font-style="italic">ecryptfs-mount-private</fo:inline> and <fo:inline font-style="italic"> ecryptfs-umount-private</fo:inline> will mount and unmount
                 a user's <fo:inline font-size="8.800000000000001pt" font-family="monospace">~/Private</fo:inline> directory.
                </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021578944" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                <fo:inline font-style="italic">ecryptfs-add-passphrase:</fo:inline> adds a new passphrase to the kernel keyring.
                </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021577536" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                <fo:inline font-style="italic">ecryptfs-manager:</fo:inline> manages eCryptfs objects such as keys.
                </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021575376" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                <fo:inline font-style="italic">ecryptfs-stat:</fo:inline> allows you to view the ecryptfs meta information
                for a file.
                </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="eCryptfs-references"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">References</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">6.4.References</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028021571520" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028021571232" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                For more information on <fo:inline font-style="italic">eCryptfs</fo:inline> see the <fo:basic-link external-destination="https://launchpad.net/ecryptfs" font-style="italic">Launchpad project page</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">17</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">17</fo:inline> <fo:basic-link external-destination="https://launchpad.net/ecryptfs">https://launchpad.net/ecryptfs</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
                </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021569184" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                There is also a <fo:basic-link external-destination="http://www.linuxjournal.com/article/9400" font-style="italic">Linux Journal</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">18</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">18</fo:inline> <fo:basic-link external-destination="http://www.linuxjournal.com/article/9400">http://www.linuxjournal.com/article/9400</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> article covering <fo:inline font-style="italic">eCryptfs</fo:inline>.
                </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021567136" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                Also, for more ecryptfs options and details see the
                <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/xenial/en/man7/ecryptfs.7.html" font-style="italic">ecryptfs man page</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">19</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">19</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/xenial/en/man7/ecryptfs.7.html">http://manpages.ubuntu.com/manpages/xenial/en/man7/ecryptfs.7.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
                </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Monitoring</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Monitoring</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-inner-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block id="monitoring"><fo:block font-family="serif,Symbol"><fo:block margin-left="0pc"><fo:block font-size="24.8832pt" font-weight="bold"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0pc" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">Chapter10.Monitoring</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="monitoring-overview"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Overview</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">1.Overview</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    The monitoring of essential servers and services is an important part of system administration.
    Most network services are monitored for performance, availability, or both.  This section will cover
    installation and configuration of Nagios for availability monitoring, and 
    Munin for performance monitoring.
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    The examples in this section will use two servers with hostnames <fo:inline font-style="italic">server01</fo:inline> and 
    <fo:inline font-style="italic">server02</fo:inline>.  <fo:inline font-style="italic">Server01</fo:inline> will be configured with 
    Nagios to monitor services on itself and <fo:inline font-style="italic">server02</fo:inline>.  
    Server01 will also be setup with the munin package to gather information
    from the network.  Using the munin-node package, <fo:inline font-style="italic">server02</fo:inline>
    will be configured to send information to <fo:inline font-style="italic">server01</fo:inline>.
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    Hopefully these simple examples will allow you to monitor additional servers and services on your network.
    </fo:block></fo:block><fo:block id="nagios"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Nagios</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">2.Nagios</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nagios-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.1.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      First, on <fo:inline font-style="italic">server01</fo:inline> install the nagios package.  In a terminal
      enter:
      </fo:block><fo:block id="idm45028025229392" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install nagios3 nagios-nrpe-plugin</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      You will be asked to enter a password for the <fo:inline font-style="italic">nagiosadmin</fo:inline> user.  The user's credentials are
      stored in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/nagios3/htpasswd.users</fo:inline>.  To change the <fo:inline font-style="italic">nagiosadmin</fo:inline> password, or
      add additional users to the Nagios CGI scripts, use the htpasswd that is part of the 
      apache2-utils package.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      For example, to change the password for the <fo:inline font-style="italic">nagiosadmin</fo:inline> user enter:
      </fo:block><fo:block id="idm45028026321488" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo htpasswd /etc/nagios3/htpasswd.users nagiosadmin</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      To add a user:
      </fo:block><fo:block id="idm45028021764672" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo htpasswd /etc/nagios3/htpasswd.users steve</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Next, on <fo:inline font-style="italic">server02</fo:inline> install the nagios-nrpe-server package.  From a terminal on 
      server02 enter:
      </fo:block><fo:block id="idm45028030005408" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install nagios-nrpe-server</fo:inline>
</fo:block><fo:block id="idm45028030507456" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        NRPE allows you to execute local checks on remote hosts.  There are other ways of accomplishing
        this through other Nagios plugins as well as other checks.  
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="nagios-configuration-overview"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration Overview</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.2.Configuration Overview</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      There are a couple of directories containing Nagios configuration and check files.
      </fo:block><fo:list-block id="idm45028029599792" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028023837792" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/nagios3</fo:inline>: contains configuration files for the operation of the nagios
          daemon, CGI files, hosts, etc.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025672208" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/nagios-plugins</fo:inline>: houses configuration files for the service checks. 
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030162432" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/nagios</fo:inline>: on the remote host contains the nagios-nrpe-server configuration files. 
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026877936" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:inline font-size="8.800000000000001pt" font-family="monospace">/usr/lib/nagios/plugins/</fo:inline>: where the check binaries are stored.  To see the options of a check use the
          <fo:inline font-style="italic">-h</fo:inline> option.  
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">   
          For example: <fo:inline font-weight="bold">/usr/lib/nagios/plugins/check_dhcp -h</fo:inline>
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      There are a plethora of checks Nagios can be configured to execute for any given host.  For this example Nagios
      will be configured to check disk space, DNS, and a MySQL hostgroup.  The DNS check will be on <fo:inline font-style="italic">server02</fo:inline>, and the 
      MySQL hostgroup will include both <fo:inline font-style="italic">server01</fo:inline> and <fo:inline font-style="italic">server02</fo:inline>.
      </fo:block><fo:block id="idm45028024924144" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        See <fo:basic-link internal-destination="httpd"><fo:inline font-style="italic">Section1, HTTPD - Apache2 Web Server</fo:inline></fo:basic-link><fo:basic-link internal-destination="httpd" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="httpd"/>]</fo:inline></fo:basic-link> for details on setting up Apache, <fo:basic-link internal-destination="dns"><fo:inline font-style="italic">Chapter8, <fo:inline font-style="italic">Domain Name Service (DNS)</fo:inline></fo:inline></fo:basic-link><fo:basic-link internal-destination="dns" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="dns"/>]</fo:inline></fo:basic-link> for DNS, and <fo:basic-link internal-destination="mysql"><fo:inline font-style="italic">Section1, MySQL</fo:inline></fo:basic-link><fo:basic-link internal-destination="mysql" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="mysql"/>]</fo:inline></fo:basic-link> for MySQL.
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Additionally, there are some terms that once explained will hopefully make understanding Nagios configuration easier:
      </fo:block><fo:list-block id="idm45028029963520" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028025244064" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:inline font-style="italic">Host</fo:inline>: a server, workstation, network device, etc that is being monitored.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029952096" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:inline font-style="italic">Host Group</fo:inline>: a group of similar hosts.  For example, you could group all web servers, file server, etc.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028027568688" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:inline font-style="italic">Service</fo:inline>: the service being monitored on the host.  Such as HTTP, DNS, NFS, etc.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026313104" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:inline font-style="italic">Service Group</fo:inline>: allows you to group multiple services together.  This is useful for grouping multiple HTTP
          for example.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025665584" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:inline font-style="italic">Contact</fo:inline>: person to be notified when an event takes place.  Nagios can be configured to send emails, SMS messages, etc.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      By default Nagios is configured to check HTTP, disk space, SSH, current users, processes, and load on the <fo:inline font-style="italic">localhost</fo:inline>.
      Nagios will also ping check the <fo:inline font-style="italic">gateway</fo:inline>.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Large Nagios installations can be quite complex to configure.  It is usually best to start small, one or two hosts, get things configured the way you like
      then expand.
      </fo:block></fo:block><fo:block id="nagios-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.3.Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028029687408" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028028415584" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block id="idm45028026452368" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:list-block provisional-distance-between-starts="2em" provisional-label-separation="0.2em" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em"><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028028468832">1.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              First, create a <fo:inline font-style="italic">host</fo:inline> configuration file for <fo:inline font-style="italic">server02</fo:inline>.
              Unless otherwise specified, run all these commands on <fo:inline font-style="italic">server01</fo:inline>.
              In a terminal enter:
             </fo:block><fo:block id="idm45028031921344" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo cp /etc/nagios3/conf.d/localhost_nagios2.cfg \
/etc/nagios3/conf.d/server02.cfg</fo:inline>
</fo:block><fo:block id="idm45028029961344" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
               In the above and following command examples, replace <fo:inline font-style="italic">"server01"</fo:inline>, <fo:inline font-style="italic">"server02"</fo:inline>
               <fo:inline font-style="italic">172.18.100.100</fo:inline>, and <fo:inline font-style="italic">172.18.100.101</fo:inline> with the host names and IP addresses
               of your servers.
               </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028025863760">2.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
             Next, edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/nagios3/conf.d/server02.cfg</fo:inline>:
             </fo:block><fo:block id="idm45028029720768" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
define host{
        use                     generic-host  ; Name of host template to use
        host_name               server02
        alias                   Server 02
        address                 172.18.100.101
}

# check DNS service.
define service {
        use                             generic-service
        host_name                       server02
        service_description             DNS
        check_command                   check_dns!172.18.100.101
}
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028025669072">3.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
             Restart the nagios daemon to enable the new configuration:
             </fo:block><fo:block id="idm45028024809312" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart nagio3.service</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023897856" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block id="idm45028027568112" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:list-block provisional-distance-between-starts="2em" provisional-label-separation="0.2em" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em"><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028024795728">1.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
             Now add a service definition for the MySQL check by adding the following to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/nagios3/conf.d/services_nagios2.cfg</fo:inline>:
             </fo:block><fo:block id="idm45028026226304" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
# check MySQL servers.
define service {
        hostgroup_name        mysql-servers
        service_description   MySQL
        check_command         check_mysql_cmdlinecred!nagios!secret!$HOSTADDRESS
        use                   generic-service
        notification_interval 0 ; set &gt; 0 if you want to be renotified
}
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028025935360">2.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
             A <fo:inline font-style="italic">mysql-servers</fo:inline> hostgroup now needs to be defined.  Edit 
             <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/nagios3/conf.d/hostgroups_nagios2.cfg</fo:inline> adding:
             </fo:block><fo:block id="idm45028024533264" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
# MySQL hostgroup.
define hostgroup {
        hostgroup_name  mysql-servers
                alias           MySQL servers
                members         localhost, server02
        }
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028027594256">3.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
             The Nagios check needs to authenticate to MySQL.  To add a <fo:inline font-style="italic">nagios</fo:inline> user to MySQL enter:
             </fo:block><fo:block id="idm45028029176816" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">mysql -u root -p -e "create user nagios identified by 'secret';"</fo:inline>
</fo:block><fo:block id="idm45028023075216" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
               The <fo:inline font-style="italic">nagios</fo:inline> user will need to be added all hosts in the <fo:inline font-style="italic">mysql-servers</fo:inline> hostgroup.
               </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028026253168">4.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
             Restart nagios to start checking the MySQL servers.
             </fo:block><fo:block id="idm45028025311024" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart nagios3.service</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024921184" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block id="idm45028027525328" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:list-block provisional-distance-between-starts="2em" provisional-label-separation="0.2em" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em"><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028029666336">1.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
             Lastly configure NRPE to check the disk space on <fo:inline font-style="italic">server02</fo:inline>.
             </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
             On <fo:inline font-style="italic">server01</fo:inline> add the
             service check to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/nagios3/conf.d/server02.cfg</fo:inline>:
             </fo:block><fo:block id="idm45028025112000" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
# NRPE disk check.
define service {
        use                     generic-service
        host_name               server02
        service_description     nrpe-disk
        check_command           check_nrpe_1arg!check_all_disks!172.18.100.101
}
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028025756160">2.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
             Now on <fo:inline font-style="italic">server02</fo:inline> edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/nagios/nrpe.cfg</fo:inline> changing:
             </fo:block><fo:block id="idm45028026225952" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
allowed_hosts=172.18.100.100
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
             And below in the command definition area add:
             </fo:block><fo:block id="idm45028030318976" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
command[check_all_disks]=/usr/lib/nagios/plugins/check_disk -w 20% -c 10% -e
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028030346720">3.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
             Finally, restart nagios-nrpe-server:
             </fo:block><fo:block id="idm45028027407904" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart nagios-nrpe-server.service</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028025810960">4.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
             Also, on <fo:inline font-style="italic">server01</fo:inline> restart nagios:
             </fo:block><fo:block id="idm45028023931584" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart nagios3.service</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      You should now be able to see the host and service checks in the Nagios CGI files.  To access them point a 
      browser to http://server01/nagios3.  You will then be prompted for the <fo:inline font-style="italic">nagiosadmin</fo:inline> username 
      and password.
      </fo:block></fo:block><fo:block id="nagios-references"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">References</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.4.References</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      This section has just scratched the surface of Nagios' features.  The nagios-plugins-extra and 
      nagios-snmp-plugins contain many more service checks.
      </fo:block><fo:list-block id="idm45028027317296" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028027781232" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          For more information see <fo:basic-link external-destination="http://www.nagios.org/" font-style="italic">Nagios</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline> <fo:basic-link external-destination="http://www.nagios.org/">http://www.nagios.org/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> website.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028027837184" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Specifically the <fo:basic-link external-destination="http://nagios.sourceforge.net/docs/3_0/" font-style="italic">Online Documentation</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline> <fo:basic-link external-destination="http://nagios.sourceforge.net/docs/3_0/">http://nagios.sourceforge.net/docs/3_0/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> site.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030777152" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          There is also a list of <fo:basic-link external-destination="http://www.nagios.org/propaganda/books/" font-style="italic">books</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline> <fo:basic-link external-destination="http://www.nagios.org/propaganda/books/">http://www.nagios.org/propaganda/books/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> related to Nagios
          and network monitoring:
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030230208" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The <fo:basic-link external-destination="https://help.ubuntu.com/community/Nagios3" font-style="italic">Nagios Ubuntu Wiki</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/Nagios3">https://help.ubuntu.com/community/Nagios3</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> page also has more details.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="munin"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Munin</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">3.Munin</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="munin-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.1.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Before installing Munin on <fo:inline font-style="italic">server01</fo:inline> apache2
      will need to be installed.  The default configuration is fine for running a munin server.  
      For more information see <fo:basic-link internal-destination="httpd"><fo:inline font-style="italic">Section1, HTTPD - Apache2 Web Server</fo:inline></fo:basic-link><fo:basic-link internal-destination="httpd" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="httpd"/>]</fo:inline></fo:basic-link>.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      First, on <fo:inline font-style="italic">server01</fo:inline> install munin. In a terminal enter:
      </fo:block><fo:block id="idm45028021871104" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install munin</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Now on <fo:inline font-style="italic">server02</fo:inline> install the munin-node package:
      </fo:block><fo:block id="idm45028026632128" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install munin-node</fo:inline>
</fo:block></fo:block><fo:block id="munin-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.2.Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      On <fo:inline font-style="italic">server01</fo:inline> edit the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/munin/munin.conf</fo:inline> adding the IP address 
      for <fo:inline font-style="italic">server02</fo:inline>:
      </fo:block><fo:block id="idm45028026319728" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
## First our "normal" host.
[server02]
       address 172.18.100.101
</fo:block><fo:block id="idm45028023844560" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Replace <fo:inline font-style="italic">server02</fo:inline> and <fo:inline font-style="italic">172.18.100.101</fo:inline> with the actual hostname
        and IP address for your server.
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Next, configure munin-node on <fo:inline font-style="italic">server02</fo:inline>. Edit 
      <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/munin/munin-node.conf</fo:inline> to allow access by <fo:inline font-style="italic">server01</fo:inline>:
      </fo:block><fo:block id="idm45028027777696" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
allow ^172\.18\.100\.100$
</fo:block><fo:block id="idm45028028349408" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Replace <fo:inline font-style="italic">^172\.18\.100\.100$</fo:inline> with IP address for your munin server.
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Now restart munin-node on <fo:inline font-style="italic">server02</fo:inline> for the changes to take effect:
      </fo:block><fo:block id="idm45028025727760" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart munini-node.service</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Finally, in a browser go to <fo:inline font-style="italic">http://server01/munin</fo:inline>, and you should see links to nice graphs 
      displaying information from the standard <fo:inline font-style="italic">munin-plugins</fo:inline> for disk, network, processes, and system.
      </fo:block><fo:block id="idm45028026809760" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Since this is a new install it may take some time for the graphs to display anything useful.
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="munin-plugins"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Additional Plugins</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.3.Additional Plugins</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      The munin-plugins-extra package contains performance checks additional services such as DNS, DHCP, Samba, etc.
      To install the package, from a terminal enter:
      </fo:block><fo:block id="idm45028024966944" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install munin-plugins-extra</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Be sure to install the package on both the server and node machines.
      </fo:block></fo:block><fo:block id="munin-references"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">References</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.4.References</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028024053728" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028024053440" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          See the <fo:basic-link external-destination="http://munin-monitoring.org/" font-style="italic">Munin</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline> <fo:basic-link external-destination="http://munin-monitoring.org/">http://munin-monitoring.org/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> website for more details.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024051792" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Specifically the <fo:basic-link external-destination="https://munin.readthedocs.io/en/latest/" font-style="italic">Munin Documentation</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline> <fo:basic-link external-destination="https://munin.readthedocs.io/en/latest/">https://munin.readthedocs.io/en/latest/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> page
          includes information on additional plugins, writing plugins, etc.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Web Servers</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Web Servers</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-inner-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block id="web-servers"><fo:block font-family="serif,Symbol"><fo:block margin-left="0pc"><fo:block font-size="24.8832pt" font-weight="bold"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0pc" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">Chapter11.Web Servers</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A Web server is a software responsible for accepting HTTP requests
    from clients, which are known as Web browsers, and serving them HTTP
    responses along with optional data contents, which usually are Web
    pages such as HTML documents and linked objects (images, etc.).</fo:block><fo:block id="httpd"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">HTTPD - Apache2 Web Server</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">1.HTTPD - Apache2 Web Server</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Apache is the most commonly used Web server on Linux systems. Web servers are used
          to serve Web pages requested by client computers. Clients typically request and view
          Web pages using Web browser applications such as Firefox,
              Opera, Chromium,
              or Internet Explorer.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Users enter a Uniform Resource Locator (URL) to point to a Web server by means of
          its Fully Qualified Domain Name (FQDN) and a path to the required resource. For example, to view the home page of
          the <fo:basic-link external-destination="http://www.ubuntu.com" font-style="italic">Ubuntu Web site</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline> <fo:basic-link external-destination="http://www.ubuntu.com">http://www.ubuntu.com</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> a user will enter only the FQDN:</fo:block><fo:block id="idm45028025509616" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold" font-size="8.800000000000001pt" font-family="monospace">www.ubuntu.com</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> To view the <fo:basic-link external-destination="http://www.ubuntu.com/community" font-style="italic">community</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline> <fo:basic-link external-destination="http://www.ubuntu.com/community">http://www.ubuntu.com/community</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> sub-page, a user will enter the FQDN followed by a path:</fo:block><fo:block id="idm45028022952656" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold" font-size="8.800000000000001pt" font-family="monospace">www.ubuntu.com/community</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The most common protocol used to transfer Web pages is the Hyper Text Transfer
          Protocol (HTTP). Protocols such as Hyper Text Transfer Protocol over Secure Sockets Layer (HTTPS), and
          File Transfer Protocol (FTP), a protocol for uploading and downloading files, are also
          supported.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Apache Web Servers are often used in combination with the MySQL
          database engine, the HyperText Preprocessor (PHP)
          scripting language, and other popular scripting languages such as
              Python and Perl. This
          configuration is termed LAMP (Linux, Apache, MySQL and Perl/Python/PHP) and forms a
          powerful and robust platform for the development and deployment of Web-based
          applications.</fo:block><fo:block id="http-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.1.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    The Apache2 web server is available in Ubuntu Linux. To install Apache2:
    </fo:block><fo:block id="idm45028026899504" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:list-block provisional-distance-between-starts="2em" provisional-label-separation="0.2em" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em"><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028027752064"></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        At a terminal prompt enter the following command:
        </fo:block><fo:block id="idm45028028899104" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install apache2</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="http-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.2.Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Apache2 is configured by placing <fo:inline font-style="italic">directives</fo:inline> in plain text
        configuration files.  These <fo:inline font-style="italic">directives</fo:inline> are separated between the following
        files and directories:
        </fo:block><fo:list-block id="idm45028025626928" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028025886912" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:inline font-style="italic">apache2.conf:</fo:inline> the main Apache2 configuration file.  Contains settings that 
            are <fo:inline font-style="italic">global</fo:inline> to Apache2.
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028027820752" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:inline font-style="italic">httpd.conf:</fo:inline> historically the main Apache2 configuration file, named after the
            httpd daemon. Now the file does not exist. In older versions of Ubuntu the
            file might be present, but empty, as all configuration options have been moved to the below referenced directories.
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025747280" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:inline font-style="italic">conf-available:</fo:inline> this directory contains available configuration files. 
            All files that were previously in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apache2/conf.d</fo:inline> 
            should be moved to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apache2/conf-available</fo:inline>.
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025302160" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:inline font-style="italic">conf-enabled:</fo:inline> holds <fo:inline font-style="italic">symlinks</fo:inline> to the files in 
            <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apache2/conf-available</fo:inline>.  When a configuration file is symlinked,
            it will be enabled the next time apache2 is restarted.
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026503440" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:inline font-style="italic">envvars:</fo:inline> file where Apache2 <fo:inline font-style="italic">environment</fo:inline> variables are set.
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030406128" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:inline font-style="italic">mods-available:</fo:inline> this directory contains configuration files to both load 
            <fo:inline font-style="italic">modules</fo:inline> and configure them.  Not all modules will have specific configuration files, however.
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028027105840" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:inline font-style="italic">mods-enabled:</fo:inline> holds <fo:inline font-style="italic">symlinks</fo:inline> to the files in 
            <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apache2/mods-available</fo:inline>.  When a module configuration file is symlinked it will be enabled 
            the next time apache2 is restarted.
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024535136" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:inline font-style="italic">ports.conf:</fo:inline> houses the directives that determine which TCP ports Apache2 is listening on.
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028027990320" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:inline font-style="italic">sites-available:</fo:inline> this directory has configuration files for Apache2 
            <fo:inline font-style="italic">Virtual Hosts</fo:inline>.  Virtual Hosts allow Apache2 to be configured for multiple sites 
            that have separate configurations.
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025093664" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:inline font-style="italic">sites-enabled:</fo:inline> like mods-enabled, <fo:inline font-size="8.800000000000001pt" font-family="monospace">sites-enabled</fo:inline> contains 
            symlinks to the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apache2/sites-available</fo:inline> directory.  Similarly when a configuration file in 
            sites-available is symlinked, the site configured by it will be active once Apache2 is restarted.
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022968704" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:inline font-style="italic">magic:</fo:inline> instructions for determining MIME type based on the first few bytes of a file.
            </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          In addition, other configuration files may be added
          using the <fo:inline font-style="italic">Include</fo:inline> directive, and wildcards can be used to
          include many configuration files. Any directive may be placed
          in any of these configuration files. Changes to the main
          configuration files are only recognized by Apache2 when it is
          started or restarted.
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The server also reads a file containing mime document types; the filename is set
          by the <fo:inline font-style="italic">TypesConfig</fo:inline> directive, typically via
          <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apache2/mods-available/mime.conf</fo:inline>, which might also include additions
          and overrides, and is <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/mime.types</fo:inline> by default.
          </fo:block><fo:block id="http-basic-settings"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.2.1.Basic Settings</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
             This section explains Apache2 server essential configuration
             parameters. Refer to the <fo:basic-link external-destination="http://httpd.apache.org/docs/2.4/" font-style="italic">Apache2
             Documentation</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline> <fo:basic-link external-destination="http://httpd.apache.org/docs/2.4/">http://httpd.apache.org/docs/2.4/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> for more details.</fo:block><fo:list-block id="idm45028028507616" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028028156768" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                 Apache2 ships with a virtual-host-friendly default configuration.
	         That is, it is configured with a single default virtual host (using
		 the <fo:inline font-style="italic">VirtualHost</fo:inline> directive) which can be modified or used as-is if you
		 have a single site, or used as a template for additional virtual hosts
		 if you have multiple sites.  If left alone, the default virtual host
		 will serve as your default site, or the site users will see if the
		 URL they enter does not match the <fo:inline font-style="italic">ServerName</fo:inline> directive of any of your 
		 custom sites.  To modify the default virtual host, edit the file
		 <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apache2/sites-available/000-default.conf</fo:inline>.
                 </fo:block><fo:block id="idm45028030974512" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                   The directives set for a virtual host only apply to that particular virtual host. If a 
                   directive is set server-wide and not defined within the virtual host settings, the default 
                   setting is used. For example, you can define a Webmaster email address and not define 
                   individual email addresses for each virtual host. 
                   </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                 If you wish to configure a new virtual host or site, copy that file into the
		 same directory with a name you choose.  For example:
                 </fo:block><fo:block id="idm45028023020432" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo cp /etc/apache2/sites-available/000-default.conf /etc/apache2/sites-available/mynewsite.conf</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		 Edit the new file to configure the new site using some of the directives
		 described below. 
                 </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030199664" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		 The <fo:inline font-style="italic">ServerAdmin</fo:inline> directive specifies the email address to be advertised
		 for the server's administrator.  The default value is webmaster@localhost.
		 This should be changed to an email address that is delivered to you (if you
		 are the server's administrator).  If your website has a problem, Apache2
		 will display an error message containing this email address to report the
		 problem to.  Find this directive in your site's configuration file in
		 /etc/apache2/sites-available.
		 </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030363808" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                 The <fo:inline font-style="italic">Listen</fo:inline> directive specifies the port, and optionally the IP address,
                 Apache2 should listen on. If the IP address is not specified, Apache2
	         will listen on all IP addresses assigned to the machine it runs on.
	         The default value for the Listen directive is 80.  Change this to
	         127.0.0.1:80 to cause Apache2 to listen only on your loopback interface
	         so that it will not be available to the Internet, to (for example) 81
                 to change the port that it listens on, or leave it as is for normal
                 operation.  This directive can be found and changed in its own file,
	         <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apache2/ports.conf</fo:inline>
                 </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028027309760" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	         The <fo:inline font-style="italic">ServerName</fo:inline> directive is optional and specifies what FQDN your
		 site should answer to.  The default virtual host has no ServerName
		 directive specified, so it will respond to all requests that do not
		 match a ServerName directive in another virtual host.  If you have
		 just acquired the domain name ubunturocks.com and wish to host it on
		 your Ubuntu server, the value of the ServerName directive in your
		 virtual host configuration file should be ubunturocks.com.  Add this
		 directive to the new virtual host file you created earlier 
		 (<fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apache2/sites-available/mynewsite.conf</fo:inline>).
		 </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                 You may also want your site to respond to www.ubunturocks.com, since
                 many users will assume the www prefix is appropriate.  Use the
		 <fo:inline font-style="italic">ServerAlias</fo:inline> directive for this.  You may also use wildcards in the
		 ServerAlias directive.
                 </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                 For example, the following configuration 
		 will cause your site to respond to any domain request ending in
		 <fo:inline font-style="italic">.ubunturocks.com</fo:inline>.
		 </fo:block><fo:block id="idm45028024189472" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
ServerAlias *.ubunturocks.com
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024188496" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		 The <fo:inline font-style="italic">DocumentRoot</fo:inline> directive specifies where Apache2 should look for the
		 files that make up the site.  The default value is /var/www/html, as specified in
		 <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apache2/sites-available/000-default.conf</fo:inline>. If desired, change this value
		 in your site's virtual host file, and remember to create that directory if necessary!
		 </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Enable the new <fo:inline font-style="italic">VirtualHost</fo:inline> using the 
            a2ensite utility and restart Apache2:
            </fo:block><fo:block id="idm45028027805312" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo a2ensite mynewsite</fo:inline>
<fo:inline font-weight="bold">sudo systemctl restart apache2.service</fo:inline>
</fo:block><fo:block id="idm45028024962880" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Be sure to replace <fo:inline font-style="italic">mynewsite</fo:inline> with a more descriptive name for the 
              VirtualHost.  One method is to name the file after the <fo:inline font-style="italic">ServerName</fo:inline> 
              directive of the VirtualHost.
              </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Similarly, use the a2dissite utility to disable sites.  This is 
            can be useful when troubleshooting configuration problems with multiple VirtualHosts:
            </fo:block><fo:block id="idm45028030308064" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo a2dissite mynewsite</fo:inline>
<fo:inline font-weight="bold">sudo systemctl restart apache2.service</fo:inline>
</fo:block></fo:block><fo:block id="default-settings"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.2.2.Default Settings</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            This section explains configuration of the Apache2 server
            default settings.  For example, if you add a virtual host, 
            the settings you configure for the virtual host take
            precedence for that virtual host. For a directive not
            defined within the virtual host settings, the default
            value is used.
            </fo:block><fo:list-block id="idm45028026844384" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028024010848" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              The <fo:inline font-style="italic">DirectoryIndex</fo:inline> is the default page served by the
              server when a user requests an index of a directory by
              specifying a forward slash (/) at the end of the directory
              name.
              </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              For example, when a user requests the page
              http://www.example.com/this_directory/, he or she will
              get either the DirectoryIndex page if it exists, a
              server-generated directory list if it does not and the
	      Indexes option is specified, or a Permission Denied page
	      if neither is true.  The server will try to
              find one of the files listed in the DirectoryIndex
              directive and will return the first one it finds. If it
              does not find any of these files and if <fo:inline font-style="italic">Options Indexes</fo:inline> is
              set for that directory, the server will generate and
              return a list, in HTML format, of the subdirectories and
              files in the directory.  The default value, found in
	      <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apache2/mods-available/dir.conf</fo:inline> is 
	      "index.html index.cgi index.pl index.php index.xhtml index.htm".
	      Thus, if Apache2 finds a file in a requested directory
	      matching any of these names, the first will be displayed.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022814016" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              The <fo:inline font-style="italic">ErrorDocument</fo:inline> directive allows you to specify a file
       	      for Apache2 to use for specific error events.  For example,
	      if a user requests a resource that does not exist, a 404
	      error will occur. By default, Apache2 will simply return a HTTP 404 Return code.
              Read <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apache2/conf-available/localized-error-pages.conf</fo:inline> for detailed
              instructions for using ErrorDocument, including locations of example files.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022811536" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              By default, the server writes the transfer log to the file
              <fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/log/apache2/access.log</fo:inline>. You can change this on a per-site
	      basis in your virtual host configuration files with the <fo:inline font-style="italic">CustomLog</fo:inline>
              directive, or omit it to accept the default, specified in <fo:inline font-size="8.800000000000001pt" font-family="monospace">
	      /etc/apache2/conf-available/other-vhosts-access-log.conf</fo:inline>.  You may also specify the file
	      to which errors are logged, via the <fo:inline font-style="italic">ErrorLog</fo:inline> directive, whose default
	      is <fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/log/apache2/error.log</fo:inline>.  These are kept
	      separate from the transfer logs to aid in troubleshooting problems
	      with your Apache2 server.  You may also specify the <fo:inline font-style="italic">LogLevel</fo:inline> (the
	      default value is "warn") and the <fo:inline font-style="italic">LogFormat</fo:inline> (see <fo:inline font-size="8.800000000000001pt" font-family="monospace">
	      /etc/apache2/apache2.conf</fo:inline> for the default value).
	      </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022864576" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Some options are specified on a per-directory basis rather than per-server.
	      <fo:inline font-style="italic">Options</fo:inline> is one of these directives.  A Directory stanza is enclosed in 
	      XML-like tags, like so:
              </fo:block><fo:block id="idm45028029305280" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
&lt;Directory /var/www/html/mynewsite&gt;
...
&lt;/Directory&gt;
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    The <fo:inline font-style="italic">Options</fo:inline> directive within a Directory stanza accepts one or more of the
	    following values (among others), separated by spaces:
            </fo:block><fo:list-block id="idm45028025121488" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028026724688" space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                <fo:inline font-weight="bold">ExecCGI</fo:inline> - Allow
                execution of CGI scripts. CGI scripts are not
                executed if this option is not chosen.
		<fo:block id="idm45028023616432" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/tip.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  Most files should not be executed as CGI scripts.  This
		  would be very dangerous.  CGI scripts should kept in a directory 
		  separate from and outside your DocumentRoot, and only this
		  directory should have the ExecCGI option set.  This is the default,
		  and the default location for CGI scripts is <fo:inline font-size="8.800000000000001pt" font-family="monospace">/usr/lib/cgi-bin</fo:inline>.
		  </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block>
		</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030052320" space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  <fo:inline font-weight="bold">Includes</fo:inline> - Allow server-side includes.
		  Server-side includes allow an HTML file to <fo:inline font-style="italic">
		  include</fo:inline> other files. See
                  <fo:basic-link external-destination="https://help.ubuntu.com/community/ServerSideIncludes" font-style="italic">Apache SSI documentation
                  (Ubuntu community)</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/ServerSideIncludes">https://help.ubuntu.com/community/ServerSideIncludes</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> for more information.
                  </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028028037520" space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  <fo:inline font-weight="bold">IncludesNOEXEC</fo:inline> - Allow server-side includes,
                  but disable the <fo:inline font-style="italic">#exec</fo:inline> and <fo:inline font-style="italic">#include</fo:inline>
                  commands in CGI scripts.
                  </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025621696" space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  <fo:inline font-weight="bold">Indexes</fo:inline> - Display a formatted list of the
                  directory's contents, if no <fo:inline font-style="italic">DirectoryIndex</fo:inline> (such as index.html)
                  exists in the requested directory.
                  <fo:block id="idm45028027959008" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/caution.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                    For security reasons, this should usually not be set, and certainly
	            should not be set on your DocumentRoot directory.  Enable this option carefully on
		    a per-directory basis only if you are certain you want users to see the entire
		    contents of the directory.
                    </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block>
                  </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028028551488" space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  <fo:inline font-weight="bold">Multiview</fo:inline> - Support content-negotiated multiviews;
                  this option is disabled by default for security reasons.  See the <fo:basic-link external-destination="http://httpd.apache.org/docs/2.4/mod/mod_negotiation.html#multiviews" font-style="italic">Apache2
		  documentation on this option</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline> <fo:basic-link external-destination="http://httpd.apache.org/docs/2.4/mod/mod_negotiation.html#multiviews">http://httpd.apache.org/docs/2.4/mod/mod_negotiation.html#multiviews</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
                  </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028028666384" space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  <fo:inline font-weight="bold">SymLinksIfOwnerMatch</fo:inline> - Only follow symbolic links
                  if the target file or directory has the same owner as the link.
                  </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="httpd-settings"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.2.3.httpd Settings</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          This section explains some basic httpd daemon configuration settings.
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:inline font-weight="bold">LockFile</fo:inline> - The LockFile directive sets the path 
          to the lockfile used when the server is compiled with either USE_FCNTL_SERIALIZED_ACCEPT 
	  or USE_FLOCK_SERIALIZED_ACCEPT. It must be stored on the local disk. It should be left 
	  to the default value unless the logs directory is located on an NFS share. If this is 
	  the case, the default value should be changed to a location on the local disk and to a 
	  directory that is readable only by root. 
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:inline font-weight="bold">PidFile</fo:inline> - The PidFile directive sets the file in which the server 
	  records its process ID (pid). This file should only be readable by root. In most cases, it should be left 
	  to the default value.
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:inline font-weight="bold">User</fo:inline> - The User directive sets the userid used by the server to answer requests. This 
          setting determines the server's access. Any files inaccessible to this user will also be inaccessible to your website's visitors. 
          The default value for User is "www-data". 
          </fo:block><fo:block id="idm45028023465872" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/warning.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Unless you know exactly what you are doing, do not set the User directive to root. Using root as the User will 
            create large security holes for your Web server. 
            </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:inline font-weight="bold">Group</fo:inline> - The Group directive is similar to the User directive. Group sets the
          group under which the server will answer requests. The default group is also "www-data".
          </fo:block></fo:block><fo:block id="apache-modules"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.2.4.Apache2 Modules</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Apache2 is a modular server. This implies that only the most
          basic functionality is included in the core server. Extended
          features are available through modules which can be loaded
          into Apache2. By default, a base set of modules is included in
          the server at compile-time. If the server is compiled to use
          dynamically loaded  modules, then modules can be compiled
          separately, and added at any time using the LoadModule
          directive. Otherwise, Apache2 must be recompiled to add or
          remove modules. 
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Ubuntu compiles Apache2 to allow the dynamic
          loading of modules.  Configuration directives may be conditionally
	  included on the presence of a particular module by enclosing
          them in an <fo:inline font-style="italic">&lt;IfModule&gt;</fo:inline> block.
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          You can install additional Apache2 modules and use them
          with your Web server.  For example, run the following command at a 
          terminal prompt to install the <fo:inline font-style="italic">MySQL Authentication</fo:inline> module:
          </fo:block><fo:block id="idm45028021919392" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install libapache2-mod-auth-mysql</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          See the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apache2/mods-available</fo:inline> directory, for additional modules.
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Use the a2enmod utility to
          enable a module:
          </fo:block><fo:block id="idm45028021915376" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo a2enmod auth_mysql</fo:inline>
<fo:inline font-weight="bold">sudo systemctl restart apache2.service</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Similarly, a2dismod will disable a module:
          </fo:block><fo:block id="idm45028021911696" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo a2dismod auth_mysql</fo:inline>
<fo:inline font-weight="bold">sudo systemctl restart apache2.service</fo:inline>
</fo:block></fo:block></fo:block><fo:block id="https-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">HTTPS Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.3.HTTPS Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The mod_ssl module adds
          an important feature to the Apache2 server - the ability to
          encrypt communications.  Thus, when your browser is
          communicating using SSL, the
          https:// prefix is used at the beginning of the Uniform
          Resource Locator (URL) in the browser navigation bar.
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The mod_ssl module is available in
          apache2-common package. Execute the following command at a terminal prompt to
          enable the mod_ssl module:
          </fo:block><fo:block id="idm45028021559264" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo a2enmod ssl</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          There is a default HTTPS configuration file in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apache2/sites-available/default-ssl.conf</fo:inline>.
          In order for Apache2 to provide HTTPS, 
          a <fo:inline font-style="italic">certificate</fo:inline> and <fo:inline font-style="italic">key</fo:inline> file are also needed.  The default HTTPS 
          configuration will use a certificate and key generated by the ssl-cert package.  They 
          are good for testing, but the auto-generated certificate and key should be replaced by a certificate specific
          to the site or server. For information on generating a key and obtaining a certificate see 
          <fo:basic-link internal-destination="certificates-and-security"><fo:inline font-style="italic">Section5, Certificates</fo:inline></fo:basic-link><fo:basic-link internal-destination="certificates-and-security" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="certificates-and-security"/>]</fo:inline></fo:basic-link>
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          To configure Apache2 for HTTPS, enter the following:
          </fo:block><fo:block id="idm45028021551808" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo a2ensite default-ssl</fo:inline>
</fo:block><fo:block id="idm45028021550192" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              The directories <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ssl/certs</fo:inline> and <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ssl/private</fo:inline> are the
              default locations.  If you install the certificate and key in another directory make sure to change
              <fo:inline font-style="italic">SSLCertificateFile</fo:inline> and <fo:inline font-style="italic">SSLCertificateKeyFile</fo:inline> appropriately.
              </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            With Apache2 now configured for HTTPS, restart the service to enable the new settings:
            </fo:block><fo:block id="idm45028021546096" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart apache2.service</fo:inline>
</fo:block><fo:block id="idm45028021544464" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Depending on how you obtained your certificate you may need to 
              enter a passphrase when Apache2 starts. 
              </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
 	    You can access the secure server pages by typing
            https://your_hostname/url/ in your browser address bar.
            </fo:block></fo:block><fo:block id="http-directory-permissions"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Sharing Write Permission</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.4.Sharing Write Permission</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          For more than one user to be able to write to the same directory it will
          be necessary to grant write permission to a group they share in common.  The
          following example grants shared write permission to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/www/html</fo:inline>
          to the group "webmasters".
          </fo:block><fo:block id="idm45028021539120" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo chgrp -R webmasters /var/www/html</fo:inline>
<fo:inline font-weight="bold">sudo find /var/www/html -type d -exec chmod g=rwxs "{}" \;</fo:inline>
<fo:inline font-weight="bold">sudo find /var/www/html -type f -exec chmod g=rw  "{}" \;</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    These commands recursively set the group permission on all files and
    directories in /var/www/html to read write and set user id. This has the
    effect of having the files and directories inherit their group and permission
    from their parrent. Many admins find this useful for allowing multiple users
    to edit files in a directory tree.
</fo:block><fo:block id="idm45028021535184" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          If access must be granted to more than one group per directory, enable Access Control Lists (ACLs).
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="http-references"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">References</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.5.References</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028021532704" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028021532416" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:basic-link external-destination="http://httpd.apache.org/docs/2.4/" font-style="italic">Apache2 Documentation</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline> <fo:basic-link external-destination="http://httpd.apache.org/docs/2.4/">http://httpd.apache.org/docs/2.4/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> contains in depth
            information on Apache2 configuration directives. Also, see the apache2-doc 
            package for the official Apache2 docs.
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021529936" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            See the <fo:basic-link external-destination="http://www.modssl.org/docs/" font-style="italic">Mod SSL Documentation</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">7</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">7</fo:inline> <fo:basic-link external-destination="http://www.modssl.org/docs/">http://www.modssl.org/docs/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> site for more
            SSL related information.
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021528336" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            O'Reilly's <fo:basic-link external-destination="http://oreilly.com/catalog/9780596001919/" font-style="italic">Apache Cookbook</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">8</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">8</fo:inline> <fo:basic-link external-destination="http://oreilly.com/catalog/9780596001919/">http://oreilly.com/catalog/9780596001919/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> is 
            a good resource for accomplishing specific Apache2 configurations.
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021526656" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            For Ubuntu specific Apache2 questions, ask in the <fo:inline font-style="italic">#ubuntu-server</fo:inline> IRC channel on 
            <fo:basic-link external-destination="http://freenode.net/" font-style="italic">freenode.net</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">9</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">9</fo:inline> <fo:basic-link external-destination="http://freenode.net/">http://freenode.net/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021524608" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Usually integrated with PHP and MySQL the <fo:basic-link external-destination="https://help.ubuntu.com/community/ApacheMySQLPHP" font-style="italic">Apache MySQL PHP Ubuntu Wiki </fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">10</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">10</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/ApacheMySQLPHP">https://help.ubuntu.com/community/ApacheMySQLPHP</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> 
            page is a good resource.
            </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="php"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">PHP - Scripting Language</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">2.PHP - Scripting Language</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">PHP is a general-purpose scripting language suited for Web
      development. PHP scripts can be embedded into HTML. This
      section explains how to install and configure PHP in an Ubuntu
      System with Apache2 and MySQL.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> This section assumes you have installed and configured
      Apache2 Web Server and MySQL Database Server. You can refer to
      the Apache2 and MySQL sections in this document to install and
      configure Apache2 and MySQL respectively.</fo:block><fo:block id="php-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.1.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">PHP is available in Ubuntu Linux. Unlike python and
      perl, which are installed in the base system, PHP must be added.
      </fo:block><fo:block id="idm45028021518064" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:list-block provisional-distance-between-starts="2em" provisional-label-separation="0.2em" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em"><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028021517936"></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      To install PHP and the Apache PHP module you
      can enter the following command at a terminal prompt:

<fo:block id="idm45028021517072" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install php libapache2-mod-php</fo:inline>
</fo:block>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can run PHP scripts at a terminal prompt. To run PHP scripts 
      at a terminal prompt you should install the
      php-cli package. To install
      php-cli you can enter the following
      command at a terminal prompt:
<fo:block id="idm45028021513312" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install php-cli</fo:inline>
</fo:block>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      You can also execute PHP scripts without installing the Apache PHP
      module. To accomplish this, you should install the
      php-cgi package. You can run the
      following command at a terminal prompt to install the
      php-cgi package:
<fo:block id="idm45028021509440" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install php-cgi</fo:inline>
</fo:block>
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To use MySQL with PHP you should install
      the php-mysql package. To install
      php-mysql you can enter the following
      command at a terminal prompt:
<fo:block id="idm45028021504976" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install php-mysql</fo:inline>
</fo:block>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Similarly, to use PostgreSQL with PHP you should install
      the php-pgsql package. To install
      php-pgsql you can enter the following
      command at a terminal prompt:
<fo:block id="idm45028021500512" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install php-pgsql</fo:inline>
</fo:block>
      </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="php-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.2.Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  If you have installed the
	  libapache2-mod-php or
	  php-cgi packages, you can run PHP
	  scripts from your web browser. If you have installed the
	  php-cli package, you can run PHP
	  scripts at a terminal prompt.
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          By default, when libapache2-mod-php
          is installed, the Apache 2 Web server is configured to run PHP
          scripts. In other words, the PHP module is enabled in the Apache
          Web server when you install the module. Please
          verify if the files
          <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apache2/mods-enabled/php7.0.conf</fo:inline> and
          <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apache2/mods-enabled/php7.0.load</fo:inline>
          exist. If they do not exist, you can enable the module using
          the <fo:inline font-weight="bold">a2enmod</fo:inline> command.
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Once you have installed the PHP related packages and
	  enabled the Apache PHP module, you should restart the
	  Apache2 Web server to run PHP scripts. You can run the
	  following command at a terminal prompt to restart your web server:
          <fo:block id="idm45028021489616" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"><fo:inline font-weight="bold">sudo systemctl restart apache2.service</fo:inline> </fo:block>
          </fo:block></fo:block><fo:block id="php-testing"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Testing</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.3.Testing</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To verify your installation, you can run the following PHP
          phpinfo script:
          </fo:block><fo:block id="idm45028021486000" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
&lt;?php
  phpinfo();
?&gt;
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          You can save the content in a file
          <fo:inline font-size="8.800000000000001pt" font-family="monospace">phpinfo.php</fo:inline> and place it
          under the <fo:inline font-weight="bold">DocumentRoot</fo:inline> directory of the
          Apache2 Web server. Pointing your browser to
          <fo:inline font-size="8.800000000000001pt" font-family="monospace">http://hostname/phpinfo.php</fo:inline> will
          display the values of various PHP configuration parameters.
      </fo:block></fo:block><fo:block id="php-references"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">References</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.4.References</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028021481216" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028021480928" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            For more in depth information see the <fo:basic-link external-destination="http://www.php.net/docs.php" font-style="italic">php.net</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">11</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">11</fo:inline> <fo:basic-link external-destination="http://www.php.net/docs.php">http://www.php.net/docs.php</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> documentation.
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021479312" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            There are a plethora of books on PHP.  A good book from O'Reilly is 
            <fo:basic-link external-destination="http://oreilly.com/catalog/0636920043034/" font-style="italic">Learning PHP</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">12</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">12</fo:inline> <fo:basic-link external-destination="http://oreilly.com/catalog/0636920043034/">http://oreilly.com/catalog/0636920043034/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
            <fo:basic-link external-destination="http://oreilly.com/catalog/9781565926813/" font-style="italic">PHP Cook Book</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">13</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">13</fo:inline> <fo:basic-link external-destination="http://oreilly.com/catalog/9781565926813/">http://oreilly.com/catalog/9781565926813/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
            is also good, but has no yet been updated for PHP7.
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021476992" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Also, see the <fo:basic-link external-destination="https://help.ubuntu.com/community/ApacheMySQLPHP" font-style="italic">Apache MySQL PHP Ubuntu Wiki</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">14</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">14</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/ApacheMySQLPHP">https://help.ubuntu.com/community/ApacheMySQLPHP</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> page
            for more information.
            </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="squid"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Squid - Proxy Server</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">3.Squid - Proxy Server</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Squid is a full-featured web proxy cache server application which provides proxy and cache services for Hyper Text
          Transport Protocol (HTTP), File Transfer Protocol (FTP), and other popular network protocols.  Squid can implement
          caching and proxying of Secure Sockets Layer (SSL) requests and caching of Domain Name Server (DNS) lookups, and perform
          transparent caching. Squid also supports a wide variety of caching protocols, such as Internet Cache Protocol (ICP),
          the Hyper Text Caching Protocol (HTCP), the Cache Array Routing Protocol (CARP), and the Web Cache Coordination 
          Protocol (WCCP).
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The Squid proxy cache server is an excellent solution to a variety of proxy and caching server needs, and scales from
          the branch office to enterprise level networks while providing extensive, granular access control mechanisms, and
          monitoring of critical parameters via the Simple Network Management Protocol (SNMP).  When selecting a computer system
          for use as a dedicated Squid caching proxy server for many users ensure it is configured with a large amount of physical
          memory as Squid maintains an in-memory cache for increased performance.
          </fo:block><fo:block id="squid-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.1.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            At a terminal prompt, enter the following command to install the Squid server:
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
<fo:block id="idm45028021469344" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install squid</fo:inline>
</fo:block>
          </fo:block></fo:block><fo:block id="squid-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.2.Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Squid is configured by editing the directives contained within the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/squid/squid.conf</fo:inline> configuration file.
            The following examples illustrate some of the directives which may be modified to affect the behavior of the Squid server.
            For more in-depth configuration of Squid, see the References section. 
          </fo:block><fo:block id="idm45028021464656" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/tip.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Prior to editing the configuration file, you should make a copy of the original file and protect it 
               from writing so you will have the original settings as a reference, and to re-use as necessary. Make this copy
               and protect it from writing using the following commands:
               </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
<fo:block id="idm45028021463328" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo cp /etc/squid/squid.conf /etc/squid/squid.conf.original</fo:inline>
<fo:inline font-weight="bold">sudo chmod a-w /etc/squid/squid.conf.original</fo:inline>
</fo:block>
               </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
           <fo:list-block id="idm45028021460384" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028021460096" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  To set your Squid server to listen on TCP port 8888 instead of the default TCP port 3128, change
                  the http_port directive as such:
                  </fo:block><fo:block id="idm45028021459184" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
http_port 8888
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021458224" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  Change the visible_hostname directive in order to give the Squid server a specific hostname.  This hostname
                  does not necessarily need to be the computer's hostname. In this example it is set to <fo:inline font-style="italic">weezie</fo:inline>
                  </fo:block><fo:block id="idm45028021456832" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
visible_hostname weezie
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021455856" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                     Using Squid's access control, you may configure use of Internet services proxied by Squid
                     to be available only users with certain Internet Protocol (IP) addresses.  For example, we will illustrate access 
                     by users of the 192.168.42.0/24 subnetwork only:
                  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                     Add the following to the <fo:inline font-weight="bold">bottom</fo:inline> of the ACL section of your <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/squid/squid.conf</fo:inline> file:
                  </fo:block><fo:block id="idm45028021452832" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
acl fortytwo_network src 192.168.42.0/24
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                     Then, add the following to the <fo:inline font-weight="bold">top</fo:inline> of the http_access section of your
                     <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/squid/squid.conf</fo:inline> file:
                  </fo:block><fo:block id="idm45028021450144" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
http_access allow fortytwo_network
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021449168" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                     Using the excellent access control features of Squid, you may configure use of Internet services proxied by Squid
                     to be available only during normal business hours.  For example, we'll illustrate access by employees of a business
                     which is operating between 9:00AM and 5:00PM, Monday through Friday, and which uses the 10.1.42.0/24 subnetwork:
                  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                     Add the following to the <fo:inline font-weight="bold">bottom</fo:inline> of the ACL section of your <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/squid/squid.conf</fo:inline> file:
                  </fo:block><fo:block id="idm45028021446048" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
acl biz_network src 10.1.42.0/24
acl biz_hours time M T W T F 9:00-17:00
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                     Then, add the following to the <fo:inline font-weight="bold">top</fo:inline> of the http_access section of your
                     <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/squid/squid.conf</fo:inline> file:
                  </fo:block><fo:block id="idm45028021443360" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
http_access allow biz_network biz_hours
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block>
          </fo:block><fo:block id="idm45028021442112" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          After making changes to the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/squid/squid.conf</fo:inline> file, save the file and restart the squid 
          server application to effect the changes using the following command entered at a terminal prompt:
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
<fo:block id="idm45028021439344" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart squid.service</fo:inline>
</fo:block>
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="idm45028021437408" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          If formerly a customized squid3 was used that set up the spool at <fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/log/squid3</fo:inline> to be a mountpoint, but otherwise kept the default configuration the upgrade will fail.
          The upgrade tries to rename/move files as needed, but it can't do so for an active mountpoint.
          In that case please either adapt the mountpoint or the config in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/squid/squid.conf</fo:inline> so that they match.
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The same applies if the <fo:inline font-weight="bold">include</fo:inline> config statement was used to pull in more files from the old path at <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/squid3/</fo:inline>.
          In those cases you should move and adapt your configuration accordingly.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="squid-references"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">References</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.3.References</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      <fo:basic-link external-destination="http://www.squid-cache.org/" font-style="italic">Squid Website</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">15</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">15</fo:inline> <fo:basic-link external-destination="http://www.squid-cache.org/">http://www.squid-cache.org/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      <fo:basic-link external-destination="https://help.ubuntu.com/community/Squid" font-style="italic">Ubuntu Wiki Squid</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">16</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">16</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/Squid">https://help.ubuntu.com/community/Squid</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> page.
      </fo:block></fo:block></fo:block><fo:block id="ruby-on-rails"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Ruby on Rails</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">4.Ruby on Rails</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Ruby on Rails is an open source web framework for developing
    database backed web applications. It is optimized for sustainable
    productivity of the programmer since it lets the programmer to write
    code by favouring convention over configuration.</fo:block><fo:block id="ruby-on-rails-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.1.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    Before installing Rails you should install Apache
	    and MySQL.
	    To install the Apache package, please refer to
	    <fo:basic-link internal-destination="httpd"><fo:inline font-style="italic">Section1, HTTPD - Apache2 Web Server</fo:inline></fo:basic-link><fo:basic-link internal-destination="httpd" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="httpd"/>]</fo:inline></fo:basic-link>.  For instructions on installing 
	    MySQL refer to
	    <fo:basic-link internal-destination="mysql"><fo:inline font-style="italic">Section1, MySQL</fo:inline></fo:basic-link><fo:basic-link internal-destination="mysql" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="mysql"/>]</fo:inline></fo:basic-link>.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      	Once you have Apache and
        MySQL packages installed,
      	you are ready to install Ruby on
        Rails package.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> 
      To install the Ruby base packages and
      Ruby on Rails,
      you can enter the following command in the terminal prompt:
      </fo:block><fo:block id="idm45028021414720" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install rails</fo:inline>
</fo:block></fo:block><fo:block id="ruby-on-rails-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.2.Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    	Modify the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apache2/sites-available/000-default.conf</fo:inline>
	configuration file to setup your domains.
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    	The first thing to change is the <fo:inline font-style="italic">DocumentRoot</fo:inline>
      directive:
    </fo:block><fo:block id="idm45028021409520" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
DocumentRoot /path/to/rails/application/public
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    	Next, change the &lt;Directory
      "/path/to/rails/application/public"&gt; directive:
    </fo:block><fo:block id="idm45028021408224" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
&lt;Directory "/path/to/rails/application/public"&gt;
        Options Indexes FollowSymLinks MultiViews ExecCGI
        AllowOverride All
        Order allow,deny
        allow from all
        AddHandler cgi-script .cgi
&lt;/Directory&gt;
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    You should also enable the mod_rewrite
    module for Apache.  To enable mod_rewrite
    module, please enter the following command in a terminal prompt: 
    </fo:block><fo:block id="idm45028021405168" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo a2enmod rewrite</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    Finally you will need to change the ownership of the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/path/to/rails/application/public</fo:inline>
    and <fo:inline font-size="8.800000000000001pt" font-family="monospace">/path/to/rails/application/tmp</fo:inline> directories to the user used to run the 
    Apache process:
    </fo:block><fo:block id="idm45028021400752" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo chown -R www-data:www-data /path/to/rails/application/public</fo:inline>
<fo:inline font-weight="bold">sudo chown -R www-data:www-data /path/to/rails/application/tmp</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">That's it! Now you have your Server ready for your
    Ruby on Rails applications.
    </fo:block></fo:block><fo:block id="ruby-on-rails-references"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">References</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.3.References</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028021395648" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028021395360" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            See the <fo:basic-link external-destination="http://rubyonrails.org/" font-style="italic">Ruby on Rails</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">17</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">17</fo:inline> <fo:basic-link external-destination="http://rubyonrails.org/">http://rubyonrails.org/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> website for more information.
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021393776" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Also <fo:basic-link external-destination="http://pragprog.com/titles/rails3/agile-web-development-with-rails-third-edition" font-style="italic">Agile Development with Rails</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">18</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">18</fo:inline> <fo:basic-link external-destination="http://pragprog.com/titles/rails3/agile-web-development-with-rails-third-edition">http://pragprog.com/titles/rails3/agile-web-development-with-rails-third-edition</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
            is a great resource.
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021392256" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Another place for more information is the <fo:basic-link external-destination="https://help.ubuntu.com/community/RubyOnRails" font-style="italic">Ruby on Rails Ubuntu Wiki</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">19</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">19</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/RubyOnRails">https://help.ubuntu.com/community/RubyOnRails</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> 
            page.
            </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="tomcat"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Apache Tomcat</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">5.Apache Tomcat</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Apache Tomcat is a web container that allows you to serve Java Servlets
		and JSP (Java Server Pages) web applications.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Ubuntu has supported packages for both Tomcat 6 and 7. Tomcat 6 is the legacy version, and
                Tomcat 7 is the current version where new features are implemented. Both are considered stable.
                This guide will focus on Tomcat 7, but most configuration details are valid for both versions.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Tomcat packages in Ubuntu support
		two different ways of running Tomcat. You can install them as a classic
		unique system-wide instance, that will be started at boot time will run
		as the tomcat7 (or tomcat6) unprivileged user. But you can also deploy private
		instances that will run with your own user rights, and that you should
		start and stop by yourself. This second way is particularly useful in a
		development server context where multiple users need to test on their own
		private Tomcat instances.</fo:block><fo:block id="tomcat-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">System-wide installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.1.System-wide installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To install the Tomcat server,
			you can enter the following command in the terminal prompt:</fo:block><fo:block id="idm45028021384784" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install tomcat7</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This will install a Tomcat server with just a default ROOT webapp
			that displays a minimal "It works" page by default.</fo:block></fo:block><fo:block id="tomcat-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.2.Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Tomcat configuration files can be found in
			<fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/tomcat7</fo:inline>. Only a few common configuration tweaks
			will be described here, please see
			<fo:basic-link external-destination="http://tomcat.apache.org/tomcat-7.0-doc/index.html" font-style="italic">Tomcat
			7.0 documentation</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">20</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">20</fo:inline> <fo:basic-link external-destination="http://tomcat.apache.org/tomcat-7.0-doc/index.html">http://tomcat.apache.org/tomcat-7.0-doc/index.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> for more.</fo:block><fo:block id="tomcat-configuration-ports"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">5.2.1.Changing default ports</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">By default Tomcat runs a HTTP connector on port 8080 and an
				AJP connector on port 8009. You might want to change those default
				ports to avoid conflict with another application on the system. This is
				done by changing the following lines in
				<fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/tomcat7/server.xml</fo:inline>:</fo:block><fo:block id="idm45028021376416" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
&lt;Connector port="8080" protocol="HTTP/1.1" 
               connectionTimeout="20000" 
               redirectPort="8443" /&gt;
...
&lt;Connector port="8009" protocol="AJP/1.3" redirectPort="8443" /&gt;
</fo:block></fo:block><fo:block id="tomcat-configuration-jvm"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">5.2.2.Changing JVM used</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">By default Tomcat will run preferably with OpenJDK JVMs, then try
				the Sun JVMs, then try some other JVMs. You can force Tomcat to use
				a specific JVM by setting JAVA_HOME in
				<fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/default/tomcat7</fo:inline>:</fo:block><fo:block id="idm45028021372512" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
JAVA_HOME=/usr/lib/jvm/java-6-sun
</fo:block></fo:block><fo:block id="tomcat-configuration-users"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">5.2.3.Declaring users and roles</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Usernames, passwords and roles (groups) can be defined centrally
				in a Servlet container. This is done in the
				<fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/tomcat7/tomcat-users.xml</fo:inline> file:</fo:block><fo:block id="idm45028021368816" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
&lt;role rolename="admin"/&gt;
&lt;user username="tomcat" password="s3cret" roles="admin"/&gt;
</fo:block></fo:block></fo:block><fo:block id="tomcat-webapps"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Using Tomcat standard webapps</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.3.Using Tomcat standard webapps</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Tomcat is shipped with webapps that you can install
			for documentation, administration or demo purposes.</fo:block><fo:block id="tomcat-installation-docs"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">5.3.1.Tomcat documentation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The tomcat7-docs package contains
				Tomcat documentation, packaged as a webapp that you can access by
				default at http://yourserver:8080/docs. You can install it by entering
				the following command in the terminal prompt:</fo:block><fo:block id="idm45028021363072" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install tomcat7-docs</fo:inline>
</fo:block></fo:block><fo:block id="tomcat-installation-admin"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">5.3.2.Tomcat administration webapps</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The tomcat7-admin package contains
				two webapps that can be used to administer the Tomcat server using a
				web interface. You can install them by entering the
				following command in the terminal prompt:</fo:block><fo:block id="idm45028021358512" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install tomcat7-admin</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The first one is the <fo:inline font-style="italic">manager</fo:inline> webapp, which
				you can access by default at http://yourserver:8080/manager/html. It is
				primarily used to get server status and restart webapps.</fo:block><fo:block id="idm45028021355872" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Access to the <fo:inline font-style="italic">manager</fo:inline> application is
				protected by default: you need to define a user with the role "manager-gui"
				in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/tomcat7/tomcat-users.xml</fo:inline>
				before you can access it.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The second one is the <fo:inline font-style="italic">host-manager</fo:inline> webapp,
				which you can access by default at
				http://yourserver:8080/host-manager/html.
				It can be used to create virtual hosts dynamically.</fo:block><fo:block id="idm45028021352912" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Access to the <fo:inline font-style="italic">host-manager</fo:inline> application is
				also protected by default: you
				need to define a user with the role "admin-gui" in
				<fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/tomcat7/tomcat-users.xml</fo:inline>
				before you can access it.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For security reasons, the tomcat7 user cannot write to the
				<fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/tomcat7</fo:inline> directory by default. Some features
				in these admin webapps (application deployment, virtual host creation)
				need write access to that directory. If you want to use these
				features execute the following, to give users in the tomcat7 group the necessary
				rights:</fo:block><fo:block id="idm45028021349488" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo chgrp -R tomcat7 /etc/tomcat7</fo:inline>
<fo:inline font-weight="bold">sudo chmod -R g+w /etc/tomcat7</fo:inline> 
</fo:block></fo:block><fo:block id="tomcat-installation-examples"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">5.3.3.Tomcat examples webapps</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The tomcat7-examples package contains
				two webapps that can be used to test or demonstrate Servlets and JSP
				features, which you can access them by default at
				http://yourserver:8080/examples. You can install them by entering the
				following command in the terminal prompt:</fo:block><fo:block id="idm45028021344048" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install tomcat7-examples</fo:inline>
</fo:block></fo:block></fo:block><fo:block id="tomcat-user"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Using private instances</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.4.Using private instances</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Tomcat is heavily used in development and testing scenarios
			where using a single system-wide instance doesn't meet the requirements
			of multiple users on a single system. The Tomcat packages in
			Ubuntu come with tools to help deploy your own user-oriented instances,
			allowing every user on a system to run (without root rights) separate
			private instances while still using the system-installed
			libraries.</fo:block><fo:block id="idm45028021339952" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">It is possible to run the system-wide instance and the private
			instances in parallel, as long as they do not use the same TCP
			ports.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="tomcat-user-install"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">5.4.1.Installing private instance support</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can install everything necessary to run private instances
				by entering the following command in the terminal prompt:</fo:block><fo:block id="idm45028021337360" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install tomcat7-user</fo:inline>
</fo:block></fo:block><fo:block id="tomcat-user-create"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">5.4.2.Creating a private instance</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can create a private instance directory by entering the
				following command in the terminal prompt:</fo:block><fo:block id="idm45028021333712" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">tomcat7-instance-create my-instance</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This will create a new <fo:inline font-size="8.800000000000001pt" font-family="monospace">my-instance</fo:inline> directory
				with all the necessary subdirectories and scripts.
				You can for example install your common libraries in the
				<fo:inline font-size="8.800000000000001pt" font-family="monospace">lib/</fo:inline> subdirectory and deploy your webapps in the
				<fo:inline font-size="8.800000000000001pt" font-family="monospace">webapps/</fo:inline> subdirectory. No webapps are deployed
				by default.</fo:block></fo:block><fo:block id="tomcat-user-config"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">5.4.3.Configuring your private instance</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You will find the classic Tomcat configuration files for your
				private instance in the <fo:inline font-size="8.800000000000001pt" font-family="monospace">conf/</fo:inline>
				subdirectory. You should for
				example certainly edit the <fo:inline font-size="8.800000000000001pt" font-family="monospace">conf/server.xml</fo:inline> file
				to change the default ports used by your private Tomcat instance to
				avoid conflict with other instances that might be running.</fo:block></fo:block><fo:block id="tomcat-user-start"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">5.4.4.Starting/stopping your private instance</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can start your private instance by entering the following
				command in the terminal prompt (supposing  your instance is located
				in the <fo:inline font-size="8.800000000000001pt" font-family="monospace">my-instance</fo:inline> directory):</fo:block><fo:block id="idm45028021322624" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">my-instance/bin/startup.sh</fo:inline>
</fo:block><fo:block id="idm45028021321008" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You should check the <fo:inline font-size="8.800000000000001pt" font-family="monospace">logs/</fo:inline> subdirectory for
				any error. If you have a <fo:inline font-style="italic">java.net.BindException: Address
				already in use&lt;null&gt;:8080</fo:inline> error, it means that the
				port you're using is already taken and that you should change it.
				</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can stop your instance by entering the following
        command in the terminal prompt (supposing  your instance is located
        in the <fo:inline font-size="8.800000000000001pt" font-family="monospace">my-instance</fo:inline> directory):</fo:block><fo:block id="idm45028019717200" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">my-instance/bin/shutdown.sh</fo:inline>
</fo:block></fo:block></fo:block><fo:block id="tomcat-references"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">References</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.5.References</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028019714576" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028019714320" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                      See the <fo:basic-link external-destination="http://tomcat.apache.org/" font-style="italic">Apache Tomcat</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">21</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">21</fo:inline> <fo:basic-link external-destination="http://tomcat.apache.org/">http://tomcat.apache.org/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> website for more information.
                      </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019712928" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                      <fo:basic-link external-destination="http://shop.oreilly.com/product/9780596003180.do" font-style="italic">Tomcat: The Definitive Guide</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">22</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">22</fo:inline> <fo:basic-link external-destination="http://shop.oreilly.com/product/9780596003180.do">http://shop.oreilly.com/product/9780596003180.do</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> is a good
                      resource for building web applications with Tomcat.
                      </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019711408" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                      For additional books see the <fo:basic-link external-destination="http://wiki.apache.org/tomcat/Tomcat/Books" font-style="italic">Tomcat Books</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">23</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">23</fo:inline> <fo:basic-link external-destination="http://wiki.apache.org/tomcat/Tomcat/Books">http://wiki.apache.org/tomcat/Tomcat/Books</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> list page.
                      </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Databases</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Databases</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-inner-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block id="databases"><fo:block font-family="serif,Symbol"><fo:block margin-left="0pc"><fo:block font-size="24.8832pt" font-weight="bold"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0pc" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">Chapter12.Databases</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Ubuntu provides two popular database servers. They are:
            </fo:block><fo:list-block id="idm45028025084688" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028023041136" space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">MySQL<fo:inline font-family="serif,Symbol"></fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028028300688" space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">PostgreSQL</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            They are available in the main repository. This section
            explains how to install and configure these database
            servers.
            </fo:block><fo:block id="mysql"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">MySQL</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">1.MySQL</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                    MySQL is a fast, multi-threaded, multi-user, and robust SQL
                    database server. It is intended for mission-critical, 
                    heavy-load production systems as well as for embedding into 
	                 mass-deployed software.
                    </fo:block><fo:block id="mysql-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.1.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                            To install MySQL, run the following command from a terminal prompt:
                            </fo:block><fo:block id="idm45028027162720" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install mysql-server</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	                         During the installation process you will be prompted to enter a password for the MySQL root 
	                         user.
                            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                            Once the installation is complete, the MySQL server should be
                            started automatically. You can run the following command from a terminal prompt to
                            check whether the MySQL server is running:
                            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
<fo:block id="idm45028029910512" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo netstat -tap | grep mysql</fo:inline>
</fo:block>
                            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                            When you run this command, you should see the following line
                            or something similar:
                            </fo:block><fo:block id="idm45028030316336" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
tcp        0      0 localhost:mysql         *:*                LISTEN      2556/mysqld
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                            If the server is not running correctly, you can type the following command to start it:
                            </fo:block><fo:block id="idm45028025824160" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart mysql.service</fo:inline>
</fo:block></fo:block><fo:block id="mysql-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.2.Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                            You can edit the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/mysql/my.cnf</fo:inline> file to configure the basic
                            settings -- log file, port number, etc.  For example, to configure MySQL
	                         to listen for connections from network hosts, change the <fo:inline font-style="italic">bind-address</fo:inline> directive
	                         to the server's IP address:
                            </fo:block><fo:block id="idm45028028721072" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
bind-address            = 192.168.0.5
</fo:block><fo:block id="idm45028030311008" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	                             Replace 192.168.0.5 with the appropriate address. 
                                </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	                         After making a change to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/mysql/my.cnf</fo:inline> the MySQL
	                         daemon will need to be restarted:
                            </fo:block><fo:block id="idm45028030508544" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart mysql.service</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                            If you would like to change the MySQL <fo:inline font-style="italic">root</fo:inline> password, 
                            in a terminal enter:
                            </fo:block><fo:block id="idm45028022862400" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo dpkg-reconfigure mysql-server-5.5</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                            The MySQL daemon will be stopped, and you will be prompted to enter a new password.
                            </fo:block></fo:block><fo:block id="mysql-engines"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Database Engines</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.3.Database Engines</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                            Whilst the default configuration of MySQL provided by the Ubuntu packages is perfectly functional and performs well there are things you may wish to consider before you proceed.
                            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                            MySQL is designed to allow data to be stored in different ways.
                            These methods are referred to as either database or storage engines.
                            There are two main engines that you'll be interested in: InnoDB and MyISAM.
                            Storage engines are transparent to the end user. MySQL will handle things differently under the surface,
                            but regardless of which storage engine is in use, you will interact with the database in the same way.
                            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                            Each engine has its own advantages and disadvantages.
                            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                            While it is possible, and may be advantageous to mix and match database engines on a table level,
                            doing so reduces the effectiveness of the performance tuning you can do as you'll be splitting the resources
                            between two engines instead of dedicating them to one.
                            </fo:block><fo:list-block id="idm45028023607152" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028027719808" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                                    MyISAM is the older of the two.  It can be faster than InnoDB under certain circumstances and favours a
                                    read only workload.  Some web applications have been tuned around MyISAM (though that's not to imply that
                                    they will slow under InnoDB).  MyISAM also supports the FULLTEXT data type, which allows very fast searches
                                    of large quantities of text data.

                                    However MyISAM is only capable of locking an entire table for writing.  This means only one process can
                                    update a table at a time.  As any application that uses the table scales this may prove to be a hindrance.
                                    It also lacks journaling, which makes it harder for data to be recovered after a crash.

                                    The following link provides some points for consideration about using <fo:basic-link external-destination="http://www.mysqlperformanceblog.com/2006/06/17/using-myisam-in-production/" font-style="italic">MyISAM on a production database</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline> <fo:basic-link external-destination="http://www.mysqlperformanceblog.com/2006/06/17/using-myisam-in-production/">http://www.mysqlperformanceblog.com/2006/06/17/using-myisam-in-production/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
                                    </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026217328" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                                    InnoDB is a more modern database engine, designed to be
                                    <fo:basic-link external-destination="http://en.wikipedia.org/wiki/ACID" font-style="italic">ACID compliant</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline> <fo:basic-link external-destination="http://en.wikipedia.org/wiki/ACID">http://en.wikipedia.org/wiki/ACID</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> which guarantees
                                    database transactions are processed reliably.
                                    Write locking can occur on a row level basis within a table.
                                    That means multiple updates can occur on a single table simultaneously.
                                    Data caching is also handled in memory within the database engine,
                                    allowing caching on a more efficient row level basis rather than file block.
                                    To meet ACID compliance all transactions are journaled independently of the main tables.
                                    This allows for much more reliable data recovery as data consistency can be checked.
                                    </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                            As of MySQL 5.5 InnoDB is the default engine, and is highly recommended over MyISAM unless you have specific need for features unique to the engine.
                            </fo:block></fo:block><fo:block id="mysql-advanced"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Advanced configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.4.Advanced configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="mysql-tuned-mycnf"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.4.1.Creating a tuned my.cnf file</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                                    There are a number of parameters that can be adjusted within MySQL's configuration file that will allow you to
                                    improve the performance of the server over time.  For initial set-up you may find <fo:basic-link external-destination="http://tools.percona.com/members/wizard" font-style="italic">Percona's my.cnf generating tool</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline> <fo:basic-link external-destination="http://tools.percona.com/members/wizard">http://tools.percona.com/members/wizard</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> useful.
                                    This tool will help generate a my.cnf file that will be much more optimised for your specific server capabilities and your requirements.
                                 </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                                    <fo:inline font-style="italic">Do not</fo:inline> replace your existing my.cnf file with Percona's one if you have already loaded data into the database.
                                    Some of the changes that will be in the file will be incompatible as they alter how data is stored on the hard disk and you'll be unable to start MySQL.
                                    If you do wish to use it and you have existing data, you will need to carry out a mysqldump and reload:
<fo:block id="idm45028030312256" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
mysqldump --all-databases --routines -u root -p &gt; ~/fulldump.sql
</fo:block>
                                    This will then prompt you for the root password before creating a copy of the data.
                                    It is advisable to make sure there are no other users or processes using the database whilst this takes place.
                                    Depending on how much data you've got in your database, this may take a while. You won't see anything on the screen during this process.
                                 </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                                    Once the dump has been completed, shut down MySQL:
<fo:block id="idm45028031040176" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl stop mysql.service</fo:inline>
</fo:block>
                                    Now backup the original my.cnf file and replace with the new one:
<fo:block id="idm45028023503664" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo cp /etc/mysql/my.cnf /etc/mysql/my.cnf.backup</fo:inline>
<fo:inline font-weight="bold">sudo cp /path/to/new/my.cnf /etc/mysql/my.cnf</fo:inline>
</fo:block>
                                    Then delete and re-initialise the database space and make sure ownership is correct before restarting MySQL:
<fo:block id="idm45028030068704" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo rm -rf /var/lib/mysql/*</fo:inline>
<fo:inline font-weight="bold">sudo mysql_install_db</fo:inline>
<fo:inline font-weight="bold">sudo chown -R mysql: /var/lib/mysql</fo:inline>
<fo:inline font-weight="bold">sudo systemctl start mysql.service</fo:inline>
</fo:block>
                                    Finally all that's left is to re-import your data.  To give us an idea of how far the import process has got you may find the 'Pipe Viewer' utility, pv, useful.
                                    The following shows how to install and use pv for this case, but if you'd rather not use it just replace pv with cat in the following command.  Ignore any ETA times produced by pv, they're based on the average time taken to handle each row of the file, but the speed of inserting can vary wildly from row to row with mysqldumps:
<fo:block id="idm45028021821312" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install pv</fo:inline>
<fo:inline font-weight="bold">pv ~/fulldump.sql | mysql</fo:inline>
</fo:block>
                                    Once that is complete all is good to go!
                                   </fo:block><fo:block id="idm45028021818624" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                                        This is not necessary for all my.cnf changes.
                                        Most of the variables you may wish to change to improve performance are adjustable
                                        even whilst the server is running.  As with anything, make sure to have a good backup
                                        copy of config files and data before making changes.
                                        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="mysql-tuner"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.4.2.MySQL Tuner</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                                    MySQL Tuner is a useful tool that will connect to a running MySQL
                                    instance and offer suggestions for how it can be
                                    best configured for your workload.  The longer the server has been running for,
                                    the better the advice mysqltuner
                                    can provide.  In a production environment, consider waiting for at least 24 hours before running the tool.
    
                                    You can get install mysqltuner from the Ubuntu repositories:
<fo:block id="idm45028021814096" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install mysqltuner</fo:inline>
</fo:block>
                                    Then once its been installed, run it:
<fo:block id="idm45028025778336" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">mysqltuner</fo:inline>
</fo:block>
                                    and wait for its final report.  The top section provides general information about the database server,
                                    and the bottom section provides tuning suggestions to alter in your my.cnf.
                                    Most of these can be altered live on the server without restarting, look through the official
                                    MySQL documentation (link in Resources section) for the relevant variables
                                    to change in production.
                                    The following is part of an example report from a production database which shows there may be some benefit
                                    from increasing the amount of query cache:
<fo:block id="idm45028024033168" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
-------- Recommendations -----------------------------------------------------
General recommendations:
    Run OPTIMIZE TABLE to defragment tables for better performance
    Increase table_cache gradually to avoid file descriptor limits
Variables to adjust:
    key_buffer_size (&gt; 1.4G)
    query_cache_size (&gt; 32M)
    table_cache (&gt; 64)
    innodb_buffer_pool_size (&gt;= 22G)
</fo:block>
                                </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                                One final comment on tuning databases:  Whilst we can broadly say that certain settings are the best,
                                performance can vary from application to application.  For example, what works best for Wordpress
                                might not be the best for Drupal, Joomla or proprietary applications.
                                Performance is dependent on the types of queries, use of indexes, how efficient the database design
                                is and so on.  You may find it useful to spend some time searching for database tuning tips based on
                                what applications you're using it for.
                                Once you get past a certain point any adjustments you make will only result in minor improvements,
                                and you'll be better off either improving the application, or looking at scaling up your database
                                environment through either using more powerful hardware or by adding slave servers.
                                </fo:block></fo:block></fo:block><fo:block id="mysql-resources"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Resources</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.5.Resources</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028025307888" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028025733360" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                                See the <fo:basic-link external-destination="http://www.mysql.com/" font-style="italic">MySQL Home Page</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline> <fo:basic-link external-destination="http://www.mysql.com/">http://www.mysql.com/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> for more information.
                                </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026554208" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	                             Full documentation is available in both online and offline formats
                                 from the <fo:basic-link external-destination="http://dev.mysql.com/doc/" font-style="italic"> MySQL Developers portal</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline> <fo:basic-link external-destination="http://dev.mysql.com/doc/">http://dev.mysql.com/doc/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
                                </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026025536" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                               For general SQL information see <fo:basic-link external-destination="http://www.informit.com/store/product.aspx?isbn=0768664128" font-style="italic">
                               Using SQL Special Edition</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline> <fo:basic-link external-destination="http://www.informit.com/store/product.aspx?isbn=0768664128">http://www.informit.com/store/product.aspx?isbn=0768664128</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> by Rafe Colburn.
                               </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026483872" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                               The <fo:basic-link external-destination="https://help.ubuntu.com/community/ApacheMySQLPHP" font-style="italic">Apache MySQL PHP Ubuntu Wiki</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">7</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">7</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/ApacheMySQLPHP">https://help.ubuntu.com/community/ApacheMySQLPHP</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
                               page also has useful information.
                               </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="postgresql"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">PostgreSQL</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">2.PostgreSQL</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                        PostgreSQL is an object-relational database system that has
                        the features of traditional commercial database systems with
                        enhancements to be found in next-generation DBMS systems.
                        </fo:block><fo:block id="postgresql-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.1.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                            To install PostgreSQL, run the following command in the
                            command prompt:
                            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
<fo:block id="idm45028024873904" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install postgresql</fo:inline>
</fo:block>
                            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Once the installation is complete, you should configure the
            PostgreSQL server based on your needs, although the default
            configuration is viable.</fo:block></fo:block><fo:block id="postgresql-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.2.Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            PostgreSQL supports multiple client authentication methods.
            IDENT authentication method is used for postgres and local users, unless otherwise configured.  
	    Please refer to the <fo:basic-link external-destination="http://www.postgresql.org/docs/current/static/admin.html" font-style="italic">
	    PostgreSQL Administrator's Guide</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">8</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">8</fo:inline> <fo:basic-link external-destination="http://www.postgresql.org/docs/current/static/admin.html">http://www.postgresql.org/docs/current/static/admin.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> if you would like to configure alternatives like Kerberos.
	    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The following discussion assumes that you wish to enable 
            TCP/IP connections and use the MD5 method for client 
            authentication. PostgreSQLconfiguration files are stored in the
            <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/postgresql/&lt;version&gt;/main</fo:inline>
            directory. For example, if you install PostgreSQL 9.5, the
            configuration files are stored in the
            <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/postgresql/9.5/main</fo:inline> directory.
            </fo:block><fo:block id="idm45028022899648" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/tip.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
             To configure <fo:inline font-style="italic">ident</fo:inline>
             authentication, add entries to the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/postgresql/9.5/main/pg_ident.conf</fo:inline>
             file.  There are detailed comments in the file to guide you.
            </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To enable other computers to connect to your PostgreSQL server, edit the file <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/postgresql/9.5/main/postgresql.conf</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    Locate the line <fo:inline font-style="italic">#listen_addresses = 'localhost'</fo:inline> and change it to:
	    </fo:block><fo:block id="idm45028027301344" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
listen_addresses = '*'
</fo:block><fo:block id="idm45028025150976" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    To allow both IPv4 and IPv6 connections replace 'localhost' with '::'
            </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> 
	    You may also edit all other parameters, if you know what you are doing! 
            For details, refer to the configuration file or to the PostgreSQL documentation.
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    Now that we can connect to our PostgreSQL server, the next step is to 
	    set a password for the <fo:inline font-style="italic">postgres</fo:inline> user.  Run the following command at a terminal 
	    prompt to connect to the default PostgreSQL template database:
	    </fo:block><fo:block id="idm45028026684880" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo -u postgres psql template1</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            The above command connects to PostgreSQL database <fo:inline font-style="italic">template1</fo:inline> as user
            <fo:inline font-style="italic">postgres</fo:inline>. Once you connect to the PostgreSQL server, you will be 
	    at a SQL prompt. You can run the following SQL command at the psql 
	    prompt to configure the password for the user <fo:inline font-style="italic">postgres</fo:inline>.
	    </fo:block><fo:block id="idm45028026376144" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">ALTER USER postgres with encrypted password 'your_password';</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    After configuring the password, edit the file
            <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/postgresql/9.5/main/pg_hba.conf</fo:inline> to use
            <fo:inline font-style="italic">MD5</fo:inline> authentication with the <fo:inline font-style="italic">postgres</fo:inline> user:
            </fo:block><fo:block id="idm45028025160528" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
local   all         postgres                          md5
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    Finally, you should restart the PostgreSQL service to 
            initialize the new configuration.  From a terminal prompt enter the following to 
	    restart PostgreSQL:
            </fo:block><fo:block id="idm45028029927456" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart postgresql.service</fo:inline>
</fo:block><fo:block id="idm45028022778224" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/warning.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
             The above configuration is not complete by any means. Please
             refer to the <fo:basic-link external-destination="http://www.postgresql.org/docs/current/static/admin.html" font-style="italic">
			 PostgreSQL Administrator's Guide</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">9</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">9</fo:inline> <fo:basic-link external-destination="http://www.postgresql.org/docs/current/static/admin.html">http://www.postgresql.org/docs/current/static/admin.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> to configure more parameters.
            </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    You can test server connections from other machines by using the PostgreSQL client.
            </fo:block><fo:block id="idm45028030186336" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install postgresql-client</fo:inline>
<fo:inline font-weight="bold">psql -h postgres.example.com -U postgres -W </fo:inline>
</fo:block><fo:block id="idm45028025574912" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		Replace the domain name with your actual server domain name.
		</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="postgresql-backups"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Backups</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.3.Backups</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
             PostgreSQL databases should be backed up regularly. Refer to the <fo:basic-link external-destination="http://www.postgresql.org/docs/current/static/backup.html" font-style="italic">PostgreSQL Administrator's Guide</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">10</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">10</fo:inline> <fo:basic-link external-destination="http://www.postgresql.org/docs/current/static/backup.html">http://www.postgresql.org/docs/current/static/backup.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> for different approaches.
            </fo:block></fo:block><fo:block id="postgresql-resources"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Resources</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.4.Resources</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028024029264" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028024028976" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
  	      As mentioned above the <fo:basic-link external-destination="http://www.postgresql.org/docs/current/static/admin.html" font-style="italic">PostgreSQL Administrator's Guide</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">11</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">11</fo:inline> <fo:basic-link external-destination="http://www.postgresql.org/docs/current/static/admin.html">http://www.postgresql.org/docs/current/static/admin.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
	      is an excellent resource.  The guide is also available in the postgresql-doc-9.5 package.
	      Execute the following in a terminal to install the package:
              </fo:block><fo:block id="idm45028024026672" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install postgresql-doc-9.5</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      To view the guide enter <fo:inline font-weight="bold">file:///usr/share/doc/postgresql-doc-9.5/html/index.html</fo:inline> into the address
	      bar of your browser. 
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021280512" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      For general SQL information see <fo:basic-link external-destination="http://www.informit.com/store/product.aspx?isbn=0768664128" font-style="italic">Using SQL Special Edition</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">12</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">12</fo:inline> <fo:basic-link external-destination="http://www.informit.com/store/product.aspx?isbn=0768664128">http://www.informit.com/store/product.aspx?isbn=0768664128</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> by 
	      Rafe Colburn.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021278976" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      Also, see the <fo:basic-link external-destination="https://help.ubuntu.com/community/PostgreSQL" font-style="italic">PostgreSQL Ubuntu Wiki</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">13</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">13</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/PostgreSQL">https://help.ubuntu.com/community/PostgreSQL</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> page for more information.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>LAMP Applications</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>LAMP Applications</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-inner-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block id="lamp-applications"><fo:block font-family="serif,Symbol"><fo:block margin-left="0pc"><fo:block font-size="24.8832pt" font-weight="bold"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0pc" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">Chapter13.LAMP Applications</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="lamp-overview"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Overview</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">1.Overview</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        LAMP installations (Linux + Apache + MySQL + PHP/Perl/Python) are a popular setup for Ubuntu 
    servers.  There is a plethora of Open Source applications written using the
    LAMP application stack.  Some popular LAMP applications are Wiki's, Content Management Systems,
    and Management Software such as phpMyAdmin.
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    One advantage of LAMP is the substantial flexibility for different database, web server, and 
    scripting languages.  Popular substitutes for MySQL include PostgreSQL and SQLite.  Python, Perl,
    and Ruby are also frequently used instead of PHP. While Nginx, Cherokee and Lighttpd can replace Apache.
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    The fastest way to get started is to install LAMP using tasksel. Tasksel is a Debian/Ubuntu tool that
    installs multiple related packages as a co-ordinated "task" onto your system. To install a LAMP server:
    </fo:block><fo:block id="idm45028021864256" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:list-block provisional-distance-between-starts="2em" provisional-label-separation="0.2em" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em"><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028027650064"></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        At a terminal prompt enter the following command:
        </fo:block><fo:block id="idm45028028699872" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo tasksel install lamp-server</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    After installing it you'll be able to install most <fo:inline font-style="italic">LAMP</fo:inline> applications in this way:
    </fo:block><fo:list-block id="idm45028023822832" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028027477616" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Download an archive containing the application source files.
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026610000" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Unpack the archive, usually in a directory accessible to a web server.
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026053376" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Depending on where the source was extracted, configure a web server to serve the files.
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025101072" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Configure the application to connect to the database.
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025717136" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Run a script, or browse to a page of the application, to install the database needed by the application.
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028028051296" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Once the steps above, or similar steps, are completed you are ready to begin using the application.
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    A disadvantage of using this approach is that the application files are not placed in the file system in a 
    standard way, which can cause confusion as to where the application is installed.  Another larger disadvantage
    is updating the application.  When a new version is released, the same process used to install the application 
    is needed to apply updates.
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    Fortunately, a number of <fo:inline font-style="italic">LAMP</fo:inline> applications are already packaged for Ubuntu, and are available
    for installation in the same way as non-LAMP applications.  Depending on the application some extra configuration and
    setup steps may be needed, however.
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    This section covers how to install some <fo:inline font-style="italic">LAMP</fo:inline> applications.
    </fo:block></fo:block><fo:block id="moinmoin"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Moin Moin</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">2.Moin Moin</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    MoinMoin is a wiki engine implemented in Python, based on the
    PikiPiki Wiki engine, and licensed under the GNU GPL.
    </fo:block><fo:block id="moinmoin-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.1.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      To install MoinMoin, run the following
      command in the command prompt:
      </fo:block><fo:block id="idm45028027531168" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install python-moinmoin</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
       You should also install apache2 web
       server. For installing the apache2 web
       server, please refer to <fo:basic-link internal-destination="http-installation"><fo:inline font-style="italic">Section1.1, Installation</fo:inline></fo:basic-link><fo:basic-link internal-destination="http-installation" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="http-installation"/>]</fo:inline></fo:basic-link>
       sub-section in <fo:basic-link internal-destination="httpd"><fo:inline font-style="italic">Section1, HTTPD - Apache2 Web Server</fo:inline></fo:basic-link><fo:basic-link internal-destination="httpd" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="httpd"/>]</fo:inline></fo:basic-link> section.
       </fo:block></fo:block><fo:block id="moinmoin-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.2.Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      To configure your first wiki application, please run the
      following set of commands. Let us assume that you are creating a
      wiki named <fo:inline font-style="italic">mywiki</fo:inline>:
      </fo:block><fo:block id="idm45028020565840" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">cd /usr/share/moin</fo:inline>
<fo:inline font-weight="bold">sudo mkdir mywiki</fo:inline>
<fo:inline font-weight="bold">sudo cp -R data mywiki</fo:inline>
<fo:inline font-weight="bold">sudo cp -R underlay mywiki</fo:inline>
<fo:inline font-weight="bold">sudo cp server/moin.cgi mywiki</fo:inline>
<fo:inline font-weight="bold">sudo chown -R www-data:www-data mywiki</fo:inline>
<fo:inline font-weight="bold">sudo chmod -R ug+rwX mywiki</fo:inline>
<fo:inline font-weight="bold">sudo chmod -R o-rwx mywiki</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
       Now you should configure MoinMoin to find
       your new wiki <fo:inline font-style="italic">mywiki</fo:inline>. To configure
       MoinMoin, open
       <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/moin/mywiki.py</fo:inline> file and change the following
       line:
       </fo:block><fo:block id="idm45028030277632" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">data_dir = '/org/mywiki/data'</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
       to
       </fo:block><fo:block id="idm45028025579360" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">data_dir = '/usr/share/moin/mywiki/data'</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
       Also, below the <fo:inline font-style="italic">data_dir</fo:inline> option add the <fo:inline font-style="italic">data_underlay_dir</fo:inline>:
       </fo:block><fo:block id="idm45028026644704" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
data_underlay_dir='/usr/share/moin/mywiki/underlay'
</fo:block><fo:block id="idm45028024528048" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
         If the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/moin/mywiki.py</fo:inline> file does not exist,
         you should copy <fo:inline font-size="8.800000000000001pt" font-family="monospace">/usr/share/moin/config/wikifarm/mywiki.py</fo:inline> file to
         <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/moin/mywiki.py</fo:inline> file and do the above mentioned change.
         </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="idm45028025084016" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          If you have named your wiki as <fo:inline font-style="italic">my_wiki_name</fo:inline> you
          should insert a line <fo:inline>("my_wiki_name", r".*")</fo:inline> in
          <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/moin/farmconfig.py</fo:inline> file after the line
          <fo:inline>("mywiki", r".*")</fo:inline>.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Once you have configured MoinMoin to find
        your first wiki application, <fo:inline font-style="italic">mywiki</fo:inline>, you should
        configure apache2 and make it ready for
        your wiki. 
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        You should add the following lines in
        <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apache2/sites-available/000-default.conf</fo:inline> file inside
        the <fo:inline>&lt;VirtualHost *&gt;</fo:inline> tag:
        </fo:block><fo:block id="idm45028035404336" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
### moin
  ScriptAlias /mywiki "/usr/share/moin/mywiki/moin.cgi"
  alias /moin_static&lt;version&gt; "/usr/share/moin/htdocs"
  &lt;Directory /usr/share/moin/htdocs&gt;
  Order allow,deny
  allow from all
  &lt;/Directory&gt;
### end moin
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
         The version in the above example is determined by running:
         </fo:block><fo:block id="idm45028030162880" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
$ moin --version
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
         If the output shows version 1.9.7, your second line should be:
         </fo:block><fo:block id="idm45028023837536" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
alias /moin_static197 "/usr/share/moin/htdocs"
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
         Once you configure the apache2 web server and
         make it ready for your wiki application, you should restart it. You
         can run the following command to restart the
         apache2 web server:
         </fo:block><fo:block id="idm45028024808336" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart apache2.service</fo:inline>
</fo:block></fo:block><fo:block id="moinmoin-verification"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Verification</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.3.Verification</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can verify the Wiki application and see if it works by
    pointing your web browser to the following URL:
    </fo:block><fo:block id="idm45028025789792" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
http://localhost/mywiki
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    For more details, please refer to the <fo:basic-link external-destination="http://moinmo.in/" font-style="italic">MoinMoin</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline> <fo:basic-link external-destination="http://moinmo.in/">http://moinmo.in/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> web site.
    </fo:block></fo:block><fo:block id="moinmoin-references"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">References</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.4.References</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028025901280" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028024183200" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        For more information see the <fo:basic-link external-destination="http://moinmo.in/" font-style="italic">moinmoin Wiki</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline> <fo:basic-link external-destination="http://moinmo.in/">http://moinmo.in/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025981904" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Also, see the <fo:basic-link external-destination="https://help.ubuntu.com/community/MoinMoin" font-style="italic">Ubuntu Wiki MoinMoin</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/MoinMoin">https://help.ubuntu.com/community/MoinMoin</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> page.
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="phpmyadmin"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">phpMyAdmin</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">3.phpMyAdmin</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    phpMyAdmin is a LAMP application specifically written for administering 
    MySQL servers.  Written in PHP, and accessed through a 
    web browser, phpMyAdmin provides a graphical interface for database administration tasks. 
    </fo:block><fo:block id="phpmyadmin-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.1.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Before installing phpMyAdmin you will need access to a MySQL
      database either on the same host as that phpMyAdmin is installed on, or on a host accessible over the network.
      For more information see <fo:basic-link internal-destination="mysql"><fo:inline font-style="italic">Section1, MySQL</fo:inline></fo:basic-link><fo:basic-link internal-destination="mysql" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="mysql"/>]</fo:inline></fo:basic-link>. From a terminal prompt enter:  
      </fo:block><fo:block id="idm45028025493520" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install phpmyadmin</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      At the prompt choose which web server to be configured for phpMyAdmin.  The rest of 
      this section will use Apache2 for the web server.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      In a browser go to <fo:inline font-style="italic">http://servername/phpmyadmin</fo:inline>, replacing <fo:inline font-style="italic">servername</fo:inline>
      with the server's actual hostname.  At the login, page enter <fo:inline font-style="italic">root</fo:inline> for the <fo:inline font-style="italic">username</fo:inline>,
      or another MySQL user, if you have any setup, and enter the MySQL user's 
      password.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Once logged in you can reset the <fo:inline font-style="italic">root</fo:inline> password if needed, create users, create/destroy databases and tables, etc.
      </fo:block></fo:block><fo:block id="phpmyadmin-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.2.Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      The configuration files for phpMyAdmin are located in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/phpmyadmin</fo:inline>.  The main 
      configuration file is <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/phpmyadmin/config.inc.php</fo:inline>.  This file contains configuration options that apply 
      globally to phpMyAdmin.  
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      To use phpMyAdmin to administer a MySQL database hosted on another server, adjust the 
      following in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/phpmyadmin/config.inc.php</fo:inline>:
      </fo:block><fo:block id="idm45028025777024" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
$cfg['Servers'][$i]['host'] = 'db_server';
</fo:block><fo:block id="idm45028025476160" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Replace <fo:inline font-style="italic">db_server</fo:inline> with the actual remote database server name or IP address.  
        Also, be sure that the phpMyAdmin host has permissions to access the remote database.
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Once configured, log out of phpMyAdmin and back in, and you should be accessing the new server.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      The <fo:inline font-size="8.800000000000001pt" font-family="monospace">config.header.inc.php</fo:inline> and <fo:inline font-size="8.800000000000001pt" font-family="monospace">config.footer.inc.php</fo:inline> files are used to add a HTML 
      header and footer to phpMyAdmin.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Another important configuration file is <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/phpmyadmin/apache.conf</fo:inline>, this file is symlinked to 
      <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apache2/conf-available/phpmyadmin.conf</fo:inline>, and, once enabled, is used to configure Apache2 
      to serve the phpMyAdmin site. The file contains directives for loading 
      PHP, directory permissions, etc. From a terminal type:
      </fo:block><fo:block id="idm45028030493728" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ln -s /etc/phpmyadmin/apache.conf /etc/apache2/conf-available/phpmyadmin.conf</fo:inline>
<fo:inline font-weight="bold">sudo a2enconf phpmyadmin.conf</fo:inline>
<fo:inline font-weight="bold">sudo systemctl reload apache2.service</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      For more information on configuring 
      Apache2 see <fo:basic-link internal-destination="httpd"><fo:inline font-style="italic">Section1, HTTPD - Apache2 Web Server</fo:inline></fo:basic-link><fo:basic-link internal-destination="httpd" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="httpd"/>]</fo:inline></fo:basic-link>.
      </fo:block></fo:block><fo:block id="phpmyadmin-references"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">References</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.3.References</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028030209296" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028022844080" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The phpMyAdmin documentation comes installed with the package and can be accessed from the
          <fo:inline font-style="italic">phpMyAdmin Documentation</fo:inline> link (a question mark with a box around it) under the phpMyAdmin logo.
          The official docs can also be access on the <fo:basic-link external-destination="http://www.phpmyadmin.net/home_page/docs.php" font-style="italic">phpMyAdmin</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline> <fo:basic-link external-destination="http://www.phpmyadmin.net/home_page/docs.php">http://www.phpmyadmin.net/home_page/docs.php</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> site.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029588432" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Also, <fo:basic-link external-destination="http://www.packtpub.com/phpmyadmin-3rd-edition/book" font-style="italic">Mastering phpMyAdmin</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline> <fo:basic-link external-destination="http://www.packtpub.com/phpmyadmin-3rd-edition/book">http://www.packtpub.com/phpmyadmin-3rd-edition/book</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> is a great resource.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028028021648" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          A third resource is the <fo:basic-link external-destination="https://help.ubuntu.com/community/phpMyAdmin" font-style="italic">phpMyAdmin Ubuntu Wiki</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/phpMyAdmin">https://help.ubuntu.com/community/phpMyAdmin</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> page.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="wordpress"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">WordPress</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">4.WordPress</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Wordpress is a blog tool, publishing platform and CMS 
          implemented in PHP and licensed under the GNU GPLv2.
      </fo:block><fo:block id="wordpress-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.1.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To install WordPress, run the following
              comand in the command prompt:
          </fo:block><fo:block id="idm45028024202016" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
    <fo:inline font-weight="bold">sudo apt install wordpress</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
           You should also install apache2 web
           server and mysql server. For installing apache2 web
           server, please refer to <fo:basic-link internal-destination="http-installation"><fo:inline font-style="italic">Section1.1, Installation</fo:inline></fo:basic-link><fo:basic-link internal-destination="http-installation" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="http-installation"/>]</fo:inline></fo:basic-link>
           sub-section in <fo:basic-link internal-destination="httpd"><fo:inline font-style="italic">Section1, HTTPD - Apache2 Web Server</fo:inline></fo:basic-link><fo:basic-link internal-destination="httpd" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="httpd"/>]</fo:inline></fo:basic-link> section.
            For installing mysql server, please refer
            to <fo:basic-link internal-destination="mysql-installation"><fo:inline font-style="italic">Section1.1, Installation</fo:inline></fo:basic-link><fo:basic-link internal-destination="mysql-installation" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="mysql-installation"/>]</fo:inline></fo:basic-link> sub-section in 
            <fo:basic-link internal-destination="mysql"><fo:inline font-style="italic">Section1, MySQL</fo:inline></fo:basic-link><fo:basic-link internal-destination="mysql" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="mysql"/>]</fo:inline></fo:basic-link> section.
           </fo:block></fo:block><fo:block id="wordpress-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.2.Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
               For configuring your first WordPress
               application, configure an apache site.
               Open <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apache2/sites-available/wordpress.conf</fo:inline> and write the
               following lines:
           </fo:block><fo:block id="idm45028021303728" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
        Alias /blog /usr/share/wordpress
        &lt;Directory /usr/share/wordpress&gt;
            Options FollowSymLinks
            AllowOverride Limit Options FileInfo
            DirectoryIndex index.php
            Order allow,deny
            Allow from all
        &lt;/Directory&gt;
        &lt;Directory /usr/share/wordpress/wp-content&gt;
            Options FollowSymLinks
            Order allow,deny
            Allow from all
        &lt;/Directory&gt;
           </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Enable this new WordPress site</fo:block><fo:block id="idm45028021301232" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
    <fo:inline font-weight="bold">sudo a2ensite wordpress</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
         Once you configure the apache2 web server and
         make it ready for your WordPress
         application, you should restart it. You
         can run the following command to restart the
         apache2 web server:
         </fo:block><fo:block id="idm45028022832256" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart apache2.service</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        To facilitate multiple WordPress installations, the name of this
        configuration file is based on the Host header of the HTTP request.
        This means that you can have a configuration per VirtualHost by simply
        matching the hostname portion of this configuration with your Apache
        Virtual Host. e.g. /etc/wordpress/config-10.211.55.50.php,
        /etc/wordpress/config-hostalias1.php, etc. These instructions assume
        you can access Apache via the localhost hostname (perhaps by using an
        ssh tunnel) if not, replace /etc/wordpress/config-localhost.php with
        /etc/wordpress/config-NAME_OF_YOUR_VIRTUAL_HOST.php.
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Once the configuration file is written, it is up to you to choose a
        convention for username and password to mysql for each
        WordPress
        database instance. This documentation shows only one, localhost,
        example.
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Now configure WordPress to use a mysql database.
        Open <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/wordpress/config-localhost.php</fo:inline> file and write
        the following lines:
    </fo:block><fo:block id="idm45028022004768" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
&lt;?php
define('DB_NAME', 'wordpress');
define('DB_USER', 'wordpress');
define('DB_PASSWORD', 'yourpasswordhere');
define('DB_HOST', 'localhost');
define('WP_CONTENT_DIR', '/usr/share/wordpress/wp-content');
?&gt;
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Now create this mysql database. Open a temporary file with mysql commands
        <fo:inline font-size="8.800000000000001pt" font-family="monospace">wordpress.sql</fo:inline> and write the following lines:
        </fo:block><fo:block id="idm45028022002592" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
CREATE DATABASE wordpress;
GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP,ALTER
ON wordpress.*
TO wordpress@localhost
IDENTIFIED BY 'yourpasswordhere';
FLUSH PRIVILEGES;
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Execute these commands.</fo:block><fo:block id="idm45028022001184" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">cat wordpress.sql | sudo mysql --defaults-extra-file=/etc/mysql/debian.cnf</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Your new WordPress can now be configured by visiting
            <fo:basic-link external-destination="http://localhost/blog/wp-admin/install.php" font-style="italic"><fo:inline hyphenate="false">http://localhost/blog/wp-admin/install.php</fo:inline></fo:basic-link>.
            (Or <fo:basic-link external-destination="http://NAME_OF_YOUR_VIRTUAL_HOST/blog/wp-admin/install.php" font-style="italic"><fo:inline hyphenate="false">http://NAME_OF_YOUR_VIRTUAL_HOST/blog/wp-admin/install.php</fo:inline></fo:basic-link>
            if your server has no GUI and you are completing WordPress
            configuration via a web browser running on another computer.) Fill out the Site Title,
            username, password, and E-mail and click Install WordPress.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Note the generated password (if applicable) and click the login password. Your 
WordPress is now ready for use.
        </fo:block></fo:block><fo:block id="wordpress-references"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">References</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.3.References</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028021993456" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028021993168" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:basic-link external-destination="https://codex.wordpress.org/" font-style="italic">WordPress.org Codex</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">7</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">7</fo:inline> <fo:basic-link external-destination="https://codex.wordpress.org/">https://codex.wordpress.org/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021991536" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:basic-link external-destination="https://help.ubuntu.com/community/WordPress" font-style="italic">Ubuntu Wiki WordPress</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">8</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">8</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/WordPress">https://help.ubuntu.com/community/WordPress</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
            </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>File Servers</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>File Servers</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-inner-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block id="file-servers"><fo:block font-family="serif,Symbol"><fo:block margin-left="0pc"><fo:block font-size="24.8832pt" font-weight="bold"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0pc" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">Chapter14.File Servers</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        If you have more than one computer on a single network.  At some point you will probably
        need to share files between them.  In this section we cover installing and configuring 
        FTP, NFS, and CUPS. 
        </fo:block><fo:block id="ftp-server"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">FTP Server</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">1.FTP Server</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          File Transfer Protocol (FTP) is a TCP protocol for
          downloading files between computers.  In the past, it has
          also been used for uploading but, as that method does not
          use encryption, user credentials as well as data transferred
          in the clear and are easily intercepted.  So if you are here
          looking for a way to upload and download files securely, see
          the section on OpenSSH in <fo:basic-link internal-destination="remote-administration"><fo:inline font-style="italic">Chapter6, <fo:inline font-style="italic">Remote Administration</fo:inline></fo:inline></fo:basic-link><fo:basic-link internal-destination="remote-administration" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="remote-administration"/>]</fo:inline></fo:basic-link> instead.
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          FTP works on a client/server model. The server component is
          called an <fo:inline font-style="italic">FTP daemon</fo:inline>. It continuously
          listens for FTP requests from remote clients. When a request
          is received, it manages the login and sets up the
          connection. For the duration of the session it executes any
          of commands sent by the FTP client.
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Access to an FTP server can be managed in two ways:</fo:block><fo:list-block id="idm45028025784432" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028023075744" space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Anonymous</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028028457888" space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Authenticated</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          In the Anonymous mode, remote clients can access the FTP
          server by using the default user account called
          "anonymous" or "ftp" and sending an
          email address as the password.  In the Authenticated mode a
          user must have an account and a password.  This latter
          choice is very insecure and should not be used except in
          special circumstances.  If you are looking to transfer files
          securely see SFTP in the section on OpenSSH-Server.  User
          access to the FTP server directories and files is dependent
          on the permissions defined for the account used at login. As
          a general rule, the FTP daemon will hide the root directory
          of the FTP server and change it to the FTP Home
          directory. This hides the rest of the file system from
          remote sessions.
          </fo:block><fo:block id="vsftpd-ftp-server-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">vsftpd - FTP Server Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.1.vsftpd - FTP Server Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            vsftpd is an FTP daemon
            available in Ubuntu. It is easy to install, set up, and
            maintain.  To install vsftpd
            you can run the following command:
            </fo:block><fo:block id="idm45028021787424" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install vsftpd</fo:inline>
</fo:block></fo:block><fo:block id="vsftpd-anonymous-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Anonymous FTP Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.2.Anonymous FTP Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                By default vsftpd is <fo:inline font-style="italic">not</fo:inline> configured to allow anonymous download.
                If you wish to enable anonymous download edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/vsftpd.conf</fo:inline> by changing:
                </fo:block><fo:block id="idm45028020419232" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
anonymous_enable=Yes
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                During installation a <fo:inline font-style="italic">ftp</fo:inline> user is created with a home directory 
                of <fo:inline font-size="8.800000000000001pt" font-family="monospace">/srv/ftp</fo:inline>.  This is the default FTP directory.
                </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                If you wish to change this location, to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/srv/files/ftp</fo:inline>
                for example, simply create a directory in another location and 
                change the <fo:inline font-style="italic">ftp</fo:inline> user's home directory:
                </fo:block><fo:block id="idm45028025002048" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo mkdir /srv/files/ftp</fo:inline>
<fo:inline font-weight="bold">sudo usermod -d /srv/files/ftp ftp</fo:inline> 
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                After making the change restart vsftpd:
                </fo:block><fo:block id="idm45028036433824" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo restart vsftpd</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                Finally, copy any files and directories you would like to make available
                through anonymous FTP to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/srv/files/ftp</fo:inline>, or <fo:inline font-size="8.800000000000001pt" font-family="monospace">/srv/ftp</fo:inline> if you wish to 
                use the default.
                </fo:block></fo:block><fo:block id="vsftpd-userauth-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">User Authenticated FTP Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.3.User Authenticated FTP Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                By default vsftpd is configured to authenticate
                system users and allow them to download files.  If you want users to be able to upload files, edit
                <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/vsftpd.conf</fo:inline>:
                </fo:block><fo:block id="idm45028020623616" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
write_enable=YES
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                Now restart vsftpd:
                </fo:block><fo:block id="idm45028020559808" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo restart vsftpd</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                Now when system users login to FTP they will start in their 
                <fo:inline font-style="italic">home</fo:inline> directories where they can download,
                upload, create directories, etc.
                </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                Similarly, by default, anonymous users are not
                allowed to upload files to FTP server. To change
                this setting, you should uncomment the following
                line, and restart vsftpd:
                </fo:block><fo:block id="idm45028028128496" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
anon_upload_enable=YES
</fo:block><fo:block id="idm45028025277744" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/warning.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  Enabling anonymous FTP upload can be an extreme security risk.  It is best to not enable 
                  anonymous upload on servers accessed directly from the Internet.
                  </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                The configuration file consists of many
                configuration parameters. The information about
                each parameter is available in the configuration
                file. Alternatively, you can refer to the man
                page, <fo:inline font-weight="bold">man 5 vsftpd.conf</fo:inline> for
                details of each parameter. 
                </fo:block></fo:block><fo:block id="vsftpd-security"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Securing FTP</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.4.Securing FTP</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> 
                  There are options in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/vsftpd.conf</fo:inline> to
                  help make vsftpd more secure.  For
                  example users can be limited to their home directories by uncommenting:
                  </fo:block><fo:block id="idm45028028363408" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
chroot_local_user=YES
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  You can also limit a specific list of users to just their home directories:
                  </fo:block><fo:block id="idm45028021932992" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
chroot_list_enable=YES
chroot_list_file=/etc/vsftpd.chroot_list
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  After uncommenting the above options, create a <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/vsftpd.chroot_list</fo:inline>
                  containing a list of users one per line.  Then restart vsftpd:
                  </fo:block><fo:block id="idm45028026639728" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo restart vsftpd</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  Also, the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ftpusers</fo:inline> file is a list of users that
                  are <fo:inline font-style="italic">disallowed</fo:inline> FTP access.  The default list 
                  includes root, daemon, nobody, etc.  To disable FTP access for additional
                  users simply add them to the list.
                  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  FTP can also be encrypted using <fo:inline font-style="italic">FTPS</fo:inline>.  Different from <fo:inline font-style="italic">SFTP</fo:inline>,
                  <fo:inline font-style="italic">FTPS</fo:inline> is FTP over Secure Socket Layer (SSL).  <fo:inline font-style="italic">SFTP</fo:inline> is a FTP 
                  like session over an encrypted <fo:inline font-style="italic">SSH</fo:inline> connection.  A major difference is that users
                  of SFTP need to have a <fo:inline font-style="italic">shell</fo:inline> account on the system, instead of a 
                  <fo:inline font-style="italic">nologin</fo:inline> shell.  Providing all users with a shell may not be ideal for some 
                  environments, such as a shared web host. However, it is possible to restrict such accounts to
                  only SFTP and disable shell interaction. See the section on OpenSSH-Server for more.
                  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  To configure <fo:inline font-style="italic">FTPS</fo:inline>, edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/vsftpd.conf</fo:inline> and at the bottom add:
                  </fo:block><fo:block id="idm45028029042736" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
ssl_enable=Yes
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  Also, notice the certificate and key related options:
                  </fo:block><fo:block id="idm45028028911776" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
rsa_cert_file=/etc/ssl/certs/ssl-cert-snakeoil.pem
rsa_private_key_file=/etc/ssl/private/ssl-cert-snakeoil.key
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  By default these options are set to the certificate and key provided by the ssl-cert
                  package.  In a production environment these should be replaced with a certificate and key generated for the specific
                  host.  For more information on certificates see <fo:basic-link internal-destination="certificates-and-security"><fo:inline font-style="italic">Section5, Certificates</fo:inline></fo:basic-link><fo:basic-link internal-destination="certificates-and-security" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="certificates-and-security"/>]</fo:inline></fo:basic-link>.
                  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  Now restart vsftpd, and non-anonymous users will be forced to use 
                  <fo:inline font-style="italic">FTPS</fo:inline>:
                  </fo:block><fo:block id="idm45028026940432" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo restart vsftpd</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  To allow users with a shell of <fo:inline font-size="8.800000000000001pt" font-family="monospace">/usr/sbin/nologin</fo:inline> access to FTP, but have no shell access, 
                  edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/shells</fo:inline> adding the <fo:inline font-style="italic">nologin</fo:inline> shell:
                  </fo:block><fo:block id="idm45028026882832" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
# /etc/shells: valid login shells
/bin/csh
/bin/sh
/usr/bin/es
/usr/bin/ksh
/bin/ksh
/usr/bin/rc
/usr/bin/tcsh
/bin/tcsh
/usr/bin/esh
/bin/dash
/bin/bash
/bin/rbash
/usr/bin/screen
/usr/sbin/nologin
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  This is necessary because, by default vsftpd uses PAM for authentication, and the 
                  <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/pam.d/vsftpd</fo:inline> configuration file contains:
                  </fo:block><fo:block id="idm45028027052272" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
auth    required        pam_shells.so
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  The <fo:inline font-style="italic">shells</fo:inline> PAM module restricts access to shells listed in the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/shells</fo:inline>
                  file.
                  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  Most popular FTP clients can be configured to connect using FTPS.  The lftp command line FTP
                  client has the ability to use FTPS as well.
                  </fo:block></fo:block><fo:block id="vsftpd-references"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">References</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.5.References</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028030238192" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028021317216" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                      See the <fo:basic-link external-destination="http://vsftpd.beasts.org/vsftpd_conf.html" font-style="italic">vsftpd website</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline> <fo:basic-link external-destination="http://vsftpd.beasts.org/vsftpd_conf.html">http://vsftpd.beasts.org/vsftpd_conf.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> for more information.
                      </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028028500176" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                      For detailed <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/vsftpd.conf</fo:inline> options see the 
                      <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/xenial/en/man5/vsftpd.conf.5.html" font-style="italic">vsftpd.conf man page</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/xenial/en/man5/vsftpd.conf.5.html">http://manpages.ubuntu.com/manpages/xenial/en/man5/vsftpd.conf.5.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
                      </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="network-file-system"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Network File System (NFS)</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">2.Network File System (NFS)</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          NFS allows a system to share directories and files with others
          over a network. By using NFS, users and programs can access
          files on remote systems almost as if they were local files.
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Some of the most notable benefits that NFS can provide are:
          </fo:block><fo:list-block id="idm45028028485696" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028030075216" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Local workstations use less disk space because commonly used data
can be stored on a single machine and still remain accessible to others
over the network.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025978544" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">There is no need for users to have separate home directories on
every network machine. Home directories could be set up on the NFS
server and made available throughout the network.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022955568" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Storage devices such as floppy disks, CDROM drives, and USB
Thumb drives can be used by other machines on the network. This may
reduce the number of removable media drives throughout the
network.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block id="nfs-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.1.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          At a terminal prompt enter the following command to install the NFS
          Server:
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
<fo:block id="idm45028027779504" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install nfs-kernel-server</fo:inline>
</fo:block>
          </fo:block></fo:block><fo:block id="nfs-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.2.Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          You can configure the directories to be exported by adding them to
          the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/exports</fo:inline> file. For example:
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
<fo:block id="idm45028028174704" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
/ubuntu  *(ro,sync,no_root_squash)
/home    *(rw,sync,no_root_squash)
</fo:block>
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          You can replace * with one of the hostname formats. Make the
          hostname declaration as specific as possible so unwanted
          systems cannot access the NFS mount.
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          To start the NFS server, you can run the following command at a terminal prompt:
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
<fo:block id="idm45028026974640" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl start nfs-kernel-server.service</fo:inline>
</fo:block>
          </fo:block></fo:block><fo:block id="nfs-client-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">NFS Client Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.3.NFS Client Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Use the mount command to mount a shared NFS directory from
          another machine, by typing a command line similar to the following at a terminal prompt:
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
<fo:block id="idm45028025721376" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo mount example.hostname.com:/ubuntu /local/ubuntu</fo:inline>
</fo:block>
</fo:block><fo:block id="idm45028025098672" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/warning.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      The mount point directory <fo:inline font-size="8.800000000000001pt" font-family="monospace">/local/ubuntu</fo:inline> must
      exist. There should be no files or subdirectories in the
      <fo:inline font-size="8.800000000000001pt" font-family="monospace">/local/ubuntu</fo:inline> directory.
      </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
       An alternate way to mount an NFS share from another machine is to
       add a line to the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/fstab</fo:inline> file. The line must state the
       hostname of the NFS server, the directory on the server being
       exported, and the directory on the local machine where the NFS
       share is to be mounted.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      The general syntax for the line in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/fstab</fo:inline>
      file is as follows:
      </fo:block><fo:block id="idm45028029848544" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
example.hostname.com:/ubuntu /local/ubuntu nfs rsize=8192,wsize=8192,timeo=14,intr
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          If you have trouble mounting an NFS share, make sure the nfs-common package is 
          installed on your client.  To install
          nfs-common enter the following
          command at the terminal
          prompt:
<fo:block id="idm45028025755680" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install nfs-common</fo:inline>
</fo:block>
          </fo:block></fo:block><fo:block id="nfs-references"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">References</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.4.References</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link external-destination="http://nfs.sourceforge.net/" font-style="italic">Linux NFS faq</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline> <fo:basic-link external-destination="http://nfs.sourceforge.net/">http://nfs.sourceforge.net/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                <fo:basic-link external-destination="https://help.ubuntu.com/community/NFSv4Howto" font-style="italic">Ubuntu Wiki NFS Howto</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/NFSv4Howto">https://help.ubuntu.com/community/NFSv4Howto</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
                </fo:block></fo:block></fo:block><fo:block id="iscsi-initiator"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">iSCSI Initiator</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">3.iSCSI Initiator</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      <fo:inline font-style="italic">iSCSI</fo:inline> (Internet Small Computer System Interface) is a protocol that allows SCSI commands to be transmitted over a network.
      Typically iSCSI is implemented in a SAN (Storage Area Network) to allow servers to access a large store of hard drive space.  The iSCSI protocol
      refers to clients as <fo:inline font-style="italic">initiators</fo:inline> and iSCSI servers as <fo:inline font-style="italic">targets</fo:inline>.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Ubuntu Server can be configured as both an iSCSI initiator and a target.  This guide provides commands and configuration options to setup an iSCSI
      initiator.  It is assumed that you already have an iSCSI target on your local network and have the appropriate rights to connect to it.  The 
      instructions for setting up a target vary greatly between hardware providers, so consult your vendor documentation to configure your specific 
      iSCSI target.
      </fo:block><fo:block id="iscsi-initiator-install"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">iSCSI Initiator Install</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.1.iSCSI Initiator Install</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        To configure Ubuntu Server as an iSCSI initiator install the open-iscsi package.  In a terminal enter:
        </fo:block><fo:block id="idm45028030321472" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install open-iscsi</fo:inline>
</fo:block></fo:block><fo:block id="iscsi-initiator-config"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">iSCSI Initiator Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.2.iSCSI Initiator Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Once the open-iscsi package is installed, edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/iscsi/iscsid.conf</fo:inline> changing the following:
        </fo:block><fo:block id="idm45028025540880" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
node.startup = automatic
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        You can check which targets are available by using the iscsiadm utility.  Enter the following in a terminal:
        </fo:block><fo:block id="idm45028025538880" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo iscsiadm -m discovery -t st -p 192.168.0.10</fo:inline>
</fo:block><fo:list-block id="idm45028020500960" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028020500704" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">-m:</fo:inline> determines the mode that iscsiadm executes in.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020499872" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">-t:</fo:inline> specifies the type of discovery.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020498992" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">-p:</fo:inline> option indicates the target IP address.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block id="idm45028020498000" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Change example <fo:inline font-style="italic">192.168.0.10</fo:inline> to the target IP address on your network.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        If the target is available you should see output similar to the following:
        </fo:block><fo:block id="idm45028020496144" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-size="8.800000000000001pt" font-family="monospace">
192.168.0.10:3260,1 iqn.1992-05.com.emc:sl7b92030000520000-2
</fo:inline>
</fo:block><fo:block id="idm45028020494576" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The <fo:inline font-style="italic">iqn</fo:inline> number and IP address above will vary depending on your hardware.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        You should now be able to connect to the iSCSI target, and depending on your target 
        setup you may have to enter user credentials.  Login to the iSCSI node: 
        </fo:block><fo:block id="idm45028022775184" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo iscsiadm -m node --login</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Check to make sure that the new disk has been detected using dmesg:
        </fo:block><fo:block id="idm45028022772352" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">dmesg | grep sd</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">
[    4.322384] sd 2:0:0:0: Attached scsi generic sg1 type 0
[    4.322797] sd 2:0:0:0: [sda] 41943040 512-byte logical blocks: (21.4 GB/20.0 GiB)
[    4.322843] sd 2:0:0:0: [sda] Write Protect is off
[    4.322846] sd 2:0:0:0: [sda] Mode Sense: 03 00 00 00
[    4.322896] sd 2:0:0:0: [sda] Cache data unavailable
[    4.322899] sd 2:0:0:0: [sda] Assuming drive cache: write through
[    4.323230] sd 2:0:0:0: [sda] Cache data unavailable
[    4.323233] sd 2:0:0:0: [sda] Assuming drive cache: write through
[    4.325312]  sda: sda1 sda2 &lt; sda5 &gt;
[    4.325729] sd 2:0:0:0: [sda] Cache data unavailable
[    4.325732] sd 2:0:0:0: [sda] Assuming drive cache: write through
[    4.325735] sd 2:0:0:0: [sda] Attached SCSI disk
[ 2486.941805] sd 4:0:0:3: Attached scsi generic sg3 type 0
[ 2486.952093] sd 4:0:0:3: [sdb] 1126400000 512-byte logical blocks: (576 GB/537 GiB)
[ 2486.954195] sd 4:0:0:3: [sdb] Write Protect is off
[ 2486.954200] sd 4:0:0:3: [sdb] Mode Sense: 8f 00 00 08
[ 2486.954692] sd 4:0:0:3: [sdb] Write cache: disabled, read cache: enabled, doesn't
 support DPO or FUA
[ 2486.960577]  sdb: sdb1
[ 2486.964862] sd 4:0:0:3: [sdb] Attached SCSI disk
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        In the output above <fo:inline font-style="italic">sdb</fo:inline> is the new iSCSI disk.  Remember this is just an example; 
        the output you see on your screen will vary.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Next, create a partition, format the file system, and mount the new iSCSI disk.  In a terminal enter:
        </fo:block><fo:block id="idm45028022767232" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo fdisk /dev/sdb</fo:inline>
<fo:inline font-weight="bold">n</fo:inline>
<fo:inline font-weight="bold">p</fo:inline>
<fo:inline font-weight="bold">enter</fo:inline>
<fo:inline font-weight="bold">w</fo:inline>
</fo:block><fo:block id="idm45028022762432" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The above commands are from inside the fdisk utility; see <fo:inline font-weight="bold">man fdisk</fo:inline> 
          for more detailed instructions.  Also, the cfdisk utility is sometimes more user friendly.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Now format the file system and mount it to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/srv</fo:inline> as an example:
        </fo:block><fo:block id="idm45028019823680" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo mkfs.ext4 /dev/sdb1</fo:inline>
<fo:inline font-weight="bold">sudo mount /dev/sdb1 /srv</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Finally, add an entry to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/fstab</fo:inline> to mount the iSCSI drive during boot:
        </fo:block><fo:block id="idm45028019820016" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
/dev/sdb1       /srv        ext4    defaults,auto,_netdev 0 0
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        It is a good idea to make sure everything is working as expected by rebooting the server.
        </fo:block></fo:block><fo:block id="iscsi-initiator-references"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">References</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.3.References</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        <fo:basic-link external-destination="http://www.open-iscsi.com/" font-style="italic">Open-iSCSI Website</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline> <fo:basic-link external-destination="http://www.open-iscsi.com/">http://www.open-iscsi.com/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        <fo:basic-link external-destination="http://wiki.debian.org/SAN/iSCSI/open-iscsi" font-style="italic">Debian Open-iSCSI page</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline> <fo:basic-link external-destination="http://wiki.debian.org/SAN/iSCSI/open-iscsi">http://wiki.debian.org/SAN/iSCSI/open-iscsi</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
        </fo:block></fo:block></fo:block><fo:block id="cups"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">CUPS - Print Server</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">4.CUPS - Print Server</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            The primary mechanism for Ubuntu printing and print services is the 
			<fo:inline font-weight="bold">Common UNIX Printing System</fo:inline> (CUPS). 
			This printing system is a freely available, portable printing layer 
			which has become the new standard for printing in most Linux 
			distributions.
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          CUPS manages print jobs and queues and provides network printing using 
		  the standard Internet Printing Protocol (IPP), while offering support 
		  for a very large range of printers, from dot-matrix to laser and many 
		  in between.  CUPS also supports PostScript Printer Description (PPD) and 
		  auto-detection of network printers, and features a simple web-based 
		  configuration and administration tool. 
          </fo:block><fo:block id="cups-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.1.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            To install CUPS on your Ubuntu computer, simply use sudo with the apt command and give the packages to install as the first parameter. A complete CUPS install has many package dependencies, but they may all be specified on the same command line.  Enter the following at a terminal prompt to install CUPS:
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
<fo:block id="idm45028019807232" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install cups</fo:inline>
</fo:block>
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Upon authenticating with your user password, the packages should be downloaded
		  and installed without error. Upon the conclusion of installation, the CUPS server 
		  will be started automatically. 
 	  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          For troubleshooting purposes, you can access CUPS 
		  server errors via the error log file at: <fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/log/cups/error_log</fo:inline>.
		  If the error log does not show enough information to troubleshoot any problems you
		  encounter, the verbosity of the CUPS log can be increased by changing the <fo:inline font-weight="bold">LogLevel</fo:inline> directive in the configuration file (discussed below)
		  to "debug" or even "debug2", which logs everything, from the default of "info".  If 
		  you make this change, remember to change it back once you've solved your problem, to 
		  prevent the log file from becoming overly large.
          </fo:block></fo:block><fo:block id="cups-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.2.Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            The Common UNIX Printing System server's behavior is configured through the 
			directives contained in the file <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/cups/cupsd.conf</fo:inline>.  
			The CUPS configuration file follows the same syntax as the primary configuration 
			file for the Apache HTTP server, so users familiar with editing Apache's 
			configuration file should feel at ease when editing the CUPS configuration 
			file. Some examples of settings you may wish to change initially will be 
			presented here.
          </fo:block><fo:block id="idm45028019799152" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/tip.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Prior to editing the configuration file, you should make a copy of 
			   the original file and protect it from writing, so you will have the original 
			   settings as a reference, and to reuse as necessary.
               </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Copy the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/cups/cupsd.conf</fo:inline> file and protect it 
			   from writing with the following commands, issued at a terminal prompt:
               </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
<fo:block id="idm45028019796416" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo cp /etc/cups/cupsd.conf /etc/cups/cupsd.conf.original</fo:inline>
<fo:inline font-weight="bold">sudo chmod a-w /etc/cups/cupsd.conf.original</fo:inline>
</fo:block>
               </fo:block><fo:list-block id="idm45028019793920" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028019793632" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                <fo:inline font-weight="bold">ServerAdmin</fo:inline>: To configure the email 
				address of the designated administrator of the CUPS server, simply 
				edit the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/cups/cupsd.conf</fo:inline> configuration file 
				with your preferred text editor, and add or modify the <fo:inline font-style="italic">ServerAdmin</fo:inline> line accordingly.  For example, 
				if you are the Administrator for the CUPS server, and your e-mail 
				address is 'bjoy@somebigco.com', then you would modify the ServerAdmin 
				line to appear as such:
                </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
<fo:block id="idm45028019790096" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
ServerAdmin bjoy@somebigco.com
</fo:block>
                </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019788960" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                <fo:inline font-weight="bold">Listen</fo:inline>: By default on Ubuntu, the CUPS 
				server installation listens only on the loopback interface at IP address 
				<fo:inline font-style="italic">127.0.0.1</fo:inline>. In order to instruct the 
				CUPS server to listen on an actual network adapter's IP address, you must 
				specify either a hostname, the IP address, or optionally, an IP 
				address/port pairing via the addition of a Listen directive.  For example, 
				if your CUPS server resides on a local network at the IP address <fo:inline font-style="italic">192.168.10.250</fo:inline> and you'd like to make it 
				accessible to the other systems on this subnetwork, you would edit the 
				<fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/cups/cupsd.conf</fo:inline> and add a Listen 
				directive, as such:
                </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
<fo:block id="idm45028019784784" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
Listen 127.0.0.1:631           # existing loopback Listen
Listen /var/run/cups/cups.sock # existing socket Listen
Listen 192.168.10.250:631      # Listen on the LAN interface, Port 631 (IPP)
</fo:block>
                </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                In the example above, you may comment out or remove the reference to the 
				Loopback address (127.0.0.1) if you do not wish cupsd
				 to listen on that interface, but would rather have it only 
				listen on the Ethernet interfaces of the Local Area Network (LAN). To enable 
				listening for all network interfaces for which a certain hostname is bound, 
				including the Loopback, you could create a Listen entry for the hostname 
				<fo:inline font-style="italic">socrates</fo:inline> as such:
                </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
<fo:block id="idm45028019781232" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
Listen socrates:631  # Listen on all interfaces for the hostname 'socrates'
</fo:block>
                </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">or by omitting the Listen directive and using <fo:inline font-style="italic">Port</fo:inline> instead, as in:</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
<fo:block id="idm45028019779152" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
Port 631  # Listen on port 631 on all interfaces
</fo:block>
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                For more examples of configuration directives in the CUPS server 
				configuration file, view the associated system manual page by entering the 
				following command at a terminal prompt:
               </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
<fo:block id="idm45028019776960" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">man cupsd.conf</fo:inline>
</fo:block>
               </fo:block><fo:block id="idm45028019775184" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                Whenever you make changes to the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/cups/cupsd.conf</fo:inline> configuration file, you'll need to restart the CUPS server by typing the following command at a terminal prompt:
                </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
<fo:block id="idm45028019773120" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart cups.service</fo:inline>
</fo:block>
                </fo:block></fo:block><fo:block id="cups-web"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Web Interface</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.3.Web Interface</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="idm45028019769872" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/tip.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    CUPS can be configured and monitored using a web interface, which by default is available at <fo:basic-link external-destination="http://localhost:631/admin" font-style="italic"><fo:inline hyphenate="false">http://localhost:631/admin</fo:inline></fo:basic-link>.  The web interface can be used to perform all printer management tasks.
	    </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  In order to perform administrative tasks via the web interface, you must either have the root account enabled on your server, or authenticate as a user in the <fo:inline font-style="italic">lpadmin</fo:inline> group.  For security reasons, CUPS won't authenticate a user that doesn't have a password.
	  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  To add a user to the <fo:inline font-style="italic">lpadmin</fo:inline> group, run at the terminal prompt:
<fo:block id="idm45028019765744" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo usermod -aG lpadmin username</fo:inline>
</fo:block>
	  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    Further documentation is available in the <fo:inline font-style="italic">Documentation/Help</fo:inline> tab of the web interface.
	  </fo:block></fo:block><fo:block id="cups-references"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">References</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.4.References</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        <fo:basic-link external-destination="http://www.cups.org/" font-style="italic">CUPS Website</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">7</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">7</fo:inline> <fo:basic-link external-destination="http://www.cups.org/">http://www.cups.org/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        <fo:basic-link external-destination="http://wiki.debian.org/SAN/iSCSI/open-iscsi" font-style="italic">Debian Open-iSCSI page</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">8</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">8</fo:inline> <fo:basic-link external-destination="http://wiki.debian.org/SAN/iSCSI/open-iscsi">http://wiki.debian.org/SAN/iSCSI/open-iscsi</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
        </fo:block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Email Services</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Email Services</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-inner-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block id="email-services"><fo:block font-family="serif,Symbol"><fo:block margin-left="0pc"><fo:block font-size="24.8832pt" font-weight="bold"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0pc" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">Chapter15.Email Services</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            The process of getting an email from one person to another over a network or
			the Internet involves many systems working together.  Each of these systems
			must be correctly configured for the process to work.  The sender uses a <fo:inline font-style="italic">Mail
			User Agent</fo:inline> (MUA), or email client, to send the message through one or more
			<fo:inline font-style="italic">Mail Transfer Agents</fo:inline> (MTA), the last of which will hand it off to a 				<fo:inline font-style="italic">Mail Delivery Agent</fo:inline> (MDA) for delivery to the 
			recipient's mailbox, from which it
			will be retrieved by the recipient's email client, usually via a POP3 or IMAP server.
          </fo:block><fo:block id="postfix"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Postfix</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">1.Postfix</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Postfix is the default Mail Transfer Agent (MTA) in Ubuntu. It
            attempts to be fast and easy to administer and secure. It is
            compatible with the MTA sendmail. This section explains how
            to install and configure postfix. It also explains how to
            set it up as an SMTP server using a secure connection (for sending emails securely).
          </fo:block><fo:block id="idm45028021855728" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            This guide does not cover setting up Postfix <fo:inline font-style="italic">Virtual Domains</fo:inline>, for information
            on Virtual Domains and other advanced configurations see <fo:basic-link internal-destination="postfix-references"><fo:inline font-style="italic">Section1.7.4, References</fo:inline></fo:basic-link><fo:basic-link internal-destination="postfix-references" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="postfix-references"/>]</fo:inline></fo:basic-link>.
            </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="postfix-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.1.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            To install postfix run the following command:
	    </fo:block><fo:block id="idm45028025988544" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install postfix</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    Simply press return when the installation process asks questions, the configuration will be done in greater detail in the next stage.
            </fo:block></fo:block><fo:block id="postfix-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Basic Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.2.Basic Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            To configure postfix, run the following command:
	    </fo:block><fo:block id="idm45028027354160" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo dpkg-reconfigure postfix</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            The user interface will be displayed. On each screen, select the following
            values:
            <fo:list-block id="idm45028029256448" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028027774800" space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Internet Site</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029072592" space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">mail.example.com</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020622416" space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">steve</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028028010832" space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">mail.example.com, localhost.localdomain, localhost</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030206640" space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">No</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025736080" space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">127.0.0.0/8 [::ffff:127.0.0.0]/104 [::1]/128 192.168.0.0/24</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028028357696" space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">0</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028027363248" space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">+</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023095776" space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">all</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block>
            </fo:block><fo:block id="idm45028025384352" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Replace mail.example.com with the domain for which you'll accept email, 192.168.0.0/24 with the actual network and class 
	    range of your mail server, and steve with the appropriate username.
            </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Now is a good time to decide which mailbox format you want to use.  By default 
            Postfix will use  <fo:inline font-weight="bold">mbox</fo:inline> for the mailbox format.
            Rather than editing the configuration file directly, 
	    you can use the <fo:inline font-weight="bold">postconf</fo:inline> command to configure
            all postfix parameters.  The
            configuration parameters will be stored in
            <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/postfix/main.cf</fo:inline> file. Later if you
            wish to re-configure a particular parameter, you can either
            run the command or change it manually in the file.
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            To configure the mailbox format for <fo:inline font-weight="bold">Maildir:</fo:inline>
            </fo:block><fo:block id="idm45028027451776" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo postconf -e 'home_mailbox = Maildir/'</fo:inline>
</fo:block><fo:block id="idm45028025822880" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            This will place new mail in /home/<fo:inline font-style="italic">username</fo:inline>/Maildir so 
            you will need to configure your Mail Delivery Agent (MDA) to use the same path.
            </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="postfix-smtp-authentication"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">SMTP Authentication</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.3.SMTP Authentication</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    SMTP-AUTH allows a client to identify itself through an authentication mechanism (SASL).
	    Transport Layer Security (TLS) should be used to encrypt the authentication process.
	    Once authenticated the SMTP server will allow the client to relay mail.  
            </fo:block><fo:block id="idm45028027821664" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:list-block provisional-distance-between-starts="2em" provisional-label-separation="0.2em" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em"><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028030013856">1.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                 Configure Postfix for SMTP-AUTH using SASL (Dovecot SASL):
		 </fo:block><fo:block id="idm45028029852176" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
sudo postconf -e 'smtpd_sasl_type = dovecot'
sudo postconf -e 'smtpd_sasl_path = private/auth'
sudo postconf -e 'smtpd_sasl_local_domain ='
sudo postconf -e 'smtpd_sasl_security_options = noanonymous'
sudo postconf -e 'broken_sasl_auth_clients = yes'
sudo postconf -e 'smtpd_sasl_auth_enable = yes'
sudo postconf -e 'smtpd_recipient_restrictions = \
permit_sasl_authenticated,permit_mynetworks,reject_unauth_destination'
</fo:block><fo:block id="idm45028028357088" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		The <fo:inline font-style="italic">smtpd_sasl_path</fo:inline> configuration is a path relative to the Postfix queue directory.
	        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028021775968">2.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                Next, generate or obtain a digital certificate for TLS. See <fo:basic-link internal-destination="certificates-and-security"><fo:inline font-style="italic">Section5, Certificates</fo:inline></fo:basic-link><fo:basic-link internal-destination="certificates-and-security" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="certificates-and-security"/>]</fo:inline></fo:basic-link> for details.
                This example also uses a Certificate Authority (CA).  For information on generating a CA certificate see
                <fo:basic-link internal-destination="certificate-authority"><fo:inline font-style="italic">Section5.5, Certification Authority</fo:inline></fo:basic-link><fo:basic-link internal-destination="certificate-authority" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="certificate-authority"/>]</fo:inline></fo:basic-link>.
	        </fo:block><fo:block id="idm45028022786000" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                MUAs connecting to your mail server via TLS will need to recognize the certificate used for TLS.  This can either
                be done using a certificate from a commercial CA or with a self-signed certificate that users manually install/accept.  
                For MTA to MTA TLS certficates are never validated without advance agreement from the affected organizations.  For MTA
                to MTA TLS, unless local policy requires it, there is no reason not to use a self-signed certificate.  Refer to 
		<fo:basic-link internal-destination="creating-a-self-signed-certificate"><fo:inline font-style="italic">Section5.3, Creating a Self-Signed Certificate</fo:inline></fo:basic-link><fo:basic-link internal-destination="creating-a-self-signed-certificate" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="creating-a-self-signed-certificate"/>]</fo:inline></fo:basic-link> for more details.
                </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028024177824">3.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                Once you have a certificate, configure Postfix to provide TLS encryption for both incoming and outgoing mail:
                </fo:block><fo:block id="idm45028028767200" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
sudo postconf -e 'smtp_tls_security_level = may'
sudo postconf -e 'smtpd_tls_security_level = may'
sudo postconf -e 'smtp_tls_note_starttls_offer = yes'
sudo postconf -e 'smtpd_tls_key_file = /etc/ssl/private/server.key'
sudo postconf -e 'smtpd_tls_cert_file = /etc/ssl/certs/server.crt'
sudo postconf -e 'smtpd_tls_loglevel = 1'
sudo postconf -e 'smtpd_tls_received_header = yes'
sudo postconf -e 'myhostname = mail.example.com'
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028026846832">4.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  If you are using your own <fo:inline font-style="italic">Certificate Authority</fo:inline> to sign the certificate enter:
                  </fo:block><fo:block id="idm45028024040272" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo postconf -e 'smtpd_tls_CAfile = /etc/ssl/certs/cacert.pem'</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                  Again, for more details about certificates see <fo:basic-link internal-destination="certificates-and-security"><fo:inline font-style="italic">Section5, Certificates</fo:inline></fo:basic-link><fo:basic-link internal-destination="certificates-and-security" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="certificates-and-security"/>]</fo:inline></fo:basic-link>.
                  </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="idm45028028121168" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            After running all the commands, Postfix is configured for SMTP-AUTH 
	    and a self-signed certificate has been created for TLS encryption.
            </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Now, the file <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/postfix/main.cf</fo:inline> should look like this:
	    </fo:block><fo:block id="idm45028027750256" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
# See /usr/share/postfix/main.cf.dist for a commented, more complete
# version

smtpd_banner = $myhostname ESMTP $mail_name (Ubuntu)
biff = no

# appending .domain is the MUA's job.
append_dot_mydomain = no

# Uncomment the next line to generate "delayed mail" warnings
#delay_warning_time = 4h

myhostname = server1.example.com
alias_maps = hash:/etc/aliases
alias_database = hash:/etc/aliases
myorigin = /etc/mailname
mydestination = server1.example.com, localhost.example.com, localhost
relayhost =
mynetworks = 127.0.0.0/8
mailbox_command = procmail -a "$EXTENSION"
mailbox_size_limit = 0
recipient_delimiter = +
inet_interfaces = all
smtpd_sasl_local_domain =
smtpd_sasl_auth_enable = yes
smtpd_sasl_security_options = noanonymous
broken_sasl_auth_clients = yes
smtpd_recipient_restrictions =
permit_sasl_authenticated,permit_mynetworks,reject _unauth_destination
smtpd_tls_auth_only = no
smtp_tls_security_level = may
smtpd_tls_security_level = may
smtp_tls_note_starttls_offer = yes
smtpd_tls_key_file = /etc/ssl/private/smtpd.key
smtpd_tls_cert_file = /etc/ssl/certs/smtpd.crt
smtpd_tls_CAfile = /etc/ssl/certs/cacert.pem
smtpd_tls_loglevel = 1
smtpd_tls_received_header = yes
smtpd_tls_session_cache_timeout = 3600s
tls_random_source = dev:/dev/urandom
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            The postfix initial configuration is complete. Run
            the following command to restart the postfix daemon:
	    </fo:block><fo:block id="idm45028027910768" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart postfix.service</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Postfix supports SMTP-AUTH as defined in
            <fo:basic-link external-destination="http://www.ietf.org/rfc/rfc2554.txt" font-style="italic">RFC2554</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline> <fo:basic-link external-destination="http://www.ietf.org/rfc/rfc2554.txt">http://www.ietf.org/rfc/rfc2554.txt</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
            It is based on <fo:basic-link external-destination="http://www.ietf.org/rfc/rfc2222.txt" font-style="italic">SASL</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline> <fo:basic-link external-destination="http://www.ietf.org/rfc/rfc2222.txt">http://www.ietf.org/rfc/rfc2222.txt</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>. However it is still necessary 
	    to set up SASL authentication before you can use SMTP-AUTH.
            </fo:block></fo:block><fo:block id="postfix-sasl"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuring SASL</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.4.Configuring SASL</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">	              
	    Postfix supports two SASL implementations Cyrus SASL and Dovecot SASL.  To enable Dovecot SASL 	    
	    the dovecot-core package will need to be installed.  From a terminal prompt
	    enter the following:
	    </fo:block><fo:block id="idm45028025115328" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install dovecot-core</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
 	    Next you will need to edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/dovecot/conf.d/10-master.conf</fo:inline>.  Change the following:
	    </fo:block><fo:block id="idm45028031504448" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
service auth {
  # auth_socket_path points to this userdb socket by default. It's typically
  # used by dovecot-lda, doveadm, possibly imap process, etc. Its default
  # permissions make it readable only by root, but you may need to relax these
  # permissions. Users that have access to this socket are able to get a list
  # of all usernames and get results of everyone's userdb lookups.
  unix_listener auth-userdb {
    #mode = 0600
    #user = 
    #group = 
  }

  # Postfix smtp-auth
  unix_listener /var/spool/postfix/private/auth {
    mode = 0660
    user = postfix
    group = postfix
  }
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            In order to let Outlook clients use SMTP-AUTH, in the <fo:inline font-style="italic">authentication mechanisms</fo:inline> 
            section of /etc/dovecot/conf.d/10-auth.conf change this line:
            </fo:block><fo:block id="idm45028025449664" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
auth_mechanisms = plain
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
           To this:
           </fo:block><fo:block id="idm45028025448384" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
auth_mechanisms = plain login
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    Once you have Dovecot configured restart it with:
	    </fo:block><fo:block id="idm45028021832768" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart dovecot.service</fo:inline>
</fo:block></fo:block><fo:block id="mail-stack-delivery"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Mail-Stack Delivery</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.5.Mail-Stack Delivery</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Another option for configuring Postfix for SMTP-AUTH is using the 
            mail-stack-delivery package (previously packaged as dovecot-postfix).  
            This package will install 
            Dovecot and configure Postfix to use it
            for both SASL authentication and as a Mail Delivery Agent (MDA).  The package also configures 
            Dovecot for IMAP, IMAPS, POP3, and POP3S.
            </fo:block><fo:block id="idm45028027196464" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              You may or may not want to run IMAP, IMAPS, POP3, or POP3S on your mail server.  For example, 
              if you are configuring your server to be a mail gateway, spam/virus filter, etc.  If this is 
              the case it may be easier to use the above commands to configure Postfix for SMTP-AUTH.
              </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            To install the package, from a terminal prompt enter:
            </fo:block><fo:block id="idm45028022849936" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install mail-stack-delivery</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            You should now have a working mail server, but there are a few options that you may wish to further customize.  For example, the
            package uses the certificate and key from the ssl-cert package, and in a production environment you should
            use a certificate and key generated for the host.  See <fo:basic-link internal-destination="certificates-and-security"><fo:inline font-style="italic">Section5, Certificates</fo:inline></fo:basic-link><fo:basic-link internal-destination="certificates-and-security" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="certificates-and-security"/>]</fo:inline></fo:basic-link> for more details.
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Once you have a customized certificate and key for the host, change the following options in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/postfix/main.cf</fo:inline>:
            </fo:block><fo:block id="idm45028021775536" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
smtpd_tls_cert_file = /etc/ssl/certs/ssl-mail.pem
smtpd_tls_key_file = /etc/ssl/private/ssl-mail.key
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Then restart Postfix:
            </fo:block><fo:block id="idm45028026883424" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart postfix.service</fo:inline>
</fo:block></fo:block><fo:block id="postfix-testing"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Testing</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.6.Testing</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            SMTP-AUTH configuration is complete. Now it is time to test the setup. 
	    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            To see if SMTP-AUTH and TLS work properly, run the following
            command:
            </fo:block><fo:block id="idm45028030812880" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">telnet mail.example.com 25</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            After you have established the connection to the postfix mail
            server, type:
            </fo:block><fo:block id="idm45028022986272" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
ehlo mail.example.com
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          If you see the following lines among others, then everything
          is working perfectly. Type <fo:inline font-weight="bold">quit</fo:inline> to exit.
          </fo:block><fo:block id="idm45028028917856" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
250-STARTTLS
250-AUTH LOGIN PLAIN
250-AUTH=LOGIN PLAIN
250 8BITMIME
</fo:block></fo:block><fo:block id="postfix-troubleshooting"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Troubleshooting</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.7.Troubleshooting</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    This section introduces some common ways to determine the cause if problems arise.
	    </fo:block><fo:block id="postfix-chroot"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.7.1.Escaping chroot</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
 	    The Ubuntu postfix package will by default install into a <fo:inline font-style="italic">chroot</fo:inline> 
	    environment for security reasons.  This can add greater complexity when troubleshooting problems.
	    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          To turn off the chroot operation locate for the following line in the
          <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/postfix/master.cf</fo:inline> configuration file:
          </fo:block><fo:block id="idm45028021274400" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
smtp      inet  n       -       -       -       -       smtpd
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  and modify it as follows:
          </fo:block><fo:block id="idm45028023154256" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
smtp      inet  n       -       n       -       -       smtpd
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  You will then need to restart Postfix to use the new configuration.  From a terminal prompt enter:
          </fo:block><fo:block id="idm45028022753456" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart postfix.service</fo:inline>
</fo:block></fo:block><fo:block id="postfix-smtps"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.7.2.Smtps</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    If you need smtps, edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/postfix/master.cf</fo:inline> and uncomment the following line:
	  </fo:block><fo:block id="idm45028020564208" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
smtps     inet  n       -       -       -       -       smtpd
  -o smtpd_tls_wrappermode=yes
  -o smtpd_sasl_auth_enable=yes
  -o smtpd_client_restrictions=permit_sasl_authenticated,reject
  -o milter_macro_daemon_name=ORIGINATING
	  </fo:block></fo:block><fo:block id="postfix-logs"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.7.3.Log Files</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  Postfix sends all log messages to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/log/mail.log</fo:inline>.
	  However error and warning messages can sometimes get lost in the normal log output so they are also logged to
          <fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/log/mail.err</fo:inline> and <fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/log/mail.warn</fo:inline> respectively.
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
 	  To see messages entered into the logs in real time you can use the tail -f
	  command:
	  </fo:block><fo:block id="idm45028023148496" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">tail -f /var/log/mail.err</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	The amount of detail that is recorded in the logs can be increased.  Below are some configuration options for increasing the log level
	for some of the areas covered above.
	</fo:block><fo:list-block id="idm45028023146272" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028023145712" space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    To increase <fo:inline font-style="italic">TLS</fo:inline> activity logging set the <fo:inline font-style="italic">smtpd_tls_loglevel</fo:inline> option to a value from 1 to 4.
 	    </fo:block><fo:block id="idm45028023144048" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo postconf -e 'smtpd_tls_loglevel = 4'</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020208352" space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    If you are having trouble sending or receiving mail from a specific domain you can add the domain to the <fo:inline font-style="italic">debug_peer_list</fo:inline>
	    parameter.
 	    </fo:block><fo:block id="idm45028020207072" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo postconf -e 'debug_peer_list = problem.domain'</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020205344" space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    You can increase the verbosity of any Postfix daemon process by editing the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/postfix/master.cf</fo:inline>
	    and adding a <fo:inline font-style="italic">-v</fo:inline> after the entry.  For example edit the <fo:inline font-style="italic">smtp</fo:inline> entry:
 	    </fo:block><fo:block id="idm45028020202160" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
smtp      unix  -       -       -       -       -       smtp -v
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block id="idm45028020201072" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  It is important to note that after making one of the logging changes above the Postfix process will need to be reloaded
	  in order to recognize the new configuration: <fo:inline font-weight="bold">sudo systemctl reload postfix.service</fo:inline>
	  </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:list-block id="idm45028020198624" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028020198064" space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
   	    To increase the amount of information logged when troubleshooting <fo:inline font-style="italic">SASL</fo:inline> issues you can set the following options in 
	    <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/dovecot/conf.d/10-logging.conf</fo:inline>
	    </fo:block><fo:block id="idm45028020196128" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
auth_debug=yes
auth_debug_passwords=yes
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block id="idm45028020195040" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  Just like Postfix if you change a Dovecot configuration the process will need to be
	  reloaded: <fo:inline font-weight="bold">sudo systemctl reload dovecot.service</fo:inline>.
	  </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="idm45028020187424" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Some of the options above can drastically increase the amount of information sent to the log files.  Remember to return the log level 
	  back to normal after you have corrected the problem.  Then reload the appropriate daemon for the new configuration to take affect.
	  </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="postfix-references"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.7.4.References</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  Administering a Postfix server can be a very complicated task.  At some point you may
	  need to turn to the Ubuntu community for more experienced help.
	  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  A great place to ask for Postfix assistance, and get involved with the Ubuntu Server community,
	  is the <fo:inline font-style="italic">#ubuntu-server</fo:inline>  IRC channel on  <fo:basic-link external-destination="http://freenode.net" font-style="italic">freenode</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline> <fo:basic-link external-destination="http://freenode.net">http://freenode.net</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.  You 
	  can also post a message to one of the <fo:basic-link external-destination="http://www.ubuntu.com/support/community/webforums" font-style="italic">Web Forums</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline> <fo:basic-link external-destination="http://www.ubuntu.com/support/community/webforums">http://www.ubuntu.com/support/community/webforums</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  For in depth Postfix information Ubuntu developers highly recommend:
	  <fo:basic-link external-destination="http://www.postfix-book.com/" font-style="italic">The Book of Postfix</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline> <fo:basic-link external-destination="http://www.postfix-book.com/">http://www.postfix-book.com/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
	  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  Finally, the <fo:basic-link external-destination="http://www.postfix.org/documentation.html" font-style="italic">Postfix</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline> <fo:basic-link external-destination="http://www.postfix.org/documentation.html">http://www.postfix.org/documentation.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> website also has great documentation on all
	  the different configuration options available.
	  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Also, the <fo:basic-link external-destination="https://help.ubuntu.com/community/Postfix" font-style="italic">Ubuntu Wiki Postfix</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">7</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">7</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/Postfix">https://help.ubuntu.com/community/Postfix</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> page has more information.
      </fo:block></fo:block></fo:block></fo:block><fo:block id="exim4"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Exim4</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">2.Exim4</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Exim4 is another Message Transfer
            Agent (MTA) developed at the University of Cambridge for use
            on Unix systems connected to the Internet. Exim can be
            installed in place of sendmail,
            although the configuration of
            exim is quite different to
            that of sendmail.
          </fo:block><fo:block id="exim4-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.1.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            To install exim4, run the following command:
<fo:block id="idm45028020068944" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install exim4</fo:inline>
</fo:block>
            </fo:block></fo:block><fo:block id="exim4-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.2.Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            To configure Exim4, run the following command:
	    </fo:block><fo:block id="idm45028020064432" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo dpkg-reconfigure exim4-config</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            The user interface will be displayed. The user interface
            lets you configure many parameters. For example, In
            Exim4 the configuration files are
            split among multiple files. If you wish to have them in one
            file you can configure accordingly in this user interface.
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            All the parameters you configure in the user interface are
            stored in
            <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/exim4/update-exim4.conf.conf</fo:inline> file.
            If you wish to re-configure, either you re-run the
            configuration wizard or manually edit this file
            using your favorite editor. Once you configure, you can run
            the following command to generate the master configuration
            file:
	    </fo:block><fo:block id="idm45028020059616" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo update-exim4.conf</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            The master configuration file, is generated and
            it is stored in
            <fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/lib/exim4/config.autogenerated</fo:inline>. 
            </fo:block><fo:block id="idm45028020056672" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/warning.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            At any time, you should not edit the master configuration
            file,
            <fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/lib/exim4/config.autogenerated</fo:inline>
            manually. It is updated automatically every time you run
            <fo:inline font-weight="bold">update-exim4.conf</fo:inline>
            </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            You can run the following command to start
            Exim4 daemon.
	    </fo:block><fo:block id="idm45028020052896" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl start exim4.service</fo:inline>
</fo:block></fo:block><fo:block id="exim4-smtp-auth"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">SMTP Authentication</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.3.SMTP Authentication</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  This section covers configuring Exim4 to use SMTP-AUTH with TLS and SASL.
	  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The first step is to create a certificate for use with TLS. Enter the following into a terminal prompt: 
	  </fo:block><fo:block id="idm45028020048848" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo /usr/share/doc/exim4-base/examples/exim-gencert</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  Now Exim4 needs to be configured for TLS by editing <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/exim4/conf.d/main/03_exim4-config_tlsoptions</fo:inline>
	   add the following:
	  </fo:block><fo:block id="idm45028020046080" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
MAIN_TLS_ENABLE = yes
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	   Next you need to configure Exim4 to use the saslauthd
	   for authentication. Edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/exim4/conf.d/auth/30_exim4-config_examples</fo:inline> and uncomment
           the <fo:inline font-style="italic">plain_saslauthd_server</fo:inline> and <fo:inline font-style="italic">login_saslauthd_server</fo:inline> sections:
	  </fo:block><fo:block id="idm45028020041520" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
 plain_saslauthd_server:
   driver = plaintext
   public_name = PLAIN
   server_condition = ${if saslauthd{{$auth2}{$auth3}}{1}{0}}
   server_set_id = $auth2
   server_prompts = :
   .ifndef AUTH_SERVER_ALLOW_NOTLS_PASSWORDS
   server_advertise_condition = ${if eq{$tls_cipher}{}{}{*}}
   .endif
#
 login_saslauthd_server:
   driver = plaintext
   public_name = LOGIN
   server_prompts = "Username:: : Password::"
   # don't send system passwords over unencrypted connections
   server_condition = ${if saslauthd{{$auth1}{$auth2}}{1}{0}}
   server_set_id = $auth1
   .ifndef AUTH_SERVER_ALLOW_NOTLS_PASSWORDS
   server_advertise_condition = ${if eq{$tls_cipher}{}{}{*}}
   .endif
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Additionally, in order for outside mail client to be able to connect to new exim server, new user needs to be added into exim by using the following commands.
          </fo:block><fo:block id="idm45028020039440" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo /usr/share/doc/exim4-base/examples/exim-adduser</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Users should protect the new exim password files with the following commands.</fo:block><fo:block id="idm45028020037456" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo chown root:Debian-exim /etc/exim4/passwd</fo:inline>
<fo:inline font-weight="bold">sudo chmod 640 /etc/exim4/passwd</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  Finally, update the Exim4 configuration and restart the service:
	  </fo:block><fo:block id="idm45028020034656" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo update-exim4.conf</fo:inline>
<fo:inline font-weight="bold">sudo systemctl restart exim4.service</fo:inline>
</fo:block></fo:block><fo:block id="exim4-sasl"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuring SASL</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.4.Configuring SASL</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  This section provides details on configuring the saslauthd to provide authentication for Exim4.
	  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
  	  The first step is to install the sasl2-bin package.  From a terminal prompt enter the following:
	  </fo:block><fo:block id="idm45028020028896" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install sasl2-bin</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  To configure saslauthd edit the /etc/default/saslauthd configuration file and set START=no to:
	  </fo:block><fo:block id="idm45028020026752" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
START=yes
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  Next the <fo:inline font-style="italic">Debian-exim</fo:inline> user needs to be part of the <fo:inline font-style="italic">sasl</fo:inline> group in
          order for Exim4 to use the saslauthd service:
	  </fo:block><fo:block id="idm45028020024624" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo adduser Debian-exim sasl</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  Now start the saslauthd service:
	  </fo:block><fo:block id="idm45028020021760" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl start saslauthd.service</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  Exim4 is now configured with SMTP-AUTH using TLS and SASL authentication.
	  </fo:block></fo:block><fo:block id="exim4-references"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">References</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.5.References</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028020017456" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028020017168" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              See <fo:basic-link external-destination="http://www.exim.org/" font-style="italic">exim.org</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">8</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">8</fo:inline> <fo:basic-link external-destination="http://www.exim.org/">http://www.exim.org/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> for more information.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020015536" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              There is also an <fo:basic-link external-destination="http://www.uit.co.uk/content/exim-smtp-mail-server" font-style="italic">Exim4 Book</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">9</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">9</fo:inline> <fo:basic-link external-destination="http://www.uit.co.uk/content/exim-smtp-mail-server">http://www.uit.co.uk/content/exim-smtp-mail-server</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> available.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020013920" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Another resource is the <fo:basic-link external-destination="https://help.ubuntu.com/community/Exim4" font-style="italic">Exim4 Ubuntu Wiki </fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">10</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">10</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/Exim4">https://help.ubuntu.com/community/Exim4</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> page.
              </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="dovecot-server"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Dovecot Server</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">3.Dovecot Server</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Dovecot is a Mail Delivery Agent, written with security
          primarily in mind. It supports the major mailbox formats: mbox
          or Maildir. This section explain how to set it up as an imap or
          pop3 server.
          </fo:block><fo:block id="dovecot-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.1.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            To install dovecot, run the following command in the
            command prompt:
	    </fo:block><fo:block id="idm45028020006480" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install dovecot-imapd dovecot-pop3d</fo:inline>
</fo:block></fo:block><fo:block id="dovecot-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.2.Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            To configure dovecot, you can edit the file
            <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/dovecot/dovecot.conf</fo:inline>. You can
            choose the protocol you use. It could be pop3, pop3s (pop3
            secure), imap and imaps (imap secure). A description of these protocols is beyond the scope of this guide. For further information, refer to the Wikipedia articles on <fo:basic-link external-destination="http://en.wikipedia.org/wiki/POP3" font-style="italic">POP3</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">11</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">11</fo:inline> <fo:basic-link external-destination="http://en.wikipedia.org/wiki/POP3">http://en.wikipedia.org/wiki/POP3</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> and
            <fo:basic-link external-destination="http://en.wikipedia.org/wiki/Internet_Message_Access_Protocol" font-style="italic">IMAP</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">12</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">12</fo:inline> <fo:basic-link external-destination="http://en.wikipedia.org/wiki/Internet_Message_Access_Protocol">http://en.wikipedia.org/wiki/Internet_Message_Access_Protocol</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            IMAPS and POP3S are more secure that the simple IMAP and
            POP3 because they use SSL encryption to connect. Once you
            have chosen the protocol, amend the following line in the file
            <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/dovecot/dovecot.conf</fo:inline>:
	    </fo:block><fo:block id="idm45028019998208" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
protocols = pop3 pop3s imap imaps
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Next, choose the mailbox you would like to use. Dovecot supports
            <fo:inline font-weight="bold">maildir</fo:inline> and <fo:inline font-weight="bold">mbox</fo:inline> formats. These are the most
            commonly used mailbox formats. They both have their own
            benefits and are discussed on <fo:basic-link external-destination="http://wiki2.dovecot.org/MailboxFormat" font-style="italic">the Dovecot web site</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">13</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">13</fo:inline> <fo:basic-link external-destination="http://wiki2.dovecot.org/MailboxFormat">http://wiki2.dovecot.org/MailboxFormat</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Once you have chosen your mailbox type, edit the file
            <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/dovecot/conf.d/10-mail.conf</fo:inline> and change
            the following line:
            </fo:block><fo:block id="idm45028019992672" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
mail_location = maildir:~/Maildir # (for maildir)
or
mail_location = mbox:~/mail:INBOX=/var/spool/mail/%u # (for mbox)
</fo:block><fo:block id="idm45028019991760" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  You should configure your Mail Transport Agent (MTA) to transfer the
	  incoming mail to this type of mailbox if it is different from the one
	  you have configured.
	  </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Once you have configured dovecot, restart the dovecot daemon
          in order to test your setup:
	  </fo:block><fo:block id="idm45028019989520" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart dovecot.service</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          If you have enabled imap, or pop3, you can also try to log in
          with the commands <fo:inline font-weight="bold">telnet localhost pop3</fo:inline> or
          <fo:inline font-weight="bold">telnet localhost imap2</fo:inline>. If you see
          something like the following, the installation has been
          successful:
	  </fo:block><fo:block id="idm45028019985680" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
bhuvan@rainbow:~$ telnet localhost pop3
Trying 127.0.0.1...
Connected to localhost.localdomain.
Escape character is '^]'.
+OK Dovecot ready.
</fo:block></fo:block><fo:block id="dovecot-ssl"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Dovecot SSL Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.3.Dovecot SSL Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            To configure dovecot to use SSL, you can edit the file
            <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/dovecot/conf.d/10-ssl.conf</fo:inline> and amend
            following lines:
	    </fo:block><fo:block id="idm45028019981248" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">

ssl = yes
ssl_cert = &lt;/etc/ssl/certs/dovecot.pem
ssl_key = &lt;/etc/ssl/private/dovecot.pem

</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          You can get the SSL certificate from a Certificate Issuing
          Authority or you can create self signed SSL certificate.
	  The latter is a good option for email, because SMTP clients rarely
	  complain about "self-signed certificates".
	  Please
          refer to <fo:basic-link internal-destination="certificates-and-security"><fo:inline font-style="italic">Section5, Certificates</fo:inline></fo:basic-link><fo:basic-link internal-destination="certificates-and-security" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="certificates-and-security"/>]</fo:inline></fo:basic-link>
          for details about how to create self signed SSL certificate. Once
          you create the certificate, you will have a key file and a
          certificate file.  Please copy them to the location pointed
          in the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/dovecot/conf.d/10-ssl.conf</fo:inline>
          configuration file.
          </fo:block></fo:block><fo:block id="idm45028019977904"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Firewall Configuration for an Email Server</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.4.Firewall Configuration for an Email Server</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          To access your mail server from another computer, you must
          configure your firewall to allow connections to the server on
          the necessary ports.
            <fo:list-block id="idm45028019976736" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028019976448" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">IMAP - 143</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019975872" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">IMAPS - 993</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019975296" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">POP3 - 110</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019974720" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">POP3S - 995</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block>
          </fo:block></fo:block><fo:block id="dovecot-references"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">References</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.5.References</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028019972352" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028019972064" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              See the <fo:basic-link external-destination="http://www.dovecot.org/" font-style="italic">Dovecot website</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">14</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">14</fo:inline> <fo:basic-link external-destination="http://www.dovecot.org/">http://www.dovecot.org/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> for more information.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019970432" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Also, the <fo:basic-link external-destination="https://help.ubuntu.com/community/Dovecot" font-style="italic">Dovecot Ubuntu Wiki</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">15</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">15</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/Dovecot">https://help.ubuntu.com/community/Dovecot</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> page has more details.
              </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="mailman"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Mailman</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">4.Mailman</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Mailman is an open source program for managing electronic mail
          discussions and e-newsletter lists. Many open source mailing
          lists (including all the <fo:basic-link external-destination="http://lists.ubuntu.com" font-style="italic">Ubuntu mailing lists</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">16</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">16</fo:inline> <fo:basic-link external-destination="http://lists.ubuntu.com">http://lists.ubuntu.com</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>) use
          Mailman as their mailing list software. It is powerful and easy
          to install and maintain.
          </fo:block><fo:block id="mailman-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.1.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			Mailman provides a web interface for the administrators and users,
			using an external mail server to send and receive emails. It works
			perfectly with the following mail servers:
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:list-block id="idm45028019963360" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028019962800" space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Postfix</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019961424" space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Exim</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019960048" space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Sendmail</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019958672" space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Qmail</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block>
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            We will see how to install and configure Mailman with, the Apache web server,
            and either the Postfix or Exim mail server. If you wish to install Mailman
            with a different mail server, please refer to the references
            section. 
            </fo:block><fo:block id="idm45028019956256" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		You only need to install one mail server and Postfix is the default Ubuntu Mail Transfer Agent.
	       </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="mailman-apache2"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.1.1.Apache2</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                To install apache2 you refer to <fo:basic-link internal-destination="http-installation"><fo:inline font-style="italic">Section1.1, Installation</fo:inline></fo:basic-link><fo:basic-link internal-destination="http-installation" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="http-installation"/>]</fo:inline></fo:basic-link> for details.
              </fo:block></fo:block><fo:block id="mailman-postfix"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.1.2.Postfix</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    For instructions on installing and configuring Postfix refer to <fo:basic-link internal-destination="postfix"><fo:inline font-style="italic">Section1, Postfix</fo:inline></fo:basic-link><fo:basic-link internal-destination="postfix" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="postfix"/>]</fo:inline></fo:basic-link>
	    </fo:block></fo:block><fo:block id="mailman-exim4"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.1.3.Exim4</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              To install Exim4 refer to <fo:basic-link internal-destination="exim4"><fo:inline font-style="italic">Section2, Exim4</fo:inline></fo:basic-link><fo:basic-link internal-destination="exim4" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="exim4"/>]</fo:inline></fo:basic-link>.
	      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      Once exim4 is installed, the configuration files are stored in
	      the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/exim4</fo:inline> directory. In Ubuntu, by default, the exim4 configuration files are
	      split across different files. You can change this behavior by changing
	      the following variable in the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/exim4/update-exim4.conf</fo:inline> file:
          </fo:block><fo:block id="idm45028019946032" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
dc_use_split_config='true'
</fo:block></fo:block><fo:block id="mailman-mailman"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.1.4.Mailman</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              To install Mailman, run following command at a terminal prompt:
	      </fo:block><fo:block id="idm45028019942784" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install mailman</fo:inline> 
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	     It copies the installation files in
	     /var/lib/mailman directory. It installs the
	     CGI scripts in /usr/lib/cgi-bin/mailman
	     directory.  It creates <fo:inline font-style="italic">list</fo:inline> linux
	     user. It creates the <fo:inline font-style="italic">list</fo:inline> linux
 	     group. The mailman process will be owned by this user. 
             </fo:block></fo:block></fo:block><fo:block id="mailman-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.2.Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            This section assumes you have successfully installed
            mailman,
            apache2, and
	    postfix or exim4. Now you just need
            to configure them. 
            </fo:block><fo:block id="mailman-conf-apache2"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.2.1.Apache2</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      An example Apache configuration file comes with Mailman and is placed
	      in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/mailman/apache.conf</fo:inline>. In order for Apache to use the config file it needs
	      to be copied to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apache2/sites-available</fo:inline>:
	      </fo:block><fo:block id="idm45028019929184" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo cp /etc/mailman/apache.conf /etc/apache2/sites-available/mailman.conf</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      This will setup a new Apache <fo:inline font-style="italic">VirtualHost</fo:inline> for the Mailman administration site.
	      Now enable the new configuration and restart Apache:
	      </fo:block><fo:block id="idm45028019926608" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo a2ensite mailman.conf</fo:inline>
<fo:inline font-weight="bold">sudo systemctl restart apache2.service</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      Mailman uses apache2 to render its CGI scripts. The mailman CGI scripts
	      are installed in the /usr/lib/cgi-bin/mailman
	      directory. So, the mailman url will be
	      http://hostname/cgi-bin/mailman/. You can make changes to the
	      <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apache2/sites-available/mailman.conf</fo:inline> file if you wish to
	      change this behavior.
              </fo:block></fo:block><fo:block id="mailman-conf-postfix"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.2.2.Postfix</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    For Postfix integration, we will associate the domain lists.example.com with the mailing lists.
	    Please replace <fo:inline font-style="italic">lists.example.com</fo:inline> with the domain of your choosing.
	    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    You can use the postconf command to add the necessary configuration to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/postfix/main.cf</fo:inline>:
	    </fo:block><fo:block id="idm45028019917520" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo postconf -e 'relay_domains = lists.example.com'</fo:inline>
<fo:inline font-weight="bold">sudo postconf -e 'transport_maps = hash:/etc/postfix/transport'</fo:inline>
<fo:inline font-weight="bold">sudo postconf -e 'mailman_destination_recipient_limit = 1'</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  In <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/postfix/master.cf</fo:inline> double check that you have the following transport:
	  </fo:block><fo:block id="idm45028019913200" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
mailman   unix  -       n       n       -       -       pipe
  flags=FR user=list argv=/usr/lib/mailman/bin/postfix-to-mailman.py
  ${nexthop} ${user}
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  It calls the <fo:inline font-style="italic">postfix-to-mailman.py</fo:inline> script when a mail is delivered to a list.
	  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  Associate the domain lists.example.com to the Mailman transport with the transport map. Edit the file <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/postfix/transport</fo:inline>: 
	  </fo:block><fo:block id="idm45028019910048" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
lists.example.com      mailman:
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  Now have Postfix build the transport map by entering the following from a terminal prompt:
	  </fo:block><fo:block id="idm45028019908016" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo postmap -v /etc/postfix/transport</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  Then restart Postfix to enable the new configurations:
	  </fo:block><fo:block id="idm45028019905984" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart postfix.service</fo:inline>
</fo:block></fo:block><fo:block id="mailman-conf-exim4"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.2.3.Exim4</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              Once Exim4 is installed, you can start the Exim server using the following
              command from a terminal prompt:
	      </fo:block><fo:block id="idm45028019902592" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl start exim4.service</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
In order to make mailman work with Exim4, you need to configure Exim4.
As mentioned earlier, by default, Exim4 uses multiple configuration
files of different types. For details, please refer to the <fo:basic-link external-destination="http://www.exim.org" font-style="italic">Exim</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">17</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">17</fo:inline> <fo:basic-link external-destination="http://www.exim.org">http://www.exim.org</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> web site.  To run mailman, we
should add new a configuration file to the following configuration
types: 
              <fo:list-block id="idm45028019899680" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028019899120" space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Main</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019898224" space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Transport</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019897328" space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Router</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block>
              Exim creates a master configuration file by sorting all
              these mini configuration files. So, the order of these
              configuration files is very important.
              </fo:block></fo:block><fo:block id="mailman-conf-main"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.2.4.Main</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              All the configuration files belonging to the main type are
              stored in the
              <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/exim4/conf.d/main/</fo:inline> directory. You can add
              the following content to a new file, named <fo:inline font-size="8.800000000000001pt" font-family="monospace">04_exim4-config_mailman</fo:inline>:

<fo:block id="idm45028019892768" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
# start
# Home dir for your Mailman installation -- aka Mailman's prefix
# directory.
# On Ubuntu this should be "/var/lib/mailman"
# This is normally the same as ~mailman
MM_HOME=/var/lib/mailman
#
# User and group for Mailman, should match your --with-mail-gid
# switch to Mailman's configure script.  Value is normally "mailman"
MM_UID=list
MM_GID=list
#
# Domains that your lists are in - colon separated list
# you may wish to add these into local_domains as well
domainlist mm_domains=hostname.com
#
# -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
#
# These values are derived from the ones above and should not need
# editing unless you have munged your mailman installation
#
# The path of the Mailman mail wrapper script
MM_WRAP=MM_HOME/mail/mailman
#
# The path of the list config file (used as a required file when
# verifying list addresses)
MM_LISTCHK=MM_HOME/lists/${lc::$local_part}/config.pck
# end
</fo:block>
          </fo:block></fo:block><fo:block id="mailman-conf-transport"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.2.5.Transport</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
All the configuration files belonging to transport type are stored in
the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/exim4/conf.d/transport/</fo:inline> directory. You
can add the following content to a new file named <fo:inline font-size="8.800000000000001pt" font-family="monospace">
40_exim4-config_mailman</fo:inline>:

<fo:block id="idm45028019887840" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
  mailman_transport:
   driver = pipe
   command = MM_WRAP \
               '${if def:local_part_suffix \
                     {${sg{$local_part_suffix}{-(\\w+)(\\+.*)?}{\$1}}} \
                     {post}}' \
               $local_part
    current_directory = MM_HOME
    home_directory = MM_HOME
    user = MM_UID
    group = MM_GID
</fo:block>
              </fo:block></fo:block><fo:block id="mailman-conf-router"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.2.6.Router</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
All the configuration files belonging to router type are stored in the
<fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/exim4/conf.d/router/</fo:inline> directory. You can add the following content
in to a new file named <fo:inline font-size="8.800000000000001pt" font-family="monospace">101_exim4-config_mailman</fo:inline>:
<fo:block id="idm45028019883504" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
  mailman_router:
   driver = accept
   require_files = MM_HOME/lists/$local_part/config.pck
   local_part_suffix_optional
   local_part_suffix = -bounces : -bounces+* : \
                       -confirm+* : -join : -leave : \
                       -owner : -request : -admin
   transport = mailman_transport
</fo:block>

              </fo:block><fo:block id="idm45028019882256" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/warning.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
The order of main and transport configuration files can be in any order.
But, the order of router configuration files must be the same.
This particular file must appear before the
200_exim4-config_primary file.
These two configuration files contain same type of information. The
first file takes the precedence. For more details, please refer to the
references section.
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="mailman-conf-mailman"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.2.7.Mailman</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      Once mailman is installed, you can run it using the following command:
	      </fo:block><fo:block id="idm45028019878624" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl start mailman.service</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      Once mailman is installed, you should create the default mailing list.
	      Run the following command to create the mailing list:
	      </fo:block><fo:block id="idm45028019876432" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo /usr/sbin/newlist mailman</fo:inline>
</fo:block><fo:block id="idm45028019874816" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
  Enter the email address of the person running the list: bhuvan at ubuntu.com
  Initial mailman password:
  To finish creating your mailing list, you must edit your <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/aliases</fo:inline> (or
  equivalent) file by adding the following lines, and possibly running the
  `newaliases' program:

  ## mailman mailing list
  mailman:              "|/var/lib/mailman/mail/mailman post mailman"
  mailman-admin:        "|/var/lib/mailman/mail/mailman admin mailman"
  mailman-bounces:      "|/var/lib/mailman/mail/mailman bounces mailman"
  mailman-confirm:      "|/var/lib/mailman/mail/mailman confirm mailman"
  mailman-join:         "|/var/lib/mailman/mail/mailman join mailman"
  mailman-leave:        "|/var/lib/mailman/mail/mailman leave mailman"
  mailman-owner:        "|/var/lib/mailman/mail/mailman owner mailman"
  mailman-request:      "|/var/lib/mailman/mail/mailman request mailman"
  mailman-subscribe:    "|/var/lib/mailman/mail/mailman subscribe mailman"
  mailman-unsubscribe:  "|/var/lib/mailman/mail/mailman unsubscribe mailman"

  Hit enter to notify mailman owner...

  # 
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	     We have configured either Postfix or Exim4 to recognize all emails from mailman. So, it is
	     not mandatory to make any new entries in
	     <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/aliases</fo:inline>.  If you have made any changes
	     to the configuration files, please ensure that you restart those
	     services before continuing to next section.
	     </fo:block><fo:block id="idm45028019870672" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
         The Exim4 does not use the above aliases to forward mails to
         Mailman, as it uses a <fo:inline font-style="italic">discover</fo:inline> approach. To
         suppress the aliases while creating the list, you can add
         <fo:inline font-style="italic">MTA=None</fo:inline> line in Mailman configuration
         file, <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/mailman/mm_cfg.py</fo:inline>.
         </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:block><fo:block id="mailman-admin"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Administration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.3.Administration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
We assume you have a default installation. The
mailman cgi scripts are still in the
/usr/lib/cgi-bin/mailman/ directory.  Mailman
provides a web based administration facility. To access this page, point
your browser to the following url: 

</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
http://hostname/cgi-bin/mailman/admin
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
The default mailing list, <fo:inline font-style="italic">mailman</fo:inline>,
will appear in this screen. If you click the mailing list name, it
will ask for your authentication password.  If you enter the correct
password, you will be able to change administrative settings of this
mailing list.

You can create a new mailing list using the command line utility
(<fo:inline font-weight="bold">/usr/sbin/newlist</fo:inline>).
Alternatively, you can create a new mailing list using the web interface. 
</fo:block></fo:block><fo:block id="mailman-users"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Users</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.4.Users</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Mailman provides a web based interface for users. To access this page,
point your browser to the following url:
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
http://hostname/cgi-bin/mailman/listinfo
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
The default mailing list, <fo:inline font-style="italic">mailman</fo:inline>,
will appear in this screen. If you
click the mailing list name, it will display the subscription form. You
can enter your email address, name (optional), and password to subscribe.
An email invitation will be sent to you. You can follow the
instructions in the email to subscribe.
</fo:block></fo:block><fo:block id="mailman-references"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">References</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.5.References</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
<fo:basic-link external-destination="http://www.list.org/mailman-install/index.html" font-style="italic"> GNU Mailman
- Installation Manual</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">18</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">18</fo:inline> <fo:basic-link external-destination="http://www.list.org/mailman-install/index.html">http://www.list.org/mailman-install/index.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
<fo:basic-link external-destination="http://www.exim.org/howto/mailman21.html" font-style="italic">HOWTO - Using Exim
4 and Mailman 2.1 together</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">19</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">19</fo:inline> <fo:basic-link external-destination="http://www.exim.org/howto/mailman21.html">http://www.exim.org/howto/mailman21.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Also, see the <fo:basic-link external-destination="https://help.ubuntu.com/community/Mailman" font-style="italic">Mailman Ubuntu Wiki</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">20</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">20</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/Mailman">https://help.ubuntu.com/community/Mailman</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> page.
          </fo:block></fo:block></fo:block><fo:block id="mail-filtering"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Mail Filtering</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">5.Mail Filtering</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	 One of the largest issues with email today is the problem of Unsolicited Bulk Email (UBE).
	 Also known as SPAM, such messages may also carry viruses and other forms of malware. 
	 According to some reports these messages make up the bulk of all email traffic on the Internet.
	 </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	 This section will cover integrating Amavisd-new,
	 Spamassassin, and ClamAV with the 
	 Postfix Mail Transport Agent (MTA).  Postfix can also
	 check email validity by passing it through external content filters.  These filters can sometimes determine if 
	 a message is spam without needing to process it with more resource intensive applications.  Two common filters are 
	 opendkim and python-policyd-spf.
	 </fo:block><fo:list-block id="idm45028019845408" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028019845120" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
 	     Amavisd-new is a wrapper program that can call any number of content filtering programs
	     for spam detection, antivirus, etc.
	     </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019843312" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">	
	     Spamassassin uses a variety of mechanisms to filter email based on the message content.
	     </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019841648" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	     ClamAV is an open source antivirus application.
	     </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019839984" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	     opendkim implements a Sendmail Mail Filter (Milter) for the DomainKeys 
	     Identified Mail (DKIM) standard. 
	     </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019838192" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	     python-policyd-spf enables Sender Policy Framework (SPF) checking with Postfix.
	     </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	 This is how the pieces fit together: 
	 </fo:block><fo:list-block id="idm45028019835152" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028019834864" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	     An email message is accepted by Postfix.
	     </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019833152" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
     	     The message is passed through any external filters opendkim and 
	     python-policyd-spf in this case. 
   	     </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019830672" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	     Amavisd-new then processes the message.
	     </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019828960" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	       ClamAV is used to scan the message. If the message contains a virus 
	       Postfix will reject the message. 
	     </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018584304" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	     Clean messages will then be analyzed by Spamassassin to find out if the message is spam.  
	     Spamassassin will then add X-Header lines allowing 
    	     Amavisd-new to further manipulate the message.
	     </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	 For example, if a message has a Spam score of over fifty the message could be automatically dropped from 
	 the queue without the recipient ever having to be bothered.  Another, way to handle flagged messages is to deliver
	 them to the Mail User Agent (MUA) allowing the user to deal with the message as they see fit.
	 </fo:block><fo:block id="mail-filter-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.1.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	   See <fo:basic-link internal-destination="postfix"><fo:inline font-style="italic">Section1, Postfix</fo:inline></fo:basic-link><fo:basic-link internal-destination="postfix" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="postfix"/>]</fo:inline></fo:basic-link> for instructions on installing and configuring Postfix.
	   </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	   To install the rest of the applications enter the following from a terminal prompt:
	   </fo:block><fo:block id="idm45028018578320" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install amavisd-new spamassassin clamav-daemon</fo:inline>
<fo:inline font-weight="bold">sudo apt install opendkim postfix-policyd-spf-python</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	There are some optional packages that integrate with Spamassassin for better spam detection:
	</fo:block><fo:block id="idm45028018575440" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install pyzor razor</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
   Along with the main filtering applications compression utilities are needed to process some email attachments:
   </fo:block><fo:block id="idm45028018573680" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install arj cabextract cpio lha nomarch pax rar unrar unzip zip</fo:inline>
</fo:block><fo:block id="idm45028018572432" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If some packages are not found, check that the <fo:inline font-style="italic">multiverse</fo:inline> repository is enabled in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apt/sources.list</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you make changes to the file, be sure to run <fo:inline font-weight="bold">sudo apt update</fo:inline> before trying to install again.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="mail-filter-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.2.Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	   Now configure everything to work together and filter email.
	   </fo:block><fo:block id="clamav-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">5.2.1.ClamAV</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
   	     The default behaviour of ClamAV will fit our needs. 
 	     For more ClamAV configuration options, check the configuration files in 
	     <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/clamav</fo:inline>.
	     </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	     Add the <fo:inline font-style="italic">clamav</fo:inline> user to the <fo:inline font-style="italic">amavis</fo:inline> group in order for Amavisd-new
 	     to have the appropriate access to scan files:
 	     </fo:block><fo:block id="idm45028018563488" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo adduser clamav amavis</fo:inline>
<fo:inline font-weight="bold">sudo adduser amavis clamav</fo:inline>
</fo:block></fo:block><fo:block id="spamassassin-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">5.2.2.Spamassassin</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	     Spamassassin automatically detects optional components and will use them if they are present. This means that there is no need to 
	     configure pyzor and razor.  
	     </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	     Edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/default/spamassassin</fo:inline> to activate the Spamassassin daemon.
	     Change <fo:inline font-style="italic">ENABLED=0</fo:inline> to:
	     </fo:block><fo:block id="idm45028018556544" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
ENABLED=1
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	     Now start the daemon:
	     </fo:block><fo:block id="idm45028018555536" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl start spamassassin.service</fo:inline>
</fo:block></fo:block><fo:block id="amavisd-new-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">5.2.3.Amavisd-new</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	     First activate spam and antivirus detection in Amavisd-new by editing 
	     <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/amavis/conf.d/15-content_filter_mode</fo:inline>: 	
	     </fo:block><fo:block id="idm45028018551408" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
use strict;

# You can modify this file to re-enable SPAM checking through spamassassin
# and to re-enable antivirus checking.

#
# Default antivirus checking mode
# Uncomment the two lines below to enable it
#

@bypass_virus_checks_maps = (
   \%bypass_virus_checks, \@bypass_virus_checks_acl, \$bypass_virus_checks_re);


#
# Default SPAM checking mode
# Uncomment the two lines below to enable it
#

@bypass_spam_checks_maps = (
   \%bypass_spam_checks, \@bypass_spam_checks_acl, \$bypass_spam_checks_re);

1;  # insure a defined return
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	     Bouncing spam can be a bad idea as the return address is often faked. The default behaviour is to instead discard.  This
	     is configured in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/amavis/conf.d/20-debian_defaults</fo:inline> where <fo:inline font-style="italic">$final_spam_destiny</fo:inline>
	     is set to D_DISCARD rather than D_BOUNCE.
	     </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
             Additionally, you may want to adjust the following options to flag more messages as spam:
             </fo:block><fo:block id="idm45028018548160" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
$sa_tag_level_deflt = -999; # add spam info headers if at, or above that level
$sa_tag2_level_deflt = 6.0; # add 'spam detected' headers at that level
$sa_kill_level_deflt = 21.0; # triggers spam evasive actions
$sa_dsn_cutoff_level = 4; # spam level beyond which a DSN is not sent
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
             If the server's <fo:inline font-style="italic">hostname</fo:inline> is different from the domain's MX record you may need to manually set
             the <fo:inline font-style="italic">$myhostname</fo:inline> option.  Also, if the server receives mail for multiple domains the 
             <fo:inline font-style="italic">@local_domains_acl</fo:inline> option will need to be customized.  Edit the 
             <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/amavis/conf.d/50-user</fo:inline> file:
             </fo:block><fo:block id="idm45028018544960" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
$myhostname = 'mail.example.com';
@local_domains_acl = ( "example.com", "example.org" );
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you want to cover multiple domains you can use the following in the<fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/amavis/conf.d/50-user</fo:inline>
             </fo:block><fo:block id="idm45028018543216" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
@local_domains_acl = qw(.);
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	     After configuration Amavisd-new needs to be restarted: 
	     </fo:block><fo:block id="idm45028018541584" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart amavis.service</fo:inline>
</fo:block><fo:block id="amavis-dkim-whitelist"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block font-style="italic" font-size="11pt">5.2.3.1.DKIM Whitelist</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
               Amavisd-new can be configured to automatically <fo:inline font-style="italic">Whitelist</fo:inline>
               addresses from domains with valid Domain Keys.  There are some pre-configured domains in the 
               <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/amavis/conf.d/40-policy_banks</fo:inline>.  
               </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
               There are multiple ways to configure the Whitelist for a domain:
               </fo:block><fo:list-block id="idm45028018536560" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028018536304" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                   <fo:inline font-style="italic">'example.com' =&gt; 'WHITELIST',</fo:inline>: will whitelist any address from the "example.com" domain.
                   </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018535152" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                   <fo:inline font-style="italic">'.example.com' =&gt; 'WHITELIST',</fo:inline>: will whitelist any address from any <fo:inline font-style="italic">subdomains</fo:inline>
                   of "example.com" that have a valid signature.
                   </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018533616" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                   <fo:inline font-style="italic">'.example.com/@example.com' =&gt; 'WHITELIST',</fo:inline>: will whitelist subdomains of "example.com" that use the 
                   signature of <fo:inline font-style="italic">example.com</fo:inline> the parent domain.
                   </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018531728" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                   <fo:inline font-style="italic">'./@example.com' =&gt; 'WHITELIST',</fo:inline>: adds addresses that have a valid signature from "example.com".  
                   This is usually used for discussion groups that sign their messages.
                   </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
               A domain can also have multiple Whitelist configurations. 
               After editing the file, restart amavisd-new:
               </fo:block><fo:block id="idm45028018529104" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart amavis.service</fo:inline>
</fo:block><fo:block id="idm45028018527856" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                 In this context, once a domain has been added to the Whitelist the message will not receive any anti-virus or spam filtering. 
                 This may or may not be the intended behavior you wish for a domain.
                 </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:block><fo:block id="postfix-mail-filtering-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">5.2.4.Postfix</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	     For Postfix integration, enter the following from a terminal prompt:
	     </fo:block><fo:block id="idm45028018524448" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo postconf -e 'content_filter = smtp-amavis:[127.0.0.1]:10024'</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	     Next edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/postfix/master.cf</fo:inline> and add the following to the end of the file:	
	     </fo:block><fo:block id="idm45028018522192" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
smtp-amavis     unix    -       -       -       -       2       smtp
        -o smtp_data_done_timeout=1200
        -o smtp_send_xforward_command=yes
        -o disable_dns_lookups=yes
        -o max_use=20

127.0.0.1:10025 inet    n       -       -       -       -       smtpd
        -o content_filter=
        -o local_recipient_maps=
        -o relay_recipient_maps=
        -o smtpd_restriction_classes=
        -o smtpd_delay_reject=no
        -o smtpd_client_restrictions=permit_mynetworks,reject
        -o smtpd_helo_restrictions=
        -o smtpd_sender_restrictions=
        -o smtpd_recipient_restrictions=permit_mynetworks,reject
        -o smtpd_data_restrictions=reject_unauth_pipelining
        -o smtpd_end_of_data_restrictions=
        -o mynetworks=127.0.0.0/8
        -o smtpd_error_sleep_time=0
        -o smtpd_soft_error_limit=1001
        -o smtpd_hard_error_limit=1000
        -o smtpd_client_connection_count_limit=0
        -o smtpd_client_connection_rate_limit=0
        -o receive_override_options=no_header_body_checks,no_unknown_recipient_checks,no_milters
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	     Also add the following two lines immediately below the <fo:inline font-style="italic">"pickup"</fo:inline> transport service:
	     </fo:block><fo:block id="idm45028018519696" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
         -o content_filter=
         -o receive_override_options=no_header_body_checks
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	     This will prevent messages that are generated to report on spam from being classified as spam.
	     </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	     Now restart Postfix:
	     </fo:block><fo:block id="idm45028018517440" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart postfix.service</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
           Content filtering with spam and virus detection is now enabled.
	   </fo:block></fo:block><fo:block id="amavisd-new-spamassassin-integration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">5.2.5.Amavisd-new and Spamassassin</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
         When integrating Amavisd-new with Spamassassin, if you choose to 
         disable the bayes filtering by editing <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/spamassassin/local.cf</fo:inline> and use cron 
         to update the nightly rules, the result can cause a situation where a large amount of error messages are sent to the 
         <fo:inline font-style="italic">amavis</fo:inline> user via the amavisd-new cron job.
         </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
         There are several ways to handle this situation:
         </fo:block><fo:list-block id="idm45028018510128" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028018509872" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
             Configure your MDA to filter messages you do not wish to see.
             </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018508992" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
             Change <fo:inline font-size="8.800000000000001pt" font-family="monospace">/usr/sbin/amavisd-new-cronjob</fo:inline> to check for <fo:inline font-style="italic">use_bayes 0</fo:inline>.  For example, edit
             <fo:inline font-size="8.800000000000001pt" font-family="monospace">/usr/sbin/amavisd-new-cronjob</fo:inline> and add the following to the top before the <fo:inline font-style="italic">test</fo:inline> statements:
             </fo:block><fo:block id="idm45028018506336" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
egrep -q "^[ \t]*use_bayes[ \t]*0" /etc/spamassassin/local.cf &amp;&amp; exit 0
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="mail-filter-testing"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Testing</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.3.Testing</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	   First, test that the Amavisd-new SMTP is listening:
	   </fo:block><fo:block id="idm45028018503072" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
telnet localhost 10024
Trying 127.0.0.1...
Connected to localhost.
Escape character is '^]'.
220 [127.0.0.1] ESMTP amavisd-new service ready
^]
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	   In the Header of messages that go through the content filter you should see: 
	   </fo:block><fo:block id="idm45028018501904" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
X-Spam-Level: 
X-Virus-Scanned: Debian amavisd-new at example.com
X-Spam-Status: No, hits=-2.3 tagged_above=-1000.0 required=5.0 tests=AWL, BAYES_00
X-Spam-Level: 
</fo:block><fo:block id="idm45028018501104" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	   Your output will vary, but the important thing is that there are <fo:inline font-style="italic">X-Virus-Scanned</fo:inline> and 
	   <fo:inline font-style="italic">X-Spam-Status</fo:inline> entries.  
	   </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="mail-filter-troubleshooting"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Troubleshooting</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.4.Troubleshooting</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	   The best way to figure out why something is going wrong is to check the log files.
	   </fo:block><fo:list-block id="idm45028018497824" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028018497568" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	       For instructions on Postfix logging see the 
               <fo:basic-link internal-destination="postfix-troubleshooting"><fo:inline font-style="italic">Section1.7, Troubleshooting</fo:inline></fo:basic-link><fo:basic-link internal-destination="postfix-troubleshooting" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="postfix-troubleshooting"/>]</fo:inline></fo:basic-link> section.
	       </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018495680" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	       Amavisd-new uses Syslog to send messages to 
	       <fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/log/mail.log</fo:inline>.  The amount of detail can be increased by adding the 
	       <fo:inline font-style="italic">$log_level</fo:inline> option to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/amavis/conf.d/50-user</fo:inline>, and setting the value from 1 to 5.
	       </fo:block><fo:block id="idm45028018492160" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
$log_level = 2;
</fo:block><fo:block id="idm45028018491536" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	       When the Amavisd-new log output is increased Spamassassin log output is also
	       increased.
	       </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018489392" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	       The ClamAV log level can be increased by editing <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/clamav/clamd.conf</fo:inline>
	       and setting the following option:
	       </fo:block><fo:block id="idm45028018487504" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
LogVerbose true
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	       By default ClamAV will send log messages to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/log/clamav/clamav.log</fo:inline>.
	       </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block id="idm45028018484992" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	   After changing an applications log settings remember to restart the service for the new settings to take affect.  Also, 
	   once the issue you are troubleshooting is resolved it is a good idea to change the log settings back to normal.
	   </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="mail-filter-references"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">References</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.5.References</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	   For more information on filtering mail see the following links:
	   </fo:block><fo:list-block id="idm45028018482336" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028018482080" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
               <fo:basic-link external-destination="http://www.ijs.si/software/amavisd/amavisd-new-docs.html" font-style="italic">Amavisd-new Documentation</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">21</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">21</fo:inline> <fo:basic-link external-destination="http://www.ijs.si/software/amavisd/amavisd-new-docs.html">http://www.ijs.si/software/amavisd/amavisd-new-docs.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
	       </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018480688" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
               <fo:basic-link external-destination="http://www.clamav.net/doc/latest/html/" font-style="italic">ClamAV Documentation</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">22</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">22</fo:inline> <fo:basic-link external-destination="http://www.clamav.net/doc/latest/html/">http://www.clamav.net/doc/latest/html/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> and 
	       <fo:basic-link external-destination="http://wiki.clamav.net/Main/WebHome" font-style="italic">ClamAV Wiki</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">23</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">23</fo:inline> <fo:basic-link external-destination="http://wiki.clamav.net/Main/WebHome">http://wiki.clamav.net/Main/WebHome</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
	       </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018478672" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
               <fo:basic-link external-destination="http://wiki.apache.org/spamassassin/" font-style="italic">Spamassassin Wiki</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">24</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">24</fo:inline> <fo:basic-link external-destination="http://wiki.apache.org/spamassassin/">http://wiki.apache.org/spamassassin/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
	       </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018477280" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
               <fo:basic-link external-destination="http://sourceforge.net/apps/trac/pyzor/" font-style="italic">Pyzor Homepage</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">25</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">25</fo:inline> <fo:basic-link external-destination="http://sourceforge.net/apps/trac/pyzor/">http://sourceforge.net/apps/trac/pyzor/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
	       </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018475888" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
               <fo:basic-link external-destination="http://razor.sourceforge.net/" font-style="italic">Razor Homepage</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">26</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">26</fo:inline> <fo:basic-link external-destination="http://razor.sourceforge.net/">http://razor.sourceforge.net/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
  	       </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018474496" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
               <fo:basic-link external-destination="http://dkim.org/" font-style="italic">DKIM.org</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">27</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">27</fo:inline> <fo:basic-link external-destination="http://dkim.org/">http://dkim.org/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
  	       </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018473104" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
               <fo:basic-link external-destination="https://help.ubuntu.com/community/PostfixAmavisNew" font-style="italic">Postfix Amavis New</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">28</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">28</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/PostfixAmavisNew">https://help.ubuntu.com/community/PostfixAmavisNew</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
  	       </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	   Also, feel free to ask questions in the <fo:inline font-style="italic">#ubuntu-server</fo:inline> IRC channel on 
	   <fo:basic-link external-destination="http://freenode.net" font-style="italic">freenode</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">29</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">29</fo:inline> <fo:basic-link external-destination="http://freenode.net">http://freenode.net</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
	   </fo:block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Chat Applications</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Chat Applications</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-inner-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block id="chat-servers"><fo:block font-family="serif,Symbol"><fo:block margin-left="0pc"><fo:block font-size="24.8832pt" font-weight="bold"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0pc" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">Chapter16.Chat Applications</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="chat-overview"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Overview</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">1.Overview</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    In this section, we will discuss how to install and configure
    a IRC server, ircd-irc2. We will also
    discuss how to install and configure Jabber, an instance messaging
    server.
    </fo:block></fo:block><fo:block id="irc-server"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">IRC Server</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">2.IRC Server</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    The Ubuntu repository has many Internet Relay Chat servers. This
    section explains how to install and configure the original IRC
    server ircd-irc2.
    </fo:block><fo:block id="irc-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.1.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      To install ircd-irc2, run the following
      command in the command prompt:
      </fo:block><fo:block id="idm45028028411120" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install ircd-irc2</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
       The configuration files are stored in
       <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ircd</fo:inline> directory. The documents are
       available in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/usr/share/doc/ircd-irc2</fo:inline>
       directory. 
       </fo:block></fo:block><fo:block id="irc-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.2.Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      The IRC settings can be done in the configuration file
      <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ircd/ircd.conf</fo:inline>. You can set the IRC host
      name in this file by editing the following line:
      </fo:block><fo:block id="idm45028027148304" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
M:irc.localhost::Debian ircd default configuration::000A
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Please make sure you add DNS aliases for the IRC host name. For
      instance, if you set irc.livecipher.com as IRC host name, please
      make sure irc.livecipher.com is resolvable in your Domain Name
      Server. The IRC host name should not be same as the host name.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      The IRC admin details can be configured by editing the following
      line:
      </fo:block><fo:block id="idm45028025608992" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
A:Organization, IRC dept.:Daemon &lt;ircd@example.irc.org&gt;:Client Server::IRCnet:
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      You should add specific lines to configure the list of IRC ports to
      listen on, to configure Operator credentials, to configure client
      authentication, etc. For details, please refer to the example
      configuration file
      <fo:inline font-size="8.800000000000001pt" font-family="monospace">/usr/share/doc/ircd-irc2/ircd.conf.example.gz</fo:inline>.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      The IRC banner to be displayed in the IRC client, when the user
      connects to the server can be set in
      <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/ircd/ircd.motd</fo:inline> file.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      After making necessary changes to the configuration file, you can
      restart the IRC server using following command:
      </fo:block><fo:block id="idm45028027948448" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart ircd-irc2.service</fo:inline>
</fo:block></fo:block><fo:block id="irc-references"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">References</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.3.References</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    You may also be interested to take a look at other IRC servers
    available in Ubuntu Repository. It includes,
    ircd-ircu and
    ircd-hybrid.
    </fo:block><fo:list-block id="idm45028024545072" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028028781552" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Refer to <fo:basic-link external-destination="http://www.irc.org/tech_docs/ircnet/faq.html" font-style="italic">IRCD
        FAQ</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline> <fo:basic-link external-destination="http://www.irc.org/tech_docs/ircnet/faq.html">http://www.irc.org/tech_docs/ircnet/faq.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> for more details about the IRC Server.
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="jabberd2-server"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Jabber Instant Messaging Server</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">3.Jabber Instant Messaging Server</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    <fo:inline font-style="italic">Jabber</fo:inline> a popular instant message protocol is based on XMPP, an open standard for instant messaging, and
    used by many popular applications.  This section covers setting up a <fo:inline font-style="italic">Jabberd 2</fo:inline> server on a local LAN.  
    This configuration can also be adapted to providing messaging services to users over the Internet.
    </fo:block><fo:block id="jabberd2-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.1.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      To install jabberd2, in a terminal enter:
      </fo:block><fo:block id="idm45028027394768" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install jabberd2</fo:inline>
</fo:block></fo:block><fo:block id="jabberd2-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.2.Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    A couple of XML configuration files will be used to configure jabberd2 for 
    <fo:inline font-style="italic">Berkeley DB</fo:inline> user authentication.  This is a very simple form of authentication.  However,
    jabberd2 can be configured to use LDAP, MySQL, PostgreSQL, etc for 
    for user authentication.
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    First, edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/jabberd2/sm.xml</fo:inline> changing:
    </fo:block><fo:block id="idm45028027260176" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
  &lt;id&gt;jabber.example.com&lt;/id&gt;
</fo:block><fo:block id="idm45028023032320" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Replace <fo:inline font-style="italic">jabber.example.com</fo:inline> with the hostname, or other id, of your server.  
      </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    Now in the &lt;storage&gt; section change the &lt;driver&gt; to:
    </fo:block><fo:block id="idm45028029095248" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
   &lt;driver&gt;db&lt;/driver&gt;
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    Next, edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/jabberd2/c2s.xml</fo:inline> in the <fo:inline font-style="italic">&lt;local&gt;</fo:inline> section change: 
    </fo:block><fo:block id="idm45028025486352" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
    &lt;id&gt;jabber.example.com&lt;/id&gt;
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    And in the &lt;authreg&gt; section adjust the &lt;module&gt; section to:
    </fo:block><fo:block id="idm45028028043696" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
    &lt;module&gt;db&lt;/module&gt;
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    Finally, restart jabberd2 to enable the new settings:
    </fo:block><fo:block id="idm45028028501584" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart jabberd2.service</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
  You should now be able to connect to the server using a Jabber client like Pidgin for example.
  </fo:block><fo:block id="idm45028025105456" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    The advantage of using Berkeley DB for user data is that after being configured no additional maintenance is required.  If you need
    more control over user accounts and credentials another authentication method is recommended.
    </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="jabberd2-references"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">References</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.3.References</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028020633392" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028021951024" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The <fo:basic-link external-destination="http://codex.xiaoka.com/wiki/jabberd2:start" font-style="italic">Jabberd2 Web Site</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline> <fo:basic-link external-destination="http://codex.xiaoka.com/wiki/jabberd2:start">http://codex.xiaoka.com/wiki/jabberd2:start</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> contains more details on configuring 
        Jabberd2.
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026044256" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        For more authentication options see the <fo:basic-link external-destination="http://www.jabberdoc.org/" font-style="italic">Jabberd2 Install Guide</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline> <fo:basic-link external-destination="http://www.jabberdoc.org/">http://www.jabberdoc.org/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028027117184" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Also, the <fo:basic-link external-destination="https://help.ubuntu.com/community/SettingUpJabberServer" font-style="italic">Setting Up Jabber Server Ubuntu Wiki</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/SettingUpJabberServer">https://help.ubuntu.com/community/SettingUpJabberServer</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> page 
        has more information.
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Version Control System</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Version Control System</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-inner-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block id="version-control-system"><fo:block font-family="serif,Symbol"><fo:block margin-left="0pc"><fo:block font-size="24.8832pt" font-weight="bold"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0pc" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">Chapter17.Version Control System</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Version control is the art of managing changes to information. It 
            has long been a critical tool for programmers, who typically spend 
            their time making small changes to software and then undoing those 
            changes the next day. But the usefulness of version control software 
            extends far beyond the bounds of the software development world. 
            Anywhere you can find people using computers to manage information 
            that changes often, there is room for version control.
        </fo:block><fo:block id="bazaar"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Bazaar</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">1.Bazaar</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Bazaar is a new version control system sponsored by Canonical, the
          commercial company behind Ubuntu. Unlike Subversion and CVS that
          only support a central repository model, Bazaar also supports
          <fo:inline font-style="italic">distributed version control</fo:inline>, giving people
          the ability to collaborate more efficiently. In particular,
          Bazaar is designed to maximize the level of community participation
          in open source projects.
          </fo:block><fo:block id="bzr-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.1.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              At a terminal prompt, enter the following command to install
              bzr:

<fo:block id="idm45028020582352" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install bzr</fo:inline>
</fo:block>
            </fo:block></fo:block><fo:block id="bzr-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.2.Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            To introduce yourself to bzr,
            use the <fo:inline font-style="italic">whoami</fo:inline> command like this:
<fo:block id="idm45028022840192" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">$ bzr whoami 'Joe Doe &lt;joe.doe@gmail.com&gt;'</fo:inline>
</fo:block>
            </fo:block></fo:block><fo:block id="bzr-learning"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Learning Bazaar</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.3.Learning Bazaar</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Bazaar comes with bundled documentation installed into
            /usr/share/doc/bzr/html by default.
            The tutorial is a good place to start. The
            bzr command also comes with
            built-in help:
<fo:block id="idm45028030163552" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">$ bzr help</fo:inline>
</fo:block>
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            To learn more about the <fo:inline font-style="italic">foo</fo:inline> command:
<fo:block id="idm45028027617392" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">$ bzr help foo</fo:inline>
</fo:block>            
            </fo:block></fo:block><fo:block id="bzr-lp-integration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Launchpad Integration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.4.Launchpad Integration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            While highly useful as a stand-alone system, Bazaar has good, optional
            integration with <fo:basic-link external-destination="https://launchpad.net/" font-style="italic">Launchpad</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline> <fo:basic-link external-destination="https://launchpad.net/">https://launchpad.net/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>,
            the collaborative development system used by Canonical and the
            broader open source community to manage and extend Ubuntu itself.
            For information on how Bazaar can be used with Launchpad to
            collaborate on open source projects, see
            <fo:basic-link external-destination="http://bazaar-vcs.org/LaunchpadIntegration/" font-style="italic">
            http://bazaar-vcs.org/LaunchpadIntegration</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline> <fo:basic-link external-destination="http://bazaar-vcs.org/LaunchpadIntegration/">http://bazaar-vcs.org/LaunchpadIntegration/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.</fo:block></fo:block></fo:block><fo:block id="git"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Git</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">2.Git</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Git is an open source distributed version control system originally developped by Linus Torvalds to support the development of the linux kernel.  
            Every Git working directory is a full-fledged repository with complete history and full version tracking capabilities, 
            not dependent on network access or a central server.</fo:block><fo:block id="git-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.1.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            The git version control system is installed with the following command
            </fo:block><fo:block id="idm45028023727392" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install git</fo:inline>
</fo:block></fo:block><fo:block id="git-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.2.Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Every git user should first introduce himself to git, by running these two commands:</fo:block><fo:block id="idm45028027964240" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">git config --global user.email "you@example.com"</fo:inline>
<fo:inline font-weight="bold">git config --global user.name "Your Name"</fo:inline>
</fo:block></fo:block><fo:block id="git-usage"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Basic usage</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.3.Basic usage</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                The above is already sufficient to use git in a distributed and 
                secure way, provided users have access to the machine assuming 
                the server role via SSH. On the server machine, creating a new 
                repository can be done with:
            </fo:block><fo:block id="idm45028026880800" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">git init --bare /path/to/repository</fo:inline>
</fo:block><fo:block id="idm45028031177024" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This creates a bare repository, that cannot be used to edit files directly. If you would rather have a working copy of the contents of the repository on the server, ommit the <fo:inline font-style="italic">--bare</fo:inline> option.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                Any client with SSH access to the machine can then clone the 
                repository with:
            </fo:block><fo:block id="idm45028027876288" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">git clone username@hostname:/path/to/repository</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                Once cloned to the client's machine, the client can edit files, then commit and share them with:
            </fo:block><fo:block id="idm45028022851024" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">cd /path/to/repository</fo:inline>
<fo:inline font-weight="bold">#(edit some files</fo:inline>
<fo:inline font-weight="bold">git commit -a # Commit all changes to the local version of the repository</fo:inline>
<fo:inline font-weight="bold">git push origin master # Push changes to the server's version of the repository</fo:inline>
</fo:block></fo:block><fo:block id="git-installing-gitolite"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installing a gitolite server</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.4.Installing a gitolite server</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                While the above is sufficient to create, clone and edit repositories, users wanting to install git on a server will most likely want to have git work like a more
                traditional source control management server, with multiple users and access rights management.  
                The suggested solution is to install gitolite with the following command:
            </fo:block><fo:block id="idm45028030244368" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install gitolite</fo:inline>
</fo:block></fo:block><fo:block id="git-configuring-gitolite"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Gitolite configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.5.Gitolite configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Configuration of the gitolite server is a little different that most other servers on Unix-like systems.  
            Instead of the traditional configuration files in /etc/, gitolite stores its configuration in a git repository. 
            The first step to configuring a new installation is therefore to allow access to the configuration repository.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        First of all, let's create a user for gitolite to be accessed as.
        </fo:block><fo:block id="idm45028022748656" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo adduser --system --shell /bin/bash --group --disabled-password --home /home/git git</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Now we want to let gitolite know about the repository administrator's public SSH key. This assumes that the current user is the repository administrator.
        If you have not yet configured an SSH key, refer to <fo:basic-link internal-destination="openssh-keys"><fo:inline font-style="italic">Section1.4, SSH Keys</fo:inline></fo:basic-link><fo:basic-link internal-destination="openssh-keys" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="openssh-keys"/>]</fo:inline></fo:basic-link>
        </fo:block><fo:block id="idm45028023015424" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">cp ~/.ssh/id_rsa.pub /tmp/$(whoami).pub</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Let's switch to the git user and import the administrator's key into gitolite.
        </fo:block><fo:block id="idm45028024145904" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo su - git</fo:inline>
<fo:inline font-weight="bold">gl-setup /tmp/*.pub</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Gitolite will allow you to make initial changes to its configuration file during the setup process. You can now clone and modify the gitolite configuration repository from your administrator user (the user whose public SSH key you imported). Switch back to that user, then clone the configuration repository:
        </fo:block><fo:block id="idm45028029945744" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">exit</fo:inline>
<fo:inline font-weight="bold">git clone git@$IP_ADDRESS:gitolite-admin.git</fo:inline>
<fo:inline font-weight="bold">cd gitolite-admin</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The gitolite-admin contains two subdirectories, "conf" and "keydir". The configuration files are in the conf dir, and the keydir directory contains the list of user's public SSH keys.</fo:block></fo:block><fo:block id="git-gitolite-management"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Managing gitolite users and repositories</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.6.Managing gitolite users and repositories</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Adding new users to gitolite is simple: just obtain their public SSH key and add it to the keydir directory as $DESIRED_USER_NAME.pub. Note that the gitolite usernames don't have to match the system usernames - they are only used in the gitolite configuration file to manage access control. Similarly, users are deleted by deleting their public key file. After each change, do not forget to commit the changes to git, and push the changes back to the server with</fo:block><fo:block id="idm45028023725120" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">git commit -a</fo:inline>
<fo:inline font-weight="bold">git push origin master</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Repositories are managed by editing the conf/gitolite.conf file. The syntax is space separated, and simply specifies the list of repositories followed by some access rules. The following is a default example</fo:block><fo:block id="idm45028020482272" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
repo    gitolite-admin
        RW+     =   admin
        R       =   alice

repo    project1
        RW+     =   alice
        RW      =   bob
        R       =   denise
</fo:block></fo:block><fo:block id="git-gitolite-usage"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Using your server</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.7.Using your server</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To use the newly created server, users have to have the gitolite admin import their public key into the gitolite configuration repository, they can then access any project they have access to with the following command:</fo:block><fo:block id="idm45028028172128" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">git clone git@$SERVER_IP:$PROJECT_NAME.git</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Or add the server's project as a remote for an existing git repository:</fo:block><fo:block id="idm45028020302560" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">git remote add gitolite git@$SERVER_IP:$PROJECT_NAME.git</fo:inline>
</fo:block></fo:block></fo:block><fo:block id="subversion"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Subversion</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">3.Subversion</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Subversion is an open source version control system. Using Subversion, you can record the history of source files and documents. It manages files and directories over time. A tree of files is placed into a central repository. The repository is much like an ordinary file server, except that it remembers every change ever made to files and directories.
          </fo:block><fo:block id="subversion-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.1.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
To access Subversion repository using the HTTP protocol, you must install and 
configure a web server. Apache2 is proven to work with Subversion. Please 
refer to the HTTP subsection in the Apache2 section to install and configure 
Apache2.  To access the Subversion repository using the HTTPS protocol, you 
must install and configure a digital certificate in your Apache 2 web server. 
Please refer to the HTTPS subsection in the Apache2 section to install and 
configure the digital certificate.
						</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		To install Subversion, run the following command from a terminal prompt:
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
<fo:block id="idm45028020122224" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install subversion apache2 libapache2-svn</fo:inline>
</fo:block>
	    </fo:block></fo:block><fo:block id="subversion-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Server Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.2.Server Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	This step assumes you have installed above mentioned packages on your system. This section explains how to create a Subversion repository and access the project.</fo:block><fo:block id="create-svn-repos"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">3.2.1.Create Subversion Repository</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Subversion repository can be created using the following command from a terminal prompt:</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
<fo:block id="idm45028022897712" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">svnadmin create /path/to/repos/project</fo:inline>
</fo:block>
        </fo:block></fo:block><fo:block id="import-svn-files"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">3.2.2.Importing Files</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                            Once you create the repository you can
                            <fo:inline font-style="italic">import</fo:inline> files into the
                            repository.  To import a directory, enter the
                            following from a terminal prompt:
<fo:block id="idm45028025644464" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">svn import /path/to/import/directory file:///path/to/repos/project</fo:inline>
</fo:block>
                            </fo:block></fo:block></fo:block><fo:block id="access-methods"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Access Methods</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.3.Access Methods</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Subversion repositories can be accessed (checked out) through many 
different methods --on local disk, or through various network protocols. 
A repository location, however, is always a URL. The table describes how 
different URL schemes map to the available access methods.</fo:block><fo:block id="idm45028030467792" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:block font-weight="bold" font-size="13.2pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" keep-with-next.within-column="always">Table17.1.Access Methods</fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.5pt" border-end-width="0.5pt" border-top-width="0.5pt" border-bottom-width="0.5pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black" table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1.0)"/><fo:table-column column-number="2" column-width="proportional-column-width(6.0)"/><fo:table-header xmlns:rx="http://www.renderx.com/XSL/Extensions" start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always"><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black"><fo:block font-weight="bold"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Schema</fo:block></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:block font-weight="bold"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Access Method</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-header><fo:table-body xmlns:rx="http://www.renderx.com/XSL/Extensions" start-indent="0pt" end-indent="0pt"><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">file://</fo:block></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">direct repository access (on local disk)</fo:block></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">http://</fo:block></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Access via WebDAV protocol to Subversion-aware Apache2 web server</fo:block></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">https://</fo:block></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Same as http://, but with SSL encryption</fo:block></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.5pt" border-end-style="solid" border-end-color="black"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">svn://</fo:block></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Access via custom protocol to an svnserve server</fo:block></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt" border-end-width="0.5pt" border-end-style="solid" border-end-color="black"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">svn+ssh://</fo:block></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="2pt" padding-bottom="2pt"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Same as svn://, but through an SSH tunnel</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
In this section, we will see how to configure Subversion for all 
these access methods. Here, we cover the basics. For more advanced 
usage details, refer to the <fo:basic-link external-destination="http://svnbook.red-bean.com/" font-style="italic">svn book</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline> <fo:basic-link external-destination="http://svnbook.red-bean.com/">http://svnbook.red-bean.com/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
				</fo:block><fo:block id="direct-repos-access"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">3.3.1.Direct repository access (file://)</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> This is the simplest of all access methods. It does not 
require any Subversion server process to be running. This access 
method is used to access Subversion from the same machine. The 
syntax of the command, entered at a terminal prompt, is as follows:</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
<fo:block id="idm45028018592640" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">svn co file:///path/to/repos/project</fo:inline>
</fo:block>
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">or</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
<fo:block id="idm45028018590240" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">svn co file://localhost/path/to/repos/project</fo:inline>
</fo:block>
        </fo:block><fo:block id="idm45028018588512" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you do not specify the hostname, there are three forward slashes (///) -- two for the protocol (file, in this case) plus the leading slash in the path. If you specify the hostname, you must use two forward slashes (//).</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The repository permissions depend on filesystem permissions. If the user has read/write permission, he can checkout from and commit to the repository.</fo:block></fo:block><fo:block id="access-via-webdav"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">3.3.2.Access via WebDAV protocol (http://)</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                          To access the Subversion repository via WebDAV protocol, you must configure your Apache 2 web server. Add the following snippet between the 
                          <fo:inline font-style="italic">&lt;VirtualHost&gt;</fo:inline> and <fo:inline font-style="italic">&lt;/VirtualHost&gt;</fo:inline> elements in
                          <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apache2/sites-available/000-default.conf</fo:inline>, or another VirtualHost file:
                          </fo:block><fo:block id="idm45028019253344" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
 &lt;Location /svn&gt;
  DAV svn
  SVNParentPath /path/to/repos
  AuthType Basic
  AuthName "Your repository name"
  AuthUserFile /etc/subversion/passwd
  Require valid-user
 &lt;/Location&gt; 
</fo:block><fo:block id="idm45028019252384" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The above configuration snippet assumes that Subversion
    repositories are created under <fo:inline font-size="8.800000000000001pt" font-family="monospace">/path/to/repos</fo:inline>
    directory using <fo:inline font-weight="bold">svnadmin</fo:inline> command and that the HTTP user has sufficent access rights to the files (see below).  They can be
    accessible using <fo:inline font-weight="bold">http://hostname/svn/repos_name</fo:inline>
    url.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
         Changing the apache configuration like the above requires to reload
         the service with the following command
         </fo:block><fo:block id="idm45028019248320" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
    <fo:inline font-weight="bold">sudo systemctl reload apache2.service</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
         To import or commit files to your Subversion repository over
         HTTP, the repository should be owned by the HTTP user. In
         Ubuntu systems, the HTTP user is
         <fo:inline font-weight="bold">www-data</fo:inline>.  To change the ownership of the
         repository files enter the following command from terminal
         prompt:
         </fo:block><fo:block id="idm45028019245168" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
    <fo:inline font-weight="bold">sudo chown -R www-data:www-data /path/to/repos</fo:inline>
</fo:block><fo:block id="idm45028019243600" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        By changing the ownership of repository as
        <fo:inline font-weight="bold">www-data</fo:inline> you will not be able to import or
        commit files into the repository by running <fo:inline font-weight="bold">svn import
        file:///</fo:inline> command as any user other than
        <fo:inline font-weight="bold">www-data</fo:inline>.
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Next, you must create the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/subversion/passwd</fo:inline> file that will contain user authentication details. 
        To create a file issue the following command at a command prompt (which will create the file and add the first user):
        </fo:block><fo:block id="idm45028019708112" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo htpasswd -c /etc/subversion/passwd user_name</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        To add additional users omit the <fo:inline font-style="italic">"-c"</fo:inline> option as this option replaces the old file. Instead use this form:
        </fo:block><fo:block id="idm45028019705712" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo htpasswd /etc/subversion/passwd user_name</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This command will prompt you to enter the password. Once you enter the password, the user is added. Now, to access the repository you can run the following command:</fo:block><fo:block id="idm45028019703552" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"><fo:inline font-weight="bold">svn co http://servername/svn</fo:inline></fo:block><fo:block id="idm45028019702256" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/warning.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
			The password is transmitted as plain text. If you are worried about password snooping, you are advised to use SSL encryption. For details, please refer next section.
		</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="access-via-webdav-with-ssl"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">3.3.3.Access via WebDAV protocol with SSL encryption (https://)</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> 
					Accessing Subversion repository via WebDAV protocol with SSL 
					encryption (https://) is similar to http:// except that you 
					must install and configure the digital certificate in your 
					Apache2 web server.  To use SSL with Subversion add the above
                                        Apache2 configuration to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apache2/sites-available/default-ssl.conf</fo:inline>.
                                        For more information on setting up Apache2 with SSL see <fo:basic-link internal-destination="https-configuration"><fo:inline font-style="italic">Section1.3, HTTPS Configuration</fo:inline></fo:basic-link><fo:basic-link internal-destination="https-configuration" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="https-configuration"/>]</fo:inline></fo:basic-link>.
					</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
						You can install a digital certificate issued by a signing 
						authority. Alternatively, you can install your 
						own self-signed certificate.
					</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
						This step assumes you have installed and configured a digital 
						certificate in your Apache 2 web server. Now, to access the 
						Subversion repository, please refer to the above section! 
						The access methods are exactly the same, except the protocol. 
						You must use https:// to access the Subversion repository.
					</fo:block></fo:block><fo:block id="access-via-custom-protocol"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">3.3.4.Access via custom protocol (svn://)</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> 
					Once the Subversion repository is created, you can configure the 
					access control. You can edit the <fo:inline font-size="8.800000000000001pt" font-family="monospace">
					/path/to/repos/project/conf/svnserve.conf</fo:inline> file to 
					configure the access control.  For example, to set up 
					authentication, you can uncomment the following lines in the 
					configuration file: </fo:block><fo:block id="idm45028019693216" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"># [general]
# password-db = passwd</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
					After uncommenting the above lines, you can maintain the user 
					list in the passwd file. So, edit the file <fo:inline font-size="8.800000000000001pt" font-family="monospace">passwd
					</fo:inline> in the same directory and add the new user. The 
					syntax is as follows:
					</fo:block><fo:block id="idm45028019606384" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">username = password</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
					For more details, please refer to the file.
					</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
					Now, to access Subversion via the svn:// custom protocol, either 
					from the same machine or a different machine, you can run 
					svnserver using svnserve command. The syntax is as follows:
					</fo:block><fo:block id="idm45028019604528" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">$ svnserve -d --foreground -r /path/to/repos
# -d -- daemon mode
# --foreground -- run in foreground (useful for debugging)
# -r -- root of directory to serve

For more usage details, please refer to:
$ svnserve --help</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Once you run this command, Subversion starts listening on default port (3690). To access the project repository, you must run the following command from a terminal prompt: </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
<fo:block id="idm45028019602624" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">svn co svn://hostname/project project --username user_name</fo:inline>
</fo:block>
                                        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Based on server configuration, it prompts for password. Once 
					you are authenticated, it checks out the code from Subversion 
					repository.  To synchronize the project repository with the local 
					copy, you can run the <fo:inline font-weight="bold">update</fo:inline> sub-command. The 
					syntax of the command, entered at a terminal prompt, is as follows:
					</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
<fo:block id="idm45028019599104" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">cd project_dir ; svn update</fo:inline>
</fo:block>
                                        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For more details about using each Subversion sub-command, you 
					can refer to the manual. For example, to learn more about the co 
					(checkout) command, please run the following command from a 
					terminal prompt:</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:block id="idm45028019596576" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"><fo:inline font-weight="bold">svn co help</fo:inline></fo:block></fo:block></fo:block><fo:block id="access-via-custom-protocol-with-ssh"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">3.3.5.Access via custom protocol with SSH encryption (svn+ssh://)</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> The configuration and server process is same as in the
					svn:// method. For details, please refer to the above section. 
					This step assumes you have followed the above step and started 
					the	Subversion server using svnserve  
					command.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">It is also assumed that the ssh server is running on that 
					machine and that it is allowing incoming connections. To confirm, 
					please try to login to that machine using ssh. If you can login, 
					everything is perfect. If you cannot login, please address it 
					before continuing further.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The svn+ssh:// protocol is used to access the Subversion 
					repository using SSL encryption. The data transfer is encrypted 
					using this method. To access the project repository (for example 
					with a checkout), you must use the following command syntax: 
                                        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
<fo:block id="idm45028019590640" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
    <fo:inline font-weight="bold">svn co svn+ssh://ssh_username@hostname/path/to/repos/project</fo:inline>
</fo:block>
                                        </fo:block><fo:block id="idm45028019588944" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> You must use the full path (/path/to/repos/project) 
					to access the Subversion repository using this access method. 
					</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
					Based on server configuration, it prompts for password. You must 
					enter the password you use to login via ssh. Once you are 
					authenticated, it checks out the code from the Subversion 
					repository.
					</fo:block></fo:block></fo:block></fo:block><fo:block id="version-control-ref"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">References</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">4.References</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028019585808" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028019585520" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        <fo:basic-link external-destination="http://bazaar.canonical.com/en/" font-style="italic">Bazaar Home Page</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline> <fo:basic-link external-destination="http://bazaar.canonical.com/en/">http://bazaar.canonical.com/en/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019583888" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        <fo:basic-link external-destination="https://launchpad.net/" font-style="italic">Launchpad</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline> <fo:basic-link external-destination="https://launchpad.net/">https://launchpad.net/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019582272" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        <fo:basic-link external-destination="http://git-scm.com" font-style="italic">Git homepage</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline> <fo:basic-link external-destination="http://git-scm.com">http://git-scm.com</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019580656" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        <fo:basic-link external-destination="https://github.com/sitaramc/gitolite" font-style="italic">Gitolite</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">7</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">7</fo:inline> <fo:basic-link external-destination="https://github.com/sitaramc/gitolite">https://github.com/sitaramc/gitolite</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019579024" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        <fo:basic-link external-destination="http://subversion.apache.org/" font-style="italic">Subversion Home Page</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">8</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">8</fo:inline> <fo:basic-link external-destination="http://subversion.apache.org/">http://subversion.apache.org/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019577392" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        <fo:basic-link external-destination="http://svnbook.red-bean.com/" font-style="italic">Subversion Book</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">9</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">9</fo:inline> <fo:basic-link external-destination="http://svnbook.red-bean.com/">http://svnbook.red-bean.com/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019575760" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        <fo:basic-link external-destination="https://help.ubuntu.com/community/EasyBazaar" font-style="italic">Easy Bazaar Ubuntu Wiki page</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">10</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">10</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/EasyBazaar">https://help.ubuntu.com/community/EasyBazaar</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019574160" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        <fo:basic-link external-destination="https://help.ubuntu.com/community/Subversion" font-style="italic">Ubuntu Wiki Subversion page</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">11</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">11</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/Subversion">https://help.ubuntu.com/community/Subversion</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Samba</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Samba</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-inner-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block id="samba"><fo:block font-family="serif,Symbol"><fo:block margin-left="0pc"><fo:block font-size="24.8832pt" font-weight="bold"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0pc" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">Chapter18.Samba</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
  Computer networks are often comprised of diverse systems, and while operating a network
  made up entirely of Ubuntu desktop and server computers would certainly be fun, some network environments
  must consist of both Ubuntu and Microsoft<fo:inline font-family="serif,Symbol"></fo:inline> 
  Windows<fo:inline font-family="serif,Symbol"></fo:inline> systems working together in harmony.  
  This section of the <fo:inline>Ubuntu</fo:inline> Server Guide introduces principles and tools used in 
  configuring your Ubuntu Server for sharing network resources with Windows computers.
  </fo:block><fo:block id="samba-introduction"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Introduction</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">1.Introduction</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    Successfully networking your Ubuntu system with Windows clients involves providing and integrating with services 
    common to Windows environments. Such services assist the sharing of data and information about the computers 
    and users involved in the network, and may be classified under three major categories of functionality:
    </fo:block><fo:list-block id="idm45028026330656" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028029613888" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        <fo:inline font-weight="bold">File and Printer Sharing Services</fo:inline>. Using the Server Message Block (SMB) 
        protocol to facilitate the sharing of files, folders, volumes, and the sharing of printers throughout the network.
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029679840" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        <fo:inline font-weight="bold">Directory Services</fo:inline>. Sharing vital information about the computers and users of 
        the network with such technologies as the Lightweight Directory Access Protocol (LDAP) and Microsoft
        Active Directory<fo:inline font-family="serif,Symbol"></fo:inline>.
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029722752" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        <fo:inline font-weight="bold">Authentication and Access</fo:inline>. Establishing the identity of a computer or user of 
        the network and determining the information the computer or user is authorized to access using such principles 
        and technologies as file permissions, group policies, and the Kerberos authentication service.
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Fortunately, your Ubuntu system may provide all such facilities to Windows clients and share network resources 
      among them.  One of the principal pieces of software your Ubuntu system includes for Windows networking is the Samba 
      suite of SMB server applications and tools.  
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      This section of the <fo:inline>Ubuntu</fo:inline> Server Guide will introduce some of the common Samba use cases, and how to 
      install and configure the necessary packages.  Additional detailed documentation and information on Samba can be found
      on the <fo:basic-link external-destination="http://www.samba.org" font-style="italic">Samba website</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline> <fo:basic-link external-destination="http://www.samba.org">http://www.samba.org</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
      </fo:block></fo:block><fo:block id="samba-fileserver"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">File Server</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">2.File Server</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    One of the most common ways to network Ubuntu and Windows computers is to configure Samba as a File Server.  This section 
    covers setting up a Samba server to share files with Windows clients.
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    The server will be configured to share files with any client on the network without prompting for a password.  If
    your environment requires stricter Access Controls see <fo:basic-link internal-destination="samba-fileprint-security"><fo:inline font-style="italic">Section4, Securing File and Print Server</fo:inline></fo:basic-link><fo:basic-link internal-destination="samba-fileprint-security" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="samba-fileprint-security"/>]</fo:inline></fo:basic-link>.
    </fo:block><fo:block id="samba-fileserver-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.1.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      The first step is to install the samba package.  From a terminal prompt enter:
      </fo:block><fo:block id="idm45028025338464" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install samba</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      That's all there is to it; you are now ready to configure Samba to share files.
      </fo:block></fo:block><fo:block id="samba-fileserver-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.2.Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      The main Samba configuration file is located in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/samba/smb.conf</fo:inline>.  The default configuration file
      has a significant number of comments in order to document various configuration directives.  
      </fo:block><fo:block id="idm45028020605184" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Not all the available options are included in the default configuration file.  See the <fo:inline font-size="8.800000000000001pt" font-family="monospace">smb.conf</fo:inline> man page or the 
        <fo:basic-link external-destination="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/" font-style="italic">Samba HOWTO Collection</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline> <fo:basic-link external-destination="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/">http://samba.org/samba/docs/man/Samba-HOWTO-Collection/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> for more details.
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="idm45028028637952" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:list-block provisional-distance-between-starts="2em" provisional-label-separation="0.2em" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em"><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028024695904">1.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        First, edit the following key/value pairs in the <fo:inline font-style="italic">[global]</fo:inline> section of 
        <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/samba/smb.conf</fo:inline>:
        </fo:block><fo:block id="idm45028024694720" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
   workgroup = EXAMPLE
   ...
   security = user
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The <fo:inline font-style="italic">security</fo:inline> parameter is farther down in the [global] section, and is commented by default.
        Also, change <fo:inline font-style="italic">EXAMPLE</fo:inline> to better match your environment.  
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028027148832">2.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Create a new section at the bottom of the file, or uncomment one of the examples, for the directory to be shared:
        </fo:block><fo:block id="idm45028028308672" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
[share]
    comment = Ubuntu File Server Share
    path = /srv/samba/share
    browsable = yes
    guest ok = yes
    read only = no
    create mask = 0755
</fo:block><fo:list-block id="idm45028026498976" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028025026240" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:inline font-style="italic">comment:</fo:inline> a short description of the share.  Adjust to fit your needs.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023600272" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:inline font-style="italic">path:</fo:inline> the path to the directory to share. 
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          This example uses <fo:inline font-size="8.800000000000001pt" font-family="monospace">/srv/samba/sharename</fo:inline> because, according to the 
          <fo:inline font-style="italic">Filesystem Hierarchy Standard (FHS)</fo:inline>, 
          <fo:basic-link external-destination="http://www.pathname.com/fhs/pub/fhs-2.3.html#SRVDATAFORSERVICESPROVIDEDBYSYSTEM" font-style="italic">/srv</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline> <fo:basic-link external-destination="http://www.pathname.com/fhs/pub/fhs-2.3.html#SRVDATAFORSERVICESPROVIDEDBYSYSTEM">http://www.pathname.com/fhs/pub/fhs-2.3.html#SRVDATAFORSERVICESPROVIDEDBYSYSTEM</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
          is where site-specific data should be served.  Technically Samba shares can be placed anywhere on the filesystem
          as long as the permissions are correct, but adhering to standards is recommended.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024180672" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:inline font-style="italic">browsable:</fo:inline> enables Windows clients to browse the shared directory using 
          Windows Explorer.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024915568" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:inline font-style="italic">guest ok:</fo:inline> allows clients to connect to the share without supplying a password.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025361680" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:inline font-style="italic">read only:</fo:inline> determines if the share is read only or if write privileges are granted.  Write privileges are allowed only when the value is <fo:inline font-style="italic">no</fo:inline>, as is seen in this example.  If the value is <fo:inline font-style="italic">yes</fo:inline>, then access to the share is read only.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025738656" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:inline font-style="italic">create mask:</fo:inline> determines the permissions new files will have when created.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028030347136">3.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> 
        Now that Samba is configured, the directory needs to be created and the permissions
        changed.  From a terminal enter:
        </fo:block><fo:block id="idm45028028258208" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo mkdir -p /srv/samba/share</fo:inline>
<fo:inline font-weight="bold">sudo chown nobody:nogroup /srv/samba/share/</fo:inline>
</fo:block><fo:block id="idm45028028799536" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The <fo:inline font-style="italic">-p</fo:inline> switch tells mkdir to create the entire directory tree if it doesn't exist.
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028026014176">4.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Finally, restart the samba services to enable the new configuration:
      </fo:block><fo:block id="idm45028020151232" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart smbd.service nmbd.service</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="idm45028021782064" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/warning.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Once again, the above configuration gives all access to any client on the local network.  For a more secure
        configuration see <fo:basic-link internal-destination="samba-fileprint-security"><fo:inline font-style="italic">Section4, Securing File and Print Server</fo:inline></fo:basic-link><fo:basic-link internal-destination="samba-fileprint-security" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="samba-fileprint-security"/>]</fo:inline></fo:basic-link>.
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      From a Windows client you should now be able to browse to the Ubuntu file server and see the shared directory. If your client doesn't show your share automatically, try to access your server by its IP address, e.g. \\192.168.1.1, in a Windows Explorer window. To check that everything is working try creating a directory from Windows. 
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      To create additional shares simply create new <fo:inline font-style="italic">[dir]</fo:inline> sections in 
      <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/samba/smb.conf</fo:inline>, and restart <fo:inline font-style="italic">Samba</fo:inline>.  Just make sure that the directory
      you want to share actually exists and the permissions are correct.
      </fo:block><fo:block id="idm45028035263760" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The file share named <fo:inline font-style="italic">"[share]"</fo:inline> and the path <fo:inline font-size="8.800000000000001pt" font-family="monospace">/srv/samba/share</fo:inline> are just examples.
        Adjust the share and path names to fit your environment.  It is a good idea to name a share after a directory on the 
        file system.  Another example would be a share name of <fo:inline font-style="italic">[qa]</fo:inline> with a path of <fo:inline font-size="8.800000000000001pt" font-family="monospace">/srv/samba/qa</fo:inline>.
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="samba-fileserver-resources"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Resources</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.3.Resources</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028023139376" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028023072048" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          For in depth Samba configurations see the 
          <fo:basic-link external-destination="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/" font-style="italic">Samba HOWTO Collection</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline> <fo:basic-link external-destination="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/">http://samba.org/samba/docs/man/Samba-HOWTO-Collection/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028027408736" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The guide is also available in 
          <fo:basic-link external-destination="http://www.amazon.com/exec/obidos/tg/detail/-/0131882228" font-style="italic">printed format</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline> <fo:basic-link external-destination="http://www.amazon.com/exec/obidos/tg/detail/-/0131882228">http://www.amazon.com/exec/obidos/tg/detail/-/0131882228</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028027530416" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          O'Reilly's <fo:basic-link external-destination="http://www.oreilly.com/catalog/9780596007690/" font-style="italic">Using Samba</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline> <fo:basic-link external-destination="http://www.oreilly.com/catalog/9780596007690/">http://www.oreilly.com/catalog/9780596007690/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> is another good
          reference.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029240128" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The <fo:basic-link external-destination="https://help.ubuntu.com/community/Samba" font-style="italic">Ubuntu Wiki Samba </fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">7</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">7</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/Samba">https://help.ubuntu.com/community/Samba</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> page.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="samba-printserver"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Print Server</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">3.Print Server</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    Another common use of Samba is to configure it to share printers installed, either locally or over the network, on 
    an Ubuntu server.  Similar to <fo:basic-link internal-destination="samba-fileserver"><fo:inline font-style="italic">Section2, File Server</fo:inline></fo:basic-link><fo:basic-link internal-destination="samba-fileserver" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="samba-fileserver"/>]</fo:inline></fo:basic-link> this section will configure Samba to allow any client
    on the local network to use the installed printers without prompting for a username and password.
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    For a more secure configuration see <fo:basic-link internal-destination="samba-fileprint-security"><fo:inline font-style="italic">Section4, Securing File and Print Server</fo:inline></fo:basic-link><fo:basic-link internal-destination="samba-fileprint-security" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="samba-fileprint-security"/>]</fo:inline></fo:basic-link>.
    </fo:block><fo:block id="samba-printserver-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.1.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Before installing and configuring Samba it is best to already have a working CUPS 
      installation. See <fo:basic-link internal-destination="cups"><fo:inline font-style="italic">Section4, CUPS - Print Server</fo:inline></fo:basic-link><fo:basic-link internal-destination="cups" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="cups"/>]</fo:inline></fo:basic-link> for details.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      To install the samba package, from a terminal enter:
      </fo:block><fo:block id="idm45028028869760" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install samba</fo:inline>
</fo:block></fo:block><fo:block id="samba-printserver-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.2.Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    After installing samba edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/samba/smb.conf</fo:inline>.  Change the <fo:inline font-style="italic">workgroup</fo:inline> 
    attribute to what is appropriate for your network, and change <fo:inline font-style="italic">security</fo:inline> to 
    <fo:inline font-style="italic">user</fo:inline>:
    </fo:block><fo:block id="idm45028026116448" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
   workgroup = EXAMPLE
   ...
   security = user
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    In the <fo:inline font-style="italic">[printers]</fo:inline> section change the <fo:inline font-style="italic">guest ok</fo:inline> option to <fo:inline font-style="italic">yes</fo:inline>:
    </fo:block><fo:block id="idm45028026868192" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
   browsable = yes
   guest ok = yes
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    After editing <fo:inline font-size="8.800000000000001pt" font-family="monospace">smb.conf</fo:inline> restart Samba:
    </fo:block><fo:block id="idm45028021762384" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart smbd.service nmbd.service</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    The default Samba configuration will automatically share any printers installed.  Simply install the printer locally 
    on your Windows clients.
    </fo:block></fo:block><fo:block id="samba-printserver-resources"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Resources</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.3.Resources</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028029107456" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028028870688" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          For in depth Samba configurations see the 
          <fo:basic-link external-destination="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/" font-style="italic">Samba HOWTO Collection</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">8</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">8</fo:inline> <fo:basic-link external-destination="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/">http://samba.org/samba/docs/man/Samba-HOWTO-Collection/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025616288" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The guide is also available in 
          <fo:basic-link external-destination="http://www.amazon.com/exec/obidos/tg/detail/-/0131882228" font-style="italic">printed format</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">9</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">9</fo:inline> <fo:basic-link external-destination="http://www.amazon.com/exec/obidos/tg/detail/-/0131882228">http://www.amazon.com/exec/obidos/tg/detail/-/0131882228</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030172960" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          O'Reilly's <fo:basic-link external-destination="http://www.oreilly.com/catalog/9780596007690/" font-style="italic">Using Samba</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">10</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">10</fo:inline> <fo:basic-link external-destination="http://www.oreilly.com/catalog/9780596007690/">http://www.oreilly.com/catalog/9780596007690/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> is another good
          reference.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028021864128" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Also, see the <fo:basic-link external-destination="http://www.cups.org/" font-style="italic">CUPS Website</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">11</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">11</fo:inline> <fo:basic-link external-destination="http://www.cups.org/">http://www.cups.org/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> for more information on configuring CUPS.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026078816" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The <fo:basic-link external-destination="https://help.ubuntu.com/community/Samba" font-style="italic">Ubuntu Wiki Samba </fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">12</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">12</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/Samba">https://help.ubuntu.com/community/Samba</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> page.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="samba-fileprint-security"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Securing File and Print Server</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">4.Securing File and Print Server</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="samba-security-mode"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Samba Security Modes</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.1.Samba Security Modes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      There are two security levels available to the Common Internet Filesystem (CIFS) network protocol 
      <fo:inline font-style="italic">user-level</fo:inline> and <fo:inline font-style="italic">share-level</fo:inline>.  Samba's <fo:inline font-style="italic">security mode</fo:inline>
      implementation allows more flexibility, providing four ways of implementing user-level security and one way to 
      implement share-level:
      </fo:block><fo:list-block id="idm45028019165952" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028019165664" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:inline font-style="italic">security = user:</fo:inline> requires clients to supply a username and password to connect to shares. 
          Samba user accounts are separate from system accounts, but the libpam-winbind 
          package will sync system users and passwords with the Samba user database.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019163472" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:inline font-style="italic">security = domain:</fo:inline> this mode allows the Samba server to appear to Windows clients as a Primary
          Domain Controller (PDC), Backup Domain Controller (BDC), or a Domain Member Server (DMS).  See 
          <fo:basic-link internal-destination="samba-dc"><fo:inline font-style="italic">Section5, As a Domain Controller</fo:inline></fo:basic-link><fo:basic-link internal-destination="samba-dc" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="samba-dc"/>]</fo:inline></fo:basic-link> for further information.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019161376" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:inline font-style="italic">security = ADS:</fo:inline> allows the Samba server to join an Active Directory domain as a native
          member.  See <fo:basic-link internal-destination="samba-ad-integration"><fo:inline font-style="italic">Section6, Active Directory Integration</fo:inline></fo:basic-link><fo:basic-link internal-destination="samba-ad-integration" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="samba-ad-integration"/>]</fo:inline></fo:basic-link> for details.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019159376" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:inline font-style="italic">security = server:</fo:inline> this mode is left over from before Samba could become a member server, and 
          due to some security issues should not be used.  See the 
          <fo:basic-link external-destination="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/ServerType.html#id349531" font-style="italic">Server Security</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">13</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">13</fo:inline> <fo:basic-link external-destination="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/ServerType.html#id349531">http://samba.org/samba/docs/man/Samba-HOWTO-Collection/ServerType.html#id349531</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
          section of the Samba guide for more details.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019618992" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:inline font-style="italic">security = share:</fo:inline> allows clients to connect to shares without supplying a username and 
          password.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      The security mode you choose will depend on your environment and what you need the Samba server to accomplish.
      </fo:block></fo:block><fo:block id="samba-user-security"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Security = User</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.2.Security = User</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      This section will reconfigure the Samba file and print server, from <fo:basic-link internal-destination="samba-fileserver"><fo:inline font-style="italic">Section2, File Server</fo:inline></fo:basic-link><fo:basic-link internal-destination="samba-fileserver" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="samba-fileserver"/>]</fo:inline></fo:basic-link> and
      <fo:basic-link internal-destination="samba-printserver"><fo:inline font-style="italic">Section3, Print Server</fo:inline></fo:basic-link><fo:basic-link internal-destination="samba-printserver" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="samba-printserver"/>]</fo:inline></fo:basic-link>, to require authentication.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      First, install the libpam-winbind package which will sync the system users to the Samba
      user database:
      </fo:block><fo:block id="idm45028020285008" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install libpam-winbind</fo:inline>
</fo:block><fo:block id="idm45028020283392" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        If you chose the <fo:inline font-style="italic">Samba Server</fo:inline> task during installation libpam-winbind
        is already installed.
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/samba/smb.conf</fo:inline>, and in the <fo:inline font-style="italic">[share]</fo:inline> section change:
      </fo:block><fo:block id="idm45028020279504" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
    guest ok = no
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Finally, restart Samba for the new settings to take effect:
      </fo:block><fo:block id="idm45028020278288" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart smbd.service nmbd.service</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Now when connecting to the shared directories or printers you should be prompted for a username and password.  
      </fo:block><fo:block id="idm45028019642928" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        If you choose to map a network drive to the share you can check the <fo:inline>Reconnect at Logon</fo:inline> check 
        box, which will require you to only enter the username and password once, at least until the password changes.
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="samba-share-security"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Share Security</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.3.Share Security</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      There are several options available to increase the security for each individual shared directory.  Using the 
      <fo:inline font-style="italic">[share]</fo:inline> example, this section will cover some common options.
      </fo:block><fo:block id="windows-networking-groups"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.3.1.Groups</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Groups define a collection of computers or users which have a common level of access to particular network 
        resources and offer a level of granularity in controlling access to such resources.  For example, if a group 
        <fo:inline font-style="italic">qa</fo:inline> is defined and contains the users <fo:inline font-style="italic">freda</fo:inline>,
        <fo:inline font-style="italic">danika</fo:inline>, and <fo:inline font-style="italic">rob</fo:inline> and a second group
        <fo:inline font-style="italic">support</fo:inline> is defined and consists of users <fo:inline font-style="italic">danika</fo:inline>,
        <fo:inline font-style="italic">jeremy</fo:inline>, and <fo:inline font-style="italic">vincent</fo:inline> then certain network 
        resources configured to allow access by the <fo:inline font-style="italic">qa</fo:inline> group will subsequently enable 
        access by freda, danika, and rob, but not jeremy or vincent.  Since the user <fo:inline font-style="italic">danika</fo:inline>
        belongs to both the <fo:inline font-style="italic">qa</fo:inline> and <fo:inline font-style="italic">support</fo:inline> groups, she
        will be able to access resources configured for access by both groups, whereas all other users will have only access 
        to resources explicitly allowing the group they are part of.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        By default Samba looks for the local system groups defined in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/group</fo:inline> to determine which users
        belong to which groups.  For more information on adding and removing users from groups see 
        <fo:basic-link internal-destination="adding-deleting-users"><fo:inline font-style="italic">Section1.2, Adding and Deleting Users</fo:inline></fo:basic-link><fo:basic-link internal-destination="adding-deleting-users" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="adding-deleting-users"/>]</fo:inline></fo:basic-link>.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        When defining groups in the Samba configuration file, <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/samba/smb.conf</fo:inline>, the recognized syntax 
        is to preface the group name with an "@" symbol.  For example, if you wished to define a group named 
        <fo:inline font-style="italic">sysadmin</fo:inline> in a certain section of the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/samba/smb.conf</fo:inline>, 
        you would do so by entering the group name as <fo:inline font-weight="bold">@sysadmin</fo:inline>.
        </fo:block></fo:block><fo:block id="samba-file-permissions"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">4.3.2.File Permissions</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        File Permissions define the explicit rights a computer or user has to a particular directory, file, or set of
        files.  Such permissions may be defined by editing the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/samba/smb.conf</fo:inline> file and specifying
        the explicit permissions of a defined file share.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        For example, if you have defined a Samba share called <fo:inline font-style="italic">share</fo:inline> and wish to give 
        <fo:inline font-style="italic">read-only</fo:inline> permissions to the group of users known as 
        <fo:inline font-style="italic">qa</fo:inline>, but wanted to allow writing to the share by the group called 
        <fo:inline font-style="italic">sysadmin</fo:inline> and the user named <fo:inline font-style="italic">vincent</fo:inline>, 
        then you could edit the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/samba/smb.conf</fo:inline> file, and add the following entries under 
        the <fo:inline font-style="italic">[share]</fo:inline> entry:
        </fo:block><fo:block id="idm45028018732960" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
    read list = @qa
    write list = @sysadmin, vincent
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Another possible Samba permission is to declare <fo:inline font-style="italic">administrative</fo:inline> permissions to a
        particular shared resource.  Users having administrative permissions may read, write, or modify any information
        contained in the resource the user has been given explicit administrative permissions to.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        For example, if you wanted to give the user <fo:inline font-style="italic">melissa</fo:inline> administrative permissions to
        the <fo:inline font-style="italic">share</fo:inline> example, you would edit the 
        <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/samba/smb.conf</fo:inline> file, and add the following line under the 
        <fo:inline font-style="italic">[share]</fo:inline> entry:
        </fo:block><fo:block id="idm45028018728048" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
    admin users = melissa
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        After editing <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/samba/smb.conf</fo:inline>, restart Samba for the changes to take effect:
        </fo:block><fo:block id="idm45028018726016" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart smbd.service nmbd.service</fo:inline>
</fo:block><fo:block id="idm45028018724448" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          For the <fo:inline font-style="italic">read list</fo:inline> and <fo:inline font-style="italic">write list</fo:inline> to work the Samba security mode
          must <fo:inline font-style="italic">not</fo:inline> be set to <fo:inline font-style="italic">security = share</fo:inline>
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Now that Samba has been configured to limit which groups have access to the shared directory, the filesystem permissions
        need to be updated.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Traditional Linux file permissions do not map well to Windows NT Access Control Lists (ACLs).  Fortunately POSIX ACLs
        are available on Ubuntu servers providing more fine grained control.  For example, to enable ACLs on  
        <fo:inline font-size="8.800000000000001pt" font-family="monospace">/srv</fo:inline> an EXT3 filesystem, edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/fstab</fo:inline> adding the 
        <fo:inline font-style="italic">acl</fo:inline> option:
        </fo:block><fo:block id="idm45028018718192" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
UUID=66bcdd2e-8861-4fb0-b7e4-e61c569fe17d /srv  ext3    noatime,relatime,acl 0       1
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Then remount the partition:
        </fo:block><fo:block id="idm45028018716896" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo mount -v -o remount /srv</fo:inline>
</fo:block><fo:block id="idm45028018715280" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The above example assumes <fo:inline font-size="8.800000000000001pt" font-family="monospace">/srv</fo:inline> on a separate partition.  If <fo:inline font-size="8.800000000000001pt" font-family="monospace">/srv</fo:inline>,
          or wherever you have configured your share path, is part of the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/</fo:inline> partition a reboot may be 
          required.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        To match the Samba configuration above the <fo:inline font-style="italic">sysadmin</fo:inline> group will be given read, write, and execute
        permissions to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/srv/samba/share</fo:inline>, the <fo:inline font-style="italic">qa</fo:inline> group will be given read and execute
        permissions, and the files will be owned by the username <fo:inline font-style="italic">melissa</fo:inline>.  Enter the following in a 
        terminal:
        </fo:block><fo:block id="idm45028018709440" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo chown -R melissa /srv/samba/share/</fo:inline>
<fo:inline font-weight="bold">sudo chgrp -R sysadmin /srv/samba/share/</fo:inline>
<fo:inline font-weight="bold">sudo setfacl -R -m g:qa:rx /srv/samba/share/</fo:inline>
</fo:block><fo:block id="idm45028018706288" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The setfacl command above gives <fo:inline font-style="italic">execute</fo:inline> permissions to all files in
          the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/srv/samba/share</fo:inline> directory, which you may or may not want.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Now from a Windows client you should notice the new file permissions are implemented.  See the 
        acl and setfacl man pages for more information on POSIX ACLs.
        </fo:block></fo:block></fo:block><fo:block id="samba-apparmor"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Samba AppArmor Profile</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.4.Samba AppArmor Profile</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Ubuntu comes with the AppArmor security module, which provides mandatory access controls.
      The default AppArmor profile for Samba will need to be adapted to your configuration.  For more details on using
      AppArmor see <fo:basic-link internal-destination="apparmor"><fo:inline font-style="italic">Section4, AppArmor</fo:inline></fo:basic-link><fo:basic-link internal-destination="apparmor" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="apparmor"/>]</fo:inline></fo:basic-link>.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      There are default AppArmor profiles for <fo:inline font-size="8.800000000000001pt" font-family="monospace">/usr/sbin/smbd</fo:inline> and <fo:inline font-size="8.800000000000001pt" font-family="monospace">/usr/sbin/nmbd</fo:inline>, the
      Samba daemon binaries, as part of the apparmor-profiles packages.  To install the package,
      from a terminal prompt enter:
      </fo:block><fo:block id="idm45028018694912" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install apparmor-profiles apparmor-utils</fo:inline>
</fo:block><fo:block id="idm45028018693344" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        This package contains profiles for several other binaries.
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      By default the profiles for smbd and nmbd are in 
      <fo:inline font-style="italic">complain</fo:inline> mode allowing Samba to work without modifying the profile, and only logging errors.
      To place the smbd profile into <fo:inline font-style="italic">enforce</fo:inline> mode, and have Samba work as 
      expected, the profile will need to be modified to reflect any directories that are shared.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apparmor.d/usr.sbin.smbd</fo:inline> adding information for <fo:inline font-style="italic">[share]</fo:inline> from the
      file server example:
      </fo:block><fo:block id="idm45028018686816" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
  /srv/samba/share/ r,
  /srv/samba/share/** rwkix,
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Now place the profile into <fo:inline font-style="italic">enforce</fo:inline> and reload it:
      </fo:block><fo:block id="idm45028018685136" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo aa-enforce /usr/sbin/smbd</fo:inline>
<fo:inline font-weight="bold">cat /etc/apparmor.d/usr.sbin.smbd | sudo apparmor_parser -r</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      You should now be able to read, write, and execute files in the shared directory as normal, and the
      smbd binary will have access to only the configured files and directories.  
      Be sure to add entries for each directory you configure Samba to share.  Also, any errors will be logged
      to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/log/syslog</fo:inline>.  
      </fo:block></fo:block><fo:block id="samba-security-resources"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Resources</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.5.Resources</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028018678880" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028018678592" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          For in depth Samba configurations see the 
          <fo:basic-link external-destination="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/" font-style="italic">Samba HOWTO Collection</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">14</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">14</fo:inline> <fo:basic-link external-destination="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/">http://samba.org/samba/docs/man/Samba-HOWTO-Collection/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018677040" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The guide is also available in 
          <fo:basic-link external-destination="http://www.amazon.com/exec/obidos/tg/detail/-/0131882228" font-style="italic">printed format</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">15</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">15</fo:inline> <fo:basic-link external-destination="http://www.amazon.com/exec/obidos/tg/detail/-/0131882228">http://www.amazon.com/exec/obidos/tg/detail/-/0131882228</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018675488" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          O'Reilly's <fo:basic-link external-destination="http://www.oreilly.com/catalog/9780596007690/" font-style="italic">Using Samba</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">16</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">16</fo:inline> <fo:basic-link external-destination="http://www.oreilly.com/catalog/9780596007690/">http://www.oreilly.com/catalog/9780596007690/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> is also a good
          reference.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018673936" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:basic-link external-destination="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/securing-samba.html" font-style="italic">Chapter 18</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">17</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">17</fo:inline> <fo:basic-link external-destination="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/securing-samba.html">http://samba.org/samba/docs/man/Samba-HOWTO-Collection/securing-samba.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> 
          of the Samba HOWTO Collection is devoted to security.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018672384" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          For more information on Samba and ACLs see the
          <fo:basic-link external-destination="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/AccessControls.html#id397568" font-style="italic">Samba ACLs page
          </fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">18</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">18</fo:inline> <fo:basic-link external-destination="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/AccessControls.html#id397568">http://samba.org/samba/docs/man/Samba-HOWTO-Collection/AccessControls.html#id397568</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018670864" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The <fo:basic-link external-destination="https://help.ubuntu.com/community/Samba" font-style="italic">Ubuntu Wiki Samba </fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">19</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">19</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/Samba">https://help.ubuntu.com/community/Samba</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> page.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="samba-dc"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">As a Domain Controller</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">5.As a Domain Controller</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    Although it cannot act as an Active Directory Primary Domain Controller (PDC), a Samba server can be configured to
    appear as a Windows NT4-style domain controller.  A major advantage of this configuration is the ability to centralize 
    user and machine credentials.  Samba can also use multiple backends to store the user information.
    </fo:block><fo:block id="samba-pdc-smbpasswd"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Primary Domain Controller</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.1.Primary Domain Controller</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      This section covers configuring Samba as a Primary Domain Controller (PDC) using the default smbpasswd backend.
      </fo:block><fo:block id="idm45028018664768" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:list-block provisional-distance-between-starts="2em" provisional-label-separation="0.2em" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em"><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028018664480">1.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          First, install Samba, and libpam-winbind to sync the user accounts,
          by entering the following in a terminal prompt:
          </fo:block><fo:block id="idm45028018662496" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install samba libpam-winbind</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028018660720">2.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Next, configure Samba by editing <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/samba/smb.conf</fo:inline>. 
          The <fo:inline font-style="italic">security</fo:inline> mode should be set to <fo:inline font-style="italic">user</fo:inline>, and
          the <fo:inline font-style="italic">workgroup</fo:inline> should relate to your organization:
          </fo:block><fo:block id="idm45028018657280" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
   workgroup = EXAMPLE
   ...
   security = user
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028018656352">3.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          In the commented <fo:inline>Domains</fo:inline> section add or uncomment the following (the last line has been split to fit the format of this document):
          </fo:block><fo:block id="idm45028018654704" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
   domain logons = yes
   logon path = \\%N\%U\profile
   logon drive = H:
   logon home = \\%N\%U
   logon script = logon.cmd
   add machine script = sudo /usr/sbin/useradd -N -g machines -c Machine -d
         /var/lib/samba -s /bin/false %u
</fo:block><fo:block id="idm45028018653680" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            If you wish to not use <fo:inline font-style="italic">Roaming Profiles</fo:inline> leave the <fo:inline font-style="italic">logon home</fo:inline>
            and <fo:inline font-style="italic">logon path</fo:inline> options commented.
            </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:list-block id="idm45028018651408" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028018651120" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              <fo:inline font-style="italic">domain logons:</fo:inline> provides the netlogon service causing Samba to act as a domain controller.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018649696" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              <fo:inline font-style="italic">logon path:</fo:inline> places the user's Windows profile into their home directory.  It is also
              possible to configure a <fo:inline font-style="italic">[profiles]</fo:inline> share placing all profiles under a single directory.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018647840" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              <fo:inline font-style="italic">logon drive:</fo:inline> specifies the home directory local path.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018646528" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              <fo:inline font-style="italic">logon home:</fo:inline> specifies the home directory location.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018645216" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              <fo:inline font-style="italic">logon script:</fo:inline> determines the script to be run locally once a user has logged in.
              The script needs to be placed in the <fo:inline font-style="italic">[netlogon]</fo:inline> share. 
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018643328" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              <fo:inline font-style="italic">add machine script:</fo:inline> a script that will automatically create the 
              <fo:inline font-style="italic">Machine Trust Account</fo:inline> needed for a workstation to join the domain.
              </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              In this example the <fo:inline font-style="italic">machines</fo:inline> group will need to be created using the 
              addgroup utility see <fo:basic-link internal-destination="adding-deleting-users"><fo:inline font-style="italic">Section1.2, Adding and Deleting Users</fo:inline></fo:basic-link><fo:basic-link internal-destination="adding-deleting-users" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="adding-deleting-users"/>]</fo:inline></fo:basic-link> for details.
              </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028018639024">4.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Uncomment the <fo:inline font-style="italic">[homes]</fo:inline> share to allow the <fo:inline font-style="italic">logon home</fo:inline>
          to be mapped:
          </fo:block><fo:block id="idm45028018636736" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
[homes]
   comment = Home Directories
   browseable = no
   read only = no
   create mask = 0700
   directory mask = 0700
   valid users = %S
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028018635648">5.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          When configured as a domain controller a <fo:inline font-style="italic">[netlogon]</fo:inline> share needs to be configured.  To 
          enable the share, uncomment:
          </fo:block><fo:block id="idm45028018634176" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
[netlogon]
   comment = Network Logon Service
   path = /srv/samba/netlogon
   guest ok = yes
   read only = yes
   share modes = no
</fo:block><fo:block id="idm45028018633264" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            The original <fo:inline font-style="italic">netlogon</fo:inline> share path is <fo:inline font-size="8.800000000000001pt" font-family="monospace">/home/samba/netlogon</fo:inline>, but according 
            to the Filesystem Hierarchy Standard (FHS), 
            <fo:basic-link external-destination="http://www.pathname.com/fhs/pub/fhs-2.3.html#SRVDATAFORSERVICESPROVIDEDBYSYSTEM" font-style="italic">/srv</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">20</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">20</fo:inline> <fo:basic-link external-destination="http://www.pathname.com/fhs/pub/fhs-2.3.html#SRVDATAFORSERVICESPROVIDEDBYSYSTEM">http://www.pathname.com/fhs/pub/fhs-2.3.html#SRVDATAFORSERVICESPROVIDEDBYSYSTEM</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> is the 
            correct location for site-specific data provided by the system.
            </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028018630208">6.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Now create the <fo:inline font-size="8.800000000000001pt" font-family="monospace">netlogon</fo:inline> directory, and an empty (for now) 
          <fo:inline font-size="8.800000000000001pt" font-family="monospace">logon.cmd</fo:inline> script file:
          </fo:block><fo:block id="idm45028018627248" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo mkdir -p /srv/samba/netlogon</fo:inline>
<fo:inline font-weight="bold">sudo touch /srv/samba/netlogon/logon.cmd</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          You can enter any normal Windows logon script commands in <fo:inline font-size="8.800000000000001pt" font-family="monospace">logon.cmd</fo:inline> to customize the
          client's environment.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028018623520">7.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Restart Samba to enable the new domain controller:
          </fo:block><fo:block id="idm45028018622464" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart smbd.service nmbd.service</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028018620736">8.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Lastly, there are a few additional commands needed to setup the appropriate rights.
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          With <fo:inline font-style="italic">root</fo:inline> being disabled by default, in order to join a workstation to the domain, a system
          group needs to be mapped to the Windows <fo:inline font-style="italic">Domain Admins</fo:inline> group.  
          Using the net utility, from a terminal enter:
          </fo:block><fo:block id="idm45028018617312" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo net groupmap add ntgroup="Domain Admins" unixgroup=sysadmin rid=512 type=d</fo:inline>
</fo:block><fo:block id="idm45028018615744" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Change <fo:inline font-style="italic">sysadmin</fo:inline> to whichever group you prefer.  Also, the user
            used to join the domain needs to be a member of the <fo:inline font-style="italic">sysadmin</fo:inline> group, as well 
            as a member of the system <fo:inline font-style="italic">admin</fo:inline> group.  The <fo:inline font-style="italic">admin</fo:inline> group allows 
            sudo use.  
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            If the user does not have Samba credentials yet, you can add them with
            the smbpasswd utility, change the <fo:inline font-style="italic">sysadmin</fo:inline> username appropriately:

<fo:block id="idm45028018610432" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo smbpasswd -a sysadmin</fo:inline>
</fo:block>
            </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Also, rights need to be explicitly provided to the <fo:inline font-style="italic">Domain Admins</fo:inline> group to allow the 
          <fo:inline font-style="italic">add machine script</fo:inline> (and other admin functions) to work. This is achieved by executing:
          </fo:block><fo:block id="idm45028018607200" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">net rpc rights grant -U sysadmin "EXAMPLE\Domain Admins" SeMachineAccountPrivilege \
SePrintOperatorPrivilege SeAddUsersPrivilege SeDiskOperatorPrivilege \
SeRemoteShutdownPrivilege</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028018605280">9.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          You should now be able to join Windows clients to the Domain in the same manner as joining them to an 
          NT4 domain running on a Windows server.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="samba-bdc-smbpasswd"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Backup Domain Controller</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.2.Backup Domain Controller</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      With a Primary Domain Controller (PDC) on the network it is best to have a Backup Domain Controller (BDC) as well.
      This will allow clients to authenticate in case the PDC becomes unavailable.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      When configuring Samba as a BDC you need a way to sync account information with the PDC.  There are multiple ways of 
      accomplishing this scp, rsync, or by using LDAP as
      the <fo:inline font-style="italic">passdb backend</fo:inline>.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Using LDAP is the most robust way to sync account information, because both domain controllers can use the same information in real time.
      However, setting up a LDAP server may be overly complicated for a small number of user and computer accounts.  
      See <fo:basic-link internal-destination="samba-ldap"><fo:inline font-style="italic">Section2, Samba and LDAP</fo:inline></fo:basic-link><fo:basic-link internal-destination="samba-ldap" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="samba-ldap"/>]</fo:inline></fo:basic-link> for details.
      </fo:block><fo:block id="idm45028019151056" keep-together.within-column="auto" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em"><fo:list-block provisional-distance-between-starts="2em" provisional-label-separation="0.2em" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em"><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028019150768">1.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          First, install samba and libpam-winbind.  From a terminal enter:
          </fo:block><fo:block id="idm45028019148048" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install samba libpam-winbind</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028019146272">2.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Now, edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/samba/smb.conf</fo:inline> and uncomment the following in the <fo:inline font-style="italic">[global]</fo:inline>:
          </fo:block><fo:block id="idm45028019143920" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
   workgroup = EXAMPLE
   ...
   security = user
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028019142992">3.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        In the commented <fo:inline font-style="italic">Domains</fo:inline> uncomment or add:
        </fo:block><fo:block id="idm45028019141424" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
   domain logons = yes
   domain master = no
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028019140496">4.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Make sure a user has rights to read the files in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/lib/samba</fo:inline>.  For example, to allow users in the 
          <fo:inline font-style="italic">admin</fo:inline> group to scp the files, enter:
          </fo:block><fo:block id="idm45028019137408" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo chgrp -R admin /var/lib/samba</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028019135632">5.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Next, sync the user accounts, using scp to copy the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/lib/samba</fo:inline> 
          directory from the PDC:
          </fo:block><fo:block id="idm45028019133008" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo scp -r username@pdc:/var/lib/samba /var/lib</fo:inline>
</fo:block><fo:block id="idm45028019131440" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Replace <fo:inline font-style="italic">username</fo:inline> with a valid username and <fo:inline font-style="italic">pdc</fo:inline> with the hostname or IP Address of your
            actual PDC. 
            </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block id="idm45028019129504">6.
          </fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Finally, restart samba:
          </fo:block><fo:block id="idm45028019127600" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart smbd.service nmbd.service</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      You can test that your Backup Domain controller is working by stopping the Samba daemon on the PDC, then trying to login to a 
      Windows client joined to the domain.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Another thing to keep in mind is if you have configured the <fo:inline font-style="italic">logon home</fo:inline> option as a directory on the PDC,
      and the PDC becomes unavailable, access to the user's <fo:inline font-style="italic">Home</fo:inline> drive will also be unavailable.  For this reason
      it is best to configure the <fo:inline font-style="italic">logon home</fo:inline> to reside on a separate file server from the PDC and BDC.
      </fo:block></fo:block><fo:block id="samba-dc-resources"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Resources</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.3.Resources</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028019121856" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028019121568" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          For in depth Samba configurations see the 
          <fo:basic-link external-destination="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/" font-style="italic">Samba HOWTO Collection</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">21</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">21</fo:inline> <fo:basic-link external-destination="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/">http://samba.org/samba/docs/man/Samba-HOWTO-Collection/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019120016" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The guide is also available in 
          <fo:basic-link external-destination="http://www.amazon.com/exec/obidos/tg/detail/-/0131882228" font-style="italic">printed format</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">22</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">22</fo:inline> <fo:basic-link external-destination="http://www.amazon.com/exec/obidos/tg/detail/-/0131882228">http://www.amazon.com/exec/obidos/tg/detail/-/0131882228</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019118464" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          O'Reilly's <fo:basic-link external-destination="http://www.oreilly.com/catalog/9780596007690/" font-style="italic">Using Samba</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">23</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">23</fo:inline> <fo:basic-link external-destination="http://www.oreilly.com/catalog/9780596007690/">http://www.oreilly.com/catalog/9780596007690/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> is also a good
          reference.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019116912" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:basic-link external-destination="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/samba-pdc.html" font-style="italic">Chapter 4</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">24</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">24</fo:inline> <fo:basic-link external-destination="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/samba-pdc.html">http://samba.org/samba/docs/man/Samba-HOWTO-Collection/samba-pdc.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> 
          of the Samba HOWTO Collection explains setting up a Primary Domain Controller.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019115248" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:basic-link external-destination="http://us3.samba.org/samba/docs/man/Samba-HOWTO-Collection/samba-bdc.html" font-style="italic">Chapter 5</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">25</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">25</fo:inline> <fo:basic-link external-destination="http://us3.samba.org/samba/docs/man/Samba-HOWTO-Collection/samba-bdc.html">http://us3.samba.org/samba/docs/man/Samba-HOWTO-Collection/samba-bdc.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> 
          of the Samba HOWTO Collection explains setting up a Backup Domain Controller.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019113584" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The <fo:basic-link external-destination="https://help.ubuntu.com/community/Samba" font-style="italic">Ubuntu Wiki Samba </fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">26</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">26</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/Samba">https://help.ubuntu.com/community/Samba</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> page.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="samba-ad-integration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Active Directory Integration</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">6.Active Directory Integration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="ad-integration-samba-share"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Accessing a Samba Share</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">6.1.Accessing a Samba Share</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Another, use for Samba is to integrate into an existing Windows network.  Once part of an Active Directory domain,
      Samba can provide file and print services to AD users.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      The simplest way to join an AD domain is to use Likewise-open.  For detailed instructions
      see the <fo:basic-link external-destination="http://www.beyondtrust.com/Technical-Support/Downloads/files/pbiso/Manuals/ubuntu-active-directory.html" font-style="italic"> 
      Likewise Open documentation</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">27</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">27</fo:inline> <fo:basic-link external-destination="http://www.beyondtrust.com/Technical-Support/Downloads/files/pbiso/Manuals/ubuntu-active-directory.html">http://www.beyondtrust.com/Technical-Support/Downloads/files/pbiso/Manuals/ubuntu-active-directory.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Once part of the Active Directory domain, enter the following command in the terminal prompt:
      </fo:block><fo:block id="idm45028019105632" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install samba cifs-utils smbclient</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Next, edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/samba/smb.conf</fo:inline> changing:
      </fo:block><fo:block id="idm45028019102816" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
   workgroup = EXAMPLE
   ...
   security = ads
   realm = EXAMPLE.COM
   ...
   idmap backend = lwopen
   idmap uid = 50-9999999999
   idmap gid = 50-9999999999
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Restart samba for the new settings to take effect:
      </fo:block><fo:block id="idm45028019100656" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart smbd.service nmbd.service</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      You should now be able to access any Samba shares from a Windows client.  However, be sure to give
      the appropriate AD users or groups access to the share directory.  See <fo:basic-link internal-destination="samba-fileprint-security"><fo:inline font-style="italic">Section4, Securing File and Print Server</fo:inline></fo:basic-link><fo:basic-link internal-destination="samba-fileprint-security" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="samba-fileprint-security"/>]</fo:inline></fo:basic-link> for 
      more details.
      </fo:block></fo:block><fo:block id="ad-integration-windows-share"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Accessing a Windows Share</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">6.2.Accessing a Windows Share</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Now that the Samba server is part of the Active Directory domain you can access any Windows server shares:
      </fo:block><fo:list-block id="idm45028019095088" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028019094800" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          To mount a Windows file share enter the following in a terminal prompt:
          </fo:block><fo:block id="idm45028019093984" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">mount.cifs //fs01.example.com/share mount_point</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          It is also possible to access shares on computers not part of an AD domain, but a username and password 
          will need to be provided.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019091664" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          To mount the share during boot place an entry in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/fstab</fo:inline>, for example:
          </fo:block><fo:block id="idm45028019090144" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
//192.168.0.5/share /mnt/windows cifs auto,username=steve,password=secret,rw 0        0
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019089104" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Another way to copy files from a Windows server is to use the smbclient utility.  To 
          list the files in a Windows share:
          </fo:block><fo:block id="idm45028019087632" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">smbclient //fs01.example.com/share -k -c "ls"</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019085904" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          To copy a file from the share, enter:
          </fo:block><fo:block id="idm45028019085200" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">smbclient //fs01.example.com/share -k -c "get file.txt"</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          This will copy the <fo:inline font-size="8.800000000000001pt" font-family="monospace">file.txt</fo:inline> into the current directory.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019082192" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          And to copy a file to the share:
          </fo:block><fo:block id="idm45028019081488" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">smbclient //fs01.example.com/share -k -c "put /etc/hosts hosts"</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          This will copy the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/hosts</fo:inline> to <fo:inline font-size="8.800000000000001pt" font-family="monospace">//fs01.example.com/share/hosts</fo:inline>.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019077680" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The <fo:inline font-style="italic">-c</fo:inline> option used above allows you to execute the smbclient command
          all at once.  This is useful for scripting and minor file operations.  To enter the <fo:inline font-style="italic">smb: \&gt;</fo:inline>
          prompt, a FTP like prompt where you can execute normal file and directory commands, simply execute:
          </fo:block><fo:block id="idm45028019075088" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">smbclient //fs01.example.com/share -k</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block id="idm45028019073152" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Replace all instances of <fo:inline font-style="italic">fs01.example.com/share</fo:inline>, <fo:inline font-style="italic">//192.168.0.5/share</fo:inline>, 
        <fo:inline font-style="italic">username=steve,password=secret</fo:inline>, and <fo:inline font-style="italic">file.txt</fo:inline> with your server's IP, hostname, 
        share name, file name, and an actual username and password with rights to the share.
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="ad-integration-resources"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Resources</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">6.3.Resources</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      For more smbclient options see the man page: <fo:inline font-weight="bold">man smbclient</fo:inline>, also available
      <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/xenial/en/man1/smbclient.1.html" font-style="italic">online</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">28</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">28</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/xenial/en/man1/smbclient.1.html">http://manpages.ubuntu.com/manpages/xenial/en/man1/smbclient.1.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      The mount.cifs 
      <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/xenial/en/man8/mount.cifs.8.html" font-style="italic">man page</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">29</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">29</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/xenial/en/man8/mount.cifs.8.html">http://manpages.ubuntu.com/manpages/xenial/en/man8/mount.cifs.8.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> is also useful for 
      more detailed information.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      The <fo:basic-link external-destination="https://help.ubuntu.com/community/Samba" font-style="italic">Ubuntu Wiki Samba </fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">30</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">30</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/Samba">https://help.ubuntu.com/community/Samba</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> page.
      </fo:block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Backups</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Backups</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-inner-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block id="backups"><fo:block font-family="serif,Symbol"><fo:block margin-left="0pc"><fo:block font-size="24.8832pt" font-weight="bold"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0pc" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">Chapter19.Backups</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
  There are many ways to backup an Ubuntu installation.  The most important thing about backups is to develop a  
  <fo:inline font-style="italic">backup plan</fo:inline> consisting of what to backup, where to back it up to, and how to restore it. 
  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
  The following sections discuss various ways of accomplishing these tasks.
  </fo:block><fo:block id="backup-shellscripts"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Shell Scripts</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">1.Shell Scripts</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    One of the simplest ways to backup a system is using a <fo:inline font-style="italic">shell script</fo:inline>.  For example, a script can be used to configure 
    which directories to backup, and pass those directories as arguments to the tar utility, which creates
    an archive file. The archive file can then be moved or copied to another location.  The archive can also be created on a remote 
    file system such as an <fo:inline font-style="italic">NFS</fo:inline> mount.
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    The tar utility creates one archive file out of many files or directories.  tar 
    can also filter the files through compression utilities, thus reducing the size of the archive file.  
    </fo:block><fo:block id="backup-shellscript"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Simple Shell Script</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.1.Simple Shell Script</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      The following shell script uses tar to create an archive file on a remotely mounted NFS file system. 
      The archive filename is determined using additional command line utilities.
      </fo:block><fo:block id="idm45028025426880" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
#!/bin/bash
####################################
#
# Backup to NFS mount script.
#
####################################

# What to backup. 
backup_files="/home /var/spool/mail /etc /root /boot /opt"

# Where to backup to.
dest="/mnt/backup"

# Create archive filename.
day=$(date +%A)
hostname=$(hostname -s)
archive_file="$hostname-$day.tgz"

# Print start status message.
echo "Backing up $backup_files to $dest/$archive_file"
date
echo

# Backup the files using tar.
tar czf $dest/$archive_file $backup_files

# Print end status message.
echo
echo "Backup finished"
date

# Long listing of files in $dest to check file sizes.
ls -lh $dest
</fo:block><fo:list-block id="idm45028025270624" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028024920192" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
       	  <fo:inline font-style="italic">$backup_files:</fo:inline> a variable listing which directories you would like to backup.
          The list should be customized to fit your needs.  
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028027051152" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
     	  <fo:inline font-style="italic">$day:</fo:inline> a variable holding the day of the week (Monday, Tuesday, Wednesday, etc).  This is used to create 
          an archive file for each day of the week, giving a backup history of seven days.  There are other ways to accomplish
          this including using the date utility. 
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028027755776" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
   	  <fo:inline font-style="italic">$hostname:</fo:inline> variable containing the <fo:inline font-style="italic">short</fo:inline> hostname of the system.  Using 
          the hostname in the archive filename gives you the option of placing daily archive files from multiple systems in the 
          same directory.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028027524176" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
     	  <fo:inline font-style="italic">$archive_file:</fo:inline> the full archive filename.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028035435520" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
   	  <fo:inline font-style="italic">$dest:</fo:inline> destination of the archive file.  The directory needs to be created and in this case 
          <fo:inline font-style="italic">mounted</fo:inline> before executing the backup script.  See <fo:basic-link internal-destination="network-file-system"><fo:inline font-style="italic">Section2, Network File System (NFS)</fo:inline></fo:basic-link><fo:basic-link internal-destination="network-file-system" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="network-file-system"/>]</fo:inline></fo:basic-link> for details of
          using <fo:inline font-style="italic">NFS</fo:inline>.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028027752864" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
     	  <fo:inline font-style="italic">status messages:</fo:inline> optional messages printed to the console using the echo
          utility.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024764368" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
   	  <fo:inline font-style="italic">tar czf $dest/$archive_file $backup_files:</fo:inline> the tar command used to create the 
          archive file.  
          </fo:block><fo:list-block id="idm45028032546208" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028026745408" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
       	      <fo:inline font-style="italic">c:</fo:inline> creates an archive. 
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026316672" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
     	      <fo:inline font-style="italic">z:</fo:inline> filter the archive through the gzip utility compressing the archive.   
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019239344" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      	      <fo:inline font-style="italic">f:</fo:inline> output to an archive file.  Otherwise the tar output will be sent to STDOUT.
              </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020595408" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
     	  <fo:inline font-style="italic">ls -lh $dest:</fo:inline> optional statement prints a <fo:inline font-style="italic">-l</fo:inline> long listing in <fo:inline font-style="italic">-h</fo:inline>
          human readable format of the destination directory.  This is useful for a quick file size check of the archive file.  
          This check should not replace testing the archive file.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      This is a simple example of a backup shell script; however there are many options that can be included in such a script.
      See <fo:basic-link internal-destination="backup-shellscript-references"><fo:inline font-style="italic">Section1.4, References</fo:inline></fo:basic-link><fo:basic-link internal-destination="backup-shellscript-references" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="backup-shellscript-references"/>]</fo:inline></fo:basic-link> for links to resources providing more in-depth shell scripting information.
      </fo:block></fo:block><fo:block id="backup-executing-shellscript"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Executing the Script</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.2.Executing the Script</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="backup-script-execute-shell"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.2.1.Executing from a Terminal</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The simplest way of executing the above backup script is to copy and paste the contents into a file.  <fo:inline font-size="8.800000000000001pt" font-family="monospace">backup.sh</fo:inline> 
        for example. The file must be made executable:
	</fo:block><fo:block id="idm45028029791296" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">chmod u+x backup.sh</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Then from a terminal prompt:  
        </fo:block><fo:block id="idm45028026295216" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ./backup.sh</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        This is a great way to test the script to make sure everything works as expected.
        </fo:block></fo:block><fo:block id="backup-script-execute-cron"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.2.2.Executing with cron</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The cron utility can be used to automate the script execution.  The cron daemon 
        allows the execution of scripts, or commands, at a specified time and date.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        cron is configured through entries in a <fo:inline font-size="8.800000000000001pt" font-family="monospace">crontab</fo:inline> file. 
        <fo:inline font-size="8.800000000000001pt" font-family="monospace">crontab</fo:inline> files are separated into fields:
        </fo:block><fo:block id="idm45028023109680" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
# m h dom mon dow   command
</fo:block><fo:list-block id="idm45028028165456" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028028260816" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:inline font-style="italic">m:</fo:inline> minute the command executes on, between 0 and 59.
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026264080" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:inline font-style="italic">h:</fo:inline> hour the command executes on, between 0 and 23.
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019560608" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:inline font-style="italic">dom:</fo:inline> day of month the command executes on.
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028028444080" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:inline font-style="italic">mon:</fo:inline> the month the command executes on, between 1 and 12.
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029129424" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:inline font-style="italic">dow:</fo:inline> the day of the week the command executes on, between 0 and 7. Sunday may be specified by using 0 or 7, both values are valid.
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029580960" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:inline font-style="italic">command:</fo:inline> the command to execute.
            </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        To add or change entries in a <fo:inline font-size="8.800000000000001pt" font-family="monospace">crontab</fo:inline> file the crontab -e command should be used.  Also,
        the contents of a <fo:inline font-size="8.800000000000001pt" font-family="monospace">crontab</fo:inline> file can be viewed using the crontab -l command.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        To execute the backup.sh script listed above using cron.  Enter the following 
        from a terminal prompt:
        </fo:block><fo:block id="idm45028026337392" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo crontab -e</fo:inline>
</fo:block><fo:block id="idm45028030446416" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Using sudo with the crontab -e command edits the <fo:inline font-style="italic">root</fo:inline> user's crontab.  
          This is necessary if you are backing up directories only the root user has access to.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Add the following entry to the <fo:inline font-size="8.800000000000001pt" font-family="monospace">crontab</fo:inline> file:
        </fo:block><fo:block id="idm45028019621856" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
# m h dom mon dow   command
0 0 * * * bash /usr/local/bin/backup.sh
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The backup.sh script will now be executed every day at 12:00 am. 
        </fo:block><fo:block id="idm45028029603456" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The backup.sh script will need to be copied to the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/usr/local/bin/</fo:inline> directory in order for 
          this entry to execute properly.  The script can reside anywhere on the file system, simply change the script path appropriately.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        For more in-depth crontab options see <fo:basic-link internal-destination="backup-shellscript-references"><fo:inline font-style="italic">Section1.4, References</fo:inline></fo:basic-link><fo:basic-link internal-destination="backup-shellscript-references" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="backup-shellscript-references"/>]</fo:inline></fo:basic-link>.
        </fo:block></fo:block></fo:block><fo:block id="backup-shellscript-archive-testing"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Restoring from the Archive</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.3.Restoring from the Archive</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Once an archive has been created it is important to test the archive.  The archive can be tested by listing the files
      it contains, but the best test is to <fo:inline font-style="italic">restore</fo:inline> a file from the archive.
      </fo:block><fo:list-block id="idm45028022750576" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028022980016" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          To see a listing of the archive contents.  From a terminal prompt type:
          </fo:block><fo:block id="idm45028020151024" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">tar -tzvf /mnt/backup/host-Monday.tgz</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024757648" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          To restore a file from the archive to a different directory enter:
          </fo:block><fo:block id="idm45028026867200" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">tar -xzvf /mnt/backup/host-Monday.tgz -C /tmp etc/hosts</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The <fo:inline font-style="italic">-C</fo:inline> option to tar redirects the extracted files to the specified directory.  The above 
          example will extract the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/hosts</fo:inline> file to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/tmp/etc/hosts</fo:inline>.  tar
          recreates the directory structure that it contains.
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Also, notice the leading <fo:inline font-style="italic">"/"</fo:inline> is left off the path of the file to restore.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028027873872" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          To restore all files in the archive enter the following:
          </fo:block><fo:block id="idm45028019325168" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">cd /</fo:inline>
<fo:inline font-weight="bold">sudo tar -xzvf /mnt/backup/host-Monday.tgz</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block id="idm45028026247184" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        This will overwrite the files currently on the file system.
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="backup-shellscript-references"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">References</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.4.References</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028028544976" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028022899200" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          For more information on shell scripting see the <fo:basic-link external-destination="http://tldp.org/LDP/abs/html/" font-style="italic">Advanced Bash-Scripting Guide</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline> <fo:basic-link external-destination="http://tldp.org/LDP/abs/html/">http://tldp.org/LDP/abs/html/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028028564224" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The book <fo:basic-link external-destination="http://safari.samspublishing.com/0672323583" font-style="italic">Teach Yourself Shell Programming in 24 Hours</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline> <fo:basic-link external-destination="http://safari.samspublishing.com/0672323583">http://safari.samspublishing.com/0672323583</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> is available
          online and a great resource for shell scripting.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024500032" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The <fo:basic-link external-destination="https://help.ubuntu.com/community/CronHowto" font-style="italic">CronHowto Wiki Page</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/CronHowto">https://help.ubuntu.com/community/CronHowto</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> contains details on advanced 
          cron
          options.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028028702368" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          See the <fo:basic-link external-destination="http://www.gnu.org/software/tar/manual/index.html" font-style="italic">GNU tar Manual</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline> <fo:basic-link external-destination="http://www.gnu.org/software/tar/manual/index.html">http://www.gnu.org/software/tar/manual/index.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> for more 
          tar options.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023168656" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The Wikipedia <fo:basic-link external-destination="http://en.wikipedia.org/wiki/Backup_rotation_scheme" font-style="italic">Backup Rotation Scheme</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline> <fo:basic-link external-destination="http://en.wikipedia.org/wiki/Backup_rotation_scheme">http://en.wikipedia.org/wiki/Backup_rotation_scheme</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> article contains
          information on other backup rotation schemes.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025474528" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The shell script uses tar to create the archive, but there many other command line utilities 
        that can be used.  For example:
        </fo:block><fo:list-block id="idm45028018809136" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028018808848" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	      <fo:basic-link external-destination="http://www.gnu.org/software/cpio/" font-style="italic">cpio</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline> <fo:basic-link external-destination="http://www.gnu.org/software/cpio/">http://www.gnu.org/software/cpio/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>: used to copy files to and from archives.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018807248" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              <fo:basic-link external-destination="http://www.gnu.org/software/coreutils/" font-style="italic">dd</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">7</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">7</fo:inline> <fo:basic-link external-destination="http://www.gnu.org/software/coreutils/">http://www.gnu.org/software/coreutils/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>: part of the coreutils 
              package.  A low level utility that can copy data from one format to another.
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018804720" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              <fo:basic-link external-destination="http://www.rsnapshot.org/" font-style="italic">rsnapshot</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">8</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">8</fo:inline> <fo:basic-link external-destination="http://www.rsnapshot.org/">http://www.rsnapshot.org/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>: a file system snapshot utility used to create 
              copies of an entire file system. 
              </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020296192" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              <fo:basic-link external-destination="http://www.samba.org/ftp/rsync/rsync.html" font-style="italic">rsync</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">9</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">9</fo:inline> <fo:basic-link external-destination="http://www.samba.org/ftp/rsync/rsync.html">http://www.samba.org/ftp/rsync/rsync.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>:
              a flexible utility used to create incremental copies of files.
              </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="backups-shellscripts-rotation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Archive Rotation</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">2.Archive Rotation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    The shell script in <fo:basic-link internal-destination="backup-shellscripts"><fo:inline font-style="italic">Section1, Shell Scripts</fo:inline></fo:basic-link><fo:basic-link internal-destination="backup-shellscripts" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="backup-shellscripts"/>]</fo:inline></fo:basic-link> only allows for seven different archives.  For
    a server whose data doesn't change often, this may be enough.  If the server has a large amount of data, a more 
    complex rotation scheme should be used.
    </fo:block><fo:block id="backups-nfs-rotation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Rotating NFS Archives</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.1.Rotating NFS Archives</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      In this section, the shell script will be slightly modified to implement a grandfather-father-son rotation scheme 
      (monthly-weekly-daily): 
      </fo:block><fo:list-block id="idm45028020289264" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028020288976" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The rotation will do a <fo:inline font-style="italic">daily</fo:inline> backup Sunday through Friday. 
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020337216" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          On Saturday a <fo:inline font-style="italic">weekly</fo:inline> backup is done giving you four weekly backups a month.  
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020335888" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The <fo:inline font-style="italic">monthly</fo:inline> backup is done on the first of the month rotating two monthly backups based 
          on if the month is odd or even.  
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Here is the new script:
      </fo:block><fo:block id="idm45028020333808" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
#!/bin/bash
####################################
#
# Backup to NFS mount script with
# grandfather-father-son rotation.
#
####################################

# What to backup. 
backup_files="/home /var/spool/mail /etc /root /boot /opt"

# Where to backup to.
dest="/mnt/backup"

# Setup variables for the archive filename.
day=$(date +%A)
hostname=$(hostname -s)

# Find which week of the month 1-4 it is.
day_num=$(date +%d)
if (( $day_num &lt;= 7 )); then
        week_file="$hostname-week1.tgz"
elif (( $day_num &gt; 7 &amp;&amp; $day_num &lt;= 14 )); then
        week_file="$hostname-week2.tgz"
elif (( $day_num &gt; 14 &amp;&amp; $day_num &lt;= 21 )); then
        week_file="$hostname-week3.tgz"
elif (( $day_num &gt; 21 &amp;&amp; $day_num &lt; 32 )); then
        week_file="$hostname-week4.tgz"
fi

# Find if the Month is odd or even.
month_num=$(date +%m)
month=$(expr $month_num % 2)
if [ $month -eq 0 ]; then
        month_file="$hostname-month2.tgz"
else
        month_file="$hostname-month1.tgz"
fi

# Create archive filename.
if [ $day_num == 1 ]; then
	archive_file=$month_file
elif [ $day != "Saturday" ]; then
        archive_file="$hostname-$day.tgz"
else 
	archive_file=$week_file
fi

# Print start status message.
echo "Backing up $backup_files to $dest/$archive_file"
date
echo

# Backup the files using tar.
tar czf $dest/$archive_file $backup_files

# Print end status message.
echo
echo "Backup finished"
date

# Long listing of files in $dest to check file sizes.
ls -lh $dest/
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      The script can be executed using the same methods as in <fo:basic-link internal-destination="backup-executing-shellscript"><fo:inline font-style="italic">Section1.2, Executing the Script</fo:inline></fo:basic-link><fo:basic-link internal-destination="backup-executing-shellscript" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="backup-executing-shellscript"/>]</fo:inline></fo:basic-link>.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> 
      It is good practice to take backup media off-site in case of a disaster.  In the shell script example the backup 
      media is another server providing an NFS share.  In all likelihood taking the NFS server to another location would not
      be practical.  
      Depending upon connection speeds it may be an option to copy the archive file over a WAN link to a server in another location.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> 
      Another option is to copy the archive file to an external hard drive which can then be taken off-site.  
      Since the price of external hard drives continue to decrease, it may be cost-effective to use two drives for each archive level.  
      This would allow you to have one external drive attached to the backup server and one in another location.
      </fo:block></fo:block><fo:block id="backup-shellscript-tapedrive"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Tape Drives</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.2.Tape Drives</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> 
      A tape drive attached to the server can be used instead of an NFS share.  Using a tape drive simplifies archive rotation, and
      makes taking the media off-site easier as well.  
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> 
      When using a tape drive, the filename portions of the script aren't needed because the data is sent directly to the tape device.
      Some commands to manipulate the tape are needed.  This is accomplished using mt, a magnetic tape
      control utility part of the cpio package.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> 
      Here is the shell script modified to use a tape drive:
      </fo:block><fo:block id="idm45028019473248" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
#!/bin/bash
####################################
#
# Backup to tape drive script.
#
####################################

# What to backup. 
backup_files="/home /var/spool/mail /etc /root /boot /opt"

# Where to backup to.
dest="/dev/st0"

# Print start status message.
echo "Backing up $backup_files to $dest"
date
echo

# Make sure the tape is rewound.
mt -f $dest rewind

# Backup the files using tar.
tar czf $dest $backup_files

# Rewind and eject the tape.
mt -f $dest rewoffl

# Print end status message.
echo
echo "Backup finished"
date
</fo:block><fo:block id="idm45028019471920" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The default device name for a SCSI tape drive is <fo:inline font-size="8.800000000000001pt" font-family="monospace">/dev/st0</fo:inline>.  Use the appropriate device path for your 
        system.
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Restoring from a tape drive is basically the same as restoring from a file.  Simply rewind the tape and use the device path 
      instead of a file path.  For example to restore the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/hosts</fo:inline> file to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/tmp/etc/hosts</fo:inline>:
      </fo:block><fo:block id="idm45028019468064" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">mt -f /dev/st0 rewind</fo:inline>
<fo:inline font-weight="bold">tar -xzf /dev/st0 -C /tmp etc/hosts</fo:inline>
</fo:block></fo:block></fo:block><fo:block id="bacula"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Bacula</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">3.Bacula</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    Bacula is a backup program enabling you to backup, restore, and verify data across your network. There are Bacula 
    clients for Linux, Windows, and Mac OS X - making it a cross-platform network wide solution.
    </fo:block><fo:block id="bacula-overview"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Overview</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.1.Overview</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Bacula is made up of several components and services used to manage which files to backup and backup locations:
      </fo:block><fo:list-block id="idm45028019036080" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028019035792" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Bacula Director: a service that controls all backup, restore, verify, and archive operations.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019034016" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Bacula Console: an application allowing communication with the Director. There are three versions of the 
          Console:
          </fo:block><fo:list-block id="idm45028019032368" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028019032080" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Text based command line version.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019031488" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Gnome based GTK+ Graphical User Interface (GUI) interface.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019030944" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">wxWidgets GUI interface.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019030032" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Bacula File: also known as the Bacula Client program. 
          This application is installed on machines to be backed up, and is responsible for the data requested by the Director. 
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019027408" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  Bacula Storage: the programs that perform the storage and recovery of data to the physical media.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019025632" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  Bacula Catalog: is responsible for maintaining the file indexes and volume databases for all files backed up,  
          enabling quick location and restoration of archived files. The Catalog supports three different databases MySQL, PostgreSQL, and SQLite.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019023696" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  Bacula Monitor: allows the monitoring of the Director, File daemons, and Storage daemons. 
          Currently the Monitor is only available as a GTK+ GUI application.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      These services and applications can be run on multiple servers and clients, or they can be installed on one machine if backing up a 
      single disk or volume.
      </fo:block></fo:block><fo:block id="bacula-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.2.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="idm45028019019616" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        If using MySQL or PostgreSQL as your database, you should already have the services available.
        Bacula will not install them for you.
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      There are multiple packages containing the different Bacula components. To install Bacula,
      from a terminal prompt enter:
      </fo:block><fo:block id="idm45028019016672" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install bacula</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      By default installing the bacula package will use a 
      MySQL database for the Catalog. If you want to use SQLite or 
      PostgreSQL, for the Catalog, install bacula-director-sqlite3 
      or bacula-director-pgsql respectively.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      During the install process you will be asked to supply credentials for the 
      database <fo:inline font-style="italic">administrator</fo:inline> and the <fo:inline font-style="italic">bacula</fo:inline> 
      database <fo:inline font-style="italic">owner</fo:inline>. The database administrator will need to have 
      the appropriate rights to create a database, see <fo:basic-link internal-destination="mysql"><fo:inline font-style="italic">Section1, MySQL</fo:inline></fo:basic-link><fo:basic-link internal-destination="mysql" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="mysql"/>]</fo:inline></fo:basic-link> for more 
      information.
      </fo:block></fo:block><fo:block id="bacula-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.3.Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Bacula configuration files are formatted based on <fo:inline font-style="italic">resources</fo:inline> comprising of 
      <fo:inline font-style="italic">directives</fo:inline> surrounded by <fo:inline>{}</fo:inline> braces.  Each Bacula component has an individual file in the
      <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/bacula</fo:inline> directory.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      The various Bacula components must authorize themselves to each other. This is accomplished using the 
      <fo:inline font-style="italic">password</fo:inline> directive. For example, the <fo:inline font-style="italic">Storage</fo:inline> resource password in the 
      <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/bacula/bacula-dir.conf</fo:inline> file must match the <fo:inline font-style="italic">Director</fo:inline> resource password in 
      <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/bacula/bacula-sd.conf</fo:inline>.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      By default the backup job named <fo:inline font-style="italic">Client1</fo:inline> is configured to archive the Bacula Catalog. 
      If you plan on using the server to backup more than one client you should change the name of this job to something more descriptive. 
      To change the name edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/bacula/bacula-dir.conf</fo:inline>:
      </fo:block><fo:block id="idm45028018996656" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
#
# Define the main nightly save backup job
#   By default, this job will back up to disk in 
Job {
  Name = "BackupServer"
  JobDefs = "DefaultJob"
  Write Bootstrap = "/var/lib/bacula/Client1.bsr"
}
</fo:block><fo:block id="idm45028018995664" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	The example above changes the job name to <fo:inline font-style="italic">BackupServer</fo:inline> matching the machine's host name.  Replace 
        <fo:inline>BackupServer</fo:inline> with your appropriate hostname, or other descriptive name.
	</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      The <fo:inline font-style="italic">Console</fo:inline> can be used to query the <fo:inline font-style="italic">Director</fo:inline> about jobs, but to use the Console with a 
      <fo:inline font-style="italic">non-root</fo:inline> user, the user needs to be in the <fo:inline font-style="italic">bacula</fo:inline> group. To add a user to the bacula group 
      enter the following from a terminal:
      </fo:block><fo:block id="idm45028018991648" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo adduser $username bacula</fo:inline>
</fo:block><fo:block id="idm45028018990032" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Replace <fo:inline font-style="italic">$username</fo:inline> with the actual username.  Also, if you are adding the current user to the group you should 
        log out and back in for the new permissions to take effect.
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="bacula-localhost-backup"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Localhost Backup</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.4.Localhost Backup</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      This section describes how to backup specified directories on a single host to a local tape drive.
      </fo:block><fo:list-block id="idm45028018986512" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028018986224" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          First, the <fo:inline font-style="italic">Storage</fo:inline> device needs to be configured. Edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/bacula/bacula-sd.conf</fo:inline> add:
          </fo:block><fo:block id="idm45028018984208" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
Device {
  Name = "Tape Drive"
  Device Type = tape
  Media Type = DDS-4
  Archive Device = /dev/st0
  Hardware end of medium = No;
  AutomaticMount = yes;               # when device opened, read it
  AlwaysOpen = Yes;
  RemovableMedia = yes;
  RandomAccess = no;
  Alert Command = "sh -c 'tapeinfo -f %c | grep TapeAlert'"
}
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The example is for a <fo:inline font-style="italic">DDS-4</fo:inline> tape drive.  Adjust the <fo:inline>Media Type</fo:inline> and <fo:inline>Archive Device</fo:inline> to match your hardware.
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          You could also uncomment one of the other examples in the file.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018980672" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          After editing <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/bacula/bacula-sd.conf</fo:inline> the Storage daemon will need to be 
          restarted:
          </fo:block><fo:block id="idm45028018978336" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart bacula-sd.service</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018976608" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Now add a <fo:inline font-style="italic">Storage</fo:inline> resource in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/bacula/bacula-dir.conf</fo:inline> to use the new Device:
          </fo:block><fo:block id="idm45028018974592" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
# Definition of "Tape Drive" storage device
Storage {
  Name = TapeDrive
  # Do not use "localhost" here    
  Address = backupserver               # N.B. Use a fully qualified name here
  SDPort = 9103
  Password = "Cv70F6pf1t6pBopT4vQOnigDrR0v3LT3Cgkiyjc"
  Device = "Tape Drive"
  Media Type = tape
}
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The <fo:inline font-style="italic">Address</fo:inline> directive needs to be the Fully Qualified Domain Name (FQDN) of the server. 
          Change <fo:inline font-style="italic">backupserver</fo:inline> to the actual host name.
          </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Also, make sure the <fo:inline font-style="italic">Password</fo:inline> directive matches the password string in 
          <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/bacula/bacula-sd.conf</fo:inline>. 
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018970208" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Create a new <fo:inline font-style="italic">FileSet</fo:inline>, which will determine what directories to backup, by adding:
          </fo:block><fo:block id="idm45028018969040" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
# LocalhostBacup FileSet.
FileSet {
  Name = "LocalhostFiles"
  Include {
    Options {
      signature = MD5
      compression=GZIP
    }
    File = /etc
    File = /home
  }
}
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          This <fo:inline font-style="italic">FileSet</fo:inline> will backup the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc</fo:inline> and 
          <fo:inline font-size="8.800000000000001pt" font-family="monospace">/home</fo:inline> directories.  The <fo:inline font-style="italic">Options</fo:inline> resource directives 
          configure the FileSet to create an MD5 signature for each file backed up, and to compress the files using GZIP.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018964288" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Next, create a new <fo:inline font-style="italic">Schedule</fo:inline> for the backup job:
          </fo:block><fo:block id="idm45028018963072" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
# LocalhostBackup Schedule -- Daily.
Schedule {
  Name = "LocalhostDaily"
  Run = Full daily at 00:01
}
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The job will run every day at 00:01 or 12:01 am. There are many other scheduling options available.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018961456" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Finally create the <fo:inline font-style="italic">Job</fo:inline>:
          </fo:block><fo:block id="idm45028018960256" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
# Localhost backup.
Job {
  Name = "LocalhostBackup"
  JobDefs = "DefaultJob"
  Enabled = yes
  Level = Full
  FileSet = "LocalhostFiles"
  Schedule = "LocalhostDaily"
  Storage = TapeDrive
  Write Bootstrap = "/var/lib/bacula/LocalhostBackup.bsr"
}  
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The job will do a <fo:inline font-style="italic">Full</fo:inline> backup every day to the tape drive.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018958176" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Each tape used will need to have a <fo:inline font-style="italic">Label</fo:inline>. If the current tape does not have a label 
          Bacula will send an email letting you know. To label a tape using the 
          Console enter the following from a terminal:
          </fo:block><fo:block id="idm45028018955520" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">bconsole</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018953760" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          At the Bacula Console prompt enter:
          </fo:block><fo:block id="idm45028018953056" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">label</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018951296" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          You will then be prompted for the <fo:inline font-style="italic">Storage</fo:inline> resource:
          </fo:block><fo:block id="idm45028018950144" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-size="8.800000000000001pt" font-family="monospace">
Automatically selected Catalog: MyCatalog
Using Catalog "MyCatalog"
The defined Storage resources are:
     1: File
     2: TapeDrive
Select Storage resource (1-2):<fo:inline font-weight="bold" font-size="8.800000000000001pt" font-family="monospace">2</fo:inline>
</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018947440" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Enter the new <fo:inline font-style="italic">Volume</fo:inline> name:
          </fo:block><fo:block id="idm45028018946240" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-size="8.800000000000001pt" font-family="monospace">
Enter new Volume name: <fo:inline font-weight="bold" font-size="8.800000000000001pt" font-family="monospace">Sunday</fo:inline>
Defined Pools:
     1: Default
     2: Scratch</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Replace <fo:inline font-style="italic">Sunday</fo:inline> with the desired label.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018942784" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  Now, select the <fo:inline font-style="italic">Pool</fo:inline>:
          </fo:block><fo:block id="idm45028018941600" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-size="8.800000000000001pt" font-family="monospace">
Select the Pool (1-2): <fo:inline font-weight="bold" font-size="8.800000000000001pt" font-family="monospace">1</fo:inline>
Connecting to Storage daemon TapeDrive at backupserver:9103 ...
Sending label command for Volume "Sunday" Slot 0 ...
</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Congratulations, you have now configured <fo:inline font-style="italic">Bacula</fo:inline> to backup the localhost to an attached tape drive.
      </fo:block></fo:block><fo:block id="bacula-resources"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Resources</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.5.Resources</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028018936464" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028018936176" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  For more <fo:inline font-style="italic">Bacula</fo:inline> configuration options, refer to 
          <fo:basic-link external-destination="http://blog.bacula.org/documentation/documentation/" font-style="italic">Bacula's
          Documentation</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">10</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">10</fo:inline> <fo:basic-link external-destination="http://blog.bacula.org/documentation/documentation/">http://blog.bacula.org/documentation/documentation/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018934160" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The <fo:basic-link external-destination="http://www.bacula.org/" font-style="italic">Bacula Home Page</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">11</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">11</fo:inline> <fo:basic-link external-destination="http://www.bacula.org/">http://www.bacula.org/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> contains the latest Bacula news and developments.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018932576" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Also, see the <fo:basic-link external-destination="https://help.ubuntu.com/community/Bacula" font-style="italic">Bacula Ubuntu Wiki</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">12</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">12</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/Bacula">https://help.ubuntu.com/community/Bacula</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> page.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Virtualization</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Virtualization</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-inner-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block id="virtualization"><fo:block font-family="serif,Symbol"><fo:block margin-left="0pc"><fo:block font-size="24.8832pt" font-weight="bold"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0pc" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">Chapter20.Virtualization</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Virtualization is being adopted in many different environments and
  situations. If you are a developer, virtualization can provide you with a
  contained environment where you can safely do almost any sort of development
  safe from messing up your main working environment. If you are a systems
  administrator, you can use virtualization to more easily separate your
  services and move them around based on demand.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The default virtualization technology supported in Ubuntu is
  KVM. KVM requires virtualization extensions built
  into Intel and AMD hardware. Xen is also
  supported on Ubuntu. Xen can take advantage of virtualization extensions,
  when available, but can also be used on hardware without virtualization
  extensions. Qemu is another popular solution for
  hardware without virtualization extensions.</fo:block><fo:block id="libvirt"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">libvirt</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">1.libvirt</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The libvirt library is used to interface
    with different virtualization technologies. Before getting started with
    libvirt it is best to make sure your hardware
    supports the necessary virtualization extensions for
    KVM. Enter the following from a terminal
    prompt:</fo:block><fo:block id="idm45028026220784" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">kvm-ok</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A message will be printed informing you if your CPU
    <fo:inline font-style="italic">does</fo:inline> or <fo:inline font-style="italic">does not</fo:inline> support
    hardware virtualization.</fo:block><fo:block id="idm45028025019456" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">On many computers with processors supporting hardware assisted
      virtualization, it is necessary to activate an option in the BIOS to
      enable it.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="virtual-networking"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Virtual Networking</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.1.Virtual Networking</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">There are a few different ways to allow a virtual machine access
      to the external network. The default virtual network configuration
      includes <fo:inline font-style="italic">bridging</fo:inline> and <fo:inline font-style="italic">iptables</fo:inline>
      rules implementing <fo:inline font-style="italic">usermode</fo:inline> networking, which uses
      the SLIRP protocol. Traffic is NATed through the host interface to the
      outside network.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To enable external hosts to directly access services on virtual
      machines a different type of <fo:inline font-style="italic">bridge</fo:inline> than the
      default needs to be configured. This allows the virtual interfaces to
      connect to the outside network through the physical interface, making
      them appear as normal hosts to the rest of the network.</fo:block></fo:block><fo:block id="libvirt-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.2.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To install the necessary packages, from a terminal prompt
      enter:</fo:block><fo:block id="idm45028030478720" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install qemu-kvm libvirt-bin</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">After installing libvirt-bin, the user
      used to manage virtual machines will need to be added to the
      <fo:inline font-style="italic">libvirtd</fo:inline> group. Doing so will grant the user access
      to the advanced networking options.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In a terminal enter:</fo:block><fo:block id="idm45028025966528" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo adduser $USER libvirtd</fo:inline>
</fo:block><fo:block id="idm45028029145024" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If the user chosen is the current user, you will need to log out
        and back in for the new group membership to take effect.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="idm45028027915760" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In more recent releases (&gt;= Yakkety) the group was renamed to <fo:inline font-style="italic">libvirt</fo:inline>. Upgraded systems get a new <fo:inline font-style="italic">libvirt</fo:inline> group with the same gid as the <fo:inline font-style="italic">libvirtd</fo:inline> group to match that.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You are now ready to install a <fo:inline font-style="italic">Guest</fo:inline>
      operating system. Installing a virtual machine follows the same process
      as installing the operating system directly on the hardware. You either
      need a way to automate the installation, or a keyboard and monitor will
      need to be attached to the physical machine.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In the case of virtual machines a Graphical User Interface (GUI)
      is analogous to using a physical keyboard and mouse. Instead of
      installing a GUI the virt-viewer application
      can be used to connect to a virtual machine's console using
      VNC. See <fo:basic-link internal-destination="libvirt-virt-viewer"><fo:inline font-style="italic">Section1.6, Virtual Machine Viewer</fo:inline></fo:basic-link><fo:basic-link internal-destination="libvirt-virt-viewer" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="libvirt-virt-viewer"/>]</fo:inline></fo:basic-link> for more information.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">There are several ways to automate the Ubuntu installation
      process, for example using preseeds, kickstart, etc. Refer to the <fo:basic-link external-destination="https://help.ubuntu.com/16.04/installation-guide/" font-style="italic">Ubuntu
      Installation Guide</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/16.04/installation-guide/">https://help.ubuntu.com/16.04/installation-guide/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> for details.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Yet another way to install an Ubuntu virtual machine is to use
      uvtool.
      This application, available as of 14.04, allows you to set up
      specific VM options, execute custom post-install scripts, etc. For
      details see <fo:basic-link internal-destination="cloud-images-and-uvtool"><fo:inline font-style="italic">Section3, Cloud images and uvtool</fo:inline></fo:basic-link><fo:basic-link internal-destination="cloud-images-and-uvtool" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="cloud-images-and-uvtool"/>]</fo:inline></fo:basic-link>.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Libvirt can also be configured work with
      Xen. For details, see the Xen Ubuntu
      community page referenced below.</fo:block></fo:block><fo:block id="libvirt-virt-install"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">virt-install</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.3.virt-install</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">virt-install is part of the
      virtinst package. To install it, from a
      terminal prompt enter:</fo:block><fo:block id="idm45028026797744" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install virtinst</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">There are several options available when using
      virt-install. For example:</fo:block><fo:block id="idm45028027289072" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo virt-install -n web_devel -r 256 \
--disk path=/var/lib/libvirt/images/web_devel.img,bus=virtio,size=4 -c \
ubuntu-16.04-server-i386.iso --network network=default,model=virtio \
--graphics vnc,listen=0.0.0.0 --noautoconsole -v</fo:inline>
</fo:block><fo:list-block id="idm45028019213856" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028026215184" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">-n web_devel:</fo:inline> the name of the new virtual
          machine will be <fo:inline font-style="italic">web_devel</fo:inline> in this
          example.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026669008" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">-r 256:</fo:inline> specifies the amount of memory
          the virtual machine will use in megabytes.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022791680" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">--disk
          path=/var/lib/libvirt/images/web_devel.img,size=4:</fo:inline>
          indicates the path to the virtual disk which can be a file,
          partition, or logical volume. In this example a file named
          <fo:inline font-size="8.800000000000001pt" font-family="monospace">web_devel.img</fo:inline> in the /var/lib/libvirt/images/
          directory, with a size of 4 gigabytes, and using
          <fo:inline font-style="italic">virtio</fo:inline> for the disk bus.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028028641056" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">-c ubuntu-16.04-server-i386.iso:</fo:inline> file to be used as a virtual
          CDROM. The file can be either an ISO file or the path to the host's
          CDROM device.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026268976" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">--network</fo:inline> provides details related to the
          VM's network interface. Here the <fo:inline font-style="italic">default</fo:inline>
          network is used, and the interface model is configured for
          <fo:inline font-style="italic">virtio</fo:inline>.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019223216" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">--graphics vnc,listen=0.0.0.0:</fo:inline> exports
          the guest's virtual console using VNC and on all host interfaces.
          Typically servers have no GUI, so another GUI based computer on the
          Local Area Network (LAN) can connect via VNC to complete the
          installation.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029867600" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">--noautoconsole:</fo:inline> will not automatically
          connect to the virtual machine's console.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028027117952" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">-v:</fo:inline> creates a fully virtualized
          guest.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">After launching virt-install you can
      connect to the virtual machine's console either locally using a GUI (if
      your server has a GUI), or via a remote VNC client from a GUI-based
      computer.</fo:block></fo:block><fo:block id="libvirt-virt-clone"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">virt-clone</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.4.virt-clone</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The virt-clone application can be used
      to copy one virtual machine to another. For example:</fo:block><fo:block id="idm45028018878080" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo virt-clone -o web_devel -n database_devel -f /path/to/database_devel.img</fo:inline> 
</fo:block><fo:list-block id="idm45028028224880" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028026487472" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">-o:</fo:inline> original virtual machine.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026769984" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">-n:</fo:inline> name of the new virtual
          machine.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026865696" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">-f:</fo:inline> path to the file, logical volume, or
          partition to be used by the new virtual machine.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Also, use <fo:inline font-style="italic">-d</fo:inline> or <fo:inline font-style="italic">--debug</fo:inline>
      option to help troubleshoot problems with
      virt-clone.</fo:block><fo:block id="idm45028028733680" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Replace <fo:inline font-style="italic">web_devel</fo:inline> and
        <fo:inline font-style="italic">database_devel</fo:inline> with appropriate virtual machine
        names.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="libvirt-management"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Virtual Machine Management</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.5.Virtual Machine Management</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="virsh"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.5.1.virsh</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">There are several utilities available to manage virtual machines
        and libvirt. The
        virsh utility can be used from the command
        line. Some examples:</fo:block><fo:list-block id="idm45028025594224" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028026405680" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To list running virtual machines:</fo:block><fo:block id="idm45028025208224" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">virsh list</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028028082768" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To start a virtual machine:</fo:block><fo:block id="idm45028028685664" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">virsh start web_devel</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020137184" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Similarly, to start a virtual machine at boot:</fo:block><fo:block id="idm45028026114848" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">virsh autostart web_devel</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028027492112" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Reboot a virtual machine with:</fo:block><fo:block id="idm45028020108592" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">virsh reboot web_devel</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028028027088" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The <fo:inline font-style="italic">state</fo:inline> of virtual machines can be
            saved to a file in order to be restored later. The following will
            save the virtual machine state into a file named according to the
            date:</fo:block><fo:block id="idm45028020575824" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">virsh save web_devel web_devel-022708.state</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Once saved the virtual machine will no longer be
            running.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023994768" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A saved virtual machine can be restored using:</fo:block><fo:block id="idm45028029303136" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">virsh restore web_devel-022708.state</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030194880" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To shutdown a virtual machine do:</fo:block><fo:block id="idm45028019645088" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">virsh shutdown web_devel</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025879104" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A CDROM device can be mounted in a virtual machine by
            entering:</fo:block><fo:block id="idm45028022845456" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">virsh attach-disk web_devel /dev/cdrom /media/cdrom</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block id="idm45028027776016" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In the above examples replace <fo:inline font-style="italic">web_devel</fo:inline>
          with the appropriate virtual machine name, and
          <fo:inline font-size="8.800000000000001pt" font-family="monospace">web_devel-022708.state</fo:inline> with a descriptive file
          name.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
              If virsh (or other vir* tools) shall connect to something else than the default qemu-kvm/system hipervisor one can find alternatives for the <fo:inline font-style="italic">connect</fo:inline> option in <fo:inline font-style="italic">man virsh</fo:inline> or <fo:basic-link external-destination="http://libvirt.org/uri.html" font-style="italic">libvirt doc</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline> <fo:basic-link external-destination="http://libvirt.org/uri.html">http://libvirt.org/uri.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="migration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.5.2.migration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">There are different types of migration available depending on the versions of libvirt and the hipervisor being used.
         In general those types are:</fo:block><fo:list-block id="idm45028020393376" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028020393088" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link external-destination="https://libvirt.org/migration.html#offline" font-style="italic">offline migration</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline> <fo:basic-link external-destination="https://libvirt.org/migration.html#offline">https://libvirt.org/migration.html#offline</fo:basic-link></fo:block></fo:footnote-body></fo:footnote></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020391824" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link external-destination="https://libvirt.org/migration.html" font-style="italic">live migration</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline> <fo:basic-link external-destination="https://libvirt.org/migration.html">https://libvirt.org/migration.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020390512" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link external-destination="http://wiki.qemu.org/Features/PostCopyLiveMigration" font-style="italic">postcopy migration</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline> <fo:basic-link external-destination="http://wiki.qemu.org/Features/PostCopyLiveMigration">http://wiki.qemu.org/Features/PostCopyLiveMigration</fo:basic-link></fo:block></fo:footnote-body></fo:footnote></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">There are various options to those methods, but the entry point for all of them is <fo:inline font-style="italic">virsh migrate</fo:inline>. Read the integrated help for more detail.</fo:block><fo:block id="idm45028020388256" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"> <fo:inline font-weight="bold">virsh migrate --help</fo:inline> </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Some useful documentation on constraints and considerations about live migration can be found at the <fo:basic-link external-destination="https://wiki.ubuntu.com/QemuKVMMigration" font-style="italic">Ubuntu Wiki</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline> <fo:basic-link external-destination="https://wiki.ubuntu.com/QemuKVMMigration">https://wiki.ubuntu.com/QemuKVMMigration</fo:basic-link></fo:block></fo:footnote-body></fo:footnote></fo:block></fo:block><fo:block id="virtal-functions"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.5.3.Device Passthrough / Hotplug</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
             If instead of the here described hotplugging you want to always pass through a device add the xml content of the
             device to your static guest xml representation via e.g. <fo:inline font-weight="bold">virsh edit &lt;guestname&gt;</fo:inline>.
             In that case you don't need to use <fo:inline font-style="italic">attach/detach</fo:inline>.
             There are different kinds of passthrough. Types available to you depend on your Hardware and software setup.
         </fo:block><fo:list-block id="idm45028019483328" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028019483040" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">USB hotplug/passthrough</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019482144" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">VF hotplug/Passthrough</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
           But both kinds are handled in a very similar way and while there are various way to do it (e.g. also via qemu monitor)
           driving such a change via libvirt is recommended.
           That way libvirt can try to manage all sorts of special cases for you and also somewhat masks version differences.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            In general when driving hotplug via libvirt you create a xml snippet that describes the device just as you would
            do in a static <fo:basic-link external-destination="https://libvirt.org/formatdomain.html" font-style="italic">guest description.</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">7</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">7</fo:inline> <fo:basic-link external-destination="https://libvirt.org/formatdomain.html">https://libvirt.org/formatdomain.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
            A usb device is usually identified by Vendor/Product id's:
<fo:block id="idm45028017003776" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">&lt;hostdev mode='subsystem' type='usb' managed='yes'&gt;
  &lt;source&gt;
    &lt;vendor id='0x0b6d'/&gt;
    &lt;product id='0x3880'/&gt;
  &lt;/source&gt;
&lt;/hostdev&gt;</fo:block>
            Virtual functions are usually assigned via their PCI-ID (domain, bus, slot, function).
<fo:block id="idm45028017002768" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">&lt;hostdev mode='subsystem' type='pci' managed='yes'&gt;
  &lt;source&gt;
    &lt;address domain='0x0000' bus='0x04' slot='0x10' function='0x0'/&gt;
  &lt;/source&gt;
&lt;/hostdev&gt;</fo:block>
        </fo:block><fo:block id="idm45028017001664" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                To get the Virtual function in the first place is very device dependent and can therefore not be fully covered here.
                But in general it involves setting up an iommu, registering via <fo:basic-link external-destination="https://www.kernel.org/doc/Documentation/vfio.txt" font-style="italic">VFIO</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">8</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">8</fo:inline> <fo:basic-link external-destination="https://www.kernel.org/doc/Documentation/vfio.txt">https://www.kernel.org/doc/Documentation/vfio.txt</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> and sometimes requesting a number of VFs.
                Here an example on ppc64el to get 4 VFs on a device:
              <fo:block id="idm45028017000096" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
$ sudo modprobe vfio-pci
# identify device
$ lspci -n -s 0005:01:01.3
0005:01:01.3 0200: 10df:e228 (rev 10)
# register and request VFs
$ echo 10df e228 | sudo tee /sys/bus/pci/drivers/vfio-pci/new_id
$ echo 4 | sudo tee /sys/bus/pci/devices/0005\:01\:00.0/sriov_numvfs
              </fo:block>
            </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            You then attach or detach the device via libvirt by relating the guest with the xml snippet.
<fo:block id="idm45028016998320" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"><fo:inline font-weight="bold">virsh attach-device &lt;guestname&gt; &lt;device-xml&gt;</fo:inline>
# Use the Device int the Guest
<fo:inline font-weight="bold">virsh detach-device &lt;guestname&gt; &lt;device-xml&gt;</fo:inline></fo:block>
        </fo:block><fo:block id="idm45028016996128" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/warning.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
               There are several associated known issues in regard to apparmor proetction protecting "too much".
               You might need to tweak exceptions in the apparmor profiles until the bugs
               <fo:basic-link external-destination="https://bugs.launchpad.net/ubuntu/+source/libvirt/+bug/1552241" font-style="italic">1552241</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">9</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">9</fo:inline> <fo:basic-link external-destination="https://bugs.launchpad.net/ubuntu/+source/libvirt/+bug/1552241">https://bugs.launchpad.net/ubuntu/+source/libvirt/+bug/1552241</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> (for USB) and
               <fo:basic-link external-destination="https://bugs.launchpad.net/ubuntu/+source/apparmor/+bug/1679704" font-style="italic"><fo:inline hyphenate="false">https://bugs.launchpad.net/ubuntu/+source/apparmor/+bug/1679704</fo:inline></fo:basic-link> (For VF assignment) are resolved.
               To check if you are affected watch dmesg while you use the USB/VF passthrough/hotplug feature and verify if you see <fo:basic-link external-destination="http://wiki.apparmor.net/index.php/AppArmor_Failures#Messages_in_the_Log_files" font-style="italic">apparmor denies</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">10</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">10</fo:inline> <fo:basic-link external-destination="http://wiki.apparmor.net/index.php/AppArmor_Failures#Messages_in_the_Log_files">http://wiki.apparmor.net/index.php/AppArmor_Failures#Messages_in_the_Log_files</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
            </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="monitor-via-libvirt"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.5.4.Access Qemu Monitor via libvirt</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
             The <fo:basic-link external-destination="https://en.wikibooks.org/wiki/QEMU/Monitor" font-style="italic">Qemu Monitor</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">11</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">11</fo:inline> <fo:basic-link external-destination="https://en.wikibooks.org/wiki/QEMU/Monitor">https://en.wikibooks.org/wiki/QEMU/Monitor</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> is the way to interact with qemu/KVM while
             a guest is running. This interface has many and very powerful features for experienced users.
             When running under libvirt that monitor interface is bound by libvirt itself for management purposes, but a user
             can run qemu monitor commands via libvirt still.
             The general syntax is <fo:inline font-weight="bold">virsh qemu-monitor-command [options] [guest] 'command'</fo:inline>
         </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
             Libvirt covers most use cases needed, but if you every want/need to work around libvirt or want to tweak very special options you can e.g. add a device that way:
             <fo:block id="idm45028016988752" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">virsh qemu-monitor-command --hmp zesty-test-log 'drive_add 0 if=none,file=/var/lib/libvirt/images/test.img,format=raw,id=disk1'</fo:block>
         </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
             But since the monitor is so powerful, you can do a lot especially for debugging purposes like showing the guest registers:
             <fo:block id="idm45028018850048" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">virsh qemu-monitor-command --hmp y-ipns 'info registers'
RAX=00ffffc000000000 RBX=ffff8f0f5d5c7e48 RCX=0000000000000000 RDX=ffffea00007571c0
RSI=0000000000000000 RDI=ffff8f0fdd5c7e48 RBP=ffff8f0f5d5c7e18 RSP=ffff8f0f5d5c7df8
[...]</fo:block>
         </fo:block></fo:block><fo:block id="virt-manager"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.5.5.Virtual Machine Manager</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The virt-manager package contains a
        graphical utility to manage local and remote virtual machines. To
        install virt-manager enter:</fo:block><fo:block id="idm45028018846096" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install virt-manager</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Since virt-manager requires a
        Graphical User Interface (GUI) environment it is recommended to be
        installed on a workstation or test machine instead of a production
        server. To connect to the local libvirt
        service enter:</fo:block><fo:block id="idm45028018842240" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">virt-manager -c qemu:///system</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can connect to the libvirt
        service running on another host by entering the following in a
        terminal prompt:</fo:block><fo:block id="idm45028018839296" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">virt-manager -c qemu+ssh://virtnode1.mydomain.com/system</fo:inline>
</fo:block><fo:block id="idm45028018837728" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The above example assumes that SSH
          connectivity between the management system and
          virtnode1.mydomain.com has already been configured, and uses SSH
          keys for authentication. SSH <fo:inline font-style="italic">keys</fo:inline> are needed
          because libvirt sends the password prompt
          to another process. For details on configuring
          SSH see <fo:basic-link internal-destination="openssh-server"><fo:inline font-style="italic">Section1, OpenSSH Server</fo:inline></fo:basic-link><fo:basic-link internal-destination="openssh-server" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="openssh-server"/>]</fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:block><fo:block id="libvirt-virt-viewer"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Virtual Machine Viewer</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.6.Virtual Machine Viewer</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The virt-viewer application allows you
      to connect to a virtual machine's console.
      virt-viewer does require a Graphical User
      Interface (GUI) to interface with the virtual machine.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To install virt-viewer from a terminal
      enter:</fo:block><fo:block id="idm45028018349504" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install virt-viewer</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Once a virtual machine is installed and running you can connect to
      the virtual machine's console by using:</fo:block><fo:block id="idm45028018347344" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">virt-viewer web_devel</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Similar to virt-manager,
      virt-viewer can connect to a remote host
      using <fo:inline font-style="italic">SSH</fo:inline> with key authentication, as well:</fo:block><fo:block id="idm45028018343264" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">virt-viewer -c qemu+ssh://virtnode1.mydomain.com/system web_devel</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Be sure to replace <fo:inline font-style="italic">web_devel</fo:inline>
      with the appropriate virtual machine name.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If configured to use a <fo:inline font-style="italic">bridged</fo:inline> network
      interface you can also setup SSH access to
      the virtual machine.</fo:block></fo:block><fo:block id="libvirt-resources"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Resources</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.7.Resources</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028018337408" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028018337120" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">See the <fo:basic-link external-destination="http://www.linux-kvm.org/" font-style="italic">KVM</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">12</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">12</fo:inline> <fo:basic-link external-destination="http://www.linux-kvm.org/">http://www.linux-kvm.org/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
          home page for more details.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018335472" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For more information on libvirt see
          the <fo:basic-link external-destination="http://libvirt.org/" font-style="italic">libvirt home
          page</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">13</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">13</fo:inline> <fo:basic-link external-destination="http://libvirt.org/">http://libvirt.org/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018333184" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The <fo:basic-link external-destination="http://virt-manager.org/" font-style="italic">Virtual
          Machine Manager</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">14</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">14</fo:inline> <fo:basic-link external-destination="http://virt-manager.org/">http://virt-manager.org/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> site has more information on
          virt-manager development.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018330768" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Also, stop by the <fo:inline font-style="italic">#ubuntu-virt</fo:inline> IRC
          channel on <fo:basic-link external-destination="http://freenode.net/" font-style="italic">freenode</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">15</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">15</fo:inline> <fo:basic-link external-destination="http://freenode.net/">http://freenode.net/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> to
          discuss virtualization technology in Ubuntu.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018328720" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Another good resource is the <fo:basic-link external-destination="https://help.ubuntu.com/community/KVM" font-style="italic">Ubuntu Wiki KVM</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">16</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">16</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/KVM">https://help.ubuntu.com/community/KVM</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
          page.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018327072" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For information on Xen, including using Xen with libvirt,
          please see the <fo:basic-link external-destination="https://help.ubuntu.com/community/Xen" font-style="italic">Ubuntu Wiki Xen</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">17</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">17</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/Xen">https://help.ubuntu.com/community/Xen</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
          page.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018325472" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For basics how to assign VT-d devices to qemu/KVM, please see the <fo:basic-link external-destination="http://www.linux-kvm.org/page/How_to_assign_devices_with_VT-d_in_KVM#Assigning_the_device" font-style="italic">linux-kvm</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">18</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">18</fo:inline> <fo:basic-link external-destination="http://www.linux-kvm.org/page/How_to_assign_devices_with_VT-d_in_KVM#Assigning_the_device">http://www.linux-kvm.org/page/How_to_assign_devices_with_VT-d_in_KVM#Assigning_the_device</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
          page.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="qemu"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Qemu</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">2.Qemu</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        <fo:basic-link external-destination="http://wiki.qemu.org/Main_Page" font-style="italic">Qemu</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">19</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">19</fo:inline> <fo:basic-link external-destination="http://wiki.qemu.org/Main_Page">http://wiki.qemu.org/Main_Page</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> is a machine emulator that can run operating systems and programs for one machine on a different machine.
        Mostly it is not used as emulator but as virtualizer in collaboration with KVM or XEN kernel components. In that case it utilizes the virtualization technology of the hardware to virtualize guests.
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        While qemu has a <fo:basic-link external-destination="http://wiki.qemu.org/download/qemu-doc.html#sec_005finvocation" font-style="italic">command line interface</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">20</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">20</fo:inline> <fo:basic-link external-destination="http://wiki.qemu.org/download/qemu-doc.html#sec_005finvocation">http://wiki.qemu.org/download/qemu-doc.html#sec_005finvocation</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> and a <fo:basic-link external-destination="http://wiki.qemu.org/download/qemu-doc.html#pcsys_005fmonitor" font-style="italic">monitor</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">21</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">21</fo:inline> <fo:basic-link external-destination="http://wiki.qemu.org/download/qemu-doc.html#pcsys_005fmonitor">http://wiki.qemu.org/download/qemu-doc.html#pcsys_005fmonitor</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> to interact with running guests those is rarely used that way for other means than development purposes.
        <fo:basic-link internal-destination="libvirt"><fo:inline font-style="italic">Libvirt</fo:inline></fo:basic-link> provides an abstraction from specific versions and hypervisors and encapsulates some workarounds and best practices.
    </fo:block><fo:block id="machine-type-upgrade"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Upgrading the machine type</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.1.Upgrading the machine type</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="idm45028018316432" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This also is documented along some more constraints and considerations at the <fo:basic-link external-destination="https://wiki.ubuntu.com/QemuKVMMigration#Upgrade_machine_type" font-style="italic">Ubuntu Wiki</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">22</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">22</fo:inline> <fo:basic-link external-destination="https://wiki.ubuntu.com/QemuKVMMigration#Upgrade_machine_type">https://wiki.ubuntu.com/QemuKVMMigration#Upgrade_machine_type</fo:basic-link></fo:block></fo:footnote-body></fo:footnote></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You might want to update your machine type of an existing defined guest to:</fo:block><fo:list-block id="idm45028018314944" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028018314656" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">to pick up latest security fixes and features</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018314112" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">continue using a guest created on a now unsupported release</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In general it is recommended to update machine types when upgrading qemu/kvm to a new major version. But this can likely never be an automated task as this change is guest visible. The guest devices might change in appearance, new features will be announced to the guest and so on. Linux is usually very good at tolerating such changes, but it depends so much on the setup and workload of the guest that this has to be evaluated by the owner/admin of the system. Other operating systems where known to often have severe impacts by changing the hardware. Consider a machine type change similar to replacing all devices and firmware of a physical machine to the latest revision - all considerations that apply there apply to evaluating a machine type upgrade as well.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">As usual with major configuration changes it is wise to back up your guest definition and disk state to be able to do a rollback just in case. There is no integrated single command to update the machine type via virsh or similar tools. It is a normal part of your machine definition. And therefore updated the same way as most others.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">First shutdown your machine and wait until it has reached that state.</fo:block><fo:block id="idm45028018311024" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
virsh shutdown &lt;yourmachine&gt;
# wait
virsh list --inactive
# should now list your machine as "shut off"
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Then edit the machine definition and find the type in the type tag at the machine attribute.</fo:block><fo:block id="idm45028018309600" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
virsh edit &lt;yourmachine&gt;
&lt;type arch='x86_64' machine='pc-i440fx-xenial'&gt;hvm&lt;/type&gt;
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Change this to the value you want. If you need to check what types are available via "-M ?" Note that while providing upstream types as convenience only Ubuntu types are supported. There you can also see what the current default would be. In general it is strongly recommended that you change to newer types if possible to exploit newer features, but also to benefit of bugfixes that only apply to the newer device virtualization.</fo:block><fo:block id="idm45028018307856" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
kvm -M ?
# lists machine types, e.g.
pc-i440fx-xenial       Ubuntu 16.04 PC (i440FX + PIIX, 1996) (default)
...
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">After this you can start your guest again. You can check the current machine type from guest and host depending on your needs.</fo:block><fo:block id="idm45028018306384" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
virsh start &lt;yourmachine&gt;
# check from host, via dumping the active xml definition
virsh dumpxml &lt;yourmachine&gt; | xmllint --xpath "string(//domain/os/type/@machine)" -
# or from the guest via dmidecode
sudo dmidecode | grep Product -A 1
        Product Name: Standard PC (i440FX + PIIX, 1996)
        Version: pc-i440fx-xenial
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you keep non-live definitions around like xml files remember to update those as well.</fo:block></fo:block></fo:block><fo:block id="cloud-images-and-uvtool"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Cloud images and uvtool</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">3.Cloud images and uvtool</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="cloud-image-introduction"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Introduction</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.1.Introduction</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">With Ubuntu being one of the most used operating systems on many cloud platforms, the availability of stable and secure cloud images
      has become very important. As of 12.04 the utilization of cloud
      images outside of a cloud infrastructure has been improved. It is now
      possible to use those images to create a virtual machine without the
      need of a complete installation.</fo:block></fo:block><fo:block id="creating-virtual-machines-using-uvtool"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Creating virtual machines using uvtool</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.2.Creating virtual machines using uvtool</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Starting with 14.04 LTS, a tool called uvtool greatly facilitates 
      the task of generating virtual machines (VM) using the cloud images. 
      uvtool provides a simple mechanism to 
      synchronize cloud-images locally and use them to create new VMs in 
      minutes.</fo:block><fo:block id="idm45028018297920"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">3.2.1.Uvtool packages</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The following packages and their dependencies will be required 
        in order to use uvtool:</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"/><fo:list-block id="idm45028018296368" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028018295808" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">uvtool</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018294912" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">uvtool-libvirt</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To install uvtool, run:</fo:block><fo:block id="idm45028018292608" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">$ apt -y install uvtool</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This will install uvtool's main commands: </fo:block><fo:list-block id="idm45028018291392" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028018290832" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">uvt-simplestreams-libvirt</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018289760" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">uvt-kvm</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="idm45028018288384"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">3.2.2.Get the Ubuntu Cloud Image with uvt-simplestreams-libvirt</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This is one of the major simplifications that uvtool brings. It is 
        aware of where to find the cloud images so only one command is required to get a new cloud image.
        For instance, if you want to synchronize all cloud images for the amd64 architecture, the uvtool command 
        would be: </fo:block><fo:block id="idm45028018285520" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">$ uvt-simplestreams-libvirt sync arch=amd64</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">After an amount of time required to download all the images from the Internet, you will have 
a complete set of cloud images stored locally. To see what has been downloaded use the following 
command:</fo:block><fo:block id="idm45028018284112" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">$ uvt-simplestreams-libvirt query
release=oneiric arch=amd64 label=release (20130509)
release=precise arch=amd64 label=release (20160315)
release=quantal arch=amd64 label=release (20140409)
release=raring arch=amd64 label=release (20140111)
release=saucy arch=amd64 label=release (20140709)
release=trusty arch=amd64 label=release (20160314)
release=utopic arch=amd64 label=release (20150723)
release=vivid arch=amd64 label=release (20160203)
release=wily arch=amd64 label=release (20160315)
release=xenial arch=amd64 label=beta1 (20160223.1)

</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In the case where you want to synchronize only one specific cloud-image, you need to use the
release= and arch= filters to identify which image needs to be synchronized.</fo:block><fo:block id="idm45028018282176" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">$ uvt-simplestreams-libvirt sync release=xenial arch=amd64
</fo:block></fo:block><fo:block id="idm45028018281248"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">3.2.3.Create the VM using uvt-kvm</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In order to connect to the virtual machine once it has been created, you must have a valid SSH key available for the Ubuntu user.  If your environment does not have an SSH key, you can easily create one using the following command:</fo:block><fo:block id="idm45028018279840" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
$ ssh-keygen
Generating public/private rsa key pair.
Enter file in which to save the key (/home/ubuntu/.ssh/id_rsa): 
Enter passphrase (empty for no passphrase): 
Enter same passphrase again: 
Your identification has been saved in /home/ubuntu/.ssh/id_rsa.
Your public key has been saved in /home/ubuntu/.ssh/id_rsa.pub.
The key fingerprint is:
4d:ba:5d:57:c9:49:ef:b5:ab:71:14:56:6e:2b:ad:9b ubuntu@xenialS
The key's randomart image is:
+--[ RSA 2048]----+
|               ..|
|              o.=|
|          .    **|
|         +    o+=|
|        S . ...=.|
|         o . .+ .|
|        . .  o o |
|              *  |
|             E   |
+-----------------+
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To create of a new virtual machine using uvtool, run the following in a terminal:</fo:block><fo:block id="idm45028018277984" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">$ uvt-kvm create firsttest</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This will create a VM named <fo:inline font-weight="bold">firsttest</fo:inline> using the current LTS cloud image available locally.
If you want to specify a release to be used to create the VM, you need to use the <fo:inline font-weight="bold">release=</fo:inline> filter:</fo:block><fo:block id="idm45028018275136" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">$ uvt-kvm create secondtest release=xenial</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">uvt-kvm wait can be used to wait until the creation of 
the VM has completed:</fo:block><fo:block id="idm45028018273312" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">$ uvt-kvm wait secondttest --insecure
Warning: secure wait for boot-finished not yet implemented; use --insecure.
</fo:block></fo:block><fo:block id="idm45028018272256"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">3.2.4.Connect to the running VM</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Once the virtual machine creation is completed, you can connect to it using SSH:
</fo:block><fo:block id="idm45028018271248" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">$ uvt-kvm ssh secondtest --insecure</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For the time being, the <fo:inline font-weight="bold">--insecure</fo:inline> is required, so use this mechanism to connect to your VM only if you completely trust your network infrastructure.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can also connect to your VM using a regular SSH session using the IP address of the VM. The address can be queried using the following command:</fo:block><fo:block id="idm45028018268576" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
$ uvt-kvm ip secondtest
192.168.122.199
$ ssh -i ~/.ssh/id_rsa ubuntu@192.168.122.199
The authenticity of host '192.168.122.199 (192.168.122.199)' can't be established.
ECDSA key fingerprint is SHA256:8oxaztRWzTMtv8SC9LYyjuqBu79Z9JP8bUGh6G8R8cw.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added '192.168.122.199' (ECDSA) to the list of known hosts.
Welcome to Ubuntu Xenial Xerus (development branch) (GNU/Linux 4.4.0-X-generic ARCH)

 * Documentation:  https://help.ubuntu.com/

  Get cloud support with Ubuntu Advantage Cloud Guest:
    http://www.ubuntu.com/business/services/cloud

0 packages can be updated.
0 updates are security updates.



The programs included with the Ubuntu system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Ubuntu comes with ABSOLUTELY NO WARRANTY, to the extent permitted by
applicable law.

To run a command as administrator (user "root"), use "sudo &lt;command&gt;".
See "man sudo_root" for details.

ubuntu@secondtest:~$ 

</fo:block></fo:block><fo:block id="idm45028018266544"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">3.2.5.Get the list of running VMs</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can get the list of VMs running on your system with this command:</fo:block><fo:block id="idm45028018265536" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">$ uvt-kvm list
secondtest
</fo:block></fo:block><fo:block id="idm45028018264560"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">3.2.6.Destroy your VM</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Once you are done with your VM, you can destroy it with:</fo:block><fo:block id="idm45028018263568" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">$ uvt-kvm destroy secondtest</fo:block></fo:block><fo:block id="idm45028018262592"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">3.2.7.More uvt-kvm options</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The following options can be used to change some of the characteristics of the VM that you are creating:</fo:block><fo:list-block id="idm45028018261472" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028018260912" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">--memory : Amount of RAM in megabytes. Default: 512.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018260368" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">--disk : Size of the OS disk in gigabytes. Default: 8.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018259824" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">--cpu : Number of CPU cores. Default: 1.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Some other parameters will have an impact on the cloud-init configuration:</fo:block><fo:list-block id="idm45028018258704" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028018258144" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">--password password : Allow login to the VM using the Ubuntu account and this provided password.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018257488" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">--run-script-once script_file : Run  script_file  as  root on the VM the first time it is booted, but never again.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018256816" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">--packages package_list : Install the comma-separated packages specified in package_list on first boot.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A complete description of all available modifiers is available in the manpage of uvt-kvm.</fo:block></fo:block></fo:block><fo:block id="resources"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Resources</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.3.Resources</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you are interested in learning more, have questions or
      suggestions, please contact the Ubuntu Server Team at:</fo:block><fo:list-block id="idm45028018253296" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028018253008" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">IRC: #ubuntu-server on freenode</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018252096" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Mailing list: <fo:basic-link external-destination="https://lists.ubuntu.com/mailman/listinfo/ubuntu-server" font-style="italic">ubuntu-server
          at lists.ubuntu.com</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">23</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">23</fo:inline> <fo:basic-link external-destination="https://lists.ubuntu.com/mailman/listinfo/ubuntu-server">https://lists.ubuntu.com/mailman/listinfo/ubuntu-server</fo:basic-link></fo:block></fo:footnote-body></fo:footnote></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="ubuntucloud"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Ubuntu Cloud</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">4.Ubuntu Cloud</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Cloud computing is a computing model that
    allows vast pools of resources to be allocated on-demand. These resources
    such as storage, computing power, network and software are abstracted and
    delivered as a service over the Internet anywhere, anytime. These services
    are billed per time consumed similar to the ones used by public services
    such as electricity, water and telephony. Ubuntu Cloud
    Infrastructure uses OpenStack open source software to help
    build highly scalable, cloud computing for both public and private
    clouds.</fo:block><fo:block id="ubuntu-cloud-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation and Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.1.Installation and Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    Due to the current high rate of development of this complex technology
	    we refer the reader to <fo:basic-link external-destination="http://docs.openstack.org/havana/install-guide/install/apt/content/" font-style="italic">
	    upstream documentation</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">24</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">24</fo:inline> <fo:basic-link external-destination="http://docs.openstack.org/havana/install-guide/install/apt/content/">http://docs.openstack.org/havana/install-guide/install/apt/content/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> for all matters concerning installation and configuration.
    </fo:block></fo:block><fo:block id="ubuntu-cloud-troubleshooting"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Support and Troubleshooting</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.2.Support and Troubleshooting</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Community Support</fo:block><fo:list-block id="idm45028018241904" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028018241616" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link external-destination="https://launchpad.net/~openstack" font-style="italic">OpenStack
          Mailing list</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">25</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">25</fo:inline> <fo:basic-link external-destination="https://launchpad.net/~openstack">https://launchpad.net/~openstack</fo:basic-link></fo:block></fo:footnote-body></fo:footnote></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018240288" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link external-destination="http://wiki.openstack.org" font-style="italic">The OpenStack Wiki
          search</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">26</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">26</fo:inline> <fo:basic-link external-destination="http://wiki.openstack.org">http://wiki.openstack.org</fo:basic-link></fo:block></fo:footnote-body></fo:footnote></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018238960" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link external-destination="https://bugs.launchpad.net/nova" font-style="italic">Launchpad bugs
          area</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">27</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">27</fo:inline> <fo:basic-link external-destination="https://bugs.launchpad.net/nova">https://bugs.launchpad.net/nova</fo:basic-link></fo:block></fo:footnote-body></fo:footnote></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018237632" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Join the IRC channel #openstack on freenode.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="ubuntu-cloud-resources"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Resources</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">4.3.Resources</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028018235136" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028018234848" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link external-destination="http://en.wikipedia.org/wiki/Cloud_computing#Service_Models" font-style="italic">Cloud
          Computing - Service models</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">28</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">28</fo:inline> <fo:basic-link external-destination="http://en.wikipedia.org/wiki/Cloud_computing#Service_Models">http://en.wikipedia.org/wiki/Cloud_computing#Service_Models</fo:basic-link></fo:block></fo:footnote-body></fo:footnote></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018233536" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link external-destination="http://www.openstack.org/software/openstack-compute/" font-style="italic">OpenStack
          Compute</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">29</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">29</fo:inline> <fo:basic-link external-destination="http://www.openstack.org/software/openstack-compute/">http://www.openstack.org/software/openstack-compute/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018232256" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link external-destination="http://docs.openstack.org/diablo/openstack-compute/starter/content/GlanceMS-d2s21.html" font-style="italic">OpenStack
          Image Service</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">30</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">30</fo:inline> <fo:basic-link external-destination="http://docs.openstack.org/diablo/openstack-compute/starter/content/GlanceMS-d2s21.html">http://docs.openstack.org/diablo/openstack-compute/starter/content/GlanceMS-d2s21.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018230976" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link external-destination="http://docs.openstack.org/trunk/openstack-object-storage/admin/content/index.html" font-style="italic">OpenStack Object
          Storage Administration Guide</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">31</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">31</fo:inline> <fo:basic-link external-destination="http://docs.openstack.org/trunk/openstack-object-storage/admin/content/index.html">http://docs.openstack.org/trunk/openstack-object-storage/admin/content/index.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018229744" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link external-destination="http://docs.openstack.org/trunk/openstack-object-storage/admin/content/installing-openstack-object-storage-on-ubuntu.html" font-style="italic">Installing
          OpenStack Object Storage on Ubuntu</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">32</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">32</fo:inline> <fo:basic-link external-destination="http://docs.openstack.org/trunk/openstack-object-storage/admin/content/installing-openstack-object-storage-on-ubuntu.html">http://docs.openstack.org/trunk/openstack-object-storage/admin/content/installing-openstack-object-storage-on-ubuntu.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018228368" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link external-destination="http://cloudglossary.com/" font-style="italic"><fo:inline hyphenate="false">http://cloudglossary.com/</fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"/></fo:block></fo:block><fo:block id="lxd"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">LXD</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">5.LXD</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    LXD (pronounced lex-dee) is the lightervisor, or lightweight container
    hypervisor.  While this claim has been controversial, it has been <fo:basic-link external-destination="http://blog.dustinkirkland.com/2015/09/container-summit-presentation-and-live.html" font-style="italic">quite
    well justified</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">33</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">33</fo:inline> <fo:basic-link external-destination="http://blog.dustinkirkland.com/2015/09/container-summit-presentation-and-live.html">http://blog.dustinkirkland.com/2015/09/container-summit-presentation-and-live.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> based on the original academic paper.  It also
    nicely distinguishes LXD from <fo:basic-link external-destination="https://help.ubuntu.com/lts/serverguide/lxc.html" font-style="italic">LXC</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">34</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">34</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/lts/serverguide/lxc.html">https://help.ubuntu.com/lts/serverguide/lxc.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    LXC (lex-see) is a program which creates and administers "containers" on a
    local system.  It also provides an API to allow higher level managers, such
    as LXD, to administer containers.  In a sense, one could compare LXC to
    QEMU, while comparing LXD to libvirt.
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    The LXC API deals with a 'container'.  The LXD API deals with 'remotes',
    which serve images and containers.  This extends the LXC functionality over
    the network, and allows concise management of tasks like container
    migration and container image publishing.
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    LXD uses LXC under the covers for some container management tasks.
    However, it keeps its own container configuration information and has its
    own conventions, so that it is best not to use classic LXC commands by hand
    with LXD containers.  This document will focus on how to configure and
    administer LXD on Ubuntu systems.
    </fo:block><fo:block id="lxd-resources"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Online Resources</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.1.Online Resources</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      There is excellent documentation for <fo:basic-link external-destination="http://github.com/lxc/lxd" font-style="italic">getting started with LXD</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">35</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">35</fo:inline> <fo:basic-link external-destination="http://github.com/lxc/lxd">http://github.com/lxc/lxd</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> in the online LXD README.
      There is also an online server allowing you to <fo:basic-link external-destination="http://linuxcontainers.org/lxd/try-it" font-style="italic">try out LXD remotely</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">36</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">36</fo:inline> <fo:basic-link external-destination="http://linuxcontainers.org/lxd/try-it">http://linuxcontainers.org/lxd/try-it</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
      Stephane Graber also has an <fo:basic-link external-destination="https://www.stgraber.org/2016/03/11/lxd-2-0-blog-post-series-012/" font-style="italic">excellent blog series</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">37</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">37</fo:inline> <fo:basic-link external-destination="https://www.stgraber.org/2016/03/11/lxd-2-0-blog-post-series-012/">https://www.stgraber.org/2016/03/11/lxd-2-0-blog-post-series-012/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> on LXD 2.0.
      Finally, there is great documentation on how to <fo:basic-link external-destination="https://jujucharms.com/docs/devel/config-LXD" font-style="italic">drive lxd using juju</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">38</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">38</fo:inline> <fo:basic-link external-destination="https://jujucharms.com/docs/devel/config-LXD">https://jujucharms.com/docs/devel/config-LXD</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      This document will offer an Ubuntu Server-specific view of LXD, focusing
      on administration.
      </fo:block></fo:block><fo:block id="lxd-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.2.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      LXD is pre-installed on Ubuntu Server cloud images.  On other systems, the lxd
      package can be installed using:
      </fo:block><fo:block id="idm45028018214080" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
sudo apt install lxd
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      This will install LXD as well as the recommended dependencies, including the LXC
      library and lxcfs.
      </fo:block></fo:block><fo:block id="lxd-kernel-prep"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker"> Kernel preparation </fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.3. Kernel preparation </fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      In general, Ubuntu 16.04 should have all the desired features enabled by
      default.  One exception to this is that in order to enable swap
      accounting the boot argument <fo:inline font-weight="bold">swapaccount=1</fo:inline> must be set.  This can be
      done by appending it to the <fo:inline font-weight="bold">GRUB_CMDLINE_LINUX_DEFAULT=</fo:inline>variable in
      /etc/default/grub, then running 'update-grub' as root and rebooting.
      </fo:block></fo:block><fo:block id="lxd-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker"> Configuration </fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.4. Configuration </fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      By default, LXD is installed listening on a local UNIX socket, which
      members of group LXD can talk to.  It has no trust password setup.  And
      it uses the filesystem at <fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/lib/lxd</fo:inline> to store
      containers.  To configure LXD with different settings, use <fo:inline font-weight="bold">lxd
      init</fo:inline>.  This will allow you to choose:
      </fo:block><fo:list-block id="idm45028018205008" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028018204720" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Directory or <fo:basic-link external-destination="http://open-zfs.org" font-style="italic">ZFS</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">39</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">39</fo:inline> <fo:basic-link external-destination="http://open-zfs.org">http://open-zfs.org</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> container
          backend.  If you choose ZFS, you can choose which block devices to use,
          or the size of a file to use as backing store.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018202976" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Availability over the network</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018202224" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A 'trust password' used by remote clients to vouch for their client certificate</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      You must run 'lxd init' as root.  'lxc' commands can be run as any
      user who is member of group lxd.  If user joe is not a member of group 'lxd',
      you may run:
      </fo:block><fo:block id="idm45028018200752" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
adduser joe lxd
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      as root to change it.  The new membership will take effect on the next login, or after
      running 'newgrp lxd' from an existing login.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      For more information on server, container, profile, and device configuration,
      please refer to the definitive configuration provided with the source code,
      which can be found <fo:basic-link external-destination="https://github.com/lxc/lxd/blob/master/doc/configuration.md" font-style="italic">online</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">40</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">40</fo:inline> <fo:basic-link external-destination="https://github.com/lxc/lxd/blob/master/doc/configuration.md">https://github.com/lxc/lxd/blob/master/doc/configuration.md</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
      </fo:block></fo:block><fo:block id="lxd-first-container"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker"> Creating your first container </fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.5. Creating your first container </fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      This section will describe the simplest container tasks.
      </fo:block><fo:block id="idm45028018195472"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">5.5.1. Creating a container </fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Every new container is created based on either an image, an existing container,
        or a container snapshot.  At install time, LXD is configured with the following
        image servers:
        </fo:block><fo:list-block id="idm45028018194096" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028018193808" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-size="8.800000000000001pt" font-family="monospace">ubuntu</fo:inline>: this serves official Ubuntu server cloud image releases.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018192224" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-size="8.800000000000001pt" font-family="monospace">ubuntu-daily</fo:inline>: this serves official Ubuntu server cloud images of the daily
            development releases.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018190608" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-size="8.800000000000001pt" font-family="monospace">images</fo:inline>: this is a default-installed alias for images.linuxcontainers.org.
            This is serves classical lxc images built using the same images which the
            LXC 'download' template uses.  This includes various distributions and
            minimal custom-made Ubuntu images.  This is not the recommended
            server for Ubuntu images.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The command to create and start a container is
        </fo:block><fo:block id="idm45028018188080" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc launch remote:image containername
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Images are identified by their hash, but are also aliased.  The 'ubuntu'
        server knows many aliases such as '16.04' and 'xenial'.  A list of all
        images available from the Ubuntu Server can be seen using:
      </fo:block><fo:block id="idm45028018185792" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc image list ubuntu:
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        To see more information about a particular image, including all the aliases it
        is known by, you can use:
      </fo:block><fo:block id="idm45028018183616" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc image info ubuntu:xenial
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        You can generally refer to an Ubuntu image using the release name ('xenial') or
        the release number (16.04).  In addition, 'lts' is an alias for the latest
        supported LTS release.  To choose a different architecture, you can specify the
        desired architecture:
      </fo:block><fo:block id="idm45028018181264" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc image info ubuntu:lts/arm64
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Now, let's start our first container:
      </fo:block><fo:block id="idm45028018179232" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc launch ubuntu:xenial x1
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        This will download the official current Xenial cloud image for your current
        architecture, then create a container using that image, and finally start it.
        Once the command returns, you can see it using:
      </fo:block><fo:block id="idm45028018176944" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc list
lxc info x1
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        and open a shell in it using:
      </fo:block><fo:block id="idm45028018174928" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc exec x1 bash
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The try-it page gives a full synopsis of the commands you can use to administer
        containers.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Now that the 'xenial' image has been downloaded, it will be kept in sync until
        no new containers have been created based on it for (by default) 10 days.  After
        that, it will be deleted.
      </fo:block></fo:block></fo:block><fo:block id="lxd-server-config"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker"> LXD Server Configuration </fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.6. LXD Server Configuration </fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        By default, LXD is socket activated and configured to listen only on a
        local UNIX socket.  While LXD may not be running when you first look at the
        process listing, any LXC command will start it up.  For instance:
      </fo:block><fo:block id="idm45028018170080" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc list
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        This will create your client certificate and contact the LXD server for a
        list of containers.  To make the server accessible over the network you can
        set the http port using:
      </fo:block><fo:block id="idm45028018167840" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc config set core.https_address :8443
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        This will tell LXD to listen to port 8843 on all addresses.
      </fo:block><fo:block id="idm45028018165856"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">5.6.1. Authentication</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        By default, LXD will allow all members of group 'lxd' (which by default includes
        all members of group admin) to talk to it over the UNIX socket.  Communication
        over the network is authorized using server and client certificates.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Before client c1 wishes to use remote r1, r1 must be registered using:
      </fo:block><fo:block id="idm45028018164016" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc remote add r1 r1.example.com:8443
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The fingerprint of r1's certificate will be shown, to allow the user at
        c1 to reject a false certificate.  The server in turn will verify that
        c1 may be trusted in one of two ways.  The first is to register it in advance
        from any already-registered client, using:
      </fo:block><fo:block id="idm45028018161664" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc config trust add r1 certfile.crt
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Now when the client adds r1 as a known remote, it will not need to provide
        a password as it is already trusted by the server.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The other is to configure a 'trust password' with r1, either at initial
        configuration using 'lxd init', or after the fact using
      </fo:block><fo:block id="idm45028018158896" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc config set core.trust_password PASSWORD
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The password can then be provided when the client registers
        r1 as a known remote.
      </fo:block></fo:block><fo:block id="idm45028018156624"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">5.6.2. Backing store </fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
LXD supports several backing stores.  The recommended backing store is ZFS,
however this is not available on all platforms.  Supported backing stores
include:
      </fo:block><fo:list-block id="idm45028018155296" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028018155008" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          ext4: this is the default, and easiest to use.  With an ext4 backing store,
          containers and images are simply stored as directories on the host filesystem.
          Launching new containers requires copying a whole filesystem, and 10 containers
          will take up 10 times as much space as one container.
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018153792" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          ZFS: if ZFS is supported on your architecture (amd64, arm64, or ppc64le), you
          can set LXD up to use it using 'lxd init'.  If you already have a ZFS pool
          configured, you can tell LXD to use it by setting the zfs_pool_name configuration
          key:
        </fo:block><fo:block id="idm45028018152784" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc config set storage.zfs_pool_name lxd
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          With ZFS, launching a new container
          is fast because the filesystem starts as a copy on write clone of the images'
          filesystem.  Note that unless the container is privileged (see below) LXD will
          need to change ownership of all files before the container can start, however
          this is fast and change very little of the actual filesystem data.
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018150224" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Btrfs: btrfs can be used with many of the same advantages as
          ZFS.  To use BTRFS as a LXD backing store, simply mount a Btrfs
          filesystem under <fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/lib/lxd</fo:inline>.  LXD will detect
          this and exploit the Btrfs subvolume feature whenever launching a new
          container or snapshotting a container.
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018148224" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          LVM: To use a LVM volume group called 'lxd', you may tell LXD to use that
          for containers and images using the command
        </fo:block><fo:block id="idm45028018147360" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
	lxc config set storage.lvm_vg_name lxd
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          When launching a new container, its rootfs will start as a lv clone.  It is
          immediately mounted so that the file uids can be shifted, then unmounted.
          Container snapshots also are created as lv snapshots.
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="lxd-container-config"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker"> Container configuration </fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.7. Container configuration </fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Containers are configured according to a set of profiles, described in the
        next section, and a set of container-specific configuration.  Profiles are
        applied first, so that container specific configuration can override profile
        configuration.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Container configuration includes properties like the architecture, limits
        on resources such as CPU and RAM, security details including apparmor
        restriction overrides, and devices to apply to the container.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Devices can be of several types, including UNIX character, UNIX block,
        network interface, or 'disk'.  In order to insert a host mount into a
        container, a 'disk' device type would be used.  For instance, to mount
        /opt in container c1 at /opt, you could use:
      </fo:block><fo:block id="idm45028018141296" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc config device add c1 opt disk source=/opt path=opt
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        See:
      </fo:block><fo:block id="idm45028018139200" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc help config
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        for more information about editing container configurations.  You may
        also use:
      </fo:block><fo:block id="idm45028018137072" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc config edit c1
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        to edit the whole of c1's configuration in your specified $EDITOR.
        Comments at the top of the configuration will show examples of
        correct syntax to help administrators hit the ground running.  If
        the edited configuration is not valid when the $EDITOR is exited,
        then $EDITOR will be restarted.
      </fo:block></fo:block><fo:block id="lxd-profiles"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker"> Profiles </fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.8. Profiles </fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Profiles are named collections of configurations which may be applied
      to more than one container.  For instance, all containers created with
      'lxc launch', by default, include the 'default' profile, which provides a
      network interface 'eth0'.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        To mask a device which would be inherited from a profile but which should
        not be in the final container, define a device by the same name but of
        type 'none':
      </fo:block><fo:block id="idm45028018132176" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc config device add c1 eth1 none
</fo:inline>
</fo:block></fo:block><fo:block id="lxd-nesting"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker"> Nesting </fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.9. Nesting </fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Containers all share the same host kernel.  This means that there is always
        an inherent trade-off between features exposed to the container and host
        security from malicious containers.  Containers by default are therefore
        restricted from features needed to nest child containers.  In order to
        run lxc or lxd containers under a lxd container, the
        'security.nesting' feature must be set to true:
      </fo:block><fo:block id="idm45028018128480" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc config set container1 security.nesting true
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Once this is done, container1 will be able to start sub-containers.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        In order to run unprivileged (the default in LXD) containers nested under an
        unprivileged container, you will need to ensure a wide enough UID mapping.
        Please see the 'UID mapping' section below.
      </fo:block><fo:block id="idm45028018125840"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">5.9.1. Docker </fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        In order to facilitate running docker containers inside a LXD container,
        a 'docker' profile is provided.  To launch a new container with the
        docker profile, you can run:
      </fo:block><fo:block id="idm45028018124464" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc launch xenial container1 -p default -p docker
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Note that currently the docker package in Ubuntu 16.04 is patched to
        facilitate running in a container.  This support is expected to land
        upstream soon.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Note that 'cgroup namespace' support is also required.  This is
        available in the 16.04 kernel as well as in the 4.6 upstream
        source.
      </fo:block></fo:block></fo:block><fo:block id="lxd-limits"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker"> Limits </fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.10. Limits </fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        LXD supports flexible constraints on the resources which containers
        can consume.  The limits come in the following categories:
      </fo:block><fo:list-block id="idm45028018119744" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028018119456" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">CPU: limit cpu available to the container in several ways.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018118512" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Disk: configure the priority of I/O requests under load</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018117648" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">RAM: configure memory and swap availability</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018116784" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Network: configure the network priority under load</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028018115920" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Processes: limit the number of concurrent processes in the container.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        For a full list of limits known to LXD, see
        <fo:basic-link external-destination="https://github.com/lxc/lxd/blob/master/doc/configuration.md" font-style="italic">
        the configuration documentation</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">41</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">41</fo:inline> <fo:basic-link external-destination="https://github.com/lxc/lxd/blob/master/doc/configuration.md">https://github.com/lxc/lxd/blob/master/doc/configuration.md</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
      </fo:block></fo:block><fo:block id="lxd-uid"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker"> UID mappings and Privileged containers </fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.11. UID mappings and Privileged containers </fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        By default, LXD creates unprivileged containers.  This means that root
        in the container is a non-root UID on the host.  It is privileged against
        the resources owned by the container, but unprivileged with respect to
        the host, making root in a container roughly equivalent to an unprivileged
        user on the host.  (The main exception is the increased attack surface
        exposed through the system call interface)
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Briefly, in an unprivileged container, 65536 UIDs are 'shifted' into the
        container.  For instance, UID 0 in the container may be 100000 on the host,
        UID 1 in the container is 100001, etc, up to 165535.  The starting value
        for UIDs and GIDs, respectively, is determined by the 'root' entry the
        <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/subuid</fo:inline> and <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/subgid</fo:inline> files.  (See the
        <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/xenial/en/man5/subuid.5.html" font-style="italic">
        subuid(5) manual page</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">42</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">42</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/xenial/en/man5/subuid.5.html">http://manpages.ubuntu.com/manpages/xenial/en/man5/subuid.5.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        It is possible to request a container to run without a UID mapping by
        setting the security.privileged flag to true:
      </fo:block><fo:block id="idm45028016799008" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc config set c1 security.privileged true
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Note however that in this case the root user in the container is the
        root user on the host.
      </fo:block></fo:block><fo:block id="lxd-aa"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker"> Apparmor </fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.12. Apparmor </fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        LXD confines containers by default with an apparmor profile which protects
        containers from each other and the host from containers.  For instance
        this will prevent root in one container from signaling root in another
        container, even though they have the same uid mapping.  It also prevents
        writing to dangerous, un-namespaced files such as many sysctls and
        <fo:inline font-size="8.800000000000001pt" font-family="monospace"> /proc/sysrq-trigger</fo:inline>.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        If the apparmor policy for a container needs to be modified for a container
        c1, specific apparmor policy lines can be added in the 'raw.apparmor'
        configuration key.
      </fo:block></fo:block><fo:block id="lxd-seccomp"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker"> Seccomp </fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.13. Seccomp </fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        All containers are confined by a default seccomp policy.  This policy
        prevents some dangerous actions such as forced umounts, kernel module
        loading and unloading, kexec, and the open_by_handle_at system call.
        The seccomp configuration cannot be modified, however a completely
        different seccomp policy - or none - can be requested using raw.lxc
        (see below).
      </fo:block></fo:block><fo:block id="idm45028016792272"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker"> Raw LXC configuration </fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.14. Raw LXC configuration </fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        LXD configures containers for the best balance of host safety and
        container usability.  Whenever possible it is highly recommended to
        use the defaults, and use the LXD configuration keys to request LXD
        to modify as needed.  Sometimes, however, it may be necessary to talk
        to the underlying lxc driver itself.  This can be done by specifying
        LXC configuration items in the 'raw.lxc' LXD configuration key.  These
        must be valid items as documented in
        <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/xenial/en/man5/lxc.container.conf.5.html" font-style="italic">
        the lxc.container.conf(5) manual page</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">43</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">43</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/xenial/en/man5/lxc.container.conf.5.html">http://manpages.ubuntu.com/manpages/xenial/en/man5/lxc.container.conf.5.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
      </fo:block></fo:block><fo:block id="idm45028016789712"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker"> Images and containers </fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.15. Images and containers </fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
LXD is image based.  When you create your first container, you will
generally do so using an existing image.  LXD comes pre-configured
with three default image remotes:
      </fo:block><fo:list-block id="idm45028016788496" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028016788240" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">ubuntu: This is a <fo:basic-link external-destination="https://launchpad.net/simplestreams" font-style="italic">simplestreams-based</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">44</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">44</fo:inline> <fo:basic-link external-destination="https://launchpad.net/simplestreams">https://launchpad.net/simplestreams</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
          remote serving released ubuntu cloud images.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028016786848" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">ubuntu-daily: This is another simplestreams based remote which serves
          'daily' ubuntu cloud images.  These provide quicker but potentially less
          stable images.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028016785888" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">images: This is a remote publishing best-effort container images for
          many distributions, created using community-provided build scripts.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        To view the images available on one of these servers, you can use:
      </fo:block><fo:block id="idm45028016784448" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc image list ubuntu:
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Most of the images are known by several aliases for easier reference.  To
        see the full list of aliases, you can use
      </fo:block><fo:block id="idm45028016782656" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc image alias list images:
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Any alias or image fingerprint can be used to specify how to create the new
        container.  For instance, to create an amd64 Ubuntu 14.04 container, some
        options are:
      </fo:block><fo:block id="idm45028016780816" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc launch ubuntu:14.04 trusty1
lxc launch ubuntu:trusty trusty1
lxc launch ubuntu:trusty/amd64 trusty1
lxc launch ubuntu:lts trusty1
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The 'lts' alias always refers to the latest released LTS image.
      </fo:block><fo:block id="idm45028016779040"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">5.15.1. Snapshots </fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Containers can be renamed and live-migrated using the 'lxc move' command:
        </fo:block><fo:block id="idm45028016777904" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc move c1 final-beta
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          They can also be snapshotted:
        </fo:block><fo:block id="idm45028016776272" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc snapshot c1 YYYY-MM-DD
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Later changes to c1 can then be reverted by restoring the snapshot:
        </fo:block><fo:block id="idm45028016774640" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc restore u1 YYYY-MM-DD
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          New containers can also be created by copying a container or snapshot:
        </fo:block><fo:block id="idm45028016772896" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc copy u1/YYYY-MM-DD testcontainer
</fo:inline>
</fo:block></fo:block><fo:block id="idm45028016771520"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">5.15.2. Publishing images </fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          When a container or container snapshot is ready for consumption by others,
          it can be published as a new image using;
        </fo:block><fo:block id="idm45028016770336" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc publish u1/YYYY-MM-DD --alias foo-2.0
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The published image will be private by default, meaning that LXD will not
          allow clients without a trusted certificate to see them.  If the image
          is safe for public viewing (i.e. contains no private information), then
          the 'public' flag can be set, either at publish time using
        </fo:block><fo:block id="idm45028016768368" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc publish u1/YYYY-MM-DD --alias foo-2.0 public=true
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          or after the fact using
        </fo:block><fo:block id="idm45028016766736" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc image edit foo-2.0
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          and changing the value of the public field.
        </fo:block></fo:block><fo:block id="idm45028016764976"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">5.15.3. Image export and import </fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Image can be exported as, and imported from, tarballs:
        </fo:block><fo:block id="idm45028016763952" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc image export foo-2.0 foo-2.0.tar.gz
lxc image import foo-2.0.tar.gz --alias foo-2.0 --public
</fo:inline>
</fo:block></fo:block></fo:block><fo:block id="lxd-troubleshooting"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker"> Troubleshooting </fo:marker><fo:block text-decoration="underline" font-size="14.3pt">5.16. Troubleshooting </fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        To view debug information about LXD itself, on a systemd based host use
      </fo:block><fo:block id="idm45028016761072" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
journalctl -u LXD
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        On an Upstart-based system, you can find the log in
        <fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/log/upstart/lxd.log</fo:inline>.  To make LXD provide
        much more information about requests it is serving, add '--debug' to
        LXD's arguments.  In systemd, append '--debug' to the 'ExecStart=' line
        in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/lib/systemd/system/lxd.service</fo:inline>.  In Upstart,
        append it to the <fo:inline font-weight="bold">exec /usr/bin/lxd</fo:inline> line in
        <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/init/lxd.conf</fo:inline>.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Container logfiles for container c1 may be seen using:
      </fo:block><fo:block id="idm45028016756352" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc info c1 --show-log
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The configuration file which was used may be found under <fo:inline font-size="8.800000000000001pt" font-family="monospace"> /var/log/lxd/c1/lxc.conf</fo:inline>
        while apparmor profiles can be found in <fo:inline font-size="8.800000000000001pt" font-family="monospace"> /var/lib/lxd/security/apparmor/profiles/c1</fo:inline>
        and seccomp profiles in <fo:inline font-size="8.800000000000001pt" font-family="monospace"> /var/lib/lxd/security/seccomp/c1</fo:inline>.
      </fo:block></fo:block></fo:block><fo:block id="lxc"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">LXC</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">6.LXC</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Containers are a lightweight virtualization technology. They are
    more akin to an enhanced chroot than to full virtualization like Qemu or
    VMware, both because they do not emulate hardware and because containers
    share the same operating system as the host. Containers are
    similar to Solaris zones or BSD jails. Linux-vserver and OpenVZ
    are two pre-existing, independently developed implementations of
    containers-like functionality for Linux. In fact, containers came about as
    a result of the work to upstream the vserver and OpenVZ functionality.
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">There are two user-space implementations of containers, each
    exploiting the same kernel features. Libvirt allows the use of containers
    through the LXC driver by connecting to 'lxc:///'. This can be very
    convenient as it supports the same usage as its other drivers. The other
    implementation, called simply 'LXC', is not compatible with libvirt, but
    is more flexible with more userspace tools. It is possible to switch
    between the two, though there are peculiarities which can cause
    confusion.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In this document we will mainly describe the
    lxc package. Use of libvirt-lxc is not
    generally recommended due to a lack of Apparmor protection for
    libvirt-lxc containers.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In this document, a container name will be shown as CN, C1, or
    C2.</fo:block><fo:block id="lxc-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">6.1.Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The lxc package can be installed
      using</fo:block><fo:block id="idm45028016745904" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
sudo apt install lxc
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This will pull in the required and recommended dependencies,
      as well as set up a network bridge for containers to use.  If you
      wish to use unprivileged containers, you will need to ensure that
      users have sufficient allocated subuids and subgids, and will likely
      want to allow users to connect containers to a bridge (see
      <fo:basic-link internal-destination="lxc-unpriv"><fo:inline font-style="italic">Section6.2.3, Basic unprivileged usage</fo:inline></fo:basic-link><fo:basic-link internal-destination="lxc-unpriv" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="lxc-unpriv"/>]</fo:inline></fo:basic-link>).
      </fo:block></fo:block><fo:block id="lxc-basic-usage"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Basic usage</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">6.2.Basic usage</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      LXC can be used in two distinct ways - privileged, by running the
      lxc commands as the root user;  or unprivileged, by running the
      lxc commands as a non-root user.  (The starting of unprivileged
      containers by the root user is possible, but not described here.)
      Unprivileged containers are more limited, for instance being unable
      to create device nodes or mount block-backed filesystems.  However
      they are less dangerous to the host, as the root userid in the
      container is mapped to a non-root userid on the host.
      </fo:block><fo:block id="idm45028016741200"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">6.2.1.Basic privileged usage</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      To create a privileged container, you can simply do:
      </fo:block><fo:block id="idm45028016740176" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
sudo lxc-create --template download --name u1
</fo:inline>
or, abbreviated
<fo:inline font-weight="bold">
sudo lxc-create -t download -n u1
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      This will interactively ask for a container root filesystem type
      to download - in particular the distribution, release, and
      architecture.  To create the container non-interactively, you can
      specify these values on the command line:
      </fo:block><fo:block id="idm45028016737648" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
sudo lxc-create -t download -n u1 -- --dist ubuntu --release xenial --arch amd64
</fo:inline>
or
<fo:inline font-weight="bold">
sudo lxc-create -t download -n u1 -- -d ubuntu -r xenial -a amd64
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      You can now use <fo:inline font-weight="bold">lxc-ls</fo:inline> to list containers,
      <fo:inline font-weight="bold">lxc-info</fo:inline> to obtain detailed container information,
      <fo:inline font-weight="bold">lxc-start</fo:inline> to start and <fo:inline font-weight="bold">lxc-stop</fo:inline>
      to stop the container.  <fo:inline font-weight="bold">lxc-attach</fo:inline> and
      <fo:inline font-weight="bold">lxc-console</fo:inline> allow you to enter a container, if
      ssh is not an option.  <fo:inline font-weight="bold">lxc-destroy</fo:inline> removes the
      container, including its rootfs.  See the manual pages for more
      information on each command.  An example session might look like:
      </fo:block><fo:block id="idm45028016730848" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
sudo lxc-ls --fancy
sudo lxc-start --name u1 --daemon
sudo lxc-info --name u1
sudo lxc-stop --name u1
sudo lxc-destroy --name u1
</fo:inline>
</fo:block></fo:block><fo:block id="idm45028016729328"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">6.2.2.User namespaces</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Unprivileged containers allow users to create and administer
      containers without having any root privilege.  The feature
      underpinning this is called user namespaces.  User namespaces
      are hierarchical, with privileged tasks in a parent namespace
      being able to map its ids into child namespaces.  By default every
      task on the host runs in the initial user namespace, where
      the full range of ids is mapped onto the full range.  This can be
      seen by looking at /proc/self/uid_map and /proc/self/gid_map,
      which both will show "0 0 4294967295" when read from the initial
      user namespace.  As of Ubuntu 14.04, when new users are created
      they are by default offered a range of userids.
      The list of assigned ids can be seen in the files
      <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/subuid</fo:inline> and <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/subgid</fo:inline>
      See their respective manpages for more information.  Subuids and
      subgids are by convention started at id 100000 to avoid conflicting
      with system users.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      If a user was created on an earlier release, it can be granted a
      range of ids using <fo:inline font-weight="bold">usermod</fo:inline>, as follows:
      </fo:block><fo:block id="idm45028016724928" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
sudo usermod -v 100000-200000 -w 100000-200000 user1
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The programs <fo:inline font-weight="bold">newuidmap</fo:inline> and <fo:inline font-weight="bold">
	newgidmap</fo:inline> are setuid-root programs in the <fo:inline font-size="8.800000000000001pt" font-family="monospace">uidmap</fo:inline>
	package, which are used internally by lxc to map subuids and subgids
	from the host into the unprivileged container.  They ensure that
	the user only maps ids which are authorized by the host
	configuration.
      </fo:block></fo:block><fo:block id="lxc-unpriv"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">6.2.3.Basic unprivileged usage</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      To create unprivileged containers, a few first steps are needed.  You
      will need to create a default container configuration file, specifying
      your desired id mappings and network setup, as well as configure the
      host to allow the unprivileged user to hook into the host network.  The
      example below assumes that your mapped user and group id ranges are
      100000-165536. Check your actual user and group id ranges and modify
      the example accordingly:
      </fo:block><fo:block id="idm45028016718896" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
grep $USER /etc/subuid
grep $USER /etc/subgid
</fo:inline>
</fo:block><fo:block id="idm45028016717648" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
mkdir -p ~/.config/lxc
echo "lxc.id_map = u 0 100000 65536" &gt; ~/.config/lxc/default.conf
echo "lxc.id_map = g 0 100000 65536" &gt;&gt; ~/.config/lxc/default.conf
echo "lxc.network.type = veth" &gt;&gt; ~/.config/lxc/default.conf
echo "lxc.network.link = lxcbr0" &gt;&gt; ~/.config/lxc/default.conf
echo "$USER veth lxcbr0 2" | sudo tee -a /etc/lxc/lxc-usernet
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      After this, you can create unprivileged containers the same way as
      privileged ones, simply without using sudo.
    </fo:block><fo:block id="idm45028016715520" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc-create -t download -n u1 -- -d ubuntu -r xenial -a amd64
lxc-start -n u1 -d
lxc-attach -n u1
lxc-stop -n u1
lxc-destroy -n u1
</fo:inline>
</fo:block></fo:block><fo:block id="lxc-nesting"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">6.2.4.Nesting</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In order to run containers inside containers - referred
	to as nested containers - two lines must be present in the
	parent container configuration file:
<fo:block id="idm45028016712688" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
lxc.mount.auto = cgroup
lxc.aa_profile = lxc-container-default-with-nesting
</fo:block>
	The first will cause the cgroup manager socket to be bound
	into the container, so that lxc inside the container is able
	to administer cgroups for its nested containers.  The second
	causes the container to run in a looser Apparmor policy which
	allows the container to do the mounting required for starting
	containers.  Note that this policy, when used with a privileged
	container, is much less safe than the regular policy or an
	unprivileged container.  See <fo:basic-link internal-destination="lxc-apparmor"><fo:inline font-style="italic">Section6.9, Apparmor</fo:inline></fo:basic-link><fo:basic-link internal-destination="lxc-apparmor" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="lxc-apparmor"/>]</fo:inline></fo:basic-link> for
	more information.
	</fo:block></fo:block></fo:block><fo:block id="lxc-global-conf"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Global configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">6.3.Global configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      The following configuration files are consulted by LXC.  For
      privileged use, they are found under <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/lxc</fo:inline>,
      while for unprivileged use they are under <fo:inline font-size="8.800000000000001pt" font-family="monospace">~/.config/lxc</fo:inline>.
      <fo:list-block id="idm45028016707952" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028016707696" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-size="8.800000000000001pt" font-family="monospace">lxc.conf</fo:inline> may optionally specify alternate
	  values for several lxc settings, including the lxcpath,
	  the default configuration, cgroups to use, a cgroup creation pattern,
	  and storage backend settings for lvm and zfs.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028016706208" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-size="8.800000000000001pt" font-family="monospace">default.conf</fo:inline> specifies configuration which
	  every newly created container should contain.  This usually contains
	  at least a network section, and, for unprivileged users, an id mapping
	  section</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028016704736" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-size="8.800000000000001pt" font-family="monospace">lxc-usernet.conf</fo:inline> specifies how unprivileged
	  users may connect their containers to the host-owned network.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block>
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      <fo:inline font-size="8.800000000000001pt" font-family="monospace">lxc.conf</fo:inline> and <fo:inline font-size="8.800000000000001pt" font-family="monospace">default.conf</fo:inline> are
      both under <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/lxc</fo:inline> and <fo:inline font-size="8.800000000000001pt" font-family="monospace">$HOME/.config/lxc</fo:inline>,
      while <fo:inline font-size="8.800000000000001pt" font-family="monospace">lxc-usernet.conf</fo:inline> is only host-wide.
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      By default, containers are located under /var/lib/lxc for the
      root user, and $HOME/.local/share/lxc otherwise.  The location
      can be specified for all lxc commands using the "-P|--lxcpath"
      argument.
    </fo:block></fo:block><fo:block id="lxc-network"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Networking</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">6.4.Networking</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">By default LXC creates a private network namespace for each container,
      which includes a layer 2 networking stack.  Containers usually connect to the
      outside world by either having a physical NIC or a veth tunnel endpoint passed
      into the container.  LXC creates a NATed bridge, lxcbr0, at host startup.
      Containers created using the default configuration will have one veth NIC
      with the remote end plugged into the lxcbr0 bridge.  A NIC can only exist
      in one namespace at a time, so a physical NIC passed into the container
      is not usable on the host.  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">It is possible to create a container without a private network namespace.
      In this case, the container will have access to the host networking like
      any other application.  Note that this is particularly dangerous if the
      container is running a distribution with upstart, like Ubuntu, since programs
      which talk to init, like <fo:inline font-weight="bold">shutdown</fo:inline>, will talk over the
      abstract Unix domain socket to the host's upstart, and shut down the host.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      To give containers on lxcbr0 a persistent ip address based on domain name,
      you can write entries to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/lxc/dnsmasq.conf</fo:inline> like:
<fo:block id="idm45028016694240" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
dhcp-host=lxcmail,10.0.3.100
dhcp-host=ttrss,10.0.3.101
</fo:block>
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If it is desirable for the container to be publicly accessible,
      there are a few ways to go about it.  One is to use <fo:inline font-weight="bold">iptables</fo:inline>
      to forward host ports to the container, for instance

<fo:block id="idm45028016692464" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
 iptables -t nat -A PREROUTING -p tcp -i eth0 --dport 587 -j DNAT \
 	--to-destination 10.0.3.100:587
 </fo:block>
      Another is to bridge the host's network interfaces (see the Ubuntu Server Guide's Network Configuration chapter,
      <fo:basic-link internal-destination="bridging"><fo:inline font-style="italic">Section1.4, Bridging</fo:inline></fo:basic-link><fo:basic-link internal-destination="bridging" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="bridging"/>]</fo:inline></fo:basic-link>).  Then, specify the host's bridge in the
      container configuration file in place of lxcbr0, for instance

<fo:block id="idm45028016690944" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
lxc.network.type = veth
lxc.network.link = br0
</fo:block>
      Finally, you can ask LXC to use macvlan for the container's NIC.  Note that
      this has limitations and depending on configuration may not allow the
      container to talk to the host itself.  Therefore the other two options are
      preferred and more commonly used.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">There are several ways to determine the ip address for a container.
      First, you can use <fo:inline font-weight="bold">lxc-ls --fancy</fo:inline> which will print the ip
      addresses for all running containers, or <fo:inline font-weight="bold">lxc-info -i -H -n C1</fo:inline>
      which will print C1's ip address.  If dnsmasq is installed on the host, you can
      also add an entry to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/dnsmasq.conf</fo:inline> as follows
<fo:block id="idm45028016687536" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
server=/lxc/10.0.3.1
</fo:block>
      after which dnsmasq will resolve C1.lxc locally, so that you can do:
<fo:block id="idm45028016686912" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
ping C1
ssh C1
</fo:block>
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For more information, see the lxc.conf manpage as well as the example
      network configurations under <fo:inline font-size="8.800000000000001pt" font-family="monospace">/usr/share/doc/lxc/examples/</fo:inline>.
      </fo:block></fo:block><fo:block id="lxc-startup"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">LXC startup</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">6.5.LXC startup</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">LXC does not have a long-running daemon.  However it does
       have three upstart jobs.</fo:block><fo:list-block id="idm45028016683280" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028016683024" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/init/lxc-net.conf:</fo:inline> is an
           optional job which only runs if <fo:inline font-size="8.800000000000001pt" font-family="monospace">
	   /etc/default/lxc-net</fo:inline> specifies USE_LXC_BRIDGE (true by
	   default). It sets up a NATed bridge for containers to
           use.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028016681008" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/init/lxc.conf</fo:inline> loads the
	   lxc apparmor profiles and optionally starts any autostart
	   containers.  The autostart containers will be ignored if
	   LXC_AUTO (true by default) is set to true in
           <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/default/lxc</fo:inline>.
	   See the lxc-autostart manual page for more information on
	   autostarted containers.
	   </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028016678800" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/init/lxc-instance.conf</fo:inline>
	  is used by <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/init/lxc.conf</fo:inline>
	  to autostart a container.
	  </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="lxc-backinstores"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Backing Stores</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">6.6.Backing Stores</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">LXC supports several backing stores for container root
	filesystems.  The default is a simple directory backing store,
	because it requires no prior host customization, so long as
	the underlying filesystem is large enough.  It also requires no root
	privilege to create the backing store, so that it is seamless for
	unprivileged use.  The rootfs for a privileged directory backed
	container is located (by default) under
	<fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/lib/lxc/C1/rootfs</fo:inline>, while the rootfs for an
	unprivileged container is under
	<fo:inline font-size="8.800000000000001pt" font-family="monospace">~/.local/share/lxc/C1/rootfs</fo:inline>.  If a custom
	lxcpath is specified in lxc.system.com, then the container rootfs
	will be under <fo:inline font-size="8.800000000000001pt" font-family="monospace">$lxcpath/C1/rootfs</fo:inline>.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	A snapshot clone C2
	of a directory backed container C1 becomes an overlayfs backed
	container, with a rootfs called
	<fo:inline font-size="8.800000000000001pt" font-family="monospace">overlayfs:/var/lib/lxc/C1/rootfs:/var/lib/lxc/C2/delta0</fo:inline>.
	Other backing store types include loop, btrfs, LVM and zfs.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	A btrfs backed container mostly looks like a directory backed
	container, with its root filesystem in the same location.
	However, the root filesystem comprises a subvolume, so that a snapshot
	clone is created using a subvolume snapshot.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The root filesystem for an LVM backed container can be any
	separate LV.  The default VG name can be specified in lxc.conf.
	The filesystem type and size are configurable per-container using
	lxc-create.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	The rootfs for a zfs backed container is a separate zfs filesystem,
	mounted under the traditional <fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/lib/lxc/C1/rootfs</fo:inline>
	location.  The zfsroot can be specified at lxc-create, and a default
	can be specified in lxc.system.conf.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">  More information on creating containers with the
	various backing stores can be found in the lxc-create
	manual page.
	</fo:block></fo:block><fo:block id="lxc-templates"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Templates</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">6.7.Templates</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Creating a container generally involves creating a root filesystem for
	the container.  <fo:inline font-weight="bold">lxc-create</fo:inline> delegates this work to
	<fo:inline font-style="italic">templates</fo:inline>, which are generally per-distribution.
	The lxc templates shipped with lxc can be found under
	<fo:inline font-size="8.800000000000001pt" font-family="monospace">/usr/share/lxc/templates</fo:inline>, and include templates
	to create Ubuntu, Debian, Fedora, Oracle, centos, and gentoo containers
	among others.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Creating distribution images in most cases requires the ability to
	create device nodes, often requires tools which are not available
	in other distributions, and usually is quite time-consuming.  Therefore
	lxc comes with a special <fo:inline font-style="italic">download</fo:inline> template,
	which downloads pre-built container images from a central lxc server.
	The most important use case is to allow simple creation of unprivileged
	containers by non-root users, who could not for instance easily run
	the <fo:inline font-weight="bold">debootstrap</fo:inline> command.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	When running <fo:inline font-weight="bold">lxc-create</fo:inline>, all options which come after
	<fo:inline font-style="italic">--</fo:inline> are passed to the template.  In the
	following command, <fo:inline font-style="italic">--name</fo:inline>, <fo:inline font-style="italic">--template</fo:inline>
	and <fo:inline font-style="italic">--bdev</fo:inline> are passed to <fo:inline font-weight="bold">lxc-create</fo:inline>,
	while <fo:inline font-style="italic">--release</fo:inline> is passed to the template:
<fo:block id="idm45028016659616" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc-create --template ubuntu --name c1 --bdev loop -- --release xenial
</fo:inline>
</fo:block>
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	You can obtain help for the options supported by any particular
	container by passing <fo:inline font-style="italic">--help</fo:inline> and the template
	name to <fo:inline font-weight="bold">lxc-create</fo:inline>.  For instance, for help with
	the download template,
	</fo:block><fo:block id="idm45028016656736" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc-create --template download --help
</fo:inline>
</fo:block></fo:block><fo:block id="lxc-autostart"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Autostart</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">6.8.Autostart</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">LXC supports marking containers to be started at system boot.  Prior to
	Ubuntu 14.04, this was done using symbolic links under the directory
	<fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/lxc/auto</fo:inline>.  Starting with Ubuntu 14.04, it is done
	through the container configuration files.  An entry
<fo:block id="idm45028016653088" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc.start.auto = 1
lxc.start.delay = 5
</fo:inline>
</fo:block>
	would mean that the container should be started at boot, and the system should
	wait 5 seconds before starting the next container.  LXC also supports ordering
	and grouping of containers, as well as reboot and shutdown by autostart groups.
	See the manual pages for lxc-autostart and lxc.container.conf for more information.
	</fo:block></fo:block><fo:block id="lxc-apparmor"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Apparmor</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">6.9.Apparmor</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">LXC ships with a default Apparmor profile intended to protect the host
        from accidental misuses of privilege inside the container. For
        instance, the container will not be able to write to
        <fo:inline font-size="8.800000000000001pt" font-family="monospace">/proc/sysrq-trigger</fo:inline> or to most
        <fo:inline font-size="8.800000000000001pt" font-family="monospace">/sys</fo:inline> files.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The <fo:inline font-size="8.800000000000001pt" font-family="monospace">usr.bin.lxc-start</fo:inline> profile is entered by
        running <fo:inline font-weight="bold">lxc-start</fo:inline>. This profile mainly prevents
        <fo:inline font-weight="bold">lxc-start</fo:inline> from mounting new filesystems outside of
        the container's root filesystem. Before executing the container's
        <fo:inline font-weight="bold">init</fo:inline>, <fo:inline font-weight="bold">LXC</fo:inline> requests a switch to
        the container's profile. By default, this profile is the
        <fo:inline font-size="8.800000000000001pt" font-family="monospace">lxc-container-default</fo:inline> policy which is defined in
        <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apparmor.d/lxc/lxc-default</fo:inline>. This profile
        prevents the container from accessing many dangerous paths, and from
        mounting most filesystems.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Programs in a container cannot be further
	confined - for instance, MySQL runs under the container
	profile (protecting the host) but will not be able to enter the
	MySQL profile (to protect the container).</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-weight="bold">lxc-execute</fo:inline> does not enter an Apparmor
        profile, but the container it spawns will be confined.</fo:block><fo:block id="idm45028016641504"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">6.9.1.Customizing container policies</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you find that <fo:inline font-weight="bold">lxc-start</fo:inline> is failing due to
        a legitimate access which is being denied by its Apparmor policy, you
        can disable the lxc-start profile by doing:</fo:block><fo:block id="idm45028016639824" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
sudo apparmor_parser -R /etc/apparmor.d/usr.bin.lxc-start
sudo ln -s /etc/apparmor.d/usr.bin.lxc-start /etc/apparmor.d/disabled/
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This will make <fo:inline font-weight="bold">lxc-start</fo:inline> run unconfined, but
        continue to confine the container itself. If you also wish to disable
        confinement of the container, then in addition to disabling the
        <fo:inline font-size="8.800000000000001pt" font-family="monospace">usr.bin.lxc-start</fo:inline> profile, you must add:</fo:block><fo:block id="idm45028016637232" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
lxc.aa_profile = unconfined
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">to the container's configuration file.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	LXC ships with a few alternate policies for containers.  If you
	wish to run containers inside containers (nesting), then you
	can use the lxc-container-default-with-nesting profile by adding
	the following line to the container configuration file
	<fo:block id="idm45028016635696" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
lxc.aa_profile = lxc-container-default-with-nesting
	</fo:block>
	If you wish to use libvirt inside containers, then you will need
	to edit that policy (which is defined in
	<fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apparmor.d/lxc/lxc-default-with-nesting</fo:inline>)
	by uncommenting the following line:
	<fo:block id="idm45028016634320" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
mount fstype=cgroup -&gt; /sys/fs/cgroup/**,
	</fo:block>
	and re-load the policy.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Note that the nesting policy with privileged containers is
	far less safe than the default policy, as it allows containers to
	re-mount <fo:inline font-size="8.800000000000001pt" font-family="monospace">/sys</fo:inline> and <fo:inline font-size="8.800000000000001pt" font-family="monospace">/proc</fo:inline>
	in nonstandard locations, bypassing apparmor protections.
	Unprivileged containers do not have this drawback since the
	container root cannot write to root-owned <fo:inline font-size="8.800000000000001pt" font-family="monospace">proc</fo:inline>
	and <fo:inline font-size="8.800000000000001pt" font-family="monospace">sys</fo:inline> files.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Another profile shipped with lxc allows containers to mount
	block filesystem types like ext4.  This can be useful in some cases
	like maas provisioning, but is deemed generally unsafe since the superblock
	handlers in the kernel have not been audited for safe handling of
	untrusted input.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> If you need to run a
        container in a custom profile, you can create a new profile under
        <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apparmor.d/lxc/</fo:inline>. Its name must start with
        <fo:inline font-size="8.800000000000001pt" font-family="monospace">lxc-</fo:inline> in order for <fo:inline font-weight="bold">lxc-start</fo:inline> to
        be allowed to transition to that profile. The
        <fo:inline font-size="8.800000000000001pt" font-family="monospace">lxc-default</fo:inline> profile includes the re-usable
        abstractions file
        <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apparmor.d/abstractions/lxc/container-base</fo:inline>.
        An easy way to start a new profile therefore is to do the same, then
        add extra permissions at the bottom of your policy.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">After creating the policy, load it using:</fo:block><fo:block id="idm45028016625488" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
sudo apparmor_parser -r /etc/apparmor.d/lxc-containers
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The profile will automatically be loaded after a reboot, because
        it is sourced by the file
        <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/apparmor.d/lxc-containers</fo:inline>. Finally, to make
        container <fo:inline font-size="8.800000000000001pt" font-family="monospace">CN</fo:inline> use this new
        <fo:inline font-size="8.800000000000001pt" font-family="monospace">lxc-CN-profile</fo:inline>, add the following line to its
        configuration file:</fo:block><fo:block id="idm45028016622480" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
lxc.aa_profile = lxc-CN-profile
</fo:block></fo:block></fo:block><fo:block id="lxc-cgroups"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Control Groups</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">6.10.Control Groups</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Control groups (cgroups) are a kernel feature providing
        hierarchical task grouping and per-cgroup resource accounting and
        limits. They are used in containers to limit block and character
        device access and to freeze (suspend) containers. They can be further
        used to limit memory use and block i/o, guarantee minimum cpu shares,
        and to lock containers to specific cpus.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> By default, a privileged container CN will be assigned to a cgroup
	called <fo:inline font-size="8.800000000000001pt" font-family="monospace">/lxc/CN</fo:inline>. In the case of name conflicts
	(which can occur when using custom lxcpaths) a suffix "-n", where n
	is an integer starting at 0, will be appended to the cgroup name.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> By default, a privileged container CN will be assigned to a cgroup
	called <fo:inline font-size="8.800000000000001pt" font-family="monospace">CN</fo:inline> under the cgroup of the task which
	started the container, for instance
	<fo:inline font-size="8.800000000000001pt" font-family="monospace">/usr/1000.user/1.session/CN</fo:inline>. The container root
	will be given group ownership of the directory (but not all files)
	so that it is allowed to create new child cgroups.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	As of Ubuntu 14.04, LXC uses the cgroup manager (cgmanager) to
	administer cgroups. The cgroup manager receives D-Bus requests
	over the Unix socket <fo:inline font-size="8.800000000000001pt" font-family="monospace">/sys/fs/cgroup/cgmanager/sock</fo:inline>.
	To facilitate safe nested containers, the line
<fo:block id="idm45028016615344" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc.mount.auto = cgroup
</fo:inline>
</fo:block>
	can be added to the container configuration causing the
	<fo:inline font-size="8.800000000000001pt" font-family="monospace">/sys/fs/cgroup/cgmanager</fo:inline> directory to be bind-mounted
	into the container. The container in turn should start the cgroup
	management proxy (done by default if the cgmanager package is installed
	in the container) which will move the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/sys/fs/cgroup/cgmanager</fo:inline>
	directory to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/sys/fs/cgroup/cgmanager.lower</fo:inline>, then
	start listening for requests to proxy on its own socket
	<fo:inline font-size="8.800000000000001pt" font-family="monospace">/sys/fs/cgroup/cgmanager/sock</fo:inline>. The host cgmanager
	will ensure that nested containers cannot escape their assigned cgroups
	or make requests for which they are not authorized.
	</fo:block></fo:block><fo:block id="lxc-cloning"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Cloning</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">6.11.Cloning</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For rapid provisioning, you may wish to customize a canonical
        container according to your needs and then make multiple copies of it.
        This can be done with the <fo:inline font-weight="bold">lxc-clone</fo:inline> program.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Clones are either snapshots or copies of another container.
	A copy is a new container copied from the original, and takes as
	much space on the host as the original.  A snapshot exploits the
	underlying backing store's snapshotting ability to make a
	copy-on-write container referencing the first.  Snapshots can be
	created from btrfs, LVM, zfs, and directory backed containers.
	Each backing store has its own peculiarities - for instance, LVM
	containers which are not thinpool-provisioned cannot support snapshots
	of snapshots; zfs containers with snapshots cannot be removed until
	all snapshots are released;  LVM containers must be more carefully
	planned as the underlying filesystem may not support growing;
	btrfs does not suffer any of these shortcomings, but suffers from
	reduced fsync performance causing dpkg and apt to be slower.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Snapshots of directory-packed containers are created using the
	overlay filesystem.  For instance, a privileged directory-backed
	container C1 will have its root filesystem under
	<fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/lib/lxc/C1/rootfs</fo:inline>.  A snapshot clone of
	C1 called C2 will be started with C1's rootfs mounted readonly
	under <fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/lib/lxc/C2/delta0</fo:inline>.  Importantly,
	in this case C1 should not be allowed to run or be removed while
	C2 is running.  It is advised instead to consider C1 a <fo:inline font-style="italic">
	canonical</fo:inline> base container, and to only use its snapshots.
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Given an existing container called C1, a copy can be created using:</fo:block><fo:block id="idm45028016604288" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
sudo lxc-clone -o C1 -n C2
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A snapshot can be created using:</fo:block><fo:block id="idm45028016602656" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
sudo lxc-clone -s -o C1 -n C2
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> See the lxc-clone manpage for more information.</fo:block><fo:block id="idm45028016601024"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">6.11.1.Snapshots</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To more easily support the use of snapshot clones for iterative
	  container development, LXC supports <fo:inline font-style="italic">snapshots</fo:inline>.
	  When working on a container C1, before making a potentially dangerous
	  or hard-to-revert change, you can create a snapshot
<fo:block id="idm45028016599488" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
sudo lxc-snapshot -n C1
</fo:inline>
</fo:block>
	  which is a snapshot-clone called 'snap0' under /var/lib/lxcsnaps
	  or $HOME/.local/share/lxcsnaps.  The next snapshot will be called
	  'snap1', etc.  Existing snapshots can be listed using
	  <fo:inline font-weight="bold">lxc-snapshot -L -n C1</fo:inline>, and a snapshot can be
	  restored - erasing the current C1 container - using
	  <fo:inline font-weight="bold">lxc-snapshot -r snap1 -n C1</fo:inline>.  After the restore
	  command, the snap1 snapshot continues to exist, and the previous C1
	  is erased and replaced with the snap1 snapshot.
	  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	  Snapshots are supported for btrfs, lvm, zfs, and overlayfs containers.
	  If lxc-snapshot is called on a directory-backed container, an error
	  will be logged and the snapshot will be created as a copy-clone.  The
	  reason for this is that if the user creates an overlayfs snapshot of
	  a directory-backed container and then makes changes to the directory-backed
	  container, then the original container changes will be partially
	  reflected in the snapshot.  If snapshots of a directory backed container
	  C1 are desired, then an overlayfs clone of C1 should be created,
	  C1 should not be touched again, and the overlayfs clone can be edited
	  and snapshotted at will, as such
<fo:block id="idm45028016595440" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc-clone -s -o C1 -n C2
lxc-start -n C2 -d # make some changes
lxc-stop -n C2
lxc-snapshot -n C2
lxc-start -n C2 # etc
</fo:inline>
</fo:block>
	  </fo:block></fo:block><fo:block id="idm45028016593792"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">6.11.2.Ephemeral Containers</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">While snapshots are useful for longer-term incremental development
	  of images, ephemeral containers utilize snapshots for quick, single-use
	  throwaway containers.  Given a base container C1, you can start an
	  ephemeral container using
<fo:block id="idm45028016592640" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
lxc-start-ephemeral -o C1
</fo:inline>
</fo:block>
	  The container begins as a snapshot of C1.  Instructions for logging into
	  the container will be printed to the console.  After shutdown, the ephemeral
	  container will be destroyed.  See the lxc-start-ephemeral manual page for
	  more options.
	  </fo:block></fo:block></fo:block><fo:block id="lxc-hooks"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Lifecycle management hooks</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">6.12.Lifecycle management hooks</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Beginning with Ubuntu 12.10, it is possible to define hooks to
        be executed at specific points in a container's lifetime:</fo:block><fo:list-block id="idm45028016589088" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028016588832" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Pre-start hooks are run in the host's namespace before the
            container ttys, consoles, or mounts are up. If any mounts are done
            in this hook, they should be cleaned up in the post-stop
            hook.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028016587824" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Pre-mount hooks are run in the container's namespaces, but
            before the root filesystem has been mounted. Mounts done in this
            hook will be automatically cleaned up when the container shuts
            down.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028016586816" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Mount hooks are run after the container filesystems have
            been mounted, but before the container has called
            <fo:inline font-weight="bold">pivot_root</fo:inline> to change its root
            filesystem.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028016585280" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Start hooks are run immediately before executing the
            container's init. Since these are executed after pivoting into the
            container's filesystem, the command to be executed must be copied
            into the container's filesystem.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028016584240" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Post-stop hooks are executed after the container has been
            shut down.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If any hook returns an error, the container's run will be
        aborted. Any <fo:inline font-style="italic">post-stop</fo:inline> hook will still be
        executed. Any output generated by the script will be logged at the
        debug priority.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Please see the lxc.container.conf manual page for the configuration file
        format with which to specify hooks. Some sample hooks are shipped with
        the lxc package to serve as an example of how to write and use such
        hooks.</fo:block></fo:block><fo:block id="lxc-consoles"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Consoles</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">6.13.Consoles</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Containers have a configurable number of consoles. One always
        exists on the container's <fo:inline font-size="8.800000000000001pt" font-family="monospace">/dev/console</fo:inline>. This is
        shown on the terminal from which you ran <fo:inline font-weight="bold">lxc-start</fo:inline>,
        unless the <fo:inline font-style="italic">-d</fo:inline> option is specified. The output on
        <fo:inline font-size="8.800000000000001pt" font-family="monospace">/dev/console</fo:inline> can be redirected to a file using
        the <fo:inline font-style="italic">-c console-file</fo:inline> option to
        <fo:inline font-weight="bold">lxc-start</fo:inline>. The number of extra consoles is
        specified by the <fo:inline font-weight="bold">lxc.tty</fo:inline> variable, and is usually
        set to 4. Those consoles are shown on <fo:inline font-size="8.800000000000001pt" font-family="monospace">/dev/ttyN</fo:inline>
        (for 1 &lt;= N &lt;= 4). To log into console 3 from the host,
        use:</fo:block><fo:block id="idm45028016575008" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
sudo lxc-console -n container -t 3
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">or if the <fo:inline font-style="italic">-t N</fo:inline> option is not specified, an
        unused console will be automatically chosen. To exit the console, use
        the escape sequence Ctrl-a q. Note that the escape sequence does not
        work in the console resulting from <fo:inline font-weight="bold">lxc-start</fo:inline>
        without the <fo:inline font-style="italic">-d</fo:inline> option.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Each container console is actually a Unix98 pty in the host's
        (not the guest's) pty mount, bind-mounted over the guest's
        <fo:inline font-size="8.800000000000001pt" font-family="monospace">/dev/ttyN</fo:inline> and <fo:inline font-size="8.800000000000001pt" font-family="monospace">/dev/console</fo:inline>.
        Therefore, if the guest unmounts those or otherwise tries to access
        the actual character device <fo:inline font-weight="bold">4:N</fo:inline>, it will not be
        serving getty to the LXC consoles. (With the default settings, the
        container will not be able to access that character device and getty
        will therefore fail.) This can easily happen when a boot script
        blindly mounts a new <fo:inline font-size="8.800000000000001pt" font-family="monospace">/dev</fo:inline>.</fo:block></fo:block><fo:block id="lxc-debugging"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Troubleshooting</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">6.14.Troubleshooting</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="idm45028016567040"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">6.14.1.Logging</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> If something goes wrong when starting a container, the first
	step should be to get full logging from LXC:
<fo:block id="idm45028016566016" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
sudo lxc-start -n C1 -l trace -o debug.out
</fo:inline>
</fo:block>
	This will cause lxc to log at the most verbose level, <fo:inline font-size="8.800000000000001pt" font-family="monospace">trace</fo:inline>,
	and to output log information to a file called 'debug.out'.  If the
	file <fo:inline font-size="8.800000000000001pt" font-family="monospace">debug.out</fo:inline> already exists, the new log
	information will be appended.
	</fo:block></fo:block><fo:block id="lxc-monitoring"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">6.14.2.Monitoring container status</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Two commands are available to monitor container state changes.
        <fo:inline font-weight="bold">lxc-monitor</fo:inline> monitors one or more containers for any
        state changes. It takes a container name as usual with the
        <fo:inline font-style="italic">-n</fo:inline> option, but in this case the container name
        can be a posix regular expression to allow monitoring desirable sets
        of containers. <fo:inline font-weight="bold">lxc-monitor</fo:inline> continues running as it
        prints container changes. <fo:inline font-weight="bold">lxc-wait</fo:inline> waits for a
        specific state change and then exits. For instance,</fo:block><fo:block id="idm45028016558704" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
sudo lxc-monitor -n cont[0-5]*
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">would print all state changes to any containers matching the
        listed regular expression, whereas</fo:block><fo:block id="idm45028016556960" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
sudo lxc-wait -n cont1 -s 'STOPPED|FROZEN'
</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">will wait until container cont1 enters state STOPPED or state
        FROZEN and then exit.</fo:block></fo:block><fo:block id="idm45028016555088"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">6.14.3.Attach</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	As of Ubuntu 14.04, it is possible to attach to a container's
	namespaces.   The simplest case is to simply do
<fo:block id="idm45028016554064" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
sudo lxc-attach -n C1
</fo:inline>
</fo:block>
	which will start a shell attached to C1's namespaces, or,
	effectively inside the container.  The attach functionality is
	very flexible, allowing attaching to a subset of the container's
	namespaces and security context.  See the manual page for
	more information.
	</fo:block></fo:block><fo:block id="idm45028016552272"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">6.14.4.Container init verbosity</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	If LXC completes the container startup, but the container init
	fails to complete (for instance, no login prompt is shown),
	it can be useful to request additional verbosity from the
	init process.  For an upstart container, this might be:
<fo:block id="idm45028016551120" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
sudo lxc-start -n C1 /sbin/init loglevel=debug
</fo:inline>
</fo:block>
	You can also start an entirely different program in place of
	init, for instance
<fo:block id="idm45028016549776" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">
sudo lxc-start -n C1 /bin/bash
sudo lxc-start -n C1 /bin/sleep 100
sudo lxc-start -n C1 /bin/cat /proc/1/status
</fo:inline>
</fo:block>
	</fo:block></fo:block></fo:block><fo:block id="python-lxc"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">LXC API</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">6.15.LXC API</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Most of the LXC functionality can now be accessed through an
      API exported by <fo:inline font-size="8.800000000000001pt" font-family="monospace">liblxc</fo:inline> for which bindings are
      available in several languages, including Python, lua, ruby, and go.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Below is an example using the python bindings (which are available in the
      python3-lxc package) which creates and starts
      a container, then waits until it has been shut down:
      </fo:block><fo:block id="idm45028016544448" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
# sudo python3
Python 3.2.3 (default, Aug 28 2012, 08:26:03)
[GCC 4.7.1 20120814 (prerelease)] on linux2
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt; import lxc
__main__:1: Warning: The python-lxc API isn't yet stable and may change at any p
oint in the future.
&gt;&gt;&gt; c=lxc.Container("C1")
&gt;&gt;&gt; c.create("ubuntu")
True
&gt;&gt;&gt; c.start()
True
&gt;&gt;&gt; c.wait("STOPPED")
True
</fo:block></fo:block><fo:block id="lxc-security"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Security</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">6.16.Security</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A namespace maps ids to resources. By not providing a container
      any id with which to reference a resource, the resource can be
      protected. This is the basis of some of the security afforded to
      container users. For instance, IPC namespaces are completely isolated.
      Other namespaces, however, have various <fo:inline font-style="italic">leaks</fo:inline> which allow privilege to be
      inappropriately exerted from a container into another container or to
      the host.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">By default, LXC containers are started under a Apparmor policy to
      restrict some actions.
      The details of AppArmor integration with lxc are in section
      <fo:basic-link internal-destination="lxc-apparmor"><fo:inline font-style="italic">Section6.9, Apparmor</fo:inline></fo:basic-link><fo:basic-link internal-destination="lxc-apparmor" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="lxc-apparmor"/>]</fo:inline></fo:basic-link>.  Unprivileged containers go further
      by mapping root in the container to an unprivileged host userid.  This
      prevents access to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/proc</fo:inline> and <fo:inline font-size="8.800000000000001pt" font-family="monospace">/sys</fo:inline>
      files representing host resources, as well as any other files owned by root
      on the host.
      </fo:block><fo:block id="lxc-seccomp"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">6.16.1.Exploitable system calls</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">It is a core container feature that containers share a kernel
        with the host. Therefore if the kernel contains any exploitable system
        calls the container can exploit these as well. Once the container
        controls the kernel it can fully control any resource known to the
        host.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Since Ubuntu 12.10 (Quantal) a container can also be constrained
        by a seccomp filter. Seccomp is a new kernel feature which filters the
        system calls which may be used by a task and its children. While
        improved and simplified policy management is expected in the near
        future, the current policy consists of a simple whitelist of system
        call numbers. The policy file begins with a version number (which must
        be 1) on the first line and a policy type (which must be 'whitelist')
        on the second line. It is followed by a list of numbers, one per
        line.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In general to run a full distribution container a large number
        of system calls will be needed. However for application containers it
        may be possible to reduce the number of available system calls to only
        a few. Even for system containers running a full distribution security
        gains may be had, for instance by removing the 32-bit compatibility
        system calls in a 64-bit container. See the lxc.container.conf manual
	page for details of how to configure a container
        to use seccomp. By default, no seccomp policy is loaded.</fo:block></fo:block></fo:block><fo:block id="lxc-resources"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Resources</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">6.17.Resources</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028016532912" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028016532656" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The DeveloperWorks article <fo:basic-link external-destination="https://www.ibm.com/developerworks/linux/library/l-lxc-containers/" font-style="italic">LXC:
          Linux container tools</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">45</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">45</fo:inline> <fo:basic-link external-destination="https://www.ibm.com/developerworks/linux/library/l-lxc-containers/">https://www.ibm.com/developerworks/linux/library/l-lxc-containers/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> was an early introduction to the use
          of containers.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028016531104" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The <fo:basic-link external-destination="http://www.ibm.com/developerworks/linux/library/l-lxc-security/index.html" font-style="italic">
          Secure Containers Cookbook</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">46</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">46</fo:inline> <fo:basic-link external-destination="http://www.ibm.com/developerworks/linux/library/l-lxc-security/index.html">http://www.ibm.com/developerworks/linux/library/l-lxc-security/index.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> demonstrated the use of security
          modules to make containers more secure.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028016529520" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Manual pages referenced above can be found at:</fo:block><fo:block id="idm45028016528880" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man7/capabilities.7.html" font-style="italic">capabilities</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">47</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">47</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man7/capabilities.7.html">http://manpages.ubuntu.com/manpages/en/man7/capabilities.7.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man5/lxc.conf.5.html" font-style="italic">lxc.conf</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">48</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">48</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man5/lxc.conf.5.html">http://manpages.ubuntu.com/manpages/en/man5/lxc.conf.5.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028016526720" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The upstream LXC project is hosted at <fo:basic-link external-destination="http://linuxcontainers.org" font-style="italic">linuxcontainers.org</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">49</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">49</fo:inline> <fo:basic-link external-destination="http://linuxcontainers.org">http://linuxcontainers.org</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028016525328" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">LXC security issues are listed and discussed at <fo:basic-link external-destination="http://wiki.ubuntu.com/LxcSecurity" font-style="italic">the LXC Security wiki
          page</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">50</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">50</fo:inline> <fo:basic-link external-destination="http://wiki.ubuntu.com/LxcSecurity">http://wiki.ubuntu.com/LxcSecurity</fo:basic-link></fo:block></fo:footnote-body></fo:footnote></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028016524064" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For more on namespaces in Linux, see: S. Bhattiprolu, E. W.
          Biederman, S. E. Hallyn, and D. Lezcano. Virtual Servers and Check-
          point/Restart in Mainstream Linux. SIGOPS Operating Systems
          Review, 42(5), 2008.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Control Groups</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Control Groups</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-inner-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block id="cgroups"><fo:block font-family="serif,Symbol"><fo:block margin-left="0pc"><fo:block font-size="24.8832pt" font-weight="bold"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0pc" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">Chapter21.Control Groups</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Control groups (cgroups) are a kernel mechanism for grouping, tracking,
and limiting the resource usage of tasks.  The kernel-provided administration
interface is through a virtual filesystem.  Higher level cgroup
administration tools have been developed, including libcgroup and
lmctfy.  Additionally, there is guidance at freedesktop.org
for how applications can best cooperate using the cgroup filesystem
interface (see Resources).
  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
As of Ubuntu 14.04, the cgroup manager (cgmanager) is available as
another cgroup administion interface.  It's goal is to respond to dbus
requests from any user, allowing him to administer only those cgroups
which have been delegated to him.
  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
<fo:basic-link internal-destination="cgroups-overview"><fo:inline font-style="italic">Section1, Overview</fo:inline></fo:basic-link><fo:basic-link internal-destination="cgroups-overview" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="cgroups-overview"/>]</fo:inline></fo:basic-link> will describe cgroups in more detail.
<fo:basic-link internal-destination="cgroups-fs"><fo:inline font-style="italic">Section2, Filesystem</fo:inline></fo:basic-link><fo:basic-link internal-destination="cgroups-fs" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="cgroups-fs"/>]</fo:inline></fo:basic-link> will describe the long-standing cgroups filesystem
interface.  <fo:basic-link internal-destination="cgroups-manager"><fo:inline font-style="italic">Section4, Manager</fo:inline></fo:basic-link><fo:basic-link internal-destination="cgroups-manager" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="cgroups-manager"/>]</fo:inline></fo:basic-link> will describe the cgroup
manager.
  </fo:block><fo:block id="cgroups-overview"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Overview</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">1.Overview</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Cgroups are the generalized feature for grouping tasks.  The actual
resource tracking and limits are implemented by subsystems.  A
hierarchy is a set of subsystems mounted together.  For instance,
if the memory and devices subsystems are mounted together under
/sys/fs/cgroups/set1, then any task which is in "/child1" will
be subject to the corresponding limits of both subsystems.
  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Each set of mounted subsystems consittutes a 'hierarchy'.  With
exceptions, cgroups which are children of "/child1" will be
subject to all limits placed on "/child1", and their resource
usage will be accounted to "/child1".
  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
The existing subsystems include:
  </fo:block><fo:list-block id="idm45028027770176" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028022913536" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">cpusets</fo:inline>: fascilitate assigning a set of
CPUS and memory nodes to cgroups.
  Tasks in a cpuset cgroup may only be scheduled on CPUS assigned to that
  cpuset.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025881040" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic"> blkio </fo:inline>: limits per-cgroup block io.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023940112" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic"> cpuacct </fo:inline>: provides per-cgroup cpu usage accounting.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025611520" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic"> devices </fo:inline>: controls the ability of tasks to create or use devices nodes
  using either a blacklist or whitelist.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028028795072" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic"> freezer </fo:inline>: provides a way to 'freeze' and 'thaw' whole cgroups.  Tasks
  in the cgroup will not be scheduled while they are frozen.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030254320" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic"> hugetlb </fo:inline>: fascilitates limiting hugetlb usage per cgroup.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028027602560" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic"> memory </fo:inline>: allows memory, kernel memory, and swap usage to be tracked
  and limited.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028028658112" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic"> net_cls </fo:inline>: provides an interface for tagging packets based on the
  sender cgroup.  These tags can then be used by tc (traffic controller)
  to assign priorities.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026768416" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic"> net_prio </fo:inline>: allows setting network traffic priority on a per-cgroup
  basis.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025990912" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic"> cpu </fo:inline>: enables setting of scheduling preferences on per-cgroup basis.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029759472" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic"> perf_event </fo:inline>: enables per-cpu mode to monitor only threads in certain
  cgroups.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
In addition, named cgroups can be created with no bound
subsystems for the sake of process tracking.  As an example,
systemd does this to track services and user sessions.
  </fo:block></fo:block><fo:block id="cgroups-fs"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Filesystem</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">2.Filesystem</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
A hierarchy is created by mounting an instance of the cgroup filesystem
with each of the desired subsystems listed as a mount option.  For instance,
  </fo:block><fo:block id="idm45028035367600" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"><fo:inline font-weight="bold">
mount -t cgroup -o devices,memory,freezer cgroup /cgroup1
</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
would instantiate a hierarchy with the devices and memory cgroups comounted.
A child cgroup "child1" can be created using 'mkdir'
  </fo:block><fo:block id="idm45028028180656" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"><fo:inline font-weight="bold">
mkdir /cgroup1/child1
</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
and tasks can be moved into the new child cgroup by writing their process
IDs into the 'tasks' or 'cgroup.procs' file:
  </fo:block><fo:block id="idm45028034717616" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"><fo:inline font-weight="bold">
sleep 100 &amp;
echo $! &gt; /cgroup1/child1/cgroup.procs
</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Other administration is done through files in the cgroup directories.  For
instance, to freeze all tasks in child1,
  </fo:block><fo:block id="idm45028025963840" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"><fo:inline font-weight="bold">
echo FROZEN &gt; /cgroup1/child1/freezer.state
</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
A great deal of information about cgroups and its subsystems can be found
under the cgroups documentation directory in the kernel source tree (see
Resources).
  </fo:block></fo:block><fo:block id="cgroups-delegation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Delegation</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">3.Delegation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Cgroup files and directories can be owned by non-root users, enabling
delegation of cgroup administration.  In general, the kernel enforces
the hierarchical constraints on limits, so that for instance if
devices cgroup <fo:inline font-size="8.800000000000001pt" font-family="monospace">/child1</fo:inline> cannot access a disk drive, then
<fo:inline font-size="8.800000000000001pt" font-family="monospace">/child1/child2</fo:inline> cannot give itself those rights.
  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
As of Ubuntu 14.04, users are automatically placed in a set of cgroups
which they own, safely allowing them to contrain their own jobs using child
cgroups.  This feature is relied upon, for instance, for unprivileged
container creation in lxc.
  </fo:block></fo:block><fo:block id="cgroups-manager"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Manager</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">4.Manager</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
The cgroup manager (cgmanager) provides a D-Bus service allowing
programs and users to administer cgroups without needing direct
knowledge of or access to the cgroup filesystem.  For requests
from tasks in the same namespaces as the manager, the manager can
directly perform the needed security checks to ensure that requests
are legitimate.  For other requests - such as those from a task in
a container - enhanced D-Bus requests must be made, where process-,
user- and group-ids are passed as SCM_CREDENTIALS, so that the kernel
maps the identifiers to their global host values.
  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
To fascilitate the use of simple D-Bus calls from all users, a
'cgroup manager proxy' (cgproxy) is automatically started when in
a container.  The proxy accepts standard D-Bus requests from tasks
in the same namespaces as itself, and converts them to 
SCM-enhanced D-Bus requests which it passes on to the cgmanager.
  </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
A simple example of creating a new cgroup in which to run a
cpu-intensive compile would look like:
  </fo:block><fo:block id="idm45028027002672" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace"><fo:inline font-weight="bold">
cgm create cpuset build1
cgm movepid cpuset build1 $$
cgm setvalue cpuset build1 cpuset.cpus 1
make
</fo:inline></fo:block></fo:block><fo:block id="cgroups-resources"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Resources</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">5.Resources</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028024207264" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028020145888" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Manual pages referenced above can be found at:</fo:block><fo:block id="idm45028028518016" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/cgm.1.html" font-style="italic">cgm</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/cgm.1.html">http://manpages.ubuntu.com/manpages/en/man8/cgm.1.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man5/cgconfig.conf.5.html" font-style="italic">cgconfig.conf</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man5/cgconfig.conf.5.html">http://manpages.ubuntu.com/manpages/en/man5/cgconfig.conf.5.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/cgmanager.8.html" font-style="italic">cgmanager</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/cgmanager.8.html">http://manpages.ubuntu.com/manpages/en/man8/cgmanager.8.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/cgproxy.8.html" font-style="italic">cgproxy</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/cgproxy.8.html">http://manpages.ubuntu.com/manpages/en/man8/cgproxy.8.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028027207024" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The upstream cgmanager project is hosted at <fo:basic-link external-destination="http://cgmanager.linuxcontainers.org" font-style="italic">linuxcontainers.org</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline> <fo:basic-link external-destination="http://cgmanager.linuxcontainers.org">http://cgmanager.linuxcontainers.org</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028028889328" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The upstream kernel documentation page on cgroups can be seen <fo:basic-link external-destination="https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/tree/Documentation/cgroups" font-style="italic">here
	  </fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline> <fo:basic-link external-destination="https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/tree/Documentation/cgroups">https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/tree/Documentation/cgroups</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028016968736" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The freedesktop.org control group usage guidelines can be seen <fo:basic-link external-destination="http://www.freedesktop.org/wiki/Software/systemd/PaxControlGroups/" font-style="italic">here</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">7</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">7</fo:inline> <fo:basic-link external-destination="http://www.freedesktop.org/wiki/Software/systemd/PaxControlGroups/">http://www.freedesktop.org/wiki/Software/systemd/PaxControlGroups/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Clustering</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Clustering</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-inner-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block id="clustering"><fo:block font-family="serif,Symbol"><fo:block margin-left="0pc"><fo:block font-size="24.8832pt" font-weight="bold"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0pc" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">Chapter22.Clustering</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="drbd"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">DRBD</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">1.DRBD</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    Distributed Replicated Block Device (DRBD) mirrors block devices between multiple hosts.  The replication is 
    transparent to other applications on the host systems.  Any block device hard disks, partitions, RAID devices,
    logical volumes, etc can be mirrored.
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    To get started using drbd, first install the necessary packages.  From a terminal enter:
    </fo:block><fo:block id="idm45028026099504" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install drbd8-utils</fo:inline>
</fo:block><fo:block id="idm45028019730032" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      If you are using the <fo:inline font-style="italic">virtual kernel</fo:inline> as part of a virtual machine you will need to manually compile 
      the drbd module.  It may be easier to install the linux-server
      package inside the virtual machine.
      </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    This section covers setting up a drbd to replicate a separate <fo:inline font-size="8.800000000000001pt" font-family="monospace">/srv</fo:inline>
    partition, with an ext3 filesystem between two hosts.  The partition size is not 
    particularly relevant, but both partitions need to be the same size.  
    </fo:block><fo:block id="drbd-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.1.Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      The two hosts in this example will be called <fo:inline font-style="italic">drbd01</fo:inline> and <fo:inline font-style="italic">drbd02</fo:inline>.
      They will need to have name resolution configured either through DNS or the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/hosts</fo:inline> 
      file.  See <fo:basic-link internal-destination="dns"><fo:inline font-style="italic">Chapter8, <fo:inline font-style="italic">Domain Name Service (DNS)</fo:inline></fo:inline></fo:basic-link><fo:basic-link internal-destination="dns" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="dns"/>]</fo:inline></fo:basic-link> for details.  
      </fo:block><fo:list-block id="idm45028028829936" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028024593968" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          To configure drbd, on the first host edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/drbd.conf</fo:inline>:
          </fo:block><fo:block id="idm45028016859200" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
global { usage-count no; }
common { syncer { rate 100M; } }
resource r0 {
        protocol C;
        startup {
                wfc-timeout  15;
                degr-wfc-timeout 60;
        }
        net {
                cram-hmac-alg sha1;
                shared-secret "secret";
        }
        on drbd01 {
                device /dev/drbd0;
                disk /dev/sdb1;
                address 192.168.0.1:7788;
                meta-disk internal;
        }
        on drbd02 {
                device /dev/drbd0;
                disk /dev/sdb1;
                address 192.168.0.2:7788;
                meta-disk internal;
        }
} 
</fo:block><fo:block id="idm45028025945328" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            There are many other options in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/drbd.conf</fo:inline>, but for this example their default
            values are fine.
            </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030031328" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Now copy <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/drbd.conf</fo:inline> to the second host:
          </fo:block><fo:block id="idm45028029231120" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">scp /etc/drbd.conf drbd02:~</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025364432" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          And, on <fo:inline font-style="italic">drbd02</fo:inline> move the file to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc</fo:inline>:
          </fo:block><fo:block id="idm45028016892000" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo mv drbd.conf /etc/</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028034736560" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Now using the drbdadm utility initialize the meta data storage.  On each server
          execute:
          </fo:block><fo:block id="idm45028027791456" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo drbdadm create-md r0</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026070560" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Next, on both hosts, start the drbd daemon:
          </fo:block><fo:block id="idm45028024797792" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl start drbd.service</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023606448" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          On the <fo:inline font-style="italic">drbd01</fo:inline>, or whichever host you wish to be the primary, enter the following:
          </fo:block><fo:block id="idm45028026969904" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo drbdadm -- --overwrite-data-of-peer primary all</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025789024" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          After executing the above command, the data will start syncing with the secondary host.  To watch the progress, on
          <fo:inline font-style="italic">drbd02</fo:inline> enter the following:
          </fo:block><fo:block id="idm45028029832672" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">watch -n1 cat /proc/drbd</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          To stop watching the output press <fo:inline font-style="italic">Ctrl+c</fo:inline>.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024036672" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Finally, add a filesystem to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/dev/drbd0</fo:inline> and mount it:
      </fo:block><fo:block id="idm45028016811568" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo mkfs.ext3 /dev/drbd0</fo:inline>
<fo:inline font-weight="bold">sudo mount /dev/drbd0 /srv</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="drbd-testing"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Testing</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.2.Testing</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      To test that the data is actually syncing between the hosts copy some files on the <fo:inline font-style="italic">drbd01</fo:inline>, the 
      primary, to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/srv</fo:inline>:
      </fo:block><fo:block id="idm45028028026672" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo cp -r /etc/default /srv</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Next, unmount <fo:inline font-size="8.800000000000001pt" font-family="monospace">/srv</fo:inline>:
      </fo:block><fo:block id="idm45028027048720" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo umount /srv</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      <fo:inline font-style="italic">Demote</fo:inline> the <fo:inline font-style="italic">primary</fo:inline> server to the <fo:inline font-style="italic">secondary</fo:inline> role:
      </fo:block><fo:block id="idm45028035221312" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo drbdadm secondary r0</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Now on the <fo:inline font-style="italic">secondary</fo:inline> server <fo:inline font-style="italic">promote</fo:inline> it to the <fo:inline font-style="italic">primary</fo:inline> role:
      </fo:block><fo:block id="idm45028027745056" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo drbdadm primary r0</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Lastly, mount the partition:
      </fo:block><fo:block id="idm45028020606736" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo mount /dev/drbd0 /srv</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Using <fo:inline font-style="italic">ls</fo:inline> you should see <fo:inline font-size="8.800000000000001pt" font-family="monospace">/srv/default</fo:inline> copied from the former <fo:inline font-style="italic">primary</fo:inline>         
      host <fo:inline font-style="italic">drbd01</fo:inline>.
      </fo:block></fo:block><fo:block id="drbd-references"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">References</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.3.References</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028027604064" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028023602384" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          For more information on DRBD see the <fo:basic-link external-destination="http://www.drbd.org/" font-style="italic">DRBD web site</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline> <fo:basic-link external-destination="http://www.drbd.org/">http://www.drbd.org/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023849584" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/xenial/en/man5/drbd.conf.5.html" font-style="italic">drbd.conf man page</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/xenial/en/man5/drbd.conf.5.html">http://manpages.ubuntu.com/manpages/xenial/en/man5/drbd.conf.5.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> contains
          details on the options not covered in this guide.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028016949888" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Also, see the <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/xenial/en/man8/drbdadm.8.html" font-style="italic">drbdadm man page</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/xenial/en/man8/drbdadm.8.html">http://manpages.ubuntu.com/manpages/xenial/en/man8/drbdadm.8.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028028749568" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          The <fo:basic-link external-destination="https://help.ubuntu.com/community/DRBD" font-style="italic">DRBD Ubuntu Wiki</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/DRBD">https://help.ubuntu.com/community/DRBD</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> page also has more information.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>VPN</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>VPN</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-inner-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block id="vpn"><fo:block font-family="serif,Symbol"><fo:block margin-left="0pc"><fo:block font-size="24.8832pt" font-weight="bold"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0pc" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">Chapter23.VPN</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
OpenVPN is a Virtual Private Networking (VPN) solution provided in the Ubuntu Repositories. It is flexible, reliable and secure. It belongs to the family of SSL/TLS VPN stacks (different from IPSec VPNs). This chapter will cover 
installing and configuring OpenVPN to create a VPN.
  </fo:block><fo:block id="openvpn"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">OpenVPN</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">1.OpenVPN</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    If you want more than just pre-shared keys OpenVPN  makes it easy to setup and use a Public Key Infrastructure (PKI)
    to use SSL/TLS certificates for authentication and key exchange
    between the VPN server and clients.
    OpenVPN can be used in a routed or bridged VPN mode and can be configured to use either UDP or TCP. The port number can be configured as well, but port 1194 is the official one. And it is only using that single port for all communication. VPN client implementations are available for almost anything including all Linux distributions, OS X, Windows and OpenWRT based WLAN routers. 
    </fo:block><fo:block id="openvpn-server-installation"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Server Installation</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.1.Server Installation</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      To install openvpn in a terminal enter:
      </fo:block><fo:block id="idm45028020223936" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install openvpn easy-rsa</fo:inline>
</fo:block></fo:block><fo:block id="openvpn-pki-setup"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Public Key Infrastructure Setup</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.2.Public Key Infrastructure Setup</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
The first step in building an OpenVPN configuration is to establish a PKI (public key infrastructure). The PKI consists of:
      </fo:block><fo:list-block id="idm45028016812080" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028030347808" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    a separate certificate (also known as a public key) and private key for the server and each client, and
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025655936" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    a master Certificate Authority (CA) certificate and key which is used to sign each of the server and client certificates.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
OpenVPN supports bidirectional authentication based on certificates, meaning that the client must authenticate the server certificate and the server must authenticate the client certificate before mutual trust is established.
      </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Both server and client will authenticate the other by first verifying that the presented certificate was signed by the master certificate authority (CA), and then by testing information in the now-authenticated certificate header, such as the certificate common name or certificate type (client or server).
      </fo:block><fo:block id="openvpn-ca-setup"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.2.1.Certificate Authority Setup</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
To setup your own Certificate Authority (CA) and generating certificates and keys for an OpenVPN server and multiple clients
        first copy the <fo:inline font-size="8.800000000000001pt" font-family="monospace">easy-rsa</fo:inline> directory to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/openvpn</fo:inline>.  This will ensure that any 
        changes to the scripts will not be lost when the package is updated. 
        From a terminal change to user root and:
        </fo:block><fo:block id="idm45028024011488" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">mkdir /etc/openvpn/easy-rsa/</fo:inline>
<fo:inline font-weight="bold">cp -r /usr/share/easy-rsa/* /etc/openvpn/easy-rsa/</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Next, edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/openvpn/easy-rsa/vars</fo:inline> adjusting the following to your environment:
        </fo:block><fo:block id="idm45028027774576" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
export KEY_COUNTRY="US"
export KEY_PROVINCE="NC"
export KEY_CITY="Winston-Salem"
export KEY_ORG="Example Company"
export KEY_EMAIL="steve@example.com"
export KEY_CN=MyVPN
export KEY_NAME=MyVPN
export KEY_OU=MyVPN

</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Enter the following to generate the master Certificate Authority (CA) certificate and key:
        </fo:block><fo:block id="idm45028027999184" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">cd /etc/openvpn/easy-rsa/</fo:inline>
<fo:inline font-weight="bold">source vars</fo:inline>
<fo:inline font-weight="bold">./clean-all</fo:inline>
<fo:inline font-weight="bold">./build-ca</fo:inline>
</fo:block></fo:block><fo:block id="openvpn-server-cert"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.2.2.Server Certificates</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Next, we will generate a certificate and private key for the server:
        </fo:block><fo:block id="idm45028027030752" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">./build-key-server myservername</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
As in the previous step, most parameters can be defaulted. Two other queries require positive responses, "Sign the certificate? [y/n]" and "1 out of 1 certificate requests certified, commit? [y/n]".
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Diffie Hellman parameters must be generated for the OpenVPN server:
        </fo:block><fo:block id="idm45028019344160" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">./build-dh</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        All certificates and keys have been generated in the subdirectory keys/. Common practice is to copy them to /etc/openvpn/:
        </fo:block><fo:block id="idm45028026596528" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">cd keys/</fo:inline>
<fo:inline font-weight="bold">cp myservername.crt myservername.key ca.crt dh2048.pem /etc/openvpn/</fo:inline>
</fo:block></fo:block><fo:block id="openvpn-client-cert"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.2.3.Client Certificates</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The VPN client will also need a certificate to authenticate itself to the server. Usually you create a different certificate for each client. To create the 
        certificate, enter the following in a terminal while being user root:
        </fo:block><fo:block id="idm45028016951488" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">cd /etc/openvpn/easy-rsa/</fo:inline>
<fo:inline font-weight="bold">source vars</fo:inline>
<fo:inline font-weight="bold">./build-key client1</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Copy the following files to the client using a secure method:
        </fo:block><fo:list-block id="idm45028029263680" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028025171904" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">/etc/openvpn/ca.crt</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023574560" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">/etc/openvpn/easy-rsa/keys/client1.crt</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024216432" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">/etc/openvpn/easy-rsa/keys/client1.key</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        As the client certificates and keys are only required on the client machine, you should remove them from the server.
        </fo:block></fo:block></fo:block><fo:block id="openvpn-simple-server-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Simple Server Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.3.Simple Server Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Along with your  OpenVPN  installation
you got these sample config files (and many more if if you check):
        </fo:block><fo:block id="idm45028025005024" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
root@server:/# ls -l /usr/share/doc/openvpn/examples/sample-config-files/
total 68
-rw-r--r-- 1 root root 3427 2011-07-04 15:09 client.conf
-rw-r--r-- 1 root root 4141 2011-07-04 15:09 server.conf.gz
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Start with copying and unpacking server.conf.gz to /etc/openvpn/server.conf.
        </fo:block><fo:block id="idm45028024624848" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo cp /usr/share/doc/openvpn/examples/sample-config-files/server.conf.gz /etc/openvpn/</fo:inline>
<fo:inline font-weight="bold">sudo gzip -d /etc/openvpn/server.conf.gz</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/openvpn/server.conf</fo:inline> to make sure the following lines are pointing to the certificates and keys you created in the section above.
        </fo:block><fo:block id="idm45028025504560" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
ca ca.crt
cert myservername.crt
key myservername.key
dh dh2048.pem
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/sysctl.conf</fo:inline> and uncomment the following line to enable IP forwarding.</fo:block><fo:block id="idm45028026887696" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
#net.ipv4.ip_forward=1
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Then reload sysctl.</fo:block><fo:block id="idm45028023112752" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo sysctl -p /etc/sysctl.conf</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
       That is the minimum you have to configure to get a working OpenVPN server.
       You can use all the default settings in the sample server.conf file. Now start the server. You will find logging and error messages in your via journal.
       Dependin on what you look for:
        </fo:block><fo:block id="idm45028018101200" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo journalctl -xe</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
If you started a templatized service openvpn@server you can filter for this particular message source with:
        </fo:block><fo:block id="idm45028028350048" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo journalctl --identifier ovpn-server</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Be aware that the "systemctl start openvpn" is not starting your openvpn you just defined.
Openvpn uses templatized systemd jobs, openvpn@CONFIGFILENAME.
So if for example your configuration file is "server.conf" your service is called openvpn@server.
You can run all kind of service and systemctl commands like start/stop/enable/disable/preset against a templatized service like openvpn@server.
        </fo:block><fo:block id="idm45028023602960" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
ubuntu@testopenvpn-server:~$ sudo systemctl start openvpn@server

ubuntu@testopenvpn-server:~$ sudo systemctl status openvpn@server
. openvpn@server.service - OpenVPN connection to server
Loaded: loaded (/lib/systemd/system/openvpn@.service; enabled; vendor preset: enabled)
      Active: active (running) since Tue 2016-04-12 08:51:14 UTC; 1s ago
        Docs: man:openvpn(8)
              https://community.openvpn.net/openvpn/wiki/Openvpn23ManPage
              https://community.openvpn.net/openvpn/wiki/HOWTO
     Process: 1573 ExecStart=/usr/sbin/openvpn --daemon ovpn-%i --status /run/openvpn/%i.status 10 --cd /etc/openvpn --script-security 2 --config /etc/openvpn/%i.conf --writep
    Main PID: 1575 (openvpn)
       Tasks: 1 (limit: 512)
      CGroup: /system.slice/system-openvpn.slice/openvpn@server.service
              |-1575 /usr/sbin/openvpn --daemon ovpn-server --status /run/openvpn/server.status 10 --cd /etc/openvpn --script-security 2 --config /etc/openvpn/server.conf --wr

Apr 12 08:51:14 testopenvpn-server ovpn-server[1575]: /sbin/ip route add 10.8.0.0/24 via 10.8.0.2
Apr 12 08:51:14 testopenvpn-server ovpn-server[1575]: UDPv4 link local (bound): [undef]
Apr 12 08:51:14 testopenvpn-server ovpn-server[1575]: UDPv4 link remote: [undef]
Apr 12 08:51:14 testopenvpn-server ovpn-server[1575]: MULTI: multi_init called, r=256 v=256
Apr 12 08:51:14 testopenvpn-server ovpn-server[1575]: IFCONFIG POOL: base=10.8.0.4 size=62, ipv6=0
Apr 12 08:51:14 testopenvpn-server ovpn-server[1575]: ifconfig_pool_read(), in='client1,10.8.0.4', TODO: IPv6
Apr 12 08:51:14 testopenvpn-server ovpn-server[1575]: succeeded -&gt; ifconfig_pool_set()
Apr 12 08:51:14 testopenvpn-server ovpn-server[1575]: IFCONFIG POOL LIST
Apr 12 08:51:14 testopenvpn-server ovpn-server[1575]: client1,10.8.0.4
Apr 12 08:51:14 testopenvpn-server ovpn-server[1575]: Initialization Sequence Completed
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
You can enable/disable various openvpn services on one system, but you could also let Ubuntu do the heavy lifting.
There is config for AUTOSTART in /etc/default/openvpn.

Allowed values are "all", "none" or space separated list of
names of the VPNs. If empty, "all" is assumed.
The VPN name refers to the VPN configutation file name.
i.e. "home" would be /etc/openvpn/home.conf

If you're running systemd, changing this variable will
require running "systemctl daemon-reload" followed by
a restart of the openvpn service (if you removed entries
you may have to stop those manually)

After "systemctl daemon-reload" a restart of the "generic" openvon will restart all dependent
services that the generator in /lib/systemd/system-generators/openvpn-generator created for
your conf files when you called daemon-reload.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
That is the minimum you have to configure to get a working OpenVPN server.
You can use all the default settings in the sample server.conf file. Now start the server. You will find logging and error messages in your journal.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
       Now check if OpenVPN created a tun0 interface:
        </fo:block><fo:block id="idm45028018773120" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
root@server:/etc/openvpn# ifconfig tun0
tun0      Link encap:UNSPEC  HWaddr 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00
          inet addr:10.8.0.1  P-t-P:10.8.0.2  Mask:255.255.255.255
          UP POINTOPOINT RUNNING NOARP MULTICAST  MTU:1500  Metric:1
[...]
</fo:block></fo:block><fo:block id="openvpn-simple-client-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Simple Client Configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.4.Simple Client Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
There are various different OpenVPN client implementations
with and without GUIs. You can read more about clients in a later section.
For now we use the OpenVPN client for Ubuntu which is the same executable as the server. So you have to install the openvpn package again on the client machine:

      </fo:block><fo:block id="idm45028016902528" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install openvpn</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
This time copy the client.conf sample config file to /etc/openvpn/.
        </fo:block><fo:block id="idm45028021949232" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo cp /usr/share/doc/openvpn/examples/sample-config-files/client.conf /etc/openvpn/</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Copy the client keys and the certificate of the CA you created in the section above to e.g. /etc/openvpn/ and edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/openvpn/client.conf</fo:inline> to make sure the following lines are pointing to those files. If you have the files in /etc/openvpn/ you can omit the path.
        </fo:block><fo:block id="idm45028020167904" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
ca ca.crt
cert client1.crt
key client1.key
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
And you have to at least specify the OpenVPN server name or address.
Make sure the keyword client is in the config. That's what enables
client mode.
        </fo:block><fo:block id="idm45028016981440" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
client
remote vpnserver.example.com 1194
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Also, make sure you specify the keyfile names you copied from the server
        </fo:block><fo:block id="idm45028020219360" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
ca ca.crt
cert client1.crt
key client1.key
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Now start the OpenVPN client:
        </fo:block><fo:block id="idm45028021260448" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
ubuntu@testopenvpn-client:~$ sudo systemctl start openvpn@client
ubuntu@testopenvpn-client:~$ sudo systemctl status  openvpn@client
. openvpn@client.service - OpenVPN connection to client
   Loaded: loaded (/lib/systemd/system/openvpn@.service; disabled; vendor preset: enabled)
   Active: active (running) since Tue 2016-04-12 08:50:50 UTC; 3s ago
     Docs: man:openvpn(8)
           https://community.openvpn.net/openvpn/wiki/Openvpn23ManPage
           https://community.openvpn.net/openvpn/wiki/HOWTO
 Process: 1677 ExecStart=/usr/sbin/openvpn --daemon ovpn-%i --status /run/openvpn/%i.status 10 --cd /etc/openvpn --script-security 2 --config /etc/openvpn/%i.conf --writep
Main PID: 1679 (openvpn)
   Tasks: 1 (limit: 512)
  CGroup: /system.slice/system-openvpn.slice/openvpn@client.service
          |-1679 /usr/sbin/openvpn --daemon ovpn-client --status /run/openvpn/client.status 10 --cd /etc/openvpn --script-security 2 --config /etc/openvpn/client.conf --wr

Apr 12 08:50:52 testopenvpn-client ovpn-client[1679]: OPTIONS IMPORT: --ifconfig/up options modified
Apr 12 08:50:52 testopenvpn-client ovpn-client[1679]: OPTIONS IMPORT: route options modified
Apr 12 08:50:52 testopenvpn-client ovpn-client[1679]: ROUTE_GATEWAY 192.168.122.1/255.255.255.0 IFACE=eth0 HWADDR=52:54:00:89:ca:89
Apr 12 08:50:52 testopenvpn-client ovpn-client[1679]: TUN/TAP device tun0 opened
Apr 12 08:50:52 testopenvpn-client ovpn-client[1679]: TUN/TAP TX queue length set to 100
Apr 12 08:50:52 testopenvpn-client ovpn-client[1679]: do_ifconfig, tt-&gt;ipv6=0, tt-&gt;did_ifconfig_ipv6_setup=0
Apr 12 08:50:52 testopenvpn-client ovpn-client[1679]: /sbin/ip link set dev tun0 up mtu 1500
Apr 12 08:50:52 testopenvpn-client ovpn-client[1679]: /sbin/ip addr add dev tun0 local 10.8.0.6 peer 10.8.0.5
Apr 12 08:50:52 testopenvpn-client ovpn-client[1679]: /sbin/ip route add 10.8.0.1/32 via 10.8.0.5
Apr 12 08:50:52 testopenvpn-client ovpn-client[1679]: Initialization Sequence Completed
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Check if it created a tun0 interface:
        </fo:block><fo:block id="idm45028023526944" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
root@client:/etc/openvpn# ifconfig tun0
tun0      Link encap:UNSPEC  HWaddr 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00  
          inet addr:10.8.0.6  P-t-P:10.8.0.5  Mask:255.255.255.255
          UP POINTOPOINT RUNNING NOARP MULTICAST  MTU:1500  Metric:1
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Check if you can ping the OpenVPN server:
        </fo:block><fo:block id="idm45028019545440" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
root@client:/etc/openvpn# ping 10.8.0.1
PING 10.8.0.1 (10.8.0.1) 56(84) bytes of data.
64 bytes from 10.8.0.1: icmp_req=1 ttl=64 time=0.920 ms
</fo:block><fo:block id="idm45028023009440" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
         The OpenVPN server always uses the first usable IP address in the client network and only that IP is pingable. E.g. if you configured a /24 for the client network mask, the .1 address will be used. The P-t-P address you see in the ifconfig output above is usually not answering ping requests.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Check out your routes:
        </fo:block><fo:block id="idm45028028160048" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
root@client:/etc/openvpn# netstat -rn
Kernel IP routing table
Destination     Gateway         Genmask         Flags   MSS Window  irtt Iface
10.8.0.5        0.0.0.0         255.255.255.255 UH        0 0          0 tun0
10.8.0.1        10.8.0.5        255.255.255.255 UGH       0 0          0 tun0
192.168.42.0    0.0.0.0         255.255.255.0   U         0 0          0 eth0
0.0.0.0         192.168.42.1    0.0.0.0         UG        0 0          0 eth0
</fo:block></fo:block><fo:block id="openvpn-first-troubleshooting"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">First trouble shooting</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.5.First trouble shooting</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
If the above didn't work for you, check this:
        </fo:block><fo:list-block id="idm45028022948240" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028028213184" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Check your journal, e.g. journalctl --identifier ovpn-server (for server.conf)
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019740320" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Check that you have specified the keyfile names correctly in client.conf and server.conf.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023494688" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Can the client connect to the server machine? Maybe a firewall is blocking access? Check journal on server.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028028706368" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Client and server must use same protocol and port, e.g. UDP port 1194, see port and proto config option
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026148832" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Client and server must use same config regarding compression, see comp-lzo config option
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020168672" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Client and server must use same config regarding bridged vs routed mode, see server vs server-bridge config option
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="openvpn-advanced-config"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Advanced configuration</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.6.Advanced configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="openvpn-routed-server-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.6.1.Advanced routed VPN configuration on server</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
The above is a very simple working VPN. The client can access services on the VPN server machine through an encrypted tunnel. If you want to reach more servers or anything in other networks, push some routes to the clients. E.g. if your company's network can be summarized to the network 192.168.0.0/16, you could push this route to the clients. But you will also have to change the routing for the way back - your servers need to know a route to the VPN client-network.
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
 Or you might push a default gateway to all the clients to send all their internet traffic to the VPN gateway first and from there via the company firewall into the internet. This section shows you some possible options.
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Push routes to the client to allow it
to reach other private subnets behind
the server.  Remember that these
private subnets will also need
to know to route the OpenVPN client
address pool (10.8.0.0/24)
back to the OpenVPN server.
</fo:block><fo:block id="idm45028026270656" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
push "route 10.0.0.0 255.0.0.0"
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
If enabled, this directive will configure
all clients to redirect their default
network gateway through the VPN, causing
all IP traffic such as web browsing and
DNS lookups to go through the VPN
(the OpenVPN server machine or your central firewall may need to NAT
the TUN/TAP interface to the internet in order for this to work properly).
</fo:block><fo:block id="idm45028024545552" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
push "redirect-gateway def1 bypass-dhcp"
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Configure server mode and supply a VPN subnet
for OpenVPN to draw client addresses from.
The server will take 10.8.0.1 for itself,
the rest will be made available to clients.
Each client will be able to reach the server
on 10.8.0.1. Comment this line out if you are
ethernet bridging.
</fo:block><fo:block id="idm45028022801168" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
server 10.8.0.0 255.255.255.0
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Maintain a record of client to virtual IP address
associations in this file.  If OpenVPN goes down or
is restarted, reconnecting clients can be assigned
the same virtual IP address from the pool that was
previously assigned.
</fo:block><fo:block id="idm45028020273632" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
ifconfig-pool-persist ipp.txt
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Push DNS servers to the client.
</fo:block><fo:block id="idm45028023165376" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
push "dhcp-option DNS 10.0.0.2"
push "dhcp-option DNS 10.1.0.2"
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Allow client to client communication.
</fo:block><fo:block id="idm45028027931424" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
client-to-client
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Enable compression on the VPN link.
</fo:block><fo:block id="idm45028020234304" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
comp-lzo
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
The <fo:inline font-style="italic">keepalive</fo:inline> directive causes ping-like
messages to be sent back and forth over
the link so that each side knows when
the other side has gone down.
Ping every 1 second, assume that remote
peer is down if no ping received during
a 3 second time period.
</fo:block><fo:block id="idm45028027980016" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
keepalive 1 3
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
It's a good idea to reduce the OpenVPN daemon's privileges after initialization.
</fo:block><fo:block id="idm45028028650112" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
user nobody
group nogroup
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
OpenVPN 2.0 includes a feature that allows the OpenVPN server to securely obtain a username and password from a connecting client, and to use that information as a basis for authenticating the client.
To use this authentication method, first add the auth-user-pass directive to the client configuration. It will direct the OpenVPN client to query the user for a username/password, passing it on to the server over the secure TLS channel.
</fo:block><fo:block id="idm45028018893152" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
# client config!
auth-user-pass
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
This will tell the OpenVPN server to validate the
username/password entered by clients using the login PAM module.
Useful if you have centralized authentication with e.g. Kerberos.
</fo:block><fo:block id="idm45028018891840" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
plugin /usr/lib/openvpn/openvpn-plugin-auth-pam.so login
</fo:block><fo:block id="idm45028018891072" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Please read the OpenVPN <fo:basic-link external-destination="http://openvpn.net/index.php/open-source/documentation/howto.html#security" font-style="italic">hardening security guide</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline> <fo:basic-link external-destination="http://openvpn.net/index.php/open-source/documentation/howto.html#security">http://openvpn.net/index.php/open-source/documentation/howto.html#security</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> for further security advice.
</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="openvpn-bridged-server-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.6.2.Advanced bridged VPN configuration on server</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        OpenVPN can be setup for either a routed or a bridged VPN mode. Sometimes this is also referred to as OSI layer-2 versus layer-3 VPN. In a bridged VPN all layer-2 frames - e.g. all ethernet frames - are sent to the VPN partners and in a routed VPN only layer-3 packets are sent to VPN partners.
In bridged mode all traffic including traffic which was traditionally LAN-local like local network broadcasts, DHCP requests, ARP requests etc. are sent to VPN partners whereas in routed mode this would be filtered.
        </fo:block><fo:block id="openvpn-bridged-server-configuration-interface"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block font-style="italic" font-size="11pt">1.6.2.1.Prepare interface config for bridging on server</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
      Make sure you have the bridge-utils package installed:
      </fo:block><fo:block id="idm45028018034992" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install bridge-utils</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Before you setup OpenVPN in bridged mode you need to change your interface configuration. Let's assume your server has an interface eth0 connected to the internet and an interface eth1 connected to the LAN you want to bridge. Your /etc/network/interfaces would like this:
        </fo:block><fo:block id="idm45028018032656" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
auto eth0
iface eth0 inet static
  address 1.2.3.4
  netmask 255.255.255.248
  default 1.2.3.1

auto eth1
iface eth1 inet static
  address 10.0.0.4
  netmask 255.255.255.0
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
This straight forward interface config needs to be changed into a bridged mode like where the config of interface eth1 moves to the new br0 interface. Plus we configure that br0 should bridge interface eth1. We also need to make sure that interface eth1 is always in promiscuous mode - this tells the interface to forward all ethernet frames to the IP stack.
        </fo:block><fo:block id="idm45028018030896" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
auto eth0
iface eth0 inet static
  address 1.2.3.4
  netmask 255.255.255.248
  default 1.2.3.1

auto eth1
iface eth1 inet manual
  up ip link set $IFACE up promisc on

auto br0
iface br0 inet static
  address 10.0.0.4
  netmask 255.255.255.0
  bridge_ports eth1
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
At this point you need to bring up the bridge. Be prepared that this might not work as expected and that you will lose remote connectivity. Make sure you can solve problems having local access.
        </fo:block><fo:block id="idm45028018029216" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ifdown eth1 &amp;&amp; sudo ifup -a</fo:inline>
</fo:block></fo:block><fo:block id="openvpn-bridged-server-configuration-server"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block font-style="italic" font-size="11pt">1.6.2.2.Prepare server config for bridging</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/openvpn/server.conf</fo:inline> changing the following options to:
        </fo:block><fo:block id="idm45028018024944" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
;dev tun
dev tap
up "/etc/openvpn/up.sh br0 eth1"
;server 10.8.0.0 255.255.255.0
server-bridge 10.0.0.4 255.255.255.0 10.0.0.128 10.0.0.254
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Next, create a helper script to add the <fo:inline font-style="italic">tap</fo:inline> interface to the bridge and to ensure that eth1 is promiscuous mode. Create <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/openvpn/up.sh</fo:inline>:
        </fo:block><fo:block id="idm45028018022384" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
#!/bin/sh

BR=$1
ETHDEV=$2
TAPDEV=$3

/sbin/ip link set "$TAPDEV" up
/sbin/ip link set "$ETHDEV" promisc on
/sbin/brctl addif $BR $TAPDEV
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Then make it executable:
        </fo:block><fo:block id="idm45028018407056" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo chmod 755 /etc/openvpn/up.sh</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        After configuring the server, restart openvpn by entering:
        </fo:block><fo:block id="idm45028018404224" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart openvpn@server</fo:inline>
</fo:block></fo:block><fo:block id="openvpn-client-configuration"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block font-style="italic" font-size="11pt">1.6.2.3.Client Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        First, install openvpn on the client:
        </fo:block><fo:block id="idm45028018399824" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install openvpn</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Then with the server configured and the client certificates copied to the <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/openvpn/</fo:inline> directory, create a client configuration file by 
        copying the example.  In a terminal on the client machine enter:
        </fo:block><fo:block id="idm45028018396880" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo cp /usr/share/doc/openvpn/examples/sample-config-files/client.conf /etc/openvpn</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Now edit <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/openvpn/client.conf</fo:inline> changing the following options:
        </fo:block><fo:block id="idm45028018394080" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
dev tap
;dev tun
ca ca.crt
cert client1.crt
key client1.key
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Finally, restart openvpn:
        </fo:block><fo:block id="idm45028018392048" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo systemctl restart openvpn@client</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        You should now be able to connect to the remote LAN through the VPN.
        </fo:block></fo:block></fo:block></fo:block><fo:block id="openvpn-client-implementations"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Client software implementations</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.7.Client software implementations</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="openvpn-client-networkmanager"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.7.1.Linux Network-Manager GUI for OpenVPN</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Many Linux distributions including Ubuntu desktop variants come with Network Manager,
a nice GUI to configure your network settings. It also can manage your VPN connections. Make sure you have package network-manager-openvpn installed. Here you see that the installation installs all other required packages as well: 
    </fo:block><fo:block id="idm45028019374016" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
root@client:~# apt install network-manager-openvpn
Reading package lists... Done
Building dependency tree
Reading state information... Done
The following extra packages will be installed:
  liblzo2-2 libpkcs11-helper1 network-manager-openvpn-gnome openvpn
Suggested packages:
  resolvconf
The following NEW packages will be installed:
  liblzo2-2 libpkcs11-helper1 network-manager-openvpn
  network-manager-openvpn-gnome openvpn
0 upgraded, 5 newly installed, 0 to remove and 631 not upgraded.
Need to get 700 kB of archives.
After this operation, 3,031 kB of additional disk space will be used.
Do you want to continue [Y/n]?
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
To inform network-manager about the new installed packages you will have to restart it:
    </fo:block><fo:block id="idm45028019372080" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
root@client:~# restart network-manager
network-manager start/running, process 3078
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Open the Network Manager GUI, select the VPN tab and then the 'Add' button. Select OpenVPN
as the VPN type in the opening requester and press 'Create'. In the next window
add the OpenVPN's server
name as the 'Gateway', set 'Type' to 'Certificates (TLS)', point 'User Certificate'
to your user certificate, 'CA Certificate' to your CA certificate and 'Private Key'
to your private key file. Use the advanced button to enable compression (e.g. comp-lzo), dev tap, or other
special settings you set on the server. Now try to establish your VPN.
    </fo:block></fo:block><fo:block id="openvpn-client-osx"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.7.2.OpenVPN with GUI for Mac OS X: Tunnelblick</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Tunnelblick is an excellent free, open source implementation of a GUI for OpenVPN for OS X.
The project's homepage is at <fo:basic-link external-destination="http://code.google.com/p/tunnelblick/" font-style="italic"><fo:inline hyphenate="false">http://code.google.com/p/tunnelblick/</fo:inline></fo:basic-link>. Download the latest OS X installer from there and install it. Then put your client.ovpn config file together with the certificates and keys in
/Users/username/Library/Application Support/Tunnelblick/Configurations/ and lauch Tunnelblick from your Application folder.
    </fo:block><fo:block id="idm45028019367328" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
# sample client.ovpn for Tunnelblick
client
remote blue.example.com
port 1194
proto udp
dev tun
dev-type tun
ns-cert-type server
reneg-sec 86400
auth-user-pass
auth-nocache
auth-retry interact
comp-lzo yes
verb 3
ca ca.crt
cert client.crt
key client.key
</fo:block></fo:block><fo:block id="openvpn-client-win"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.7.3.OpenVPN with GUI for Win 7</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
First download and install the latest <fo:basic-link external-destination="http://www.openvpn.net/index.php/open-source/downloads.html" font-style="italic">OpenVPN Windows Installer</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline> <fo:basic-link external-destination="http://www.openvpn.net/index.php/open-source/downloads.html">http://www.openvpn.net/index.php/open-source/downloads.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>. OpenVPN 2.3.2 was the latest when this was written.
As of this writing, the management GUI is included with the Windows binary installer.
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
You need to start the OpenVPN service. Goto Start &gt; Computer &gt; Manage &gt; Services and Applications &gt; Services. Find the OpenVPN service and start it. Set it's startup type to automatic. When you start the OpenVPN MI GUI the first time you need to run it as an administrator. You have to right click on it and you will see that option.
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
You will have to write your OpenVPN config in a textfile and place it in C:\Program Files\OpenVPN\config\client.ovpn along with the CA certificate. You could put the user certificate in the user's home directory like in the follwing example.
    </fo:block><fo:block id="idm45028019362064" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
# C:\Program Files\OpenVPN\config\client.ovpn
client
remote server.example.com
port 1194
proto udp
dev tun
dev-type tun
ns-cert-type server
reneg-sec 86400
auth-user-pass
auth-retry interact
comp-lzo yes
verb 3
ca ca.crt
cert "C:\\Users\\username\\My Documents\\openvpn\\client.crt"
key "C:\\Users\\username\\My Documents\\openvpn\\client.key"
management 127.0.0.1 1194
management-hold
management-query-passwords
auth-retry interact
; Set the name of the Windows TAP network interface device here
dev-node MyTAP

</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Note: If you are not using user authentication and/or you want to run the service without user interaction, comment out the following options:
</fo:block><fo:block id="idm45028019360192" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
auth-user-pass
auth-retry interact
management 127.0.0.1 1194
management-hold
management-query-passwords
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You may want to set the Windows service to "automatic".</fo:block></fo:block><fo:block id="openvpn-client-openwrt"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:block text-decoration="underline" font-size="11pt">1.7.4.OpenVPN for OpenWRT</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
OpenWRT is described as a Linux distribution for embedded devices like WLAN router.
There are certain types of WLAN routers who can be flashed to run OpenWRT.
Depending on the available memory on your OpenWRT router you can run software like
OpenVPN and you could for example build a small inexpensive branch office router with VPN connectivity
to the central office.

More info on OpenVPN on OpenWRT is <fo:basic-link external-destination="http://wiki.openwrt.org/doc/howto/vpn.overview" font-style="italic">here</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline> <fo:basic-link external-destination="http://wiki.openwrt.org/doc/howto/vpn.overview">http://wiki.openwrt.org/doc/howto/vpn.overview</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>. And here is the OpenWRT project's homepage: <fo:basic-link external-destination="http://openwrt.org" font-style="italic"><fo:inline hyphenate="false">http://openwrt.org</fo:inline></fo:basic-link>
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Log into your OpenWRT router and install OpenVPN:
    </fo:block><fo:block id="idm45028017907776" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">opkg update</fo:inline>
<fo:inline font-weight="bold">opkg install openvpn</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    Check out /etc/config/openvpn and put your client config in there.
    Copy certificates and keys to /etc/openvpn/
    </fo:block><fo:block id="idm45028017904864" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
config openvpn client1
        option enable 1
        option client 1
#       option dev tap
        option dev tun
        option proto udp
        option ca /etc/openvpn/ca.crt
        option cert /etc/openvpn/client.crt
        option key /etc/openvpn/client.key
        option comp_lzo 1
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
Restart OpenVPN on OpenWRT router to pick up the config
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
You will have to see if you need to adjust your router's routing and firewall rules.
    </fo:block></fo:block></fo:block><fo:block id="openvpn-references"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">References</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.8.References</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028017901216" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028017900928" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          See the <fo:basic-link external-destination="http://openvpn.net/" font-style="italic">OpenVPN</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline> <fo:basic-link external-destination="http://openvpn.net/">http://openvpn.net/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> website for additional information.
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028017899344" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          <fo:basic-link external-destination="http://openvpn.net/index.php/open-source/documentation/howto.html#security" font-style="italic">OpenVPN hardening security guide</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline> <fo:basic-link external-destination="http://openvpn.net/index.php/open-source/documentation/howto.html#security">http://openvpn.net/index.php/open-source/documentation/howto.html#security</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> 
          </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028017897744" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
          Also, Pakt's <fo:basic-link external-destination="http://www.packtpub.com/openvpn/book" font-style="italic">OpenVPN: Building and Integrating Virtual Private Networks</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline> <fo:basic-link external-destination="http://www.packtpub.com/openvpn/book">http://www.packtpub.com/openvpn/book</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> 
          is a good resource.
          </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Other Useful Applications</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Other Useful Applications</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-inner-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block id="other-useful-applications"><fo:block font-family="serif,Symbol"><fo:block margin-left="0pc"><fo:block font-size="24.8832pt" font-weight="bold"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0pc" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">Chapter24.Other Useful Applications</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
  There are many very useful applications developed by the Ubuntu Server Team, 
  and others that are well integrated with Ubuntu Server Edition, that might 
  not be well known.  This chapter will showcase some useful applications that can 
  make administering an Ubuntu server, or many Ubuntu servers, that much easier.
  </fo:block><fo:block id="pam_motd"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">pam_motd</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">1.pam_motd</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    When logging into an Ubuntu server you may have noticed the informative Message Of The Day (MOTD).  This information
    is obtained and displayed using a couple of packages:
    </fo:block><fo:list-block id="idm45028027870640" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028021979936" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        <fo:inline font-style="italic">landscape-common:</fo:inline> provides the core libraries of landscape-client,
	which is needed to manage systems with <fo:basic-link external-destination="http://landscape.canonical.com/" font-style="italic">Landscape</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline> <fo:basic-link external-destination="http://landscape.canonical.com/">http://landscape.canonical.com/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> (proprietary).  Yet the package also includes
        the landscape-sysinfo utility which is responsible for displaying core system data involving cpu, memory, disk space, etc.  For instance:
        </fo:block><fo:block id="idm45028026108240" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-size="8.800000000000001pt" font-family="monospace">
	  System load:  0.0               Processes:           76
	  Usage of /:   30.2% of 3.11GB   Users logged in:     1
	  Memory usage: 20%               IP address for eth0: 10.153.107.115
	  Swap usage:   0%

	  Graph this data and manage this system at https://landscape.canonical.com/
</fo:inline>
</fo:block><fo:block id="idm45028029173648" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                You can run landscape-sysinfo manually at any time.
                </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026509520" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        <fo:inline font-style="italic">update-notifier-common:</fo:inline> provides information on available package updates, impending filesystem checks (fsck), and required reboots (e.g.: after a kernel upgrade).
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">    
    pam_motd executes the scripts in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/update-motd.d</fo:inline> in order based on the number 
    prepended to the script.  The output of the scripts is written to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/run/motd</fo:inline>, keeping the numerical order, 
    then concatenated with <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/motd.tail</fo:inline>.
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    You can add your own dynamic information to the MOTD.  For example, to add local weather information:
    </fo:block><fo:list-block id="idm45028023463872" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028029589456" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        First, install the weather-util package:
        </fo:block><fo:block id="idm45028025397952" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install weather-util</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030782240" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The weather utility uses METAR data from the National Oceanic and Atmospheric Administration 
        and forecasts from the National Weather  Service. In order to find local information you will need the 4-character ICAO 
        location indicator. This can be determined by browsing to the 
        <fo:basic-link external-destination="http://www.weather.gov/tg/siteloc.shtml" font-style="italic">National Weather Service</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline> <fo:basic-link external-destination="http://www.weather.gov/tg/siteloc.shtml">http://www.weather.gov/tg/siteloc.shtml</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> site.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Although the National Weather Service is a United States government agency there are weather stations available world wide.
        However, local weather information for all locations outside the U.S. may not be available.
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028026107792" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Create <fo:inline font-size="8.800000000000001pt" font-family="monospace">/usr/local/bin/local-weather</fo:inline>, a simple shell script to use 
        weather with your local ICAO indicator:
        </fo:block><fo:block id="idm45028026948224" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
#!/bin/sh
#
#
# Prints the local weather information for the MOTD.
#
#

# Replace KINT with your local weather station.
# Local stations can be found here: http://www.weather.gov/tg/siteloc.shtml

echo
weather -i KINT
echo

</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029957248" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Make the script executable:
        </fo:block><fo:block id="idm45028027431504" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo chmod 755 /usr/local/bin/local-weather</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028025592496" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Next, create a symlink to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/update-motd.d/98-local-weather</fo:inline>:
        </fo:block><fo:block id="idm45028027992800" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo ln -s /usr/local/bin/local-weather /etc/update-motd.d/98-local-weather</fo:inline>
</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030427040" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Finally, exit the server and re-login to view the new MOTD.
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    You should now be greeted with some useful information, and some information about the local weather that may not be
    quite so useful. Hopefully the local-weather example demonstrates the flexibility of
    pam_motd.
    </fo:block><fo:block id="pam_motd-resources"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Resources</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.1.Resources</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028028053904" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028024232640" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        See the <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/xenial/en/man5/update-motd.5.html" font-style="italic">update-motd man page</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/xenial/en/man5/update-motd.5.html">http://manpages.ubuntu.com/manpages/xenial/en/man5/update-motd.5.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> for
        more options available to update-motd.
	</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028023577808" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The Debian Package of the Day 
        <fo:basic-link external-destination="http://debaday.debian.net/2007/10/04/weather-check-weather-conditions-and-forecasts-on-the-command-line/" font-style="italic">weather</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline> <fo:basic-link external-destination="http://debaday.debian.net/2007/10/04/weather-check-weather-conditions-and-forecasts-on-the-command-line/">http://debaday.debian.net/2007/10/04/weather-check-weather-conditions-and-forecasts-on-the-command-line/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
        article has more details about using the weatherutility.
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="etckeeper"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">etckeeper</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">2.etckeeper</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    etckeeper allows the contents of <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc</fo:inline> to be stored in a
    Version Control System (VCS) repository. It integrates with APT and automatically commits changes to
    <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc</fo:inline> when packages are installed or upgraded.  Placing <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc</fo:inline> under version control 
    is considered an industry best practice, and the goal of etckeeper is to make this process as 
    painless as possible.  
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    Install etckeeper by entering the following in a terminal:
    </fo:block><fo:block id="idm45028028690000" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install etckeeper</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    The main configuration file, <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/etckeeper/etckeeper.conf</fo:inline>, is fairly simple.  The main option is which
    VCS to use and by default etckeeper is configured to use Bazaar.  The
    repository is automatically initialized (and committed for the first time) during package installation. It is possible to undo
    this by entering the following command:
    </fo:block><fo:block id="idm45028025408896" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo etckeeper uninit</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    By default, etckeeper will commit uncommitted changes made to /etc daily.  This can be disabled using the AVOID_DAILY_AUTOCOMMITS
	    configuration option. It will also automatically commit changes before and after package installation. For a more precise tracking
	    of changes, it is recommended to commit your changes manually, together with a commit message, using:
    </fo:block><fo:block id="idm45028023895488" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo etckeeper commit "..Reason for configuration change.."</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    Using bzr's VCS commands you can view log information:
    </fo:block><fo:block id="idm45028018851248" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo bzr log /etc/passwd</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    To demonstrate the integration with the package management system (APT), install postfix:
    </fo:block><fo:block id="idm45028019394416" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo apt install postfix</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    When the installation is finished, all the postfix configuration files should be committed to the
    repository:
    </fo:block><fo:block id="idm45028027057648" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-size="8.800000000000001pt" font-family="monospace">Committing to: /etc/
added aliases.db
modified group
modified group-
modified gshadow
modified gshadow-
modified passwd
modified passwd-
added postfix
added resolvconf
added rsyslog.d
modified shadow
modified shadow-
added init.d/postfix
added network/if-down.d/postfix
added network/if-up.d/postfix
added postfix/dynamicmaps.cf
added postfix/main.cf
added postfix/master.cf
added postfix/post-install
added postfix/postfix-files
added postfix/postfix-script
added postfix/sasl
added ppp/ip-down.d
added ppp/ip-down.d/postfix
added ppp/ip-up.d/postfix
added rc0.d/K20postfix
added rc1.d/K20postfix
added rc2.d/S20postfix
added rc3.d/S20postfix
added rc4.d/S20postfix
added rc5.d/S20postfix
added rc6.d/K20postfix
added resolvconf/update-libc.d
added resolvconf/update-libc.d/postfix
added rsyslog.d/postfix.conf
added ufw/applications.d/postfix
Committed revision 2.</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    For an example of how etckeeper tracks manual changes, add new a host to <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/hosts</fo:inline>.
    Using bzr you can see which files have been modified:
    </fo:block><fo:block id="idm45028019328704" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo bzr status /etc/</fo:inline>
<fo:inline font-size="8.800000000000001pt" font-family="monospace">modified:
  hosts</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    Now commit the changes:
    </fo:block><fo:block id="idm45028019325840" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">sudo etckeeper commit "added new host"</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    For more information on bzr see <fo:basic-link internal-destination="bazaar"><fo:inline font-style="italic">Section1, Bazaar</fo:inline></fo:basic-link><fo:basic-link internal-destination="bazaar" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="bazaar"/>]</fo:inline></fo:basic-link>.
    </fo:block><fo:block id="etckeeper-resources"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Resources</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">2.1.Resources</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028027865600" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028019216752" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        See the <fo:basic-link external-destination="http://etckeeper.branchable.com/" font-style="italic">etckeeper</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline> <fo:basic-link external-destination="http://etckeeper.branchable.com/">http://etckeeper.branchable.com/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> site for more details on using 
        etckeeper.
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028033140384" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        For the latest news and information about bzr see the <fo:basic-link external-destination="http://bazaar-vcs.org/" font-style="italic">bzr</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">6</fo:inline> <fo:basic-link external-destination="http://bazaar-vcs.org/">http://bazaar-vcs.org/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> web site.
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="byobu"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Byobu</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">3.Byobu</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    One of the most useful applications for any system administrator is an xterm multiplexor such as screen or
	    tmux.  It allows for the execution of multiple shells in one terminal. To make some of the advanced multiplexor
	    features more user-friendly and provide some useful information about the system, the byobu package was created.
	    It acts as a wrapper to these programs.  By default Byobu uses tmux (if installed) but this can be changed by the user.  
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    Invoke it simply with:
    </fo:block><fo:block id="idm45028019558896" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">byobu</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Now bring up the configuration menu.  By default this is done by pressing the <fo:inline font-style="italic">F9</fo:inline> key.  This will allow you to:
    </fo:block><fo:list-block id="idm45028018901392" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028019557680" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">View the Help menu</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020532912" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Change Byobu's background color</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029253024" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Change Byobu's foreground color</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024697200" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Toggle status notifications</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020413312" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Change the key binding set</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028028533664" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Change the escape sequence</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019224640" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Create new windows</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019278432" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Manage the default windows</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028016937456" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Byobu currently does not launch at login (toggle on)</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    The <fo:inline font-style="italic">key bindings</fo:inline> determine such things as the escape sequence, new window, change window, etc.  There 
    are two key binding sets to choose from <fo:inline font-style="italic">f-keys</fo:inline> and <fo:inline font-style="italic">screen-escape-keys</fo:inline>.  If you wish to use the 
    original key bindings choose the <fo:inline font-style="italic">none</fo:inline> set.
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    byobu provides a menu which displays the Ubuntu release, processor information,
    memory information, and the time and date. The effect is similar to a desktop menu. 
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    Using the <fo:inline font-style="italic">"Byobu currently does not launch at login (toggle on)"</fo:inline> option will cause byobu
    to be executed any time a terminal is opened.  Changes made to byobu are on a per user basis, and will not 
    affect other users on the system.
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    One difference when using byobu is the <fo:inline font-style="italic">scrollback</fo:inline> mode.  Press the 
    <fo:inline font-style="italic">F7</fo:inline> key to enter scrollback mode.  Scrollback mode allows you to navigate 
    past output using <fo:inline font-style="italic">vi</fo:inline> like commands.  Here is a quick list of movement commands:
    </fo:block><fo:list-block id="idm45028018051136" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028018072560" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">h</fo:inline> - Move the cursor left by one character</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020352784" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">j</fo:inline> - Move the cursor down by one line</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028022980880" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">k</fo:inline> - Move the cursor up by one line</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028024816352" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">l</fo:inline> - Move the cursor right by one character</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028019669136" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">0</fo:inline> - Move to the beginning of the current line</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030452528" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">$</fo:inline> - Move to the end of the current line</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029056688" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">G</fo:inline> - Moves to the specified line (defaults to the end of the buffer)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028029964768" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">/</fo:inline> - Search forward</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028020324912" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">?</fo:inline> - Search backward</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028030474592" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-style="italic">n</fo:inline> - Moves to the next match, either forward or backward</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block id="byobu-resources"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Resources</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">3.1.Resources</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028030799520" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028030483456" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        For more information on screen see the <fo:basic-link external-destination="http://www.gnu.org/software/screen/" font-style="italic">screen web site</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">7</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">7</fo:inline> <fo:basic-link external-destination="http://www.gnu.org/software/screen/">http://www.gnu.org/software/screen/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028016980160" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        And the <fo:basic-link external-destination="https://help.ubuntu.com/community/Screen" font-style="italic">Ubuntu Wiki screen</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">8</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">8</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/Screen">https://help.ubuntu.com/community/Screen</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> page.
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028016978576" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        Also, see the byobu <fo:basic-link external-destination="https://launchpad.net/byobu" font-style="italic">project page</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">9</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">9</fo:inline> <fo:basic-link external-destination="https://launchpad.net/byobu">https://launchpad.net/byobu</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> for more
        information.
        </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="back" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Appendix</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block>Appendix</fo:block></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(3)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-inner-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol" margin-left="0pc"><fo:table table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after"><fo:block><fo:block><fo:page-number/></fo:block></fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after"><fo:block><fo:block/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block id="serverguide-appendix"><fo:block><fo:block><fo:block margin-left="0pc" font-size="24.8832pt" font-weight="bold" font-family="serif,Symbol"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0pc" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">AppendixA.Appendix</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="reporting-bugs"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Reporting Bugs in Ubuntu Server Edition</fo:marker><fo:block font-weight="bold" text-decoration="underline" font-size="16.5pt" break-before="page">1.Reporting Bugs in Ubuntu Server Edition</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
  The Ubuntu Project, and thus Ubuntu Server, uses <fo:basic-link external-destination="https://launchpad.net/" font-style="italic">Launchpad</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">1</fo:inline> <fo:basic-link external-destination="https://launchpad.net/">https://launchpad.net/</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>
  as its bugtracker. In order to file a bug, you will need a Launchpad account.  <fo:basic-link external-destination="https://help.launchpad.net/YourAccount/NewAccount" font-style="italic">Create
  one here</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">2</fo:inline> <fo:basic-link external-destination="https://help.launchpad.net/YourAccount/NewAccount">https://help.launchpad.net/YourAccount/NewAccount</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> if necessary.
  </fo:block><fo:block id="reporting-bugs-apport-cli"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Reporting Bugs With apport-cli</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.1.Reporting Bugs With apport-cli</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	    The preferred way to report a bug is with the apport-cli command.  It must be invoked on the machine affected by the bug
	    because it collects information from the system on which it is being run and publishes it to the bug report on Launchpad.  Getting that information to
	    Launchpad can therefore be a challenge if the system is not running a desktop environment in order to use a browser (common with servers) or if it does
	    not have Internet access.  The steps to take in these situations are described below. 
    </fo:block><fo:block id="idm45028027929696" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	The commands apport-cli and ubuntu-bug should give the same results on a CLI server.
	The latter is actually a symlink to apport-bug which is intelligent enough to know whether a desktop environment is in use and
	will choose apport-cli if not.  Since server systems tend to be CLI-only apport-cli was chosen from the outset in this guide.
	</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    Bug reports in Ubuntu need to be filed against a specific software package, so the name of the
    package (source package or program name/path) affected by the bug needs to be supplied to apport-cli:
    </fo:block><fo:block id="idm45028025345104" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">apport-cli PACKAGENAME</fo:inline>
</fo:block><fo:block id="idm45028016925376" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    See <fo:basic-link internal-destination="package-management"><fo:inline font-style="italic">Chapter3, <fo:inline font-style="italic">Package Management</fo:inline></fo:inline></fo:basic-link><fo:basic-link internal-destination="package-management" font-style="italic"><fo:inline keep-together.within-line="always"> [p. <fo:page-number-citation ref-id="package-management"/>]</fo:inline></fo:basic-link> for more information about packages in Ubuntu.
    </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    Once apport-cli has finished gathering information you will be asked what to do with it.  For
    instance, to report a bug in vim:
    </fo:block><fo:block id="idm45028023029824" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">apport-cli vim</fo:inline>

*** Collecting problem information

The collected information can be sent to the developers to improve the
application. This might take a few minutes.
...

*** Send problem report to the developers?

After the problem report has been sent, please fill out the form in the
automatically opened web browser.

What would you like to do? Your options are:
  S: Send report (2.8 KB)
  V: View report
  K: Keep report file for sending later or copying to somewhere else
  I: Cancel and ignore future crashes of this program version
  C: Cancel
Please choose (S/V/K/I/C):
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    The first three options are described below:
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    <fo:list-block id="idm45028024779392" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028030449392" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-weight="bold">Send:</fo:inline> 
        submits the collected information to Launchpad as part of the process
	of filing a new bug report. You will be given the opportunity to describe
	the bug in your own words.
        </fo:block><fo:block id="idm45028025261248" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">

*** Uploading problem information

The collected information is being sent to the bug tracking system.
This might take a few minutes.
94%

*** To continue, you must visit the following URL:

  https://bugs.launchpad.net/ubuntu/+source/vim/+filebug/09b2495a-e2ab-11e3-879b-68b5996a96c8?

You can launch a browser now, or copy this URL into a browser on another computer.


Choices:
  1: Launch a browser now
  C: Cancel
Please choose (1/C):  <fo:inline font-weight="bold" font-size="8.800000000000001pt" font-family="monospace">1</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The browser that will be used when choosing '1' will be the one known on the system as
	www-browser via the
	<fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/update-alternatives.8.html" font-style="italic">
	Debian alternatives system</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">3</fo:inline> <fo:basic-link external-destination="http://manpages.ubuntu.com/manpages/en/man8/update-alternatives.8.html">http://manpages.ubuntu.com/manpages/en/man8/update-alternatives.8.html</fo:basic-link></fo:block></fo:footnote-body></fo:footnote>.  Examples of text-based browsers to install include links,
	elinks, lynx, and w3m.
	You can also manually point an existing browser at the given URL.
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028017837984" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        <fo:inline font-weight="bold">View:</fo:inline>
	displays the collected information on the screen for review.  This can
	be a lot of information.  Press 'Enter' to scroll by screenful.  Press 'q'
	to quit and return to the choice menu.
        </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028017951152" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        <fo:inline font-weight="bold">Keep:</fo:inline>
        writes the collected information to disk. The resulting file can be later used to
	file the bug report, typically after transferring it to another Ubuntu system.
        </fo:block><fo:block id="idm45028017961568" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
What would you like to do? Your options are:
  S: Send report (2.8 KB)
  V: View report
  K: Keep report file for sending later or copying to somewhere else
  I: Cancel and ignore future crashes of this program version
  C: Cancel
Please choose (S/V/K/I/C): <fo:inline font-weight="bold" font-size="8.800000000000001pt" font-family="monospace">k</fo:inline>
Problem report file: /tmp/apport.vim.1pg92p02.apport
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	To report the bug, get the file onto an internet-enabled Ubuntu system and apply apport-cli
	to it. This will cause the menu to appear immediately (the information is already collected).
	You should then press 's' to send:
	</fo:block><fo:block id="idm45028017966912" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">apport-cli apport.vim.1pg92p02.apport</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
To directly save a report to disk (without menus) you can do:

<fo:block id="idm45028028768096" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">apport-cli vim --save apport.vim.test.apport</fo:inline>
</fo:block>

Report names should end in <fo:inline font-style="italic">.apport</fo:inline> .
</fo:block><fo:block id="idm45028028388496" space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em"><fo:list-block provisional-distance-between-starts="24pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="24pt" src="../../../libs/admon/note.png"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
		If this internet-enabled system is non-Ubuntu/Debian, apport-cli is not available so the
		bug will need to be created manually.  An apport report is also not to be included as an
		attachment to a bug either so it is completely useless in this scenario.
	</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block>
    </fo:block></fo:block><fo:block id="apport-crash-catching"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Reporting Application Crashes</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.2.Reporting Application Crashes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
    	The software package that provides the apport-cli utility, apport,
	can be configured to automatically capture the state of a crashed application.  This
	is enabled by default (in <fo:inline font-size="8.800000000000001pt" font-family="monospace">/etc/default/apport</fo:inline>).
	</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	After an application crashes, if enabled, apport will store a crash report under <fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/crash</fo:inline>:
	</fo:block><fo:block id="idm45028024204896" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
-rw-r----- 1 peter    whoopsie 150K Jul 24 16:17 _usr_lib_x86_64-linux-gnu_libmenu-cache2_libexec_menu-cached.1000.crash
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Use the apport-cli command without arguments to process any pending crash reports.  It
	will offer to report them one by one.
	</fo:block><fo:block id="idm45028026929712" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
<fo:inline font-weight="bold">apport-cli</fo:inline>

*** Send problem report to the developers?

After the problem report has been sent, please fill out the form in the
automatically opened web browser.

What would you like to do? Your options are:
  S: Send report (153.0 KB)
  V: View report
  K: Keep report file for sending later or copying to somewhere else
  I: Cancel and ignore future crashes of this program version
  C: Cancel
Please choose (S/V/K/I/C): <fo:inline font-weight="bold" font-size="8.800000000000001pt" font-family="monospace">s</fo:inline>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	If you send the report, as was done above, the prompt will be returned immediately and the
	<fo:inline font-size="8.800000000000001pt" font-family="monospace">/var/crash</fo:inline> directory will then contain 2 extra files:
	</fo:block><fo:block id="idm45028027870016" wrap-option="wrap" hyphenation-character="&#xBB;" margin="0pt" text-align="start" space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" space-after.minimum="0.8em" space-after.optimum="1em" space-after.maximum="1.2em" hyphenate="false" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" font-size="8.800000000000001pt" font-family="monospace">
-rw-r----- 1 peter    whoopsie 150K Jul 24 16:17 _usr_lib_x86_64-linux-gnu_libmenu-cache2_libexec_menu-cached.1000.crash
-rw-rw-r-- 1 peter    whoopsie    0 Jul 24 16:37 _usr_lib_x86_64-linux-gnu_libmenu-cache2_libexec_menu-cached.1000.upload
-rw------- 1 whoopsie whoopsie    0 Jul 24 16:37 _usr_lib_x86_64-linux-gnu_libmenu-cache2_libexec_menu-cached.1000.uploaded
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Sending in a crash report like this will not immediately result in the creation of a new public bug.
	The report will be made private on Launchpad, meaning that it will be visible to only a limited set
	of bug triagers. These triagers will then scan the report for possible private data before creating a public bug.
	</fo:block></fo:block><fo:block id="reporting-bugs-resources"><fo:block><fo:block><fo:block margin-left="0pc" font-family="serif,Symbol" keep-together.within-column="always"><fo:block keep-with-next.within-column="always"><fo:block font-family="serif" font-weight="normal" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="left" start-indent="0pc"><fo:marker marker-class-name="section.head.marker">Resources</fo:marker><fo:block text-decoration="underline" font-size="14.3pt">1.3.Resources</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block id="idm45028018429536" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em" space-after.optimum="0.3em" space-after.minimum="0.2em" space-after.maximum="0.5em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em"><fo:list-item id="idm45028021966400" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	See the <fo:basic-link external-destination="https://help.ubuntu.com/community/ReportingBugs" font-style="italic">Reporting Bugs</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">4</fo:inline> <fo:basic-link external-destination="https://help.ubuntu.com/community/ReportingBugs">https://help.ubuntu.com/community/ReportingBugs</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> Ubuntu wiki page.
	</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item id="idm45028027003120" space-before.optimum="0.3em" space-before.minimum="0.2em" space-before.maximum="0.5em"><fo:list-item-label end-indent="label-end()"><fo:block></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
	Also, the <fo:basic-link external-destination="https://wiki.ubuntu.com/Apport" font-style="italic">Apport</fo:basic-link><fo:footnote><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline><fo:footnote-body font-size="7.699999999999999pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" text-align="left" start-indent="0pt" end-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-size="7.15pt" font-weight="normal" font-style="normal" font-family="serif,Symbol" vertical-align="super">5</fo:inline> <fo:basic-link external-destination="https://wiki.ubuntu.com/Apport">https://wiki.ubuntu.com/Apport</fo:basic-link></fo:block></fo:footnote-body></fo:footnote> page has some useful information.  Though some
        of it pertains to using a GUI.
    	</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:flow></fo:page-sequence></fo:root>